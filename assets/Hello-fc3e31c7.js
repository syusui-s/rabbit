import{I as b,l as u,v as p,C as s,M as r,G as v,B as h,y as l,j as x}from"./index-1faa2f31.js";import{u as f}from"./useLoginStatus-79341aad.js";const m=l('<div class="pb-1 text-lg font-bold">拡張機能がインストールされていません！</div>'),S=l('<p>利用にはNIP-07に対応した拡張機能が必要です。<br><a class="text-blue-500 underline" target="_blank" rel="noopener noreferrer" href="https://scrapbox.io/nostr/NIP-07#63e1c10c8b8fcb00000584fc">こちらを参考</a>に拡張機能をインストールしてください</p>'),w=l('<button class="rounded bg-rose-400 p-4 text-lg font-bold text-white hover:shadow-md">NIP-07 拡張機能でログイン</button>'),$=l('<div class="mx-auto flex max-w-[640px] flex-col items-center p-4 text-stone-600"><div class="flex flex-col items-center gap-4 rounded bg-white p-4"><div class="text-7xl">🐰</div><h1 class="text-5xl font-bold text-rose-300">Rabbit</h1><div>Rabbit is a Web client for Nostr.</div><p class="text-center"><span class="font-bold text-rose-400">注意: 現在ベータ版です。</span><br>未実装の機能やバグがあることを承知の上でご利用ください。</p></div><div class="p-8 shadow-md"></div></div>'),I=()=>{const[e,t]=x("checking"),a=()=>{window.nostr!=null?t("available"):t("unavailable")};return u(()=>{let n=0;const o=setInterval(()=>{a(),n>=10&&clearInterval(o),n+=1},1e3)}),e},C=()=>{const e=I(),t=b(),{loginStatus:a,loggedIn:n}=f(),o=()=>{n(),t("/")};return u(()=>{a().loggedIn&&t("/")}),(()=>{const c=$.cloneNode(!0),d=c.firstChild,g=d.nextSibling;return p(g,s(v,{get children(){return[s(r,{get when(){return e()==="checking"},children:"拡張機能のインストール状況を確認中です..."}),s(r,{get when(){return e()==="unavailable"},get children(){return[m.cloneNode(!0),S.cloneNode(!0)]}}),s(r,{get when(){return e()==="available"},get children(){const i=w.cloneNode(!0);return i.$$click=o,i}})]}})),c})()};h(["click"]);export{C as default};
