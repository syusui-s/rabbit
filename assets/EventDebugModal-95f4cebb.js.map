{"version":3,"file":"EventDebugModal-95f4cebb.js","sources":["../../node_modules/heroicons/24/outline/clipboard-document.svg","../../src/components/utils/Copy.tsx","../../src/components/modal/EventDebugModal.tsx"],"sourcesContent":["export default (props = {}) => <svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"1.5\" aria-hidden=\"true\" data-slot=\"icon\" viewBox=\"0 0 24 24\"{...props}><path stroke-linecap=\"round\" stroke-linejoin=\"round\" d=\"M8.25 7.5V6.108c0-1.135.845-2.098 1.976-2.192.373-.03.748-.057 1.123-.08M15.75 18H18a2.25 2.25 0 0 0 2.25-2.25V6.108c0-1.135-.845-2.098-1.976-2.192a48.424 48.424 0 0 0-1.123-.08M15.75 18.75v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5A3.375 3.375 0 0 0 6.375 7.5H5.25m11.9-3.664A2.251 2.251 0 0 0 15 2.25h-1.5a2.251 2.251 0 0 0-2.15 1.586m5.8 0c.065.21.1.433.1.664v.75h-6V4.5c0-.231.035-.454.1-.664M6.75 7.5H4.875c-.621 0-1.125.504-1.125 1.125v12c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V16.5a9 9 0 0 0-9-9\"/></svg>","import { createSignal, Show, type Component } from 'solid-js';\n\nimport ClipboardDocument from 'heroicons/24/outline/clipboard-document.svg';\n\ntype CopyProps = {\n  class: string;\n  text: string;\n};\n\nconst Copy: Component<CopyProps> = (props) => {\n  const [showPopup, setShowPopup] = createSignal(false);\n\n  const handleClick = () => {\n    navigator.clipboard\n      .writeText(props.text)\n      .then(() => {\n        setShowPopup(true);\n        setTimeout(() => setShowPopup(false), 1000);\n      })\n      .catch((err) => {\n        console.error('failed to copy', err);\n      });\n  };\n\n  return (\n    <div class=\"relative inline-block\">\n      <button type=\"button\" class={props.class} onClick={handleClick}>\n        <ClipboardDocument />\n      </button>\n      <Show when={showPopup()}>\n        <div class=\"absolute left-[-2.5rem] top-[-1.5rem] rounded bg-primary p-1 text-xs font-bold text-primary-fg shadow\">\n          Copied!\n        </div>\n      </Show>\n    </div>\n  );\n};\n\nexport default Copy;\n","import { Component, createMemo } from 'solid-js';\n\nimport { type Event as NostrEvent } from 'nostr-tools/pure';\n\nimport BasicModal from '@/components/modal/BasicModal';\nimport Copy from '@/components/utils/Copy';\nimport usePool from '@/nostr/usePool';\n\nexport type EventDebugModalProps = {\n  event: NostrEvent;\n  onClose: () => void;\n};\n\nconst EventDebugModal: Component<EventDebugModalProps> = (props) => {\n  const pool = usePool();\n\n  const json = createMemo(() => JSON.stringify(props.event, null, 2));\n  const seenOn = createMemo(() => {\n    const relays = pool().seenOn.get(props.event.id) ?? [];\n    return [...relays].map((relay) => relay.url).join('\\n');\n  });\n\n  return (\n    <BasicModal onClose={props.onClose}>\n      <div class=\"p-2\">\n        <h2 class=\"text-lg font-bold\">JSON</h2>\n        <pre class=\"whitespace-pre-wrap break-all rounded-lg border border-border p-4 text-xs\">\n          {json()}\n        </pre>\n        <div class=\"flex justify-end\">\n          <Copy class=\"h-4 w-4 hover:text-primary\" text={json()} />\n        </div>\n      </div>\n      <div class=\"p-2\">\n        <h2 class=\"text-lg font-bold\">Found in these relays</h2>\n        <pre class=\"whitespace-pre-wrap break-all rounded-lg border border-border p-2 text-xs\">\n          {seenOn()}\n        </pre>\n      </div>\n    </BasicModal>\n  );\n};\n\nexport default EventDebugModal;\n"],"names":["ClipboardDocument","props","_el$","_tmpl$","_$spread","Copy","showPopup","setShowPopup","createSignal","handleClick","navigator","clipboard","writeText","text","then","setTimeout","catch","err","console","error","_tmpl$2","_el$2","firstChild","$$click","_$insert","_$createComponent","Show","when","children","_$effect","_$className","class","_$delegateEvents","EventDebugModal","pool","usePool","json","createMemo","JSON","stringify","event","seenOn","get","id","map","relay","url","join","BasicModal","onClose","_el$3","nextSibling","_el$4","_el$5","_el$6","_el$7"],"mappings":"o+BAAAA,EAAe,CAACC,EAAQ,CAAE,KAAA,IAAA,CAAA,MAAAC,EAAAC,IAAAC,OAAAA,EAAAF,EAA6JD,EAAK,GAAA,EAAA,EAAAC,CAAA,GAAonB,mMCS1yBG,EAA8BJ,GAAU,CAC5C,KAAM,CAACK,EAAWC,CAAY,EAAIC,EAAa,EAAK,EAE9CC,EAAcA,IAAM,CACxBC,UAAUC,UACPC,UAAUX,EAAMY,IAAI,EACpBC,KAAK,IAAM,CACVP,EAAa,EAAI,EACjBQ,WAAW,IAAMR,EAAa,EAAK,EAAG,GAAI,CAC5C,CAAC,EACAS,MAAOC,GAAQ,CACdC,QAAQC,MAAM,iBAAkBF,CAAG,CACrC,CAAC,GAGL,OAAA,IAAA,CAAA,MAAAf,EAAAkB,EAAA,EAAAC,EAAAnB,EAAAoB,WAAAD,OAAAA,EAAAE,QAEuDd,EAAWe,EAAAH,EAAAI,EAC3DzB,EAAiB,CAAA,CAAA,CAAA,EAAAwB,EAAAtB,EAAAuB,EAEnBC,EAAI,CAAA,IAACC,MAAI,CAAA,OAAErB,EAAS,CAAE,EAAA,IAAAsB,UAAA,CAAA,OAAAzB,EAAA,CAAA,CAAA,CAAA,EAAA,IAAA,EAAA0B,MAAAC,EAAAT,EAHMpB,EAAM8B,KAAK,CAAA,EAAA7B,CAAA,IAU9C,EAEoB8B,EAAA,CAAA,OAAA,CAAA,uWCzBdC,EAAoDhC,GAAU,CAClE,MAAMiC,EAAOC,IAEPC,EAAOC,EAAW,IAAMC,KAAKC,UAAUtC,EAAMuC,MAAO,KAAM,CAAC,CAAC,EAC5DC,EAASJ,EAAW,IAEjB,CAAC,GADOH,EAAM,EAACO,OAAOC,IAAIzC,EAAMuC,MAAMG,EAAE,GAAK,EACnC,EAAEC,IAAKC,GAAUA,EAAMC,GAAG,EAAEC,KAAK;AAAA,CAAI,CACvD,EAED,OAAAtB,EACGuB,EAAU,CAAA,IAACC,SAAO,CAAA,OAAEhD,EAAMgD,OAAO,EAAA,IAAArB,UAAA,CAAA,MAAA,EAAA,IAAA,CAAA,MAAA1B,EAAAC,EAAA,EAAAkB,EAAAnB,EAAAoB,WAAA4B,EAAA7B,EAAA8B,YAAAC,EAAAF,EAAAC,YAAA3B,OAAAA,EAAA0B,EAI3Bd,CAAI,EAAAZ,EAAA4B,EAAA3B,EAGJpB,EAAI,CAAA,MAAA,6BAAA,IAAoCQ,MAAI,CAAA,OAAEuB,EAAI,CAAE,CAAA,CAAA,CAAA,EAAAlC,CAAA,GAAA,GAAA,IAAA,CAAA,MAAAmD,EAAAjC,EAAA,EAAAkC,EAAAD,EAAA/B,WAAAiC,EAAAD,EAAAH,YAAA3B,OAAAA,EAAA+B,EAMpDd,CAAM,EAAAY,CAAA,GAAA,CAAA,CAAA,CAAA,CAAA,CAKjB","x_google_ignoreList":[0]}