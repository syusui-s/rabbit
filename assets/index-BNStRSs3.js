const __vite__fileDeps=["assets/Hello-CYxAH9lK.js","assets/resolveAsset-C8KSa6kd.js","assets/SafeLink-JJ1cW5fL.js","assets/Home-BUG9Dhbk.js","assets/SideBar-DGtpwmmK.js","assets/arrow-left-DHQ7y7jO.js","assets/useFollowings-BJmiRFqH.js","assets/LazyLoad-YOdGJSR0.js","assets/url-BOMIwtgZ.js","assets/Permalink-BDE8uw95.js"],__vite__mapDeps=i=>i.map(i=>__vite__fileDeps[i]);
(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();const U={context:void 0,registry:void 0};function $t(t){U.context=t}const Eo=(t,e)=>t===e,fe=Symbol("solid-proxy"),Sr=Symbol("solid-track"),gn={equals:Eo};let Ne=null,zi=Gi;const we=1,mn=2,Hi={owned:null,cleanups:null,context:null,owner:null},ur={};var I=null;let lr=null,To=null,F=null,X=null,ce=null,Vn=0;function je(t,e){const n=F,r=I,s=t.length===0,i=e===void 0?r:e,a=s?Hi:{owned:null,cleanups:null,context:i?i.context:null,owner:i},o=s?t:()=>t(()=>W(()=>zn(a)));I=a,F=null;try{return ye(o,!0)}finally{F=n,I=r}}function Y(t,e){e=e?Object.assign({},gn,e):gn;const n={value:t,observers:null,observerSlots:null,comparator:e.equals||void 0},r=s=>(typeof s=="function"&&(s=s(n.value)),Wi(n,s));return[Qi.bind(n),r]}function He(t,e,n){const r=Kn(t,e,!0,we);ht(r)}function De(t,e,n){const r=Kn(t,e,!1,we);ht(r)}function ft(t,e,n){zi=No;const r=Kn(t,e,!1,we);(!n||!n.render)&&(r.user=!0),ce?ce.push(r):ht(r)}function Z(t,e,n){n=n?Object.assign({},gn,n):gn;const r=Kn(t,e,!0,0);return r.observers=null,r.observerSlots=null,r.comparator=n.equals||void 0,ht(r),Qi.bind(r)}function Co(t){return t&&typeof t=="object"&&"then"in t}function qi(t,e,n){let r,s,i;arguments.length===2&&typeof e=="object"||arguments.length===1?(r=!0,s=t,i=e||{}):(r=t,s=e,i={});let a=null,o=ur,u=null,c=!1,l="initialValue"in i,f=typeof r=="function"&&Z(r);const d=new Set,[h,g]=(i.storage||Y)(i.initialValue),[p,m]=Y(void 0),[b,w]=Y(void 0,{equals:!1}),[$,y]=Y(l?"ready":"unresolved");if(U.context){u=`${U.context.id}${U.context.count++}`;let P;i.ssrLoadFrom==="initial"?o=i.initialValue:U.load&&(P=U.load(u))&&(o=P)}function S(P,j,M,R){return a===P&&(a=null,R!==void 0&&(l=!0),(P===o||j===o)&&i.onHydrated&&queueMicrotask(()=>i.onHydrated(R,{value:j})),o=ur,A(j,M)),j}function A(P,j){ye(()=>{j===void 0&&g(()=>P),y(j!==void 0?"errored":l?"ready":"unresolved"),m(j);for(const M of d.keys())M.decrement();d.clear()},!1)}function _(){const P=Po,j=h(),M=p();if(M!==void 0&&!a)throw M;return F&&!F.user&&P&&He(()=>{b(),a&&(P.resolved||d.has(P)||(P.increment(),d.add(P)))}),j}function T(P=!0){if(P!==!1&&c)return;c=!1;const j=f?f():r;if(j==null||j===!1){S(a,W(h));return}const M=o!==ur?o:W(()=>s(j,{value:h(),refetching:P}));return Co(M)?(a=M,"value"in M?(M.status==="success"?S(a,M.value,void 0,j):S(a,void 0,void 0,j),M):(c=!0,queueMicrotask(()=>c=!1),ye(()=>{y(l?"refreshing":"pending"),w()},!1),M.then(R=>S(M,R,void 0,j),R=>S(M,void 0,Yi(R),j)))):(S(a,M,void 0,j),M)}return Object.defineProperties(_,{state:{get:()=>$()},error:{get:()=>p()},loading:{get(){const P=$();return P==="pending"||P==="refreshing"}},latest:{get(){if(!l)return _();const P=p();if(P&&!a)throw P;return h()}}}),f?He(()=>T(!1)):T(!1),[_,{refetch:T,mutate:g}]}function $o(t){return ye(t,!1)}function W(t){if(F===null)return t();const e=F;F=null;try{return t()}finally{F=e}}function it(t,e,n){const r=Array.isArray(t);let s,i=n&&n.defer;return a=>{let o;if(r){o=Array(t.length);for(let c=0;c<t.length;c++)o[c]=t[c]()}else o=t();if(i)return i=!1,a;const u=W(()=>e(o,s,a));return s=o,u}}function ko(t){ft(()=>W(t))}function me(t){return I===null||(I.cleanups===null?I.cleanups=[t]:I.cleanups.push(t)),t}function Or(){return F}function yn(){return I}function Xr(t,e){const n=I,r=F;I=t,F=null;try{return ye(e,!0)}catch(s){Hn(s)}finally{I=n,F=r}}function Ao(t){const e=F,n=I;return Promise.resolve().then(()=>{F=e,I=n;let r;return ye(t,!1),F=I=null,r?r.done:void 0})}function Jt(t,e){const n=Symbol("context");return{id:n,Provider:Io(n),defaultValue:t}}function Yt(t){return I&&I.context&&I.context[t.id]!==void 0?I.context[t.id]:t.defaultValue}function Bn(t){const e=Z(t),n=Z(()=>Er(e()));return n.toArray=()=>{const r=n();return Array.isArray(r)?r:r!=null?[r]:[]},n}let Po;function Qi(){if(this.sources&&this.state)if(this.state===we)ht(this);else{const t=X;X=null,ye(()=>bn(this),!1),X=t}if(F){const t=this.observers?this.observers.length:0;F.sources?(F.sources.push(this),F.sourceSlots.push(t)):(F.sources=[this],F.sourceSlots=[t]),this.observers?(this.observers.push(F),this.observerSlots.push(F.sources.length-1)):(this.observers=[F],this.observerSlots=[F.sources.length-1])}return this.value}function Wi(t,e,n){let r=t.value;return(!t.comparator||!t.comparator(r,e))&&(t.value=e,t.observers&&t.observers.length&&ye(()=>{for(let s=0;s<t.observers.length;s+=1){const i=t.observers[s],a=lr&&lr.running;a&&lr.disposed.has(i),(a?!i.tState:!i.state)&&(i.pure?X.push(i):ce.push(i),i.observers&&Ji(i)),a||(i.state=we)}if(X.length>1e6)throw X=[],new Error},!1)),e}function ht(t){if(!t.fn)return;zn(t);const e=Vn;Ro(t,t.value,e)}function Ro(t,e,n){let r;const s=I,i=F;F=I=t;try{r=t.fn(e)}catch(a){return t.pure&&(t.state=we,t.owned&&t.owned.forEach(zn),t.owned=null),t.updatedAt=n+1,Hn(a)}finally{F=i,I=s}(!t.updatedAt||t.updatedAt<=n)&&(t.updatedAt!=null&&"observers"in t?Wi(t,r):t.value=r,t.updatedAt=n)}function Kn(t,e,n,r=we,s){const i={fn:t,state:r,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:e,owner:I,context:I?I.context:null,pure:n};return I===null||I!==Hi&&(I.owned?I.owned.push(i):I.owned=[i]),i}function vn(t){if(t.state===0)return;if(t.state===mn)return bn(t);if(t.suspense&&W(t.suspense.inFallback))return t.suspense.effects.push(t);const e=[t];for(;(t=t.owner)&&(!t.updatedAt||t.updatedAt<Vn);)t.state&&e.push(t);for(let n=e.length-1;n>=0;n--)if(t=e[n],t.state===we)ht(t);else if(t.state===mn){const r=X;X=null,ye(()=>bn(t,e[0]),!1),X=r}}function ye(t,e){if(X)return t();let n=!1;e||(X=[]),ce?n=!0:ce=[],Vn++;try{const r=t();return Lo(n),r}catch(r){n||(ce=null),X=null,Hn(r)}}function Lo(t){if(X&&(Gi(X),X=null),t)return;const e=ce;ce=null,e.length&&ye(()=>zi(e),!1)}function Gi(t){for(let e=0;e<t.length;e++)vn(t[e])}function No(t){let e,n=0;for(e=0;e<t.length;e++){const r=t[e];r.user?t[n++]=r:vn(r)}if(U.context){if(U.count){U.effects||(U.effects=[]),U.effects.push(...t.slice(0,n));return}else U.effects&&(t=[...U.effects,...t],n+=U.effects.length,delete U.effects);$t()}for(e=0;e<n;e++)vn(t[e])}function bn(t,e){t.state=0;for(let n=0;n<t.sources.length;n+=1){const r=t.sources[n];if(r.sources){const s=r.state;s===we?r!==e&&(!r.updatedAt||r.updatedAt<Vn)&&vn(r):s===mn&&bn(r,e)}}}function Ji(t){for(let e=0;e<t.observers.length;e+=1){const n=t.observers[e];n.state||(n.state=mn,n.pure?X.push(n):ce.push(n),n.observers&&Ji(n))}}function zn(t){let e;if(t.sources)for(;t.sources.length;){const n=t.sources.pop(),r=t.sourceSlots.pop(),s=n.observers;if(s&&s.length){const i=s.pop(),a=n.observerSlots.pop();r<s.length&&(i.sourceSlots[a]=r,s[r]=i,n.observerSlots[r]=a)}}if(t.owned){for(e=t.owned.length-1;e>=0;e--)zn(t.owned[e]);t.owned=null}if(t.cleanups){for(e=t.cleanups.length-1;e>=0;e--)t.cleanups[e]();t.cleanups=null}t.state=0}function Yi(t){return t instanceof Error?t:new Error(typeof t=="string"?t:"Unknown error",{cause:t})}function Ss(t,e,n){try{for(const r of e)r(t)}catch(r){Hn(r,n&&n.owner||null)}}function Hn(t,e=I){const n=Ne&&e&&e.context&&e.context[Ne],r=Yi(t);if(!n)throw r;ce?ce.push({fn(){Ss(r,n,e)},state:we}):Ss(r,n,e)}function Er(t){if(typeof t=="function"&&!t.length)return Er(t());if(Array.isArray(t)){const e=[];for(let n=0;n<t.length;n++){const r=Er(t[n]);Array.isArray(r)?e.push.apply(e,r):e.push(r)}return e}return t}function Io(t,e){return function(r){let s;return De(()=>s=W(()=>(I.context={...I.context,[t]:r.value},Bn(()=>r.children))),void 0),s}}function i1(t){Ne||(Ne=Symbol("error")),I===null||(I.context===null||!I.context[Ne]?(I.context={...I.context,[Ne]:[t]},fn(I,Ne,[t])):I.context[Ne].push(t))}function fn(t,e,n){if(t.owned)for(let r=0;r<t.owned.length;r++)t.owned[r].context===t.context&&fn(t.owned[r],e,n),t.owned[r].context?t.owned[r].context[e]||(t.owned[r].context[e]=n,fn(t.owned[r],e,n)):(t.owned[r].context=t.context,fn(t.owned[r],e,n))}const jo=Symbol("fallback");function Os(t){for(let e=0;e<t.length;e++)t[e]()}function Do(t,e,n={}){let r=[],s=[],i=[],a=0,o=e.length>1?[]:null;return me(()=>Os(i)),()=>{let u=t()||[],c,l;return u[Sr],W(()=>{let d=u.length,h,g,p,m,b,w,$,y,S;if(d===0)a!==0&&(Os(i),i=[],r=[],s=[],a=0,o&&(o=[])),n.fallback&&(r=[jo],s[0]=je(A=>(i[0]=A,n.fallback())),a=1);else if(a===0){for(s=new Array(d),l=0;l<d;l++)r[l]=u[l],s[l]=je(f);a=d}else{for(p=new Array(d),m=new Array(d),o&&(b=new Array(d)),w=0,$=Math.min(a,d);w<$&&r[w]===u[w];w++);for($=a-1,y=d-1;$>=w&&y>=w&&r[$]===u[y];$--,y--)p[y]=s[$],m[y]=i[$],o&&(b[y]=o[$]);for(h=new Map,g=new Array(y+1),l=y;l>=w;l--)S=u[l],c=h.get(S),g[l]=c===void 0?-1:c,h.set(S,l);for(c=w;c<=$;c++)S=r[c],l=h.get(S),l!==void 0&&l!==-1?(p[l]=s[c],m[l]=i[c],o&&(b[l]=o[c]),l=g[l],h.set(S,l)):i[c]();for(l=w;l<d;l++)l in p?(s[l]=p[l],i[l]=m[l],o&&(o[l]=b[l],o[l](l))):s[l]=je(f);s=s.slice(0,a=d),r=u.slice(0)}return s});function f(d){if(i[l]=d,o){const[h,g]=Y(l);return o[l]=g,e(u[l],h)}return e(u[l])}}}function K(t,e){return W(()=>t(e||{}))}function sn(){return!0}const Tr={get(t,e,n){return e===fe?n:t.get(e)},has(t,e){return e===fe?!0:t.has(e)},set:sn,deleteProperty:sn,getOwnPropertyDescriptor(t,e){return{configurable:!0,enumerable:!0,get(){return t.get(e)},set:sn,deleteProperty:sn}},ownKeys(t){return t.keys()}};function cr(t){return(t=typeof t=="function"?t():t)?t:{}}function Mo(){for(let t=0,e=this.length;t<e;++t){const n=this[t]();if(n!==void 0)return n}}function Uo(...t){let e=!1;for(let a=0;a<t.length;a++){const o=t[a];e=e||!!o&&fe in o,t[a]=typeof o=="function"?(e=!0,Z(o)):o}if(e)return new Proxy({get(a){for(let o=t.length-1;o>=0;o--){const u=cr(t[o])[a];if(u!==void 0)return u}},has(a){for(let o=t.length-1;o>=0;o--)if(a in cr(t[o]))return!0;return!1},keys(){const a=[];for(let o=0;o<t.length;o++)a.push(...Object.keys(cr(t[o])));return[...new Set(a)]}},Tr);const n={},r=Object.create(null);for(let a=t.length-1;a>=0;a--){const o=t[a];if(!o)continue;const u=Object.getOwnPropertyNames(o);for(let c=u.length-1;c>=0;c--){const l=u[c];if(l==="__proto__"||l==="constructor")continue;const f=Object.getOwnPropertyDescriptor(o,l);if(!r[l])r[l]=f.get?{enumerable:!0,configurable:!0,get:Mo.bind(n[l]=[f.get.bind(o)])}:f.value!==void 0?f:void 0;else{const d=n[l];d&&(f.get?d.push(f.get.bind(o)):f.value!==void 0&&d.push(()=>f.value))}}}const s={},i=Object.keys(r);for(let a=i.length-1;a>=0;a--){const o=i[a],u=r[o];u&&u.get?Object.defineProperty(s,o,u):s[o]=u?u.value:void 0}return s}function a1(t,...e){if(fe in t){const s=new Set(e.length>1?e.flat():e[0]),i=e.map(a=>new Proxy({get(o){return a.includes(o)?t[o]:void 0},has(o){return a.includes(o)&&o in t},keys(){return a.filter(o=>o in t)}},Tr));return i.push(new Proxy({get(a){return s.has(a)?void 0:t[a]},has(a){return s.has(a)?!1:a in t},keys(){return Object.keys(t).filter(a=>!s.has(a))}},Tr)),i}const n={},r=e.map(()=>({}));for(const s of Object.getOwnPropertyNames(t)){const i=Object.getOwnPropertyDescriptor(t,s),a=!i.get&&!i.set&&i.enumerable&&i.writable&&i.configurable;let o=!1,u=0;for(const c of e)c.includes(s)&&(o=!0,a?r[u][s]=i.value:Object.defineProperty(r[u],s,i)),++u;o||(a?n[s]=i.value:Object.defineProperty(n,s,i))}return[...r,n]}function qn(t){let e,n;const r=s=>{const i=U.context;if(i){const[o,u]=Y();U.count||(U.count=0),U.count++,(n||(n=t())).then(c=>{$t(i),U.count--,u(()=>c.default),$t()}),e=o}else if(!e){const[o]=qi(()=>(n||(n=t())).then(u=>u.default));e=o}let a;return Z(()=>(a=e())&&W(()=>{if(!i)return a(s);const o=U.context;$t(i);const u=a(s);return $t(o),u}))};return r.preload=()=>n||((n=t()).then(s=>e=()=>s.default),n),r}const Xi=t=>`Stale read from <${t}>.`;function o1(t){const e="fallback"in t&&{fallback:()=>t.fallback};return Z(Do(()=>t.each,t.children,e||void 0))}function es(t){const e=t.keyed,n=Z(()=>t.when,void 0,{equals:(r,s)=>e?r===s:!r==!s});return Z(()=>{const r=n();if(r){const s=t.children;return typeof s=="function"&&s.length>0?W(()=>s(e?r:()=>{if(!W(n))throw Xi("Show");return t.when})):s}return t.fallback},void 0,void 0)}function u1(t){let e=!1;const n=(i,a)=>(e?i[1]===a[1]:!i[1]==!a[1])&&i[2]===a[2],r=Bn(()=>t.children),s=Z(()=>{let i=r();Array.isArray(i)||(i=[i]);for(let a=0;a<i.length;a++){const o=i[a].when;if(o)return e=!!i[a].keyed,[a,o,i[a]]}return[-1]},void 0,{equals:n});return Z(()=>{const[i,a,o]=s();if(i<0)return t.fallback;const u=o.children;return typeof u=="function"&&u.length>0?W(()=>u(e?a:()=>{if(W(s)[0]!==i)throw Xi("Match");return o.when})):u},void 0,void 0)}function l1(t){return t}const Fo=new Set(["innerHTML","textContent","innerText","children"]),Zo=Object.assign(Object.create(null),{className:"class",htmlFor:"for"}),Vo=new Set(["beforeinput","click","dblclick","contextmenu","focusin","focusout","input","keydown","keyup","mousedown","mousemove","mouseout","mouseover","mouseup","pointerdown","pointermove","pointerout","pointerover","pointerup","touchend","touchmove","touchstart"]),Bo={xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace"};function Ko(t,e,n){let r=n.length,s=e.length,i=r,a=0,o=0,u=e[s-1].nextSibling,c=null;for(;a<s||o<i;){if(e[a]===n[o]){a++,o++;continue}for(;e[s-1]===n[i-1];)s--,i--;if(s===a){const l=i<r?o?n[o-1].nextSibling:n[i-o]:u;for(;o<i;)t.insertBefore(n[o++],l)}else if(i===o)for(;a<s;)(!c||!c.has(e[a]))&&e[a].remove(),a++;else if(e[a]===n[i-1]&&n[o]===e[s-1]){const l=e[--s].nextSibling;t.insertBefore(n[o++],e[a++].nextSibling),t.insertBefore(n[--i],l),e[s]=n[i]}else{if(!c){c=new Map;let f=o;for(;f<i;)c.set(n[f],f++)}const l=c.get(e[a]);if(l!=null)if(o<l&&l<i){let f=a,d=1,h;for(;++f<s&&f<i&&!((h=c.get(e[f]))==null||h!==l+d);)d++;if(d>l-o){const g=e[a];for(;o<l;)t.insertBefore(n[o++],g)}else t.replaceChild(n[o++],e[a++])}else a++;else e[a++].remove()}}}const Es="_$DX_DELEGATE";function zo(t,e,n,r={}){let s;return je(i=>{s=i,e===document?t():$r(e,t(),e.firstChild?null:void 0,n)},r.owner),()=>{s(),e.textContent=""}}function c1(t,e,n){let r;const s=()=>{const a=document.createElement("template");return a.innerHTML=t,a.content.firstChild},i=()=>(r||(r=s())).cloneNode(!0);return i.cloneNode=i,i}function ea(t,e=window.document){const n=e[Es]||(e[Es]=new Set);for(let r=0,s=t.length;r<s;r++){const i=t[r];n.has(i)||(n.add(i),e.addEventListener(i,eu))}}function Cr(t,e,n){U.context&&t.isConnected||(n==null?t.removeAttribute(e):t.setAttribute(e,n))}function Ho(t,e,n,r){U.context&&t.isConnected||(r==null?t.removeAttributeNS(e,n):t.setAttributeNS(e,n,r))}function qo(t,e){U.context&&t.isConnected||(e==null?t.removeAttribute("class"):t.className=e)}function Qo(t,e,n,r){if(r)Array.isArray(n)?(t[`$$${e}`]=n[0],t[`$$${e}Data`]=n[1]):t[`$$${e}`]=n;else if(Array.isArray(n)){const s=n[0];t.addEventListener(e,n[0]=i=>s.call(t,n[1],i))}else t.addEventListener(e,n)}function Wo(t,e,n={}){const r=Object.keys(e||{}),s=Object.keys(n);let i,a;for(i=0,a=s.length;i<a;i++){const o=s[i];!o||o==="undefined"||e[o]||(Ts(t,o,!1),delete n[o])}for(i=0,a=r.length;i<a;i++){const o=r[i],u=!!e[o];!o||o==="undefined"||n[o]===u||!u||(Ts(t,o,!0),n[o]=u)}return n}function Go(t,e,n){if(!e)return n?Cr(t,"style"):e;const r=t.style;if(typeof e=="string")return r.cssText=e;typeof n=="string"&&(r.cssText=n=void 0),n||(n={}),e||(e={});let s,i;for(i in n)e[i]==null&&r.removeProperty(i),delete n[i];for(i in e)s=e[i],s!==n[i]&&(r.setProperty(i,s),n[i]=s);return n}function d1(t,e={},n,r){const s={};return De(()=>typeof e.ref=="function"?Jo(e.ref,t):e.ref=t),De(()=>Yo(t,e,n,!0,s,!0)),s}function Jo(t,e,n){return W(()=>t(e,n))}function $r(t,e,n,r){if(n!==void 0&&!r&&(r=[]),typeof e!="function")return wn(t,e,r,n);De(s=>wn(t,e(),s,n),r)}function Yo(t,e,n,r,s={},i=!1){e||(e={});for(const a in s)if(!(a in e)){if(a==="children")continue;s[a]=Cs(t,a,null,s[a],n,i)}for(const a in e){if(a==="children")continue;const o=e[a];s[a]=Cs(t,a,o,s[a],n,i)}}function Xo(t){return t.toLowerCase().replace(/-([a-z])/g,(e,n)=>n.toUpperCase())}function Ts(t,e,n){const r=e.trim().split(/\s+/);for(let s=0,i=r.length;s<i;s++)t.classList.toggle(r[s],n)}function Cs(t,e,n,r,s,i){let a,o,u,c;if(e==="style")return Go(t,n,r);if(e==="classList")return Wo(t,n,r);if(n===r)return r;if(e==="ref")i||n(t);else if(e.slice(0,3)==="on:"){const l=e.slice(3);r&&t.removeEventListener(l,r),n&&t.addEventListener(l,n)}else if(e.slice(0,10)==="oncapture:"){const l=e.slice(10);r&&t.removeEventListener(l,r,!0),n&&t.addEventListener(l,n,!0)}else if(e.slice(0,2)==="on"){const l=e.slice(2).toLowerCase(),f=Vo.has(l);if(!f&&r){const d=Array.isArray(r)?r[0]:r;t.removeEventListener(l,d)}(f||n)&&(Qo(t,l,n,f),f&&ea([l]))}else if(e.slice(0,5)==="attr:")Cr(t,e.slice(5),n);else if((c=e.slice(0,5)==="prop:")||(u=Fo.has(e))||!s||(a=t.nodeName.includes("-"))){if(c)e=e.slice(5),o=!0;else if(U.context&&t.isConnected)return n;e==="class"||e==="className"?qo(t,n):a&&!o&&!u?t[Xo(e)]=n:t[e]=n}else{const l=e.indexOf(":")>-1&&Bo[e.split(":")[0]];l?Ho(t,l,e,n):Cr(t,Zo[e]||e,n)}return n}function eu(t){const e=`$$${t.type}`;let n=t.composedPath&&t.composedPath()[0]||t.target;for(t.target!==n&&Object.defineProperty(t,"target",{configurable:!0,value:n}),Object.defineProperty(t,"currentTarget",{configurable:!0,get(){return n||document}}),U.registry&&!U.done&&(U.done=_$HY.done=!0);n;){const r=n[e];if(r&&!n.disabled){const s=n[`${e}Data`];if(s!==void 0?r.call(n,s,t):r.call(n,t),t.cancelBubble)return}n=n._$host||n.parentNode||n.host}}function wn(t,e,n,r,s){const i=!!U.context&&t.isConnected;if(i){!n&&(n=[...t.childNodes]);let u=[];for(let c=0;c<n.length;c++){const l=n[c];l.nodeType===8&&l.data.slice(0,2)==="!$"?l.remove():u.push(l)}n=u}for(;typeof n=="function";)n=n();if(e===n)return n;const a=typeof e,o=r!==void 0;if(t=o&&n[0]&&n[0].parentNode||t,a==="string"||a==="number"){if(i)return n;if(a==="number"&&(e=e.toString()),o){let u=n[0];u&&u.nodeType===3?u.data!==e&&(u.data=e):u=document.createTextNode(e),n=Xe(t,n,r,u)}else n!==""&&typeof n=="string"?n=t.firstChild.data=e:n=t.textContent=e}else if(e==null||a==="boolean"){if(i)return n;n=Xe(t,n,r)}else{if(a==="function")return De(()=>{let u=e();for(;typeof u=="function";)u=u();n=wn(t,u,n,r)}),()=>n;if(Array.isArray(e)){const u=[],c=n&&Array.isArray(n);if(kr(u,e,n,s))return De(()=>n=wn(t,u,n,r,!0)),()=>n;if(i){if(!u.length)return n;if(r===void 0)return[...t.childNodes];let l=u[0],f=[l];for(;(l=l.nextSibling)!==r;)f.push(l);return n=f}if(u.length===0){if(n=Xe(t,n,r),o)return n}else c?n.length===0?$s(t,u,r):Ko(t,n,u):(n&&Xe(t),$s(t,u));n=u}else if(e.nodeType){if(i&&e.parentNode)return n=o?[e]:e;if(Array.isArray(n)){if(o)return n=Xe(t,n,r,e);Xe(t,n,null,e)}else n==null||n===""||!t.firstChild?t.appendChild(e):t.replaceChild(e,t.firstChild);n=e}}return n}function kr(t,e,n,r){let s=!1;for(let i=0,a=e.length;i<a;i++){let o=e[i],u=n&&n[t.length],c;if(!(o==null||o===!0||o===!1))if((c=typeof o)=="object"&&o.nodeType)t.push(o);else if(Array.isArray(o))s=kr(t,o,u)||s;else if(c==="function")if(r){for(;typeof o=="function";)o=o();s=kr(t,Array.isArray(o)?o:[o],Array.isArray(u)?u:[u])||s}else t.push(o),s=!0;else{const l=String(o);u&&u.nodeType===3&&u.data===l?t.push(u):t.push(document.createTextNode(l))}}return s}function $s(t,e,n=null){for(let r=0,s=e.length;r<s;r++)t.insertBefore(e[r],n)}function Xe(t,e,n,r){if(n===void 0)return t.textContent="";const s=r||document.createTextNode("");if(e.length){let i=!1;for(let a=e.length-1;a>=0;a--){const o=e[a];if(s!==o){const u=o.parentNode===t;!i&&!a?u?t.replaceChild(s,o):t.insertBefore(s,n):u&&o.remove()}else i=!0}}else t.insertBefore(s,n);return[s]}const Ar=!1,tu="http://www.w3.org/2000/svg";function nu(t,e=!1){return e?document.createElementNS(tu,t):document.createElement(t)}function f1(t){const{useShadow:e}=t,n=document.createTextNode(""),r=()=>t.mount||document.body,s=yn();let i,a=!!U.context;return ft(()=>{a&&(yn().user=a=!1),i||(i=Xr(s,()=>Z(()=>t.children)));const o=r();if(o instanceof HTMLHeadElement){const[u,c]=Y(!1),l=()=>c(!0);je(f=>$r(o,()=>u()?f():i(),null)),me(l)}else{const u=nu(t.isSVG?"g":"div",t.isSVG),c=e&&u.attachShadow?u.attachShadow({mode:"open"}):u;Object.defineProperty(u,"_$host",{get(){return n.parentNode},configurable:!0}),$r(c,i),o.appendChild(u),t.ref&&t.ref(u),me(()=>o.removeChild(u))}},void 0,{render:!a}),n}const ru="modulepreload",su=function(t){return"/"+t},ks={},Qn=function(e,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),a=i?.nonce||i?.getAttribute("nonce");s=Promise.all(n.map(o=>{if(o=su(o),o in ks)return;ks[o]=!0;const u=o.endsWith(".css"),c=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${o}"]${c}`))return;const l=document.createElement("link");if(l.rel=u?"stylesheet":ru,u||(l.as="script",l.crossOrigin=""),l.href=o,a&&l.setAttribute("nonce",a),document.head.appendChild(l),u)return new Promise((f,d)=>{l.addEventListener("load",f),l.addEventListener("error",()=>d(new Error(`Unable to preload CSS for ${o}`)))})}))}return s.then(()=>e()).catch(i=>{const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=i,window.dispatchEvent(a),!a.defaultPrevented)throw i})};function ta(){let t=new Set;function e(s){return t.add(s),()=>t.delete(s)}let n=!1;function r(s,i){if(n)return!(n=!1);const a={to:s,options:i,defaultPrevented:!1,preventDefault:()=>a.defaultPrevented=!0};for(const o of t)o.listener({...a,from:o.location,retry:u=>{u&&(n=!0),o.navigate(s,{...i,resolve:!1})}});return!a.defaultPrevented}return{subscribe:e,confirm:r}}let Pr;function ts(){(!window.history.state||window.history.state._depth==null)&&window.history.replaceState({...window.history.state,_depth:window.history.length-1},""),Pr=window.history.state._depth}ts();function iu(t){return{...t,_depth:window.history.state&&window.history.state._depth}}function au(t,e){let n=!1;return()=>{const r=Pr;ts();const s=r==null?null:Pr-r;if(n){n=!1;return}s&&e(s)?(n=!0,window.history.go(-s)):t()}}const ou=/^(?:[a-z0-9]+:)?\/\//i,uu=/^\/+|(\/)\/+$/g,na="http://sr";function Rt(t,e=!1){const n=t.replace(uu,"$1");return n?e||/^[?#]/.test(n)?n:"/"+n:""}function hn(t,e,n){if(ou.test(e))return;const r=Rt(t),s=n&&Rt(n);let i="";return!s||e.startsWith("/")?i=r:s.toLowerCase().indexOf(r.toLowerCase())!==0?i=r+s:i=s,(i||"/")+Rt(e,!i)}function lu(t,e){if(t==null)throw new Error(e);return t}function cu(t,e){return Rt(t).replace(/\/*(\*.*)?$/g,"")+Rt(e)}function ra(t){const e={};return t.searchParams.forEach((n,r)=>{e[r]=n}),e}function du(t,e,n){const[r,s]=t.split("/*",2),i=r.split("/").filter(Boolean),a=i.length;return o=>{const u=o.split("/").filter(Boolean),c=u.length-a;if(c<0||c>0&&s===void 0&&!e)return null;const l={path:a?"":"/",params:{}},f=d=>n===void 0?void 0:n[d];for(let d=0;d<a;d++){const h=i[d],g=u[d],p=h[0]===":",m=p?h.slice(1):h;if(p&&dr(g,f(m)))l.params[m]=g;else if(p||!dr(g,h))return null;l.path+=`/${g}`}if(s){const d=c?u.slice(-c).join("/"):"";if(dr(d,f(s)))l.params[s]=d;else return null}return l}}function dr(t,e){const n=r=>r.localeCompare(t,void 0,{sensitivity:"base"})===0;return e===void 0?!0:typeof e=="string"?n(e):typeof e=="function"?e(t):Array.isArray(e)?e.some(n):e instanceof RegExp?e.test(t):!1}function fu(t){const[e,n]=t.pattern.split("/*",2),r=e.split("/").filter(Boolean);return r.reduce((s,i)=>s+(i.startsWith(":")?2:3),r.length-(n===void 0?0:1))}function sa(t){const e=new Map,n=yn();return new Proxy({},{get(r,s){return e.has(s)||Xr(n,()=>e.set(s,Z(()=>t()[s]))),e.get(s)()},getOwnPropertyDescriptor(){return{enumerable:!0,configurable:!0}},ownKeys(){return Reflect.ownKeys(t())}})}function ia(t){let e=/(\/?\:[^\/]+)\?/.exec(t);if(!e)return[t];let n=t.slice(0,e.index),r=t.slice(e.index+e[0].length);const s=[n,n+=e[1]];for(;e=/^(\/\:[^\/]+)\?/.exec(r);)s.push(n+=e[1]),r=r.slice(e[0].length);return ia(r).reduce((i,a)=>[...i,...s.map(o=>o+a)],[])}const hu=100,aa=Jt(),oa=Jt(),ns=()=>lu(Yt(aa),"<A> and 'use' router primitives can be only used inside a Route."),pu=()=>ns().navigatorFactory(),gu=()=>ns().location,h1=()=>ns().params;function mu(t,e=""){const{component:n,load:r,children:s,info:i}=t,a=!s||Array.isArray(s)&&!s.length,o={key:t,component:n,load:r,info:i};return ua(t.path).reduce((u,c)=>{for(const l of ia(c)){const f=cu(e,l);let d=a?f:f.split("/*",1)[0];d=d.split("/").map(h=>h.startsWith(":")||h.startsWith("*")?h:encodeURIComponent(h)).join("/"),u.push({...o,originalPath:c,pattern:d,matcher:du(d,!a,t.matchFilters)})}return u},[])}function yu(t,e=0){return{routes:t,score:fu(t[t.length-1])*1e4-e,matcher(n){const r=[];for(let s=t.length-1;s>=0;s--){const i=t[s],a=i.matcher(n);if(!a)return null;r.unshift({...a,route:i})}return r}}}function ua(t){return Array.isArray(t)?t:[t]}function la(t,e="",n=[],r=[]){const s=ua(t);for(let i=0,a=s.length;i<a;i++){const o=s[i];if(o&&typeof o=="object"){o.hasOwnProperty("path")||(o.path="");const u=mu(o,e);for(const c of u){n.push(c);const l=Array.isArray(o.children)&&o.children.length===0;if(o.children&&!l)la(o.children,c.pattern,n,r);else{const f=yu([...n],r.length);r.push(f)}n.pop()}}}return n.length?r:r.sort((i,a)=>a.score-i.score)}function fr(t,e){for(let n=0,r=t.length;n<r;n++){const s=t[n].matcher(e);if(s)return s}return[]}function vu(t,e){const n=new URL(na),r=Z(u=>{const c=t();try{return new URL(c,n)}catch{return console.error(`Invalid path ${c}`),u}},n,{equals:(u,c)=>u.href===c.href}),s=Z(()=>r().pathname),i=Z(()=>r().search,!0),a=Z(()=>r().hash),o=()=>"";return{get pathname(){return s()},get search(){return i()},get hash(){return a()},get state(){return e()},get key(){return o()},query:sa(it(i,()=>ra(r())))}}let Ee;function bu(){return Ee}function wu(t,e,n,r={}){const{signal:[s,i],utils:a={}}=t,o=a.parsePath||(R=>R),u=a.renderPath||(R=>R),c=a.beforeLeave||ta(),l=hn("",r.base||"");if(l===void 0)throw new Error(`${l} is not a valid base path`);l&&!s().value&&i({value:l,replace:!0,scroll:!1});const[f,d]=Y(!1),h=async R=>{d(!0);try{await Ao(R)}finally{d(!1)}},[g,p]=Y(s().value),[m,b]=Y(s().state),w=vu(g,m),$=[],y=Y([]),S=Z(()=>typeof r.transformUrl=="function"?fr(e(),r.transformUrl(w.pathname)):fr(e(),w.pathname)),A=sa(()=>{const R=S(),V={};for(let H=0;H<R.length;H++)Object.assign(V,R[H].params);return V}),_={pattern:l,path:()=>l,outlet:()=>null,resolvePath(R){return hn(l,R)}};return De(()=>{const{value:R,state:V}=s();W(()=>{h(()=>{Ee="native",R!==g()&&p(R),b(V),y[1]([])}).then(()=>{Ee=void 0})})}),{base:_,location:w,params:A,isRouting:f,renderPath:u,parsePath:o,navigatorFactory:P,matches:S,beforeLeave:c,preloadRoute:M,singleFlight:r.singleFlight===void 0?!0:r.singleFlight,submissions:y};function T(R,V,H){W(()=>{if(typeof V=="number"){V&&(a.go?a.go(V):console.warn("Router integration does not support relative routing"));return}const{replace:oe,resolve:Re,scroll:xe,state:q}={replace:!1,resolve:!0,scroll:!0,...H},J=Re?R.resolvePath(V):hn("",V);if(J===void 0)throw new Error(`Path '${V}' is not a routable path`);if($.length>=hu)throw new Error("Too many redirects");const Le=g();if((J!==Le||q!==m())&&!Ar){if(c.confirm(J,H)){const rn=$.push({value:Le,replace:oe,scroll:xe,state:m()});h(()=>{Ee="navigate",p(J),b(q),y[1]([])}).then(()=>{$.length===rn&&(Ee=void 0,j({value:J,state:q}))})}}})}function P(R){return R=R||Yt(oa)||_,(V,H)=>T(R,V,H)}function j(R){const V=$[0];V&&((R.value!==V.value||R.state!==V.state)&&i({...R,replace:V.replace,scroll:V.scroll}),$.length=0)}function M(R,V){const H=fr(e(),R.pathname),oe=Ee;Ee="preload";for(let Re in H){const{route:xe,params:q}=H[Re];xe.component&&xe.component.preload&&xe.component.preload();const{load:J}=xe;V&&J&&Xr(n(),()=>J({params:q,location:{pathname:R.pathname,search:R.search,hash:R.hash,query:ra(R),state:null,key:""},intent:"preload"}))}Ee=oe}}function _u(t,e,n,r){const{base:s,location:i,params:a}=t,{pattern:o,component:u,load:c}=r().route,l=Z(()=>r().path);u&&u.preload&&u.preload();const f=c?c({params:a,location:i,intent:Ee||"initial"}):void 0;return{parent:e,pattern:o,path:l,outlet:()=>u?K(u,{params:a,location:i,data:f,get children(){return n()}}):n(),resolvePath(h){return hn(s.path(),h,l())}}}const xu=t=>e=>{const{base:n}=e,r=Bn(()=>e.children),s=Z(()=>la(r(),e.base||""));let i;const a=wu(t,s,()=>i,{base:n,singleFlight:e.singleFlight,transformUrl:e.transformUrl});return t.create&&t.create(a),K(aa.Provider,{value:a,get children(){return K(Su,{routerState:a,get root(){return e.root},get load(){return e.rootLoad},get children(){return[Z(()=>(i=yn())&&null),K(Ou,{routerState:a,get branches(){return s()}})]}})}})};function Su(t){const e=t.routerState.location,n=t.routerState.params,r=Z(()=>t.load&&W(()=>{t.load({params:n,location:e,intent:bu()||"initial"})}));return K(es,{get when(){return t.root},keyed:!0,get fallback(){return t.children},children:s=>K(s,{params:n,location:e,get data(){return r()},get children(){return t.children}})})}function Ou(t){const e=[];let n;const r=Z(it(t.routerState.matches,(s,i,a)=>{let o=i&&s.length===i.length;const u=[];for(let c=0,l=s.length;c<l;c++){const f=i&&i[c],d=s[c];a&&f&&d.route.key===f.route.key?u[c]=a[c]:(o=!1,e[c]&&e[c](),je(h=>{e[c]=h,u[c]=_u(t.routerState,u[c-1]||t.routerState.base,As(()=>r()[c+1]),()=>t.routerState.matches()[c])}))}return e.splice(s.length).forEach(c=>c()),a&&o?a:(n=u[0],u)}));return As(()=>r()&&n)()}const As=t=>()=>K(es,{get when(){return t()},keyed:!0,children:e=>K(oa.Provider,{value:e,get children(){return e.outlet()}})}),an=t=>{const e=Bn(()=>t.children);return Uo(t,{get children(){return e()}})};function Eu([t,e],n,r){return[t,r?s=>e(r(s)):e]}function Tu(t){if(t==="#")return null;try{return document.querySelector(t)}catch{return null}}function Cu(t){let e=!1;const n=s=>typeof s=="string"?{value:s}:s,r=Eu(Y(n(t.get()),{equals:(s,i)=>s.value===i.value&&s.state===i.state}),void 0,s=>(!e&&t.set(s),s));return t.init&&me(t.init((s=t.get())=>{e=!0,r[1](n(s)),e=!1})),xu({signal:r,create:t.create,utils:t.utils})}function $u(t,e,n){return t.addEventListener(e,n),()=>t.removeEventListener(e,n)}function ku(t,e){const n=Tu(`#${t}`);n?n.scrollIntoView():e&&window.scrollTo(0,0)}const Au=new Map;function Pu(t=!0,e=!1,n="/_server",r){return s=>{const i=s.base.path(),a=s.navigatorFactory(s.base);let o={};function u(p){return p.namespaceURI==="http://www.w3.org/2000/svg"}function c(p){if(p.defaultPrevented||p.button!==0||p.metaKey||p.altKey||p.ctrlKey||p.shiftKey)return;const m=p.composedPath().find(A=>A instanceof Node&&A.nodeName.toUpperCase()==="A");if(!m||e&&!m.hasAttribute("link"))return;const b=u(m),w=b?m.href.baseVal:m.href;if((b?m.target.baseVal:m.target)||!w&&!m.hasAttribute("state"))return;const y=(m.getAttribute("rel")||"").split(/\s+/);if(m.hasAttribute("download")||y&&y.includes("external"))return;const S=b?new URL(w,document.baseURI):new URL(w);if(!(S.origin!==window.location.origin||i&&S.pathname&&!S.pathname.toLowerCase().startsWith(i.toLowerCase())))return[m,S]}function l(p){const m=c(p);if(!m)return;const[b,w]=m,$=s.parsePath(w.pathname+w.search+w.hash),y=b.getAttribute("state");p.preventDefault(),a($,{resolve:!1,replace:b.hasAttribute("replace"),scroll:!b.hasAttribute("noscroll"),state:y&&JSON.parse(y)})}function f(p){const m=c(p);if(!m)return;const[b,w]=m;o[w.pathname]||s.preloadRoute(w,b.getAttribute("preload")!=="false")}function d(p){const m=c(p);if(!m)return;const[b,w]=m;o[w.pathname]||(o[w.pathname]=setTimeout(()=>{s.preloadRoute(w,b.getAttribute("preload")!=="false"),delete o[w.pathname]},200))}function h(p){const m=c(p);if(!m)return;const[,b]=m;o[b.pathname]&&(clearTimeout(o[b.pathname]),delete o[b.pathname])}function g(p){if(p.defaultPrevented)return;let m=p.submitter&&p.submitter.hasAttribute("formaction")?p.submitter.getAttribute("formaction"):p.target.getAttribute("action");if(!m)return;if(!m.startsWith("https://action/")){const w=new URL(m,na);if(m=s.parsePath(w.pathname+w.search),!m.startsWith(n))return}if(p.target.method.toUpperCase()!=="POST")throw new Error("Only POST forms are supported for Actions");const b=Au.get(m);if(b){p.preventDefault();const w=new FormData(p.target);p.submitter&&p.submitter.name&&w.append(p.submitter.name,p.submitter.value),b.call({r:s,f:p.target},w)}}ea(["click","submit"]),document.addEventListener("click",l),t&&(document.addEventListener("mouseover",d),document.addEventListener("mouseout",h),document.addEventListener("focusin",f),document.addEventListener("touchstart",f)),document.addEventListener("submit",g),me(()=>{document.removeEventListener("click",l),t&&(document.removeEventListener("mouseover",d),document.removeEventListener("mouseout",h),document.removeEventListener("focusin",f),document.removeEventListener("touchstart",f)),document.removeEventListener("submit",g)})}}function Ru(t){const e=t.replace(/^.*?#/,"");if(!e.startsWith("/")){const[,n="/"]=window.location.hash.split("#",2);return`${n}#${e}`}return e}function Lu(t){const e=()=>window.location.hash.slice(1),n=ta();return Cu({get:e,set({value:r,replace:s,scroll:i,state:a}){s?window.history.replaceState(iu(a),"","#"+r):window.location.hash=r;const o=r.indexOf("#"),u=o>=0?r.slice(o+1):"";ku(u,i),ts()},init:r=>$u(window,"hashchange",au(r,s=>!n.confirm(s&&s<0?s:e()))),create:Pu(t.preload,t.explicitLinks,t.actionBase),utils:{go:r=>window.history.go(r),renderPath:r=>`#${r}`,parsePath:Ru,beforeLeave:n}})(t)}function Nu(t){const e=pu(),n=gu(),{href:r,state:s}=t,i=typeof r=="function"?r({navigate:e,location:n}):r;return e(i,{replace:!0,state:s}),null}const Rr=Symbol("store-raw"),at=Symbol("store-node"),Te=Symbol("store-has"),ca=Symbol("store-self");function da(t){let e=t[fe];if(!e&&(Object.defineProperty(t,fe,{value:e=new Proxy(t,Du)}),!Array.isArray(t))){const n=Object.keys(t),r=Object.getOwnPropertyDescriptors(t);for(let s=0,i=n.length;s<i;s++){const a=n[s];r[a].get&&Object.defineProperty(t,a,{enumerable:r[a].enumerable,get:r[a].get.bind(e)})}}return e}function Me(t){let e;return t!=null&&typeof t=="object"&&(t[fe]||!(e=Object.getPrototypeOf(t))||e===Object.prototype||Array.isArray(t))}function Qe(t,e=new Set){let n,r,s,i;if(n=t!=null&&t[Rr])return n;if(!Me(t)||e.has(t))return t;if(Array.isArray(t)){Object.isFrozen(t)?t=t.slice(0):e.add(t);for(let a=0,o=t.length;a<o;a++)s=t[a],(r=Qe(s,e))!==s&&(t[a]=r)}else{Object.isFrozen(t)?t=Object.assign({},t):e.add(t);const a=Object.keys(t),o=Object.getOwnPropertyDescriptors(t);for(let u=0,c=a.length;u<c;u++)i=a[u],!o[i].get&&(s=t[i],(r=Qe(s,e))!==s&&(t[i]=r))}return t}function _n(t,e){let n=t[e];return n||Object.defineProperty(t,e,{value:n=Object.create(null)}),n}function Nt(t,e,n){if(t[e])return t[e];const[r,s]=Y(n,{equals:!1,internal:!0});return r.$=s,t[e]=r}function Iu(t,e){const n=Reflect.getOwnPropertyDescriptor(t,e);return!n||n.get||!n.configurable||e===fe||e===at||(delete n.value,delete n.writable,n.get=()=>t[fe][e]),n}function fa(t){Or()&&Nt(_n(t,at),ca)()}function ju(t){return fa(t),Reflect.ownKeys(t)}const Du={get(t,e,n){if(e===Rr)return t;if(e===fe)return n;if(e===Sr)return fa(t),n;const r=_n(t,at),s=r[e];let i=s?s():t[e];if(e===at||e===Te||e==="__proto__")return i;if(!s){const a=Object.getOwnPropertyDescriptor(t,e);Or()&&(typeof i!="function"||t.hasOwnProperty(e))&&!(a&&a.get)&&(i=Nt(r,e,i)())}return Me(i)?da(i):i},has(t,e){return e===Rr||e===fe||e===Sr||e===at||e===Te||e==="__proto__"?!0:(Or()&&Nt(_n(t,Te),e)(),e in t)},set(){return!0},deleteProperty(){return!0},ownKeys:ju,getOwnPropertyDescriptor:Iu};function ie(t,e,n,r=!1){if(!r&&t[e]===n)return;const s=t[e],i=t.length;n===void 0?(delete t[e],t[Te]&&t[Te][e]&&s!==void 0&&t[Te][e].$()):(t[e]=n,t[Te]&&t[Te][e]&&s===void 0&&t[Te][e].$());let a=_n(t,at),o;if((o=Nt(a,e,s))&&o.$(()=>n),Array.isArray(t)&&t.length!==i){for(let u=t.length;u<i;u++)(o=a[u])&&o.$();(o=Nt(a,"length",i))&&o.$(t.length)}(o=a[ca])&&o.$()}function ha(t,e){const n=Object.keys(e);for(let r=0;r<n.length;r+=1){const s=n[r];ie(t,s,e[s])}}function Mu(t,e){if(typeof e=="function"&&(e=e(t)),e=Qe(e),Array.isArray(e)){if(t===e)return;let n=0,r=e.length;for(;n<r;n++){const s=e[n];t[n]!==s&&ie(t,n,s)}ie(t,"length",r)}else ha(t,e)}function kt(t,e,n=[]){let r,s=t;if(e.length>1){r=e.shift();const a=typeof r,o=Array.isArray(t);if(Array.isArray(r)){for(let u=0;u<r.length;u++)kt(t,[r[u]].concat(e),n);return}else if(o&&a==="function"){for(let u=0;u<t.length;u++)r(t[u],u)&&kt(t,[u].concat(e),n);return}else if(o&&a==="object"){const{from:u=0,to:c=t.length-1,by:l=1}=r;for(let f=u;f<=c;f+=l)kt(t,[f].concat(e),n);return}else if(e.length>1){kt(t[r],e,[r].concat(n));return}s=t[r],n=[r].concat(n)}let i=e[0];typeof i=="function"&&(i=i(s,n),i===s)||r===void 0&&i==null||(i=Qe(i),r===void 0||Me(s)&&Me(i)&&!Array.isArray(i)?ha(s,i):ie(t,r,i))}function rs(...[t,e]){const n=Qe(t||{}),r=Array.isArray(n),s=da(n);function i(...a){$o(()=>{r&&a.length===1?Mu(n,a[0]):kt(n,a)})}return[s,i]}const Lr=Symbol("store-root");function nt(t,e,n,r,s){const i=e[n];if(t===i)return;const a=Array.isArray(t);if(n!==Lr&&(!Me(t)||!Me(i)||a!==Array.isArray(i)||s&&t[s]!==i[s])){ie(e,n,t);return}if(a){if(t.length&&i.length&&(!r||s&&t[0]&&t[0][s]!=null)){let c,l,f,d,h,g,p,m;for(f=0,d=Math.min(i.length,t.length);f<d&&(i[f]===t[f]||s&&i[f]&&t[f]&&i[f][s]===t[f][s]);f++)nt(t[f],i,f,r,s);const b=new Array(t.length),w=new Map;for(d=i.length-1,h=t.length-1;d>=f&&h>=f&&(i[d]===t[h]||s&&i[f]&&t[f]&&i[d][s]===t[h][s]);d--,h--)b[h]=i[d];if(f>h||f>d){for(l=f;l<=h;l++)ie(i,l,t[l]);for(;l<t.length;l++)ie(i,l,b[l]),nt(t[l],i,l,r,s);i.length>t.length&&ie(i,"length",t.length);return}for(p=new Array(h+1),l=h;l>=f;l--)g=t[l],m=s&&g?g[s]:g,c=w.get(m),p[l]=c===void 0?-1:c,w.set(m,l);for(c=f;c<=d;c++)g=i[c],m=s&&g?g[s]:g,l=w.get(m),l!==void 0&&l!==-1&&(b[l]=i[c],l=p[l],w.set(m,l));for(l=f;l<t.length;l++)l in b?(ie(i,l,b[l]),nt(t[l],i,l,r,s)):ie(i,l,t[l])}else for(let c=0,l=t.length;c<l;c++)nt(t[c],i,c,r,s);i.length>t.length&&ie(i,"length",t.length);return}const o=Object.keys(t);for(let c=0,l=o.length;c<l;c++)nt(t[o[c]],i,o[c],r,s);const u=Object.keys(i);for(let c=0,l=u.length;c<l;c++)t[u[c]]===void 0&&ie(i,u[c],void 0)}function Uu(t,e={}){const{merge:n,key:r="id"}=e,s=Qe(t);return i=>{if(!Me(i)||!Me(s))return s;const a=nt(s,{[Lr]:i},Lr,n,r);return a===void 0?i:a}}function Nr(){}function Fu(t,{interval:e=1e3,onError:n=Nr}={}){if(typeof t!="function")throw new Error("argument is not function.");let r=0,s=null,i=!1,a=!1;return async(...o)=>{if(s=o,!a){for(a=!0;i;)await new Promise(u=>setTimeout(u,e));for(;Date.now()<r;)await new Promise(u=>setTimeout(u,r-Date.now()));a=!1,i=!0;try{await t(...s)}catch(u){try{n(u)}catch{}}r=Date.now()+e,i=!1}}}var Zu=({storage:t,key:e="REACT_QUERY_OFFLINE_CACHE",throttleTime:n=1e3,serialize:r=JSON.stringify,deserialize:s=JSON.parse,retry:i})=>{if(t){const a=async o=>{try{const u=await r(o);await t.setItem(e,u);return}catch(u){return u}};return{persistClient:Fu(async o=>{let u=o,c=await a(u),l=0;for(;c&&u;)l++,u=await i?.({persistedClient:u,error:c,errorCount:l}),u&&(c=await a(u))},{interval:n}),restoreClient:async()=>{const o=await t.getItem(e);if(o)return await s(o)},removeClient:()=>t.removeItem(e)}}return{persistClient:Nr,restoreClient:()=>Promise.resolve(void 0),removeClient:Nr}},pt=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},ut=typeof window>"u"||"Deno"in globalThis;function ae(){}function Vu(t,e){return typeof t=="function"?t(e):t}function Ir(t){return typeof t=="number"&&t>=0&&t!==1/0}function pa(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Ps(t,e){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:a,stale:o}=t;if(a){if(r){if(e.queryHash!==ss(a,e.options))return!1}else if(!It(e.queryKey,a))return!1}if(n!=="all"){const u=e.isActive();if(n==="active"&&!u||n==="inactive"&&u)return!1}return!(typeof o=="boolean"&&e.isStale()!==o||s&&s!==e.state.fetchStatus||i&&!i(e))}function Rs(t,e){const{exact:n,status:r,predicate:s,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(n){if(We(e.options.mutationKey)!==We(i))return!1}else if(!It(e.options.mutationKey,i))return!1}return!(r&&e.state.status!==r||s&&!s(e))}function ss(t,e){return(e?.queryKeyHashFn||We)(t)}function We(t){return JSON.stringify(t,(e,n)=>jr(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function It(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(n=>!It(t[n],e[n])):!1}function ga(t,e){if(t===e)return t;const n=Ls(t)&&Ls(e);if(n||jr(t)&&jr(e)){const r=n?t:Object.keys(t),s=r.length,i=n?e:Object.keys(e),a=i.length,o=n?[]:{};let u=0;for(let c=0;c<a;c++){const l=n?c:i[c];(!n&&r.includes(l)||n)&&t[l]===void 0&&e[l]===void 0?(o[l]=void 0,u++):(o[l]=ga(t[l],e[l]),o[l]===t[l]&&t[l]!==void 0&&u++)}return s===a&&u===s?t:o}return e}function xn(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function Ls(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function jr(t){if(!Ns(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!Ns(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function Ns(t){return Object.prototype.toString.call(t)==="[object Object]"}function Bu(t){return new Promise(e=>{setTimeout(e,t)})}function Dr(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?ga(t,e):e}function Ku(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function zu(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var ma=Symbol(),ya=(t,e)=>!t.queryFn&&e?.initialPromise?()=>e.initialPromise:!t.queryFn||t.queryFn===ma?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn,Hu=class extends pt{#e;#t;#r;constructor(){super(),this.#r=t=>{if(!ut&&window.addEventListener){const e=()=>t();return window.addEventListener("visibilitychange",e,!1),()=>{window.removeEventListener("visibilitychange",e)}}}}onSubscribe(){this.#t||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#r=t,this.#t?.(),this.#t=t(e=>{typeof e=="boolean"?this.setFocused(e):this.onFocus()})}setFocused(t){this.#e!==t&&(this.#e=t,this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(e=>{e(t)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},is=new Hu,qu=class extends pt{#e=!0;#t;#r;constructor(){super(),this.#r=t=>{if(!ut&&window.addEventListener){const e=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",e,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",n)}}}}onSubscribe(){this.#t||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#r=t,this.#t?.(),this.#t=t(this.setOnline.bind(this))}setOnline(t){this.#e!==t&&(this.#e=t,this.listeners.forEach(n=>{n(t)}))}isOnline(){return this.#e}},Sn=new qu;function Qu(t){return Math.min(1e3*2**t,3e4)}function va(t){return(t??"online")==="online"?Sn.isOnline():!0}var ba=class{constructor(t){this.revert=t?.revert,this.silent=t?.silent}};function hr(t){return t instanceof ba}function wa(t){let e=!1,n=0,r=!1,s,i,a;const o=new Promise((b,w)=>{i=b,a=w}),u=b=>{r||(g(new ba(b)),t.abort?.())},c=()=>{e=!0},l=()=>{e=!1},f=()=>is.isFocused()&&(t.networkMode==="always"||Sn.isOnline())&&t.canRun(),d=()=>va(t.networkMode)&&t.canRun(),h=b=>{r||(r=!0,t.onSuccess?.(b),s?.(),i(b))},g=b=>{r||(r=!0,t.onError?.(b),s?.(),a(b))},p=()=>new Promise(b=>{s=w=>{(r||f())&&b(w)},t.onPause?.()}).then(()=>{s=void 0,r||t.onContinue?.()}),m=()=>{if(r)return;let b;const w=n===0?t.initialPromise:void 0;try{b=w??t.fn()}catch($){b=Promise.reject($)}Promise.resolve(b).then(h).catch($=>{if(r)return;const y=t.retry??(ut?0:3),S=t.retryDelay??Qu,A=typeof S=="function"?S(n,$):S,_=y===!0||typeof y=="number"&&n<y||typeof y=="function"&&y(n,$);if(e||!_){g($);return}n++,t.onFail?.(n,$),Bu(A).then(()=>f()?void 0:p()).then(()=>{e?g($):m()})})};return{promise:o,cancel:u,continue:()=>(s?.(),o),cancelRetry:c,continueRetry:l,canStart:d,start:()=>(d()?m():p().then(m),o)}}function Wu(){let t=[],e=0,n=d=>{d()},r=d=>{d()},s=d=>setTimeout(d,0);const i=d=>{s=d},a=d=>{let h;e++;try{h=d()}finally{e--,e||c()}return h},o=d=>{e?t.push(d):s(()=>{n(d)})},u=d=>(...h)=>{o(()=>{d(...h)})},c=()=>{const d=t;t=[],d.length&&s(()=>{r(()=>{d.forEach(h=>{n(h)})})})};return{batch:a,batchCalls:u,schedule:o,setNotifyFunction:d=>{n=d},setBatchNotifyFunction:d=>{r=d},setScheduler:i}}var G=Wu(),_a=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Ir(this.gcTime)&&(this.#e=setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(ut?1/0:5*60*1e3))}clearGcTimeout(){this.#e&&(clearTimeout(this.#e),this.#e=void 0)}},Gu=class extends _a{#e;#t;#r;#n;#a;#i;constructor(t){super(),this.#i=!1,this.#a=t.defaultOptions,this.setOptions(t.options),this.observers=[],this.#r=t.cache,this.queryKey=t.queryKey,this.queryHash=t.queryHash,this.#e=t.state||Ju(this.options),this.state=this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#n?.promise}setOptions(t){this.options={...this.#a,...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#r.remove(this)}setData(t,e){const n=Dr(this.state.data,t,this.options);return this.#s({data:n,type:"success",dataUpdatedAt:e?.updatedAt,manual:e?.manual}),n}setState(t,e){this.#s({type:"setState",state:t,setStateOptions:e})}cancel(t){const e=this.#n?.promise;return this.#n?.cancel(t),e?e.then(ae).catch(ae):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(t=>t.options.enabled!==!1)}isDisabled(){return this.getObserversCount()>0&&!this.isActive()}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!pa(this.state.dataUpdatedAt,t)}onFocus(){this.observers.find(e=>e.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#n?.continue()}onOnline(){this.observers.find(e=>e.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#n?.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),this.#r.notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(e=>e!==t),this.observers.length||(this.#n&&(this.#i?this.#n.cancel({revert:!0}):this.#n.cancelRetry()),this.scheduleGc()),this.#r.notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#s({type:"invalidate"})}fetch(t,e){if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&e?.cancelRefetch)this.cancel({silent:!0});else if(this.#n)return this.#n.continueRetry(),this.#n.promise}if(t&&this.setOptions(t),!this.options.queryFn){const o=this.observers.find(u=>u.options.queryFn);o&&this.setOptions(o.options)}const n=new AbortController,r=o=>{Object.defineProperty(o,"signal",{enumerable:!0,get:()=>(this.#i=!0,n.signal)})},s=()=>{const o=ya(this.options,e),u={queryKey:this.queryKey,meta:this.meta};return r(u),this.#i=!1,this.options.persister?this.options.persister(o,u,this):o(u)},i={fetchOptions:e,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:s};r(i),this.options.behavior?.onFetch(i,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==i.fetchOptions?.meta)&&this.#s({type:"fetch",meta:i.fetchOptions?.meta});const a=o=>{hr(o)&&o.silent||this.#s({type:"error",error:o}),hr(o)||(this.#r.config.onError?.(o,this),this.#r.config.onSettled?.(this.state.data,o,this)),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1};return this.#n=wa({initialPromise:e?.initialPromise,fn:i.fetchFn,abort:n.abort.bind(n),onSuccess:o=>{if(o===void 0){a(new Error(`${this.queryHash} data is undefined`));return}this.setData(o),this.#r.config.onSuccess?.(o,this),this.#r.config.onSettled?.(o,this.state.error,this),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1},onError:a,onFail:(o,u)=>{this.#s({type:"failed",failureCount:o,error:u})},onPause:()=>{this.#s({type:"pause"})},onContinue:()=>{this.#s({type:"continue"})},retry:i.options.retry,retryDelay:i.options.retryDelay,networkMode:i.options.networkMode,canRun:()=>!0}),this.#n.start()}#s(t){const e=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...xa(n.data,this.options),fetchMeta:t.meta??null};case"success":return{...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const r=t.error;return hr(r)&&r.revert&&this.#t?{...this.#t,fetchStatus:"idle"}:{...n,error:r,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:r,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=e(this.state),G.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),this.#r.notify({query:this,type:"updated",action:t})})}};function xa(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:va(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function Ju(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Yu=class extends pt{constructor(t={}){super(),this.config=t,this.#e=new Map}#e;build(t,e,n){const r=e.queryKey,s=e.queryHash??ss(r,e);let i=this.get(s);return i||(i=new Gu({cache:this,queryKey:r,queryHash:s,options:t.defaultQueryOptions(e),state:n,defaultOptions:t.getQueryDefaults(r)}),this.add(i)),i}add(t){this.#e.has(t.queryHash)||(this.#e.set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const e=this.#e.get(t.queryHash);e&&(t.destroy(),e===t&&this.#e.delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){G.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return this.#e.get(t)}getAll(){return[...this.#e.values()]}find(t){const e={exact:!0,...t};return this.getAll().find(n=>Ps(e,n))}findAll(t={}){const e=this.getAll();return Object.keys(t).length>0?e.filter(n=>Ps(t,n)):e}notify(t){G.batch(()=>{this.listeners.forEach(e=>{e(t)})})}onFocus(){G.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){G.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Xu=class extends _a{#e;#t;#r;constructor(t){super(),this.mutationId=t.mutationId,this.#t=t.mutationCache,this.#e=[],this.state=t.state||Sa(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){this.#e.includes(t)||(this.#e.push(t),this.clearGcTimeout(),this.#t.notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){this.#e=this.#e.filter(e=>e!==t),this.scheduleGc(),this.#t.notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){this.#e.length||(this.state.status==="pending"?this.scheduleGc():this.#t.remove(this))}continue(){return this.#r?.continue()??this.execute(this.state.variables)}async execute(t){this.#r=wa({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(r,s)=>{this.#n({type:"failed",failureCount:r,error:s})},onPause:()=>{this.#n({type:"pause"})},onContinue:()=>{this.#n({type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#t.canRun(this)});const e=this.state.status==="pending",n=!this.#r.canStart();try{if(!e){this.#n({type:"pending",variables:t,isPaused:n}),await this.#t.config.onMutate?.(t,this);const s=await this.options.onMutate?.(t);s!==this.state.context&&this.#n({type:"pending",context:s,variables:t,isPaused:n})}const r=await this.#r.start();return await this.#t.config.onSuccess?.(r,t,this.state.context,this),await this.options.onSuccess?.(r,t,this.state.context),await this.#t.config.onSettled?.(r,null,this.state.variables,this.state.context,this),await this.options.onSettled?.(r,null,t,this.state.context),this.#n({type:"success",data:r}),r}catch(r){try{throw await this.#t.config.onError?.(r,t,this.state.context,this),await this.options.onError?.(r,t,this.state.context),await this.#t.config.onSettled?.(void 0,r,this.state.variables,this.state.context,this),await this.options.onSettled?.(void 0,r,t,this.state.context),r}finally{this.#n({type:"error",error:r})}}finally{this.#t.runNext(this)}}#n(t){const e=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=e(this.state),G.batch(()=>{this.#e.forEach(n=>{n.onMutationUpdate(t)}),this.#t.notify({mutation:this,type:"updated",action:t})})}};function Sa(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var el=class extends pt{constructor(t={}){super(),this.config=t,this.#e=new Map,this.#t=Date.now()}#e;#t;build(t,e,n){const r=new Xu({mutationCache:this,mutationId:++this.#t,options:t.defaultMutationOptions(e),state:n});return this.add(r),r}add(t){const e=on(t),n=this.#e.get(e)??[];n.push(t),this.#e.set(e,n),this.notify({type:"added",mutation:t})}remove(t){const e=on(t);if(this.#e.has(e)){const n=this.#e.get(e)?.filter(r=>r!==t);n&&(n.length===0?this.#e.delete(e):this.#e.set(e,n))}this.notify({type:"removed",mutation:t})}canRun(t){const e=this.#e.get(on(t))?.find(n=>n.state.status==="pending");return!e||e===t}runNext(t){return this.#e.get(on(t))?.find(n=>n!==t&&n.state.isPaused)?.continue()??Promise.resolve()}clear(){G.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}getAll(){return[...this.#e.values()].flat()}find(t){const e={exact:!0,...t};return this.getAll().find(n=>Rs(e,n))}findAll(t={}){return this.getAll().filter(e=>Rs(t,e))}notify(t){G.batch(()=>{this.listeners.forEach(e=>{e(t)})})}resumePausedMutations(){const t=this.getAll().filter(e=>e.state.isPaused);return G.batch(()=>Promise.all(t.map(e=>e.continue().catch(ae))))}};function on(t){return t.options.scope?.id??String(t.mutationId)}function tl(t){return{onFetch:(e,n)=>{const r=async()=>{const s=e.options,i=e.fetchOptions?.meta?.fetchMore?.direction,a=e.state.data?.pages||[],o=e.state.data?.pageParams||[],u={pages:[],pageParams:[]};let c=!1;const l=g=>{Object.defineProperty(g,"signal",{enumerable:!0,get:()=>(e.signal.aborted?c=!0:e.signal.addEventListener("abort",()=>{c=!0}),e.signal)})},f=ya(e.options,e.fetchOptions),d=async(g,p,m)=>{if(c)return Promise.reject();if(p==null&&g.pages.length)return Promise.resolve(g);const b={queryKey:e.queryKey,pageParam:p,direction:m?"backward":"forward",meta:e.options.meta};l(b);const w=await f(b),{maxPages:$}=e.options,y=m?zu:Ku;return{pages:y(g.pages,w,$),pageParams:y(g.pageParams,p,$)}};let h;if(i&&a.length){const g=i==="backward",p=g?nl:Is,m={pages:a,pageParams:o},b=p(s,m);h=await d(m,b,g)}else{h=await d(u,o[0]??s.initialPageParam);const g=t??a.length;for(let p=1;p<g;p++){const m=Is(s,h);h=await d(h,m)}}return h};e.options.persister?e.fetchFn=()=>e.options.persister?.(r,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n):e.fetchFn=r}}}function Is(t,{pages:e,pageParams:n}){const r=e.length-1;return t.getNextPageParam(e[r],e,n[r],n)}function nl(t,{pages:e,pageParams:n}){return t.getPreviousPageParam?.(e[0],e,n[0],n)}var rl=class{#e;#t;#r;#n;#a;#i;#s;#o;constructor(e={}){this.#e=e.queryCache||new Yu,this.#t=e.mutationCache||new el,this.#r=e.defaultOptions||{},this.#n=new Map,this.#a=new Map,this.#i=0}mount(){this.#i++,this.#i===1&&(this.#s=is.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#o=Sn.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#i--,this.#i===0&&(this.#s?.(),this.#s=void 0,this.#o?.(),this.#o=void 0)}isFetching(e){return this.#e.findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return this.#t.findAll({...e,status:"pending"}).length}getQueryData(e){const n=this.defaultQueryOptions({queryKey:e});return this.#e.get(n.queryHash)?.state.data}ensureQueryData(e){const n=this.getQueryData(e.queryKey);if(n===void 0)return this.fetchQuery(e);{const r=this.defaultQueryOptions(e),s=this.#e.build(this,r);return e.revalidateIfStale&&s.isStaleByTime(r.staleTime)&&this.prefetchQuery(r),Promise.resolve(n)}}getQueriesData(e){return this.#e.findAll(e).map(({queryKey:n,state:r})=>{const s=r.data;return[n,s]})}setQueryData(e,n,r){const s=this.defaultQueryOptions({queryKey:e}),a=this.#e.get(s.queryHash)?.state.data,o=Vu(n,a);if(o!==void 0)return this.#e.build(this,s).setData(o,{...r,manual:!0})}setQueriesData(e,n,r){return G.batch(()=>this.#e.findAll(e).map(({queryKey:s})=>[s,this.setQueryData(s,n,r)]))}getQueryState(e){const n=this.defaultQueryOptions({queryKey:e});return this.#e.get(n.queryHash)?.state}removeQueries(e){const n=this.#e;G.batch(()=>{n.findAll(e).forEach(r=>{n.remove(r)})})}resetQueries(e,n){const r=this.#e,s={type:"active",...e};return G.batch(()=>(r.findAll(e).forEach(i=>{i.reset()}),this.refetchQueries(s,n)))}cancelQueries(e={},n={}){const r={revert:!0,...n},s=G.batch(()=>this.#e.findAll(e).map(i=>i.cancel(r)));return Promise.all(s).then(ae).catch(ae)}invalidateQueries(e={},n={}){return G.batch(()=>{if(this.#e.findAll(e).forEach(s=>{s.invalidate()}),e.refetchType==="none")return Promise.resolve();const r={...e,type:e.refetchType??e.type??"active"};return this.refetchQueries(r,n)})}refetchQueries(e={},n){const r={...n,cancelRefetch:n?.cancelRefetch??!0},s=G.batch(()=>this.#e.findAll(e).filter(i=>!i.isDisabled()).map(i=>{let a=i.fetch(void 0,r);return r.throwOnError||(a=a.catch(ae)),i.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(s).then(ae)}fetchQuery(e){const n=this.defaultQueryOptions(e);n.retry===void 0&&(n.retry=!1);const r=this.#e.build(this,n);return r.isStaleByTime(n.staleTime)?r.fetch(n):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(ae).catch(ae)}fetchInfiniteQuery(e){return e.behavior=tl(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(ae).catch(ae)}resumePausedMutations(){return Sn.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#r}setDefaultOptions(e){this.#r=e}setQueryDefaults(e,n){this.#n.set(We(e),{queryKey:e,defaultOptions:n})}getQueryDefaults(e){const n=[...this.#n.values()];let r={};return n.forEach(s=>{It(e,s.queryKey)&&(r={...r,...s.defaultOptions})}),r}setMutationDefaults(e,n){this.#a.set(We(e),{mutationKey:e,defaultOptions:n})}getMutationDefaults(e){const n=[...this.#a.values()];let r={};return n.forEach(s=>{It(e,s.mutationKey)&&(r={...r,...s.defaultOptions})}),r}defaultQueryOptions(e){if(e._defaulted)return e;const n={...this.#r.queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return n.queryHash||(n.queryHash=ss(n.queryKey,n)),n.refetchOnReconnect===void 0&&(n.refetchOnReconnect=n.networkMode!=="always"),n.throwOnError===void 0&&(n.throwOnError=!!n.suspense),!n.networkMode&&n.persister&&(n.networkMode="offlineFirst"),n.enabled!==!0&&n.queryFn===ma&&(n.enabled=!1),n}defaultMutationOptions(e){return e?._defaulted?e:{...this.#r.mutations,...e?.mutationKey&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},sl=class extends pt{constructor(t,e){super(),this.options=e,this.#e=t,this.#s=null,this.bindMethods(),this.setOptions(e)}#e;#t=void 0;#r=void 0;#n=void 0;#a;#i;#s;#o;#f;#h;#l;#c;#u;#p=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#t.addObserver(this),js(this.#t,this.options)?this.#d():this.updateResult(),this.#v())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Mr(this.#t,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Mr(this.#t,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#b(),this.#w(),this.#t.removeObserver(this)}setOptions(t,e){const n=this.options,r=this.#t;if(this.options=this.#e.defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean")throw new Error("Expected enabled to be a boolean");this.#_(),this.#t.setOptions(this.options),n._defaulted&&!xn(this.options,n)&&this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#t,observer:this});const s=this.hasListeners();s&&Ds(this.#t,r,this.options,n)&&this.#d(),this.updateResult(e),s&&(this.#t!==r||this.options.enabled!==n.enabled||this.options.staleTime!==n.staleTime)&&this.#g();const i=this.#m();s&&(this.#t!==r||this.options.enabled!==n.enabled||i!==this.#u)&&this.#y(i)}getOptimisticResult(t){const e=this.#e.getQueryCache().build(this.#e,t),n=this.createResult(e,t);return al(this,n)&&(this.#n=n,this.#i=this.options,this.#a=this.#t.state),n}getCurrentResult(){return this.#n}trackResult(t,e){const n={};return Object.keys(t).forEach(r=>{Object.defineProperty(n,r,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(r),e?.(r),t[r])})}),n}trackProp(t){this.#p.add(t)}getCurrentQuery(){return this.#t}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const e=this.#e.defaultQueryOptions(t),n=this.#e.getQueryCache().build(this.#e,e);return n.isFetchingOptimistic=!0,n.fetch().then(()=>this.createResult(n,e))}fetch(t){return this.#d({...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#n))}#d(t){this.#_();let e=this.#t.fetch(this.options,t);return t?.throwOnError||(e=e.catch(ae)),e}#g(){if(this.#b(),ut||this.#n.isStale||!Ir(this.options.staleTime))return;const e=pa(this.#n.dataUpdatedAt,this.options.staleTime)+1;this.#l=setTimeout(()=>{this.#n.isStale||this.updateResult()},e)}#m(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#t):this.options.refetchInterval)??!1}#y(t){this.#w(),this.#u=t,!(ut||this.options.enabled===!1||!Ir(this.#u)||this.#u===0)&&(this.#c=setInterval(()=>{(this.options.refetchIntervalInBackground||is.isFocused())&&this.#d()},this.#u))}#v(){this.#g(),this.#y(this.#m())}#b(){this.#l&&(clearTimeout(this.#l),this.#l=void 0)}#w(){this.#c&&(clearInterval(this.#c),this.#c=void 0)}createResult(t,e){const n=this.#t,r=this.options,s=this.#n,i=this.#a,a=this.#i,u=t!==n?t.state:this.#r,{state:c}=t;let l={...c},f=!1,d;if(e._optimisticResults){const A=this.hasListeners(),_=!A&&js(t,e),T=A&&Ds(t,n,e,r);(_||T)&&(l={...l,...xa(c.data,t.options)}),e._optimisticResults==="isRestoring"&&(l.fetchStatus="idle")}let{error:h,errorUpdatedAt:g,status:p}=l;if(e.select&&l.data!==void 0)if(s&&l.data===i?.data&&e.select===this.#o)d=this.#f;else try{this.#o=e.select,d=e.select(l.data),d=Dr(s?.data,d,e),this.#f=d,this.#s=null}catch(A){this.#s=A}else d=l.data;if(e.placeholderData!==void 0&&d===void 0&&p==="pending"){let A;if(s?.isPlaceholderData&&e.placeholderData===a?.placeholderData)A=s.data;else if(A=typeof e.placeholderData=="function"?e.placeholderData(this.#h?.state.data,this.#h):e.placeholderData,e.select&&A!==void 0)try{A=e.select(A),this.#s=null}catch(_){this.#s=_}A!==void 0&&(p="success",d=Dr(s?.data,A,e),f=!0)}this.#s&&(h=this.#s,d=this.#f,g=Date.now(),p="error");const m=l.fetchStatus==="fetching",b=p==="pending",w=p==="error",$=b&&m,y=d!==void 0;return{status:p,fetchStatus:l.fetchStatus,isPending:b,isSuccess:p==="success",isError:w,isInitialLoading:$,isLoading:$,data:d,dataUpdatedAt:l.dataUpdatedAt,error:h,errorUpdatedAt:g,failureCount:l.fetchFailureCount,failureReason:l.fetchFailureReason,errorUpdateCount:l.errorUpdateCount,isFetched:l.dataUpdateCount>0||l.errorUpdateCount>0,isFetchedAfterMount:l.dataUpdateCount>u.dataUpdateCount||l.errorUpdateCount>u.errorUpdateCount,isFetching:m,isRefetching:m&&!b,isLoadingError:w&&!y,isPaused:l.fetchStatus==="paused",isPlaceholderData:f,isRefetchError:w&&y,isStale:as(t,e),refetch:this.refetch}}updateResult(t){const e=this.#n,n=this.createResult(this.#t,this.options);if(this.#a=this.#t.state,this.#i=this.options,this.#a.data!==void 0&&(this.#h=this.#t),xn(n,e))return;this.#n=n;const r={},s=()=>{if(!e)return!0;const{notifyOnChangeProps:i}=this.options,a=typeof i=="function"?i():i;if(a==="all"||!a&&!this.#p.size)return!0;const o=new Set(a??this.#p);return this.options.throwOnError&&o.add("error"),Object.keys(this.#n).some(u=>{const c=u;return this.#n[c]!==e[c]&&o.has(c)})};t?.listeners!==!1&&s()&&(r.listeners=!0),this.#x({...r,...t})}#_(){const t=this.#e.getQueryCache().build(this.#e,this.options);if(t===this.#t)return;const e=this.#t;this.#t=t,this.#r=t.state,this.hasListeners()&&(e?.removeObserver(this),t.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#v()}#x(t){G.batch(()=>{t.listeners&&this.listeners.forEach(e=>{e(this.#n)}),this.#e.getQueryCache().notify({query:this.#t,type:"observerResultsUpdated"})})}};function il(t,e){return e.enabled!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function js(t,e){return il(t,e)||t.state.data!==void 0&&Mr(t,e,e.refetchOnMount)}function Mr(t,e,n){if(e.enabled!==!1){const r=typeof n=="function"?n(t):n;return r==="always"||r!==!1&&as(t,e)}return!1}function Ds(t,e,n,r){return(t!==e||r.enabled===!1)&&(!n.suspense||t.state.status!=="error")&&as(t,n)}function as(t,e){return e.enabled!==!1&&t.isStaleByTime(e.staleTime)}function al(t,e){return!xn(t.getCurrentResult(),e)}var ol=class extends pt{#e;#t=void 0;#r;#n;constructor(e,n){super(),this.#e=e,this.setOptions(n),this.bindMethods(),this.#a()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){const n=this.options;this.options=this.#e.defaultMutationOptions(e),xn(this.options,n)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#r,observer:this}),n?.mutationKey&&this.options.mutationKey&&We(n.mutationKey)!==We(this.options.mutationKey)?this.reset():this.#r?.state.status==="pending"&&this.#r.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#r?.removeObserver(this)}onMutationUpdate(e){this.#a(),this.#i(e)}getCurrentResult(){return this.#t}reset(){this.#r?.removeObserver(this),this.#r=void 0,this.#a(),this.#i()}mutate(e,n){return this.#n=n,this.#r?.removeObserver(this),this.#r=this.#e.getMutationCache().build(this.#e,this.options),this.#r.addObserver(this),this.#r.execute(e)}#a(){const e=this.#r?.state??Sa();this.#t={...e,isPending:e.status==="pending",isSuccess:e.status==="success",isError:e.status==="error",isIdle:e.status==="idle",mutate:this.mutate,reset:this.reset}}#i(e){G.batch(()=>{if(this.#n&&this.hasListeners()){const n=this.#t.variables,r=this.#t.context;e?.type==="success"?(this.#n.onSuccess?.(e.data,n,r),this.#n.onSettled?.(e.data,null,n,r)):e?.type==="error"&&(this.#n.onError?.(e.error,n,r),this.#n.onSettled?.(void 0,e.error,n,r))}this.listeners.forEach(n=>{n(this.#t)})})}};function ul(t){return{mutationKey:t.options.mutationKey,state:t.state,...t.options.scope&&{scope:t.options.scope},...t.meta&&{meta:t.meta}}}function ll(t){return{state:t.state,queryKey:t.queryKey,queryHash:t.queryHash,...t.state.status==="pending"&&{promise:t.promise?.catch(e=>Promise.reject(new Error("redacted")))},...t.meta&&{meta:t.meta}}}function cl(t){return t.state.isPaused}function dl(t){return t.state.status==="success"}function fl(t,e={}){const n=e.shouldDehydrateMutation??t.getDefaultOptions().dehydrate?.shouldDehydrateMutation??cl,r=t.getMutationCache().getAll().flatMap(a=>n(a)?[ul(a)]:[]),s=e.shouldDehydrateQuery??t.getDefaultOptions().dehydrate?.shouldDehydrateQuery??dl,i=t.getQueryCache().getAll().flatMap(a=>s(a)?[ll(a)]:[]);return{mutations:r,queries:i}}function Oa(t,e,n){if(typeof e!="object"||e===null)return;const r=t.getMutationCache(),s=t.getQueryCache(),i=e.mutations||[],a=e.queries||[];i.forEach(({state:o,...u})=>{r.build(t,{...t.getDefaultOptions().hydrate?.mutations,...n?.defaultOptions?.mutations,...u},o)}),a.forEach(({queryKey:o,state:u,queryHash:c,meta:l,promise:f})=>{let d=s.get(c);if(d){if(d.state.dataUpdatedAt<u.dataUpdatedAt){const{fetchStatus:h,...g}=u;d.setState(g)}}else d=s.build(t,{...t.getDefaultOptions().hydrate?.queries,...n?.defaultOptions?.queries,queryKey:o,queryHash:c,meta:l},{...u,fetchStatus:"idle"});f&&d.fetch(void 0,{initialPromise:f})})}var hl=["added","removed","updated"];function Ms(t){return hl.includes(t)}async function pl({queryClient:t,persister:e,maxAge:n=1e3*60*60*24,buster:r="",hydrateOptions:s}){try{const i=await e.restoreClient();if(i)if(i.timestamp){const a=Date.now()-i.timestamp>n,o=i.buster!==r;a||o?e.removeClient():Oa(t,i.clientState,s)}else e.removeClient()}catch{e.removeClient()}}async function Us({queryClient:t,persister:e,buster:n="",dehydrateOptions:r}){const s={buster:n,timestamp:Date.now(),clientState:fl(t,r)};await e.persistClient(s)}function gl(t){const e=t.queryClient.getQueryCache().subscribe(r=>{Ms(r.type)&&Us(t)}),n=t.queryClient.getMutationCache().subscribe(r=>{Ms(r.type)&&Us(t)});return()=>{e(),n()}}function ml(t){let e=!1,n;const r=()=>{e=!0,n?.()},s=pl(t).then(()=>{e||(n=gl(t))});return[r,s]}var yl=class extends rl{constructor(t={}){super(t)}},Ea=Jt(void 0),Ta=t=>{const e=Yt(Ea);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e()},vl=t=>(De(e=>(e?.(),t.client.mount(),t.client.unmount.bind(t.client))),me(()=>t.client.unmount()),K(Ea.Provider,{value:()=>t.client,get children(){return t.children}}));function Ca(t,e){return typeof t=="function"?t(...e):!!t}function bl(){}var wl=Jt(()=>!1),_l=()=>Yt(wl);function xl(t,e,n,r){if(n===!1)return e;if(typeof n=="function"){const a=n(t.data,e.data);return{...e,data:a}}let s=e.data;if(t.data===void 0)try{s=structuredClone(s)}catch{}const i=Uu(s,{key:n})(t.data);return{...e,data:i}}var Sl=(t,e)=>e;function Ol(t,e,n){const r=Z(()=>Ta()),s=_l(),i=Z(()=>{const y=r().defaultQueryOptions(t());return y._optimisticResults=s()?"isRestoring":"optimistic",y.structuralSharing=!1,y}),a=i(),[o,u]=Y(new e(r(),i()));let c=o().getOptimisticResult(i());const[l,f]=rs(c),d=()=>o().subscribe(S=>{c=S,queueMicrotask(()=>w())});function h(y){const S=o().options,A=S.reconcile;f(_=>xl(_,y,A===void 0?!1:A,S.queryHash))}function g(){return[()=>l,y=>{const S=Qe(l);if(typeof y=="function"&&(y=y(S)),y.hydrationData){const{hydrationData:A,..._}=y;y=_}h(y)}]}let p=null,m=null;const[b,{refetch:w}]=qi(()=>{const y=o();return new Promise((S,A)=>{if(m=S,!p&&!s()&&(p=d()),y.updateResult(),c.isError&&!c.isFetching&&!s()&&Ca(y.options.throwOnError,[c.error,y.getCurrentQuery()]))return h(c),A(c.error);if(!c.isLoading)return m=null,S(Sl(y.getCurrentQuery(),c));h(c)})},{storage:g,get deferStream(){return t().deferStream},onHydrated(y,S){if(S.value&&"hydrationData"in S.value&&Oa(r(),{queries:[{...S.value.hydrationData}]}),p)return;const A={...a};(a.staleTime||!a.initialData)&&S.value&&(A.refetchOnMount=!1),o().setOptions(A),h(o().getOptimisticResult(A)),p=d()}});He(it(r,y=>{p&&p();const S=new e(y,i());p=d(),u(S)},{defer:!0})),He(it(s,y=>{!y&&!Ar&&w()},{defer:!0})),me(()=>{p&&(p(),p=null),m&&!Ar&&(m(c),m=null)}),He(it([o,i],([y,S])=>{y.setOptions(S),h(y.getOptimisticResult(S)),w()},{defer:!0}));const $={get(y,S){return S==="data"?l.data!==void 0?b.latest?.data:b()?.data:Reflect.get(y,S)}};return new Proxy(l,$)}function m1(t,e){return Ol(Z(()=>t()),sl)}function y1(t,e){const n=Z(()=>Ta()),r=new ol(n(),t()),s=(u,c)=>{r.mutate(u,c).catch(bl)},[i,a]=rs({...r.getCurrentResult(),mutate:s,mutateAsync:r.getCurrentResult().mutate});He(()=>{r.setOptions(t())}),He(it(()=>i.status,()=>{if(i.isError&&Ca(r.options.throwOnError,[i.error]))throw i.error}));const o=r.subscribe(u=>{a({...u,mutate:s,mutateAsync:u.mutate})});return me(o),i}function Wn(t){return new Promise((e,n)=>{t.oncomplete=t.onsuccess=()=>e(t.result),t.onabort=t.onerror=()=>n(t.error)})}function El(t,e){const n=indexedDB.open(t);n.onupgradeneeded=()=>n.result.createObjectStore(e);const r=Wn(n);return(s,i)=>r.then(a=>i(a.transaction(e,s).objectStore(e)))}let pr;function os(){return pr||(pr=El("keyval-store","keyval")),pr}function Tl(t,e=os()){return e("readonly",n=>Wn(n.get(t)))}function Cl(t,e,n=os()){return n("readwrite",r=>(r.put(e,t),Wn(r.transaction)))}function $l(t,e=os()){return e("readwrite",n=>(n.delete(t),Wn(n.transaction)))}var un=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function $a(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function v1(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var s=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return t[r]}})}),n}function kl(t,e){for(var n=-1,r=e.length,s=t.length;++n<r;)t[s+n]=e[n];return t}var ka=kl,Al=typeof un=="object"&&un&&un.Object===Object&&un,Aa=Al,Pl=Aa,Rl=typeof self=="object"&&self&&self.Object===Object&&self,Ll=Pl||Rl||Function("return this")(),$e=Ll,Nl=$e,Il=Nl.Symbol,Xt=Il,Fs=Xt,Pa=Object.prototype,jl=Pa.hasOwnProperty,Dl=Pa.toString,xt=Fs?Fs.toStringTag:void 0;function Ml(t){var e=jl.call(t,xt),n=t[xt];try{t[xt]=void 0;var r=!0}catch{}var s=Dl.call(t);return r&&(e?t[xt]=n:delete t[xt]),s}var Ul=Ml,Fl=Object.prototype,Zl=Fl.toString;function Vl(t){return Zl.call(t)}var Bl=Vl,Zs=Xt,Kl=Ul,zl=Bl,Hl="[object Null]",ql="[object Undefined]",Vs=Zs?Zs.toStringTag:void 0;function Ql(t){return t==null?t===void 0?ql:Hl:Vs&&Vs in Object(t)?Kl(t):zl(t)}var en=Ql;function Wl(t){return t!=null&&typeof t=="object"}var tn=Wl,Gl=en,Jl=tn,Yl="[object Arguments]";function Xl(t){return Jl(t)&&Gl(t)==Yl}var ec=Xl,Bs=ec,tc=tn,Ra=Object.prototype,nc=Ra.hasOwnProperty,rc=Ra.propertyIsEnumerable,sc=Bs(function(){return arguments}())?Bs:function(t){return tc(t)&&nc.call(t,"callee")&&!rc.call(t,"callee")},us=sc,ic=Array.isArray,_e=ic,Ks=Xt,ac=us,oc=_e,zs=Ks?Ks.isConcatSpreadable:void 0;function uc(t){return oc(t)||ac(t)||!!(zs&&t&&t[zs])}var lc=uc,cc=ka,dc=lc;function La(t,e,n,r,s){var i=-1,a=t.length;for(n||(n=dc),s||(s=[]);++i<a;){var o=t[i];e>0&&n(o)?e>1?La(o,e-1,n,r,s):cc(s,o):r||(s[s.length]=o)}return s}var fc=La;function hc(t,e){for(var n=-1,r=t==null?0:t.length,s=Array(r);++n<r;)s[n]=e(t[n],n,t);return s}var Na=hc,pc=en,gc=tn,mc="[object Symbol]";function yc(t){return typeof t=="symbol"||gc(t)&&pc(t)==mc}var Gn=yc,vc=_e,bc=Gn,wc=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,_c=/^\w*$/;function xc(t,e){if(vc(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||bc(t)?!0:_c.test(t)||!wc.test(t)||e!=null&&t in Object(e)}var ls=xc;function Sc(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var Jn=Sc,Oc=en,Ec=Jn,Tc="[object AsyncFunction]",Cc="[object Function]",$c="[object GeneratorFunction]",kc="[object Proxy]";function Ac(t){if(!Ec(t))return!1;var e=Oc(t);return e==Cc||e==$c||e==Tc||e==kc}var Ia=Ac,Pc=$e,Rc=Pc["__core-js_shared__"],Lc=Rc,gr=Lc,Hs=function(){var t=/[^.]+$/.exec(gr&&gr.keys&&gr.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function Nc(t){return!!Hs&&Hs in t}var Ic=Nc,jc=Function.prototype,Dc=jc.toString;function Mc(t){if(t!=null){try{return Dc.call(t)}catch{}try{return t+""}catch{}}return""}var ja=Mc,Uc=Ia,Fc=Ic,Zc=Jn,Vc=ja,Bc=/[\\^$.*+?()[\]{}|]/g,Kc=/^\[object .+?Constructor\]$/,zc=Function.prototype,Hc=Object.prototype,qc=zc.toString,Qc=Hc.hasOwnProperty,Wc=RegExp("^"+qc.call(Qc).replace(Bc,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Gc(t){if(!Zc(t)||Fc(t))return!1;var e=Uc(t)?Wc:Kc;return e.test(Vc(t))}var Jc=Gc;function Yc(t,e){return t?.[e]}var Xc=Yc,ed=Jc,td=Xc;function nd(t,e){var n=td(t,e);return ed(n)?n:void 0}var Ye=nd,rd=Ye,sd=rd(Object,"create"),Yn=sd,qs=Yn;function id(){this.__data__=qs?qs(null):{},this.size=0}var ad=id;function od(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var ud=od,ld=Yn,cd="__lodash_hash_undefined__",dd=Object.prototype,fd=dd.hasOwnProperty;function hd(t){var e=this.__data__;if(ld){var n=e[t];return n===cd?void 0:n}return fd.call(e,t)?e[t]:void 0}var pd=hd,gd=Yn,md=Object.prototype,yd=md.hasOwnProperty;function vd(t){var e=this.__data__;return gd?e[t]!==void 0:yd.call(e,t)}var bd=vd,wd=Yn,_d="__lodash_hash_undefined__";function xd(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=wd&&e===void 0?_d:e,this}var Sd=xd,Od=ad,Ed=ud,Td=pd,Cd=bd,$d=Sd;function gt(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}gt.prototype.clear=Od;gt.prototype.delete=Ed;gt.prototype.get=Td;gt.prototype.has=Cd;gt.prototype.set=$d;var kd=gt;function Ad(){this.__data__=[],this.size=0}var Pd=Ad;function Rd(t,e){return t===e||t!==t&&e!==e}var cs=Rd,Ld=cs;function Nd(t,e){for(var n=t.length;n--;)if(Ld(t[n][0],e))return n;return-1}var Xn=Nd,Id=Xn,jd=Array.prototype,Dd=jd.splice;function Md(t){var e=this.__data__,n=Id(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():Dd.call(e,n,1),--this.size,!0}var Ud=Md,Fd=Xn;function Zd(t){var e=this.__data__,n=Fd(e,t);return n<0?void 0:e[n][1]}var Vd=Zd,Bd=Xn;function Kd(t){return Bd(this.__data__,t)>-1}var zd=Kd,Hd=Xn;function qd(t,e){var n=this.__data__,r=Hd(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var Qd=qd,Wd=Pd,Gd=Ud,Jd=Vd,Yd=zd,Xd=Qd;function mt(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}mt.prototype.clear=Wd;mt.prototype.delete=Gd;mt.prototype.get=Jd;mt.prototype.has=Yd;mt.prototype.set=Xd;var er=mt,ef=Ye,tf=$e,nf=ef(tf,"Map"),ds=nf,Qs=kd,rf=er,sf=ds;function af(){this.size=0,this.__data__={hash:new Qs,map:new(sf||rf),string:new Qs}}var of=af;function uf(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var lf=uf,cf=lf;function df(t,e){var n=t.__data__;return cf(e)?n[typeof e=="string"?"string":"hash"]:n.map}var tr=df,ff=tr;function hf(t){var e=ff(this,t).delete(t);return this.size-=e?1:0,e}var pf=hf,gf=tr;function mf(t){return gf(this,t).get(t)}var yf=mf,vf=tr;function bf(t){return vf(this,t).has(t)}var wf=bf,_f=tr;function xf(t,e){var n=_f(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var Sf=xf,Of=of,Ef=pf,Tf=yf,Cf=wf,$f=Sf;function yt(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}yt.prototype.clear=Of;yt.prototype.delete=Ef;yt.prototype.get=Tf;yt.prototype.has=Cf;yt.prototype.set=$f;var fs=yt,Da=fs,kf="Expected a function";function hs(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(kf);var n=function(){var r=arguments,s=e?e.apply(this,r):r[0],i=n.cache;if(i.has(s))return i.get(s);var a=t.apply(this,r);return n.cache=i.set(s,a)||i,a};return n.cache=new(hs.Cache||Da),n}hs.Cache=Da;var Af=hs,Pf=Af,Rf=500;function Lf(t){var e=Pf(t,function(r){return n.size===Rf&&n.clear(),r}),n=e.cache;return e}var Nf=Lf,If=Nf,jf=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Df=/\\(\\)?/g,Mf=If(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(jf,function(n,r,s,i){e.push(s?i.replace(Df,"$1"):r||n)}),e}),Uf=Mf,Ws=Xt,Ff=Na,Zf=_e,Vf=Gn,Bf=1/0,Gs=Ws?Ws.prototype:void 0,Js=Gs?Gs.toString:void 0;function Ma(t){if(typeof t=="string")return t;if(Zf(t))return Ff(t,Ma)+"";if(Vf(t))return Js?Js.call(t):"";var e=t+"";return e=="0"&&1/t==-Bf?"-0":e}var Kf=Ma,zf=Kf;function Hf(t){return t==null?"":zf(t)}var qf=Hf,Qf=_e,Wf=ls,Gf=Uf,Jf=qf;function Yf(t,e){return Qf(t)?t:Wf(t,e)?[t]:Gf(Jf(t))}var Ua=Yf,Xf=Gn,eh=1/0;function th(t){if(typeof t=="string"||Xf(t))return t;var e=t+"";return e=="0"&&1/t==-eh?"-0":e}var nr=th,nh=Ua,rh=nr;function sh(t,e){e=nh(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[rh(e[n++])];return n&&n==r?t:void 0}var ps=sh,ih=er;function ah(){this.__data__=new ih,this.size=0}var oh=ah;function uh(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var lh=uh;function ch(t){return this.__data__.get(t)}var dh=ch;function fh(t){return this.__data__.has(t)}var hh=fh,ph=er,gh=ds,mh=fs,yh=200;function vh(t,e){var n=this.__data__;if(n instanceof ph){var r=n.__data__;if(!gh||r.length<yh-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new mh(r)}return n.set(t,e),this.size=n.size,this}var bh=vh,wh=er,_h=oh,xh=lh,Sh=dh,Oh=hh,Eh=bh;function vt(t){var e=this.__data__=new wh(t);this.size=e.size}vt.prototype.clear=_h;vt.prototype.delete=xh;vt.prototype.get=Sh;vt.prototype.has=Oh;vt.prototype.set=Eh;var Fa=vt,Th="__lodash_hash_undefined__";function Ch(t){return this.__data__.set(t,Th),this}var $h=Ch;function kh(t){return this.__data__.has(t)}var Ah=kh,Ph=fs,Rh=$h,Lh=Ah;function On(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new Ph;++e<n;)this.add(t[e])}On.prototype.add=On.prototype.push=Rh;On.prototype.has=Lh;var Za=On;function Nh(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var Ih=Nh;function jh(t,e){return t.has(e)}var Va=jh,Dh=Za,Mh=Ih,Uh=Va,Fh=1,Zh=2;function Vh(t,e,n,r,s,i){var a=n&Fh,o=t.length,u=e.length;if(o!=u&&!(a&&u>o))return!1;var c=i.get(t),l=i.get(e);if(c&&l)return c==e&&l==t;var f=-1,d=!0,h=n&Zh?new Dh:void 0;for(i.set(t,e),i.set(e,t);++f<o;){var g=t[f],p=e[f];if(r)var m=a?r(p,g,f,e,t,i):r(g,p,f,t,e,i);if(m!==void 0){if(m)continue;d=!1;break}if(h){if(!Mh(e,function(b,w){if(!Uh(h,w)&&(g===b||s(g,b,n,r,i)))return h.push(w)})){d=!1;break}}else if(!(g===p||s(g,p,n,r,i))){d=!1;break}}return i.delete(t),i.delete(e),d}var Ba=Vh,Bh=$e,Kh=Bh.Uint8Array,zh=Kh;function Hh(t){var e=-1,n=Array(t.size);return t.forEach(function(r,s){n[++e]=[s,r]}),n}var qh=Hh;function Qh(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var gs=Qh,Ys=Xt,Xs=zh,Wh=cs,Gh=Ba,Jh=qh,Yh=gs,Xh=1,ep=2,tp="[object Boolean]",np="[object Date]",rp="[object Error]",sp="[object Map]",ip="[object Number]",ap="[object RegExp]",op="[object Set]",up="[object String]",lp="[object Symbol]",cp="[object ArrayBuffer]",dp="[object DataView]",ei=Ys?Ys.prototype:void 0,mr=ei?ei.valueOf:void 0;function fp(t,e,n,r,s,i,a){switch(n){case dp:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case cp:return!(t.byteLength!=e.byteLength||!i(new Xs(t),new Xs(e)));case tp:case np:case ip:return Wh(+t,+e);case rp:return t.name==e.name&&t.message==e.message;case ap:case up:return t==e+"";case sp:var o=Jh;case op:var u=r&Xh;if(o||(o=Yh),t.size!=e.size&&!u)return!1;var c=a.get(t);if(c)return c==e;r|=ep,a.set(t,e);var l=Gh(o(t),o(e),r,s,i,a);return a.delete(t),l;case lp:if(mr)return mr.call(t)==mr.call(e)}return!1}var hp=fp,pp=ka,gp=_e;function mp(t,e,n){var r=e(t);return gp(t)?r:pp(r,n(t))}var yp=mp;function vp(t,e){for(var n=-1,r=t==null?0:t.length,s=0,i=[];++n<r;){var a=t[n];e(a,n,t)&&(i[s++]=a)}return i}var bp=vp;function wp(){return[]}var _p=wp,xp=bp,Sp=_p,Op=Object.prototype,Ep=Op.propertyIsEnumerable,ti=Object.getOwnPropertySymbols,Tp=ti?function(t){return t==null?[]:(t=Object(t),xp(ti(t),function(e){return Ep.call(t,e)}))}:Sp,Cp=Tp;function $p(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var kp=$p,En={exports:{}};function Ap(){return!1}var Pp=Ap;En.exports;(function(t,e){var n=$e,r=Pp,s=e&&!e.nodeType&&e,i=s&&!0&&t&&!t.nodeType&&t,a=i&&i.exports===s,o=a?n.Buffer:void 0,u=o?o.isBuffer:void 0,c=u||r;t.exports=c})(En,En.exports);var Ka=En.exports,Rp=9007199254740991,Lp=/^(?:0|[1-9]\d*)$/;function Np(t,e){var n=typeof t;return e=e??Rp,!!e&&(n=="number"||n!="symbol"&&Lp.test(t))&&t>-1&&t%1==0&&t<e}var ms=Np,Ip=9007199254740991;function jp(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=Ip}var ys=jp,Dp=en,Mp=ys,Up=tn,Fp="[object Arguments]",Zp="[object Array]",Vp="[object Boolean]",Bp="[object Date]",Kp="[object Error]",zp="[object Function]",Hp="[object Map]",qp="[object Number]",Qp="[object Object]",Wp="[object RegExp]",Gp="[object Set]",Jp="[object String]",Yp="[object WeakMap]",Xp="[object ArrayBuffer]",eg="[object DataView]",tg="[object Float32Array]",ng="[object Float64Array]",rg="[object Int8Array]",sg="[object Int16Array]",ig="[object Int32Array]",ag="[object Uint8Array]",og="[object Uint8ClampedArray]",ug="[object Uint16Array]",lg="[object Uint32Array]",B={};B[tg]=B[ng]=B[rg]=B[sg]=B[ig]=B[ag]=B[og]=B[ug]=B[lg]=!0;B[Fp]=B[Zp]=B[Xp]=B[Vp]=B[eg]=B[Bp]=B[Kp]=B[zp]=B[Hp]=B[qp]=B[Qp]=B[Wp]=B[Gp]=B[Jp]=B[Yp]=!1;function cg(t){return Up(t)&&Mp(t.length)&&!!B[Dp(t)]}var dg=cg;function fg(t){return function(e){return t(e)}}var za=fg,Tn={exports:{}};Tn.exports;(function(t,e){var n=Aa,r=e&&!e.nodeType&&e,s=r&&!0&&t&&!t.nodeType&&t,i=s&&s.exports===r,a=i&&n.process,o=function(){try{var u=s&&s.require&&s.require("util").types;return u||a&&a.binding&&a.binding("util")}catch{}}();t.exports=o})(Tn,Tn.exports);var hg=Tn.exports,pg=dg,gg=za,ni=hg,ri=ni&&ni.isTypedArray,mg=ri?gg(ri):pg,Ha=mg,yg=kp,vg=us,bg=_e,wg=Ka,_g=ms,xg=Ha,Sg=Object.prototype,Og=Sg.hasOwnProperty;function Eg(t,e){var n=bg(t),r=!n&&vg(t),s=!n&&!r&&wg(t),i=!n&&!r&&!s&&xg(t),a=n||r||s||i,o=a?yg(t.length,String):[],u=o.length;for(var c in t)(e||Og.call(t,c))&&!(a&&(c=="length"||s&&(c=="offset"||c=="parent")||i&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||_g(c,u)))&&o.push(c);return o}var Tg=Eg,Cg=Object.prototype;function $g(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||Cg;return t===n}var kg=$g;function Ag(t,e){return function(n){return t(e(n))}}var Pg=Ag,Rg=Pg,Lg=Rg(Object.keys,Object),Ng=Lg,Ig=kg,jg=Ng,Dg=Object.prototype,Mg=Dg.hasOwnProperty;function Ug(t){if(!Ig(t))return jg(t);var e=[];for(var n in Object(t))Mg.call(t,n)&&n!="constructor"&&e.push(n);return e}var Fg=Ug,Zg=Ia,Vg=ys;function Bg(t){return t!=null&&Vg(t.length)&&!Zg(t)}var rr=Bg,Kg=Tg,zg=Fg,Hg=rr;function qg(t){return Hg(t)?Kg(t):zg(t)}var vs=qg,Qg=yp,Wg=Cp,Gg=vs;function Jg(t){return Qg(t,Gg,Wg)}var Yg=Jg,si=Yg,Xg=1,em=Object.prototype,tm=em.hasOwnProperty;function nm(t,e,n,r,s,i){var a=n&Xg,o=si(t),u=o.length,c=si(e),l=c.length;if(u!=l&&!a)return!1;for(var f=u;f--;){var d=o[f];if(!(a?d in e:tm.call(e,d)))return!1}var h=i.get(t),g=i.get(e);if(h&&g)return h==e&&g==t;var p=!0;i.set(t,e),i.set(e,t);for(var m=a;++f<u;){d=o[f];var b=t[d],w=e[d];if(r)var $=a?r(w,b,d,e,t,i):r(b,w,d,t,e,i);if(!($===void 0?b===w||s(b,w,n,r,i):$)){p=!1;break}m||(m=d=="constructor")}if(p&&!m){var y=t.constructor,S=e.constructor;y!=S&&"constructor"in t&&"constructor"in e&&!(typeof y=="function"&&y instanceof y&&typeof S=="function"&&S instanceof S)&&(p=!1)}return i.delete(t),i.delete(e),p}var rm=nm,sm=Ye,im=$e,am=sm(im,"DataView"),om=am,um=Ye,lm=$e,cm=um(lm,"Promise"),dm=cm,fm=Ye,hm=$e,pm=fm(hm,"Set"),qa=pm,gm=Ye,mm=$e,ym=gm(mm,"WeakMap"),vm=ym,Ur=om,Fr=ds,Zr=dm,Vr=qa,Br=vm,Qa=en,bt=ja,ii="[object Map]",bm="[object Object]",ai="[object Promise]",oi="[object Set]",ui="[object WeakMap]",li="[object DataView]",wm=bt(Ur),_m=bt(Fr),xm=bt(Zr),Sm=bt(Vr),Om=bt(Br),ze=Qa;(Ur&&ze(new Ur(new ArrayBuffer(1)))!=li||Fr&&ze(new Fr)!=ii||Zr&&ze(Zr.resolve())!=ai||Vr&&ze(new Vr)!=oi||Br&&ze(new Br)!=ui)&&(ze=function(t){var e=Qa(t),n=e==bm?t.constructor:void 0,r=n?bt(n):"";if(r)switch(r){case wm:return li;case _m:return ii;case xm:return ai;case Sm:return oi;case Om:return ui}return e});var Em=ze,yr=Fa,Tm=Ba,Cm=hp,$m=rm,ci=Em,di=_e,fi=Ka,km=Ha,Am=1,hi="[object Arguments]",pi="[object Array]",ln="[object Object]",Pm=Object.prototype,gi=Pm.hasOwnProperty;function Rm(t,e,n,r,s,i){var a=di(t),o=di(e),u=a?pi:ci(t),c=o?pi:ci(e);u=u==hi?ln:u,c=c==hi?ln:c;var l=u==ln,f=c==ln,d=u==c;if(d&&fi(t)){if(!fi(e))return!1;a=!0,l=!1}if(d&&!l)return i||(i=new yr),a||km(t)?Tm(t,e,n,r,s,i):Cm(t,e,u,n,r,s,i);if(!(n&Am)){var h=l&&gi.call(t,"__wrapped__"),g=f&&gi.call(e,"__wrapped__");if(h||g){var p=h?t.value():t,m=g?e.value():e;return i||(i=new yr),s(p,m,n,r,i)}}return d?(i||(i=new yr),$m(t,e,n,r,s,i)):!1}var Lm=Rm,Nm=Lm,mi=tn;function Wa(t,e,n,r,s){return t===e?!0:t==null||e==null||!mi(t)&&!mi(e)?t!==t&&e!==e:Nm(t,e,n,r,Wa,s)}var Ga=Wa,Im=Fa,jm=Ga,Dm=1,Mm=2;function Um(t,e,n,r){var s=n.length,i=s,a=!r;if(t==null)return!i;for(t=Object(t);s--;){var o=n[s];if(a&&o[2]?o[1]!==t[o[0]]:!(o[0]in t))return!1}for(;++s<i;){o=n[s];var u=o[0],c=t[u],l=o[1];if(a&&o[2]){if(c===void 0&&!(u in t))return!1}else{var f=new Im;if(r)var d=r(c,l,u,t,e,f);if(!(d===void 0?jm(l,c,Dm|Mm,r,f):d))return!1}}return!0}var Fm=Um,Zm=Jn;function Vm(t){return t===t&&!Zm(t)}var Ja=Vm,Bm=Ja,Km=vs;function zm(t){for(var e=Km(t),n=e.length;n--;){var r=e[n],s=t[r];e[n]=[r,s,Bm(s)]}return e}var Hm=zm;function qm(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}var Ya=qm,Qm=Fm,Wm=Hm,Gm=Ya;function Jm(t){var e=Wm(t);return e.length==1&&e[0][2]?Gm(e[0][0],e[0][1]):function(n){return n===t||Qm(n,t,e)}}var Ym=Jm,Xm=ps;function ey(t,e,n){var r=t==null?void 0:Xm(t,e);return r===void 0?n:r}var ty=ey;function ny(t,e){return t!=null&&e in Object(t)}var ry=ny,sy=Ua,iy=us,ay=_e,oy=ms,uy=ys,ly=nr;function cy(t,e,n){e=sy(e,t);for(var r=-1,s=e.length,i=!1;++r<s;){var a=ly(e[r]);if(!(i=t!=null&&n(t,a)))break;t=t[a]}return i||++r!=s?i:(s=t==null?0:t.length,!!s&&uy(s)&&oy(a,s)&&(ay(t)||iy(t)))}var dy=cy,fy=ry,hy=dy;function py(t,e){return t!=null&&hy(t,e,fy)}var gy=py,my=Ga,yy=ty,vy=gy,by=ls,wy=Ja,_y=Ya,xy=nr,Sy=1,Oy=2;function Ey(t,e){return by(t)&&wy(e)?_y(xy(t),e):function(n){var r=yy(n,t);return r===void 0&&r===e?vy(n,t):my(e,r,Sy|Oy)}}var Ty=Ey;function Cy(t){return t}var sr=Cy;function $y(t){return function(e){return e?.[t]}}var ky=$y,Ay=ps;function Py(t){return function(e){return Ay(e,t)}}var Ry=Py,Ly=ky,Ny=Ry,Iy=ls,jy=nr;function Dy(t){return Iy(t)?Ly(jy(t)):Ny(t)}var My=Dy,Uy=Ym,Fy=Ty,Zy=sr,Vy=_e,By=My;function Ky(t){return typeof t=="function"?t:t==null?Zy:typeof t=="object"?Vy(t)?Fy(t[0],t[1]):Uy(t):By(t)}var zy=Ky;function Hy(t){return function(e,n,r){for(var s=-1,i=Object(e),a=r(e),o=a.length;o--;){var u=a[t?o:++s];if(n(i[u],u,i)===!1)break}return e}}var qy=Hy,Qy=qy,Wy=Qy(),Gy=Wy,Jy=Gy,Yy=vs;function Xy(t,e){return t&&Jy(t,e,Yy)}var ev=Xy,tv=rr;function nv(t,e){return function(n,r){if(n==null)return n;if(!tv(n))return t(n,r);for(var s=n.length,i=e?s:-1,a=Object(n);(e?i--:++i<s)&&r(a[i],i,a)!==!1;);return n}}var rv=nv,sv=ev,iv=rv,av=iv(sv),ov=av,uv=ov,lv=rr;function cv(t,e){var n=-1,r=lv(t)?Array(t.length):[];return uv(t,function(s,i,a){r[++n]=e(s,i,a)}),r}var dv=cv;function fv(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}var hv=fv,yi=Gn;function pv(t,e){if(t!==e){var n=t!==void 0,r=t===null,s=t===t,i=yi(t),a=e!==void 0,o=e===null,u=e===e,c=yi(e);if(!o&&!c&&!i&&t>e||i&&a&&u&&!o&&!c||r&&a&&u||!n&&u||!s)return 1;if(!r&&!i&&!c&&t<e||c&&n&&s&&!r&&!i||o&&n&&s||!a&&s||!u)return-1}return 0}var gv=pv,mv=gv;function yv(t,e,n){for(var r=-1,s=t.criteria,i=e.criteria,a=s.length,o=n.length;++r<a;){var u=mv(s[r],i[r]);if(u){if(r>=o)return u;var c=n[r];return u*(c=="desc"?-1:1)}}return t.index-e.index}var vv=yv,vr=Na,bv=ps,wv=zy,_v=dv,xv=hv,Sv=za,Ov=vv,Ev=sr,Tv=_e;function Cv(t,e,n){e.length?e=vr(e,function(i){return Tv(i)?function(a){return bv(a,i.length===1?i[0]:i)}:i}):e=[Ev];var r=-1;e=vr(e,Sv(wv));var s=_v(t,function(i,a,o){var u=vr(e,function(c){return c(i)});return{criteria:u,index:++r,value:i}});return xv(s,function(i,a){return Ov(i,a,n)})}var $v=Cv;function kv(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var Av=kv,Pv=Av,vi=Math.max;function Rv(t,e,n){return e=vi(e===void 0?t.length-1:e,0),function(){for(var r=arguments,s=-1,i=vi(r.length-e,0),a=Array(i);++s<i;)a[s]=r[e+s];s=-1;for(var o=Array(e+1);++s<e;)o[s]=r[s];return o[e]=n(a),Pv(t,this,o)}}var Lv=Rv;function Nv(t){return function(){return t}}var Iv=Nv,jv=Ye,Dv=function(){try{var t=jv(Object,"defineProperty");return t({},"",{}),t}catch{}}(),Mv=Dv,Uv=Iv,bi=Mv,Fv=sr,Zv=bi?function(t,e){return bi(t,"toString",{configurable:!0,enumerable:!1,value:Uv(e),writable:!0})}:Fv,Vv=Zv,Bv=800,Kv=16,zv=Date.now;function Hv(t){var e=0,n=0;return function(){var r=zv(),s=Kv-(r-n);if(n=r,s>0){if(++e>=Bv)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var qv=Hv,Qv=Vv,Wv=qv,Gv=Wv(Qv),Jv=Gv,Yv=sr,Xv=Lv,eb=Jv;function tb(t,e){return eb(Xv(t,e,Yv),t+"")}var nb=tb,rb=cs,sb=rr,ib=ms,ab=Jn;function ob(t,e,n){if(!ab(n))return!1;var r=typeof e;return(r=="number"?sb(n)&&ib(e,n.length):r=="string"&&e in n)?rb(n[e],t):!1}var ub=ob,lb=fc,cb=$v,db=nb,wi=ub,fb=db(function(t,e){if(t==null)return[];var n=e.length;return n>1&&wi(t,e[0],e[1])?e=[]:n>2&&wi(e[0],e[1],e[2])&&(e=[e[0]]),cb(t,lb(e,1),[])}),hb=fb;const pb=$a(hb);function gb(t,e,n,r){for(var s=t.length,i=n+(r?1:-1);r?i--:++i<s;)if(e(t[i],i,t))return i;return-1}var mb=gb;function yb(t){return t!==t}var vb=yb;function bb(t,e,n){for(var r=n-1,s=t.length;++r<s;)if(t[r]===e)return r;return-1}var wb=bb,_b=mb,xb=vb,Sb=wb;function Ob(t,e,n){return e===e?Sb(t,e,n):_b(t,xb,n)}var Eb=Ob,Tb=Eb;function Cb(t,e){var n=t==null?0:t.length;return!!n&&Tb(t,e,0)>-1}var $b=Cb;function kb(t,e,n){for(var r=-1,s=t==null?0:t.length;++r<s;)if(n(e,t[r]))return!0;return!1}var Ab=kb;function Pb(){}var Rb=Pb,br=qa,Lb=Rb,Nb=gs,Ib=1/0,jb=br&&1/Nb(new br([,-0]))[1]==Ib?function(t){return new br(t)}:Lb,Db=jb,Mb=Za,Ub=$b,Fb=Ab,Zb=Va,Vb=Db,Bb=gs,Kb=200;function zb(t,e,n){var r=-1,s=Ub,i=t.length,a=!0,o=[],u=o;if(n)a=!1,s=Fb;else if(i>=Kb){var c=e?null:Vb(t);if(c)return Bb(c);a=!1,s=Zb,u=new Mb}else u=e?[]:o;e:for(;++r<i;){var l=t[r],f=e?e(l):l;if(l=n||l!==0?l:0,a&&f===f){for(var d=u.length;d--;)if(u[d]===f)continue e;e&&u.push(f),o.push(l)}else s(u,f,n)||(u!==o&&u.push(f),o.push(l))}return o}var Hb=zb,qb=Hb;function Qb(t){return t&&t.length?qb(t):[]}var Wb=Qb;const pn=$a(Wb);function b1(t){return[0,3].includes(t)||1e4<=t&&t<2e4}function w1(t){return 3e4<=t&&t<4e4}var _1=0,Kr=1,x1=3,S1=5,O1=6,Gb=7,E1=9734,T1=9735;const wr={sakura:{id:"sakura",name:"Sakura",brightness:"light",className:"theme-sakura",rabbitIconPath:"images/rabbit_app_256.png"},cinnamon:{id:"cinnamon",name:"Cinnamon",brightness:"light",className:"theme-cinnamon",rabbitIconPath:"images/rabbit_muted_256.png"},yozakura:{id:"yozakura",name:"Yozakura",brightness:"dark",className:"theme-yozakura",rabbitIconPath:"images/rabbit_256.png"},"midnight-blue":{id:"midnight-blue",name:"Midnight Blue",brightness:"dark",className:"theme-midnight-blue",rabbitIconPath:"images/rabbit_muted_256.png"},black:{id:"black",name:"Black",brightness:"dark",className:"theme-black",rabbitIconPath:"images/rabbit_muted_256.png"}},Jb=["wss://relay.damus.io","wss://nos.lol","wss://relay.snort.social"],Xa=["wss://relay-jp.nostr.wirednet.jp","wss://nostr.holybea.com","wss://r.kojira.io","wss://yabu.me"],Yb=[...Xa,"wss://nostr.holybea.com","wss://nostr-relay.nokotaro.com"],C1=["wss://relay.nostr.band","wss://nostrja-kari-nip50.heguro.com","wss://search.nos.today"],Xb=()=>{const t=[];if(window.crypto?.getRandomValues!=null){const s=crypto.getRandomValues(new Uint8Array(16));t.push(...s)}else for(let s=0;s<16;s+=1)t[s]=Math.round(Math.random()*65535)>>8;t[6]=t[6]&15|64,t[8]=t[8]&63|128;const e=String.fromCharCode(...t);return btoa(e).replaceAll("+","-").replaceAll("/","_").replaceAll("=","")},wt=()=>({id:Xb(),width:"medium"}),ew=t=>({...wt(),columnType:"Following",...t}),tw=t=>({...wt(),columnType:"Notification",...t}),nw=t=>({...wt(),columnType:"Relays",...t}),rw=()=>nw({name:"日本語",relayUrls:Xa,contentFilter:{filterType:"Regex",regex:"[\\p{sc=Hiragana}\\p{sc=Katakana}ー]",flag:"u"}}),sw=t=>({...wt(),columnType:"Posts",...t}),iw=t=>({...wt(),columnType:"Reactions",...t}),$1=t=>({...wt(),columnType:"Search",...t}),eo=(t,e,n)=>{const r=t();return{getItem(s){const i=r.getItem(s);return i!=null?n(i):null},setItem(s,i){const a=e(i);r.setItem(s,a)}}},to=(t,e,n)=>{const[r,s]=Y(!1),[i,a]=rs(e);return ko(()=>{const o=n.getItem(t);o!=null&&a(o),s(!0)}),ft(()=>{r()&&n.setItem(t,i)}),[i,a]},aw={type:"logger",log(t){this.output("log",t)},warn(t){this.output("warn",t)},error(t){this.output("error",t)},output(t,e){console&&console[t]&&console[t].apply(console,e)}};class Cn{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.init(e,n)}init(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=n.prefix||"i18next:",this.logger=e||aw,this.options=n,this.debug=n.debug}log(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return this.forward(n,"log","",!0)}warn(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return this.forward(n,"warn","",!0)}error(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return this.forward(n,"error","")}deprecate(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return this.forward(n,"warn","WARNING DEPRECATED: ",!0)}forward(e,n,r,s){return s&&!this.debug?null:(typeof e[0]=="string"&&(e[0]=`${r}${this.prefix} ${e[0]}`),this.logger[n](e))}create(e){return new Cn(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new Cn(this.logger,e)}}var pe=new Cn;class ir{constructor(){this.observers={}}on(e,n){return e.split(" ").forEach(r=>{this.observers[r]||(this.observers[r]=new Map);const s=this.observers[r].get(n)||0;this.observers[r].set(n,s+1)}),this}off(e,n){if(this.observers[e]){if(!n){delete this.observers[e];return}this.observers[e].delete(n)}}emit(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];this.observers[e]&&Array.from(this.observers[e].entries()).forEach(a=>{let[o,u]=a;for(let c=0;c<u;c++)o(...r)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(a=>{let[o,u]=a;for(let c=0;c<u;c++)o.apply(o,[e,...r])})}}function St(){let t,e;const n=new Promise((r,s)=>{t=r,e=s});return n.resolve=t,n.reject=e,n}function _i(t){return t==null?"":""+t}function ow(t,e,n){t.forEach(r=>{e[r]&&(n[r]=e[r])})}const uw=/###/g;function Lt(t,e,n){function r(o){return o&&o.indexOf("###")>-1?o.replace(uw,"."):o}function s(){return!t||typeof t=="string"}const i=typeof e!="string"?e:e.split(".");let a=0;for(;a<i.length-1;){if(s())return{};const o=r(i[a]);!t[o]&&n&&(t[o]=new n),Object.prototype.hasOwnProperty.call(t,o)?t=t[o]:t={},++a}return s()?{}:{obj:t,k:r(i[a])}}function xi(t,e,n){const{obj:r,k:s}=Lt(t,e,Object);if(r!==void 0||e.length===1){r[s]=n;return}let i=e[e.length-1],a=e.slice(0,e.length-1),o=Lt(t,a,Object);for(;o.obj===void 0&&a.length;)i=`${a[a.length-1]}.${i}`,a=a.slice(0,a.length-1),o=Lt(t,a,Object),o&&o.obj&&typeof o.obj[`${o.k}.${i}`]<"u"&&(o.obj=void 0);o.obj[`${o.k}.${i}`]=n}function lw(t,e,n,r){const{obj:s,k:i}=Lt(t,e,Object);s[i]=s[i]||[],s[i].push(n)}function $n(t,e){const{obj:n,k:r}=Lt(t,e);if(n)return n[r]}function cw(t,e,n){const r=$n(t,n);return r!==void 0?r:$n(e,n)}function no(t,e,n){for(const r in e)r!=="__proto__"&&r!=="constructor"&&(r in t?typeof t[r]=="string"||t[r]instanceof String||typeof e[r]=="string"||e[r]instanceof String?n&&(t[r]=e[r]):no(t[r],e[r],n):t[r]=e[r]);return t}function et(t){return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var dw={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function fw(t){return typeof t=="string"?t.replace(/[&<>"'\/]/g,e=>dw[e]):t}class hw{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const n=this.regExpMap.get(e);if(n!==void 0)return n;const r=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,r),this.regExpQueue.push(e),r}}const pw=[" ",",","?","!",";"],gw=new hw(20);function mw(t,e,n){e=e||"",n=n||"";const r=pw.filter(a=>e.indexOf(a)<0&&n.indexOf(a)<0);if(r.length===0)return!0;const s=gw.getRegExp(`(${r.map(a=>a==="?"?"\\?":a).join("|")})`);let i=!s.test(t);if(!i){const a=t.indexOf(n);a>0&&!s.test(t.substring(0,a))&&(i=!0)}return i}function zr(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";if(!t)return;if(t[e])return t[e];const r=e.split(n);let s=t;for(let i=0;i<r.length;){if(!s||typeof s!="object")return;let a,o="";for(let u=i;u<r.length;++u)if(u!==i&&(o+=n),o+=r[u],a=s[o],a!==void 0){if(["string","number","boolean"].indexOf(typeof a)>-1&&u<r.length-1)continue;i+=u-i+1;break}s=a}return s}function kn(t){return t&&t.indexOf("_")>0?t.replace("_","-"):t}class Si extends ir{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};super(),this.data=e||{},this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const n=this.options.ns.indexOf(e);n>-1&&this.options.ns.splice(n,1)}getResource(e,n,r){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const i=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator,a=s.ignoreJSONStructure!==void 0?s.ignoreJSONStructure:this.options.ignoreJSONStructure;let o;e.indexOf(".")>-1?o=e.split("."):(o=[e,n],r&&(Array.isArray(r)?o.push(...r):typeof r=="string"&&i?o.push(...r.split(i)):o.push(r)));const u=$n(this.data,o);return!u&&!n&&!r&&e.indexOf(".")>-1&&(e=o[0],n=o[1],r=o.slice(2).join(".")),u||!a||typeof r!="string"?u:zr(this.data&&this.data[e]&&this.data[e][n],r,i)}addResource(e,n,r,s){let i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1};const a=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator;let o=[e,n];r&&(o=o.concat(a?r.split(a):r)),e.indexOf(".")>-1&&(o=e.split("."),s=n,n=o[1]),this.addNamespaces(n),xi(this.data,o,s),i.silent||this.emit("added",e,n,r,s)}addResources(e,n,r){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(const i in r)(typeof r[i]=="string"||Array.isArray(r[i]))&&this.addResource(e,n,i,r[i],{silent:!0});s.silent||this.emit("added",e,n,r)}addResourceBundle(e,n,r,s,i){let a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1,skipCopy:!1},o=[e,n];e.indexOf(".")>-1&&(o=e.split("."),s=r,r=n,n=o[1]),this.addNamespaces(n);let u=$n(this.data,o)||{};a.skipCopy||(r=JSON.parse(JSON.stringify(r))),s?no(u,r,i):u={...u,...r},xi(this.data,o,u),a.silent||this.emit("added",e,n,r)}removeResourceBundle(e,n){this.hasResourceBundle(e,n)&&delete this.data[e][n],this.removeNamespaces(n),this.emit("removed",e,n)}hasResourceBundle(e,n){return this.getResource(e,n)!==void 0}getResourceBundle(e,n){return n||(n=this.options.defaultNS),this.options.compatibilityAPI==="v1"?{...this.getResource(e,n)}:this.getResource(e,n)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const n=this.getDataByLanguage(e);return!!(n&&Object.keys(n)||[]).find(s=>n[s]&&Object.keys(n[s]).length>0)}toJSON(){return this.data}}var ro={processors:{},addPostProcessor(t){this.processors[t.name]=t},handle(t,e,n,r,s){return t.forEach(i=>{this.processors[i]&&(e=this.processors[i].process(e,n,r,s))}),e}};const Oi={};class An extends ir{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),ow(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=pe.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};if(e==null)return!1;const r=this.resolve(e,n);return r&&r.res!==void 0}extractFromKey(e,n){let r=n.nsSeparator!==void 0?n.nsSeparator:this.options.nsSeparator;r===void 0&&(r=":");const s=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator;let i=n.ns||this.options.defaultNS||[];const a=r&&e.indexOf(r)>-1,o=!this.options.userDefinedKeySeparator&&!n.keySeparator&&!this.options.userDefinedNsSeparator&&!n.nsSeparator&&!mw(e,r,s);if(a&&!o){const u=e.match(this.interpolator.nestingRegexp);if(u&&u.length>0)return{key:e,namespaces:i};const c=e.split(r);(r!==s||r===s&&this.options.ns.indexOf(c[0])>-1)&&(i=c.shift()),e=c.join(s)}return typeof i=="string"&&(i=[i]),{key:e,namespaces:i}}translate(e,n,r){if(typeof n!="object"&&this.options.overloadTranslationOptionHandler&&(n=this.options.overloadTranslationOptionHandler(arguments)),typeof n=="object"&&(n={...n}),n||(n={}),e==null)return"";Array.isArray(e)||(e=[String(e)]);const s=n.returnDetails!==void 0?n.returnDetails:this.options.returnDetails,i=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator,{key:a,namespaces:o}=this.extractFromKey(e[e.length-1],n),u=o[o.length-1],c=n.lng||this.language,l=n.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(c&&c.toLowerCase()==="cimode"){if(l){const y=n.nsSeparator||this.options.nsSeparator;return s?{res:`${u}${y}${a}`,usedKey:a,exactUsedKey:a,usedLng:c,usedNS:u,usedParams:this.getUsedParamsDetails(n)}:`${u}${y}${a}`}return s?{res:a,usedKey:a,exactUsedKey:a,usedLng:c,usedNS:u,usedParams:this.getUsedParamsDetails(n)}:a}const f=this.resolve(e,n);let d=f&&f.res;const h=f&&f.usedKey||a,g=f&&f.exactUsedKey||a,p=Object.prototype.toString.apply(d),m=["[object Number]","[object Function]","[object RegExp]"],b=n.joinArrays!==void 0?n.joinArrays:this.options.joinArrays,w=!this.i18nFormat||this.i18nFormat.handleAsObject;if(w&&d&&(typeof d!="string"&&typeof d!="boolean"&&typeof d!="number")&&m.indexOf(p)<0&&!(typeof b=="string"&&Array.isArray(d))){if(!n.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const y=this.options.returnedObjectHandler?this.options.returnedObjectHandler(h,d,{...n,ns:o}):`key '${a} (${this.language})' returned an object instead of string.`;return s?(f.res=y,f.usedParams=this.getUsedParamsDetails(n),f):y}if(i){const y=Array.isArray(d),S=y?[]:{},A=y?g:h;for(const _ in d)if(Object.prototype.hasOwnProperty.call(d,_)){const T=`${A}${i}${_}`;S[_]=this.translate(T,{...n,joinArrays:!1,ns:o}),S[_]===T&&(S[_]=d[_])}d=S}}else if(w&&typeof b=="string"&&Array.isArray(d))d=d.join(b),d&&(d=this.extendTranslation(d,e,n,r));else{let y=!1,S=!1;const A=n.count!==void 0&&typeof n.count!="string",_=An.hasDefaultValue(n),T=A?this.pluralResolver.getSuffix(c,n.count,n):"",P=n.ordinal&&A?this.pluralResolver.getSuffix(c,n.count,{ordinal:!1}):"",j=A&&!n.ordinal&&n.count===0&&this.pluralResolver.shouldUseIntlApi(),M=j&&n[`defaultValue${this.options.pluralSeparator}zero`]||n[`defaultValue${T}`]||n[`defaultValue${P}`]||n.defaultValue;!this.isValidLookup(d)&&_&&(y=!0,d=M),this.isValidLookup(d)||(S=!0,d=a);const V=(n.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&S?void 0:d,H=_&&M!==d&&this.options.updateMissing;if(S||y||H){if(this.logger.log(H?"updateKey":"missingKey",c,u,a,H?M:d),i){const q=this.resolve(a,{...n,keySeparator:!1});q&&q.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let oe=[];const Re=this.languageUtils.getFallbackCodes(this.options.fallbackLng,n.lng||this.language);if(this.options.saveMissingTo==="fallback"&&Re&&Re[0])for(let q=0;q<Re.length;q++)oe.push(Re[q]);else this.options.saveMissingTo==="all"?oe=this.languageUtils.toResolveHierarchy(n.lng||this.language):oe.push(n.lng||this.language);const xe=(q,J,Le)=>{const rn=_&&Le!==d?Le:V;this.options.missingKeyHandler?this.options.missingKeyHandler(q,u,J,rn,H,n):this.backendConnector&&this.backendConnector.saveMissing&&this.backendConnector.saveMissing(q,u,J,rn,H,n),this.emit("missingKey",q,u,J,d)};this.options.saveMissing&&(this.options.saveMissingPlurals&&A?oe.forEach(q=>{const J=this.pluralResolver.getSuffixes(q,n);j&&n[`defaultValue${this.options.pluralSeparator}zero`]&&J.indexOf(`${this.options.pluralSeparator}zero`)<0&&J.push(`${this.options.pluralSeparator}zero`),J.forEach(Le=>{xe([q],a+Le,n[`defaultValue${Le}`]||M)})}):xe(oe,a,M))}d=this.extendTranslation(d,e,n,f,r),S&&d===a&&this.options.appendNamespaceToMissingKey&&(d=`${u}:${a}`),(S||y)&&this.options.parseMissingKeyHandler&&(this.options.compatibilityAPI!=="v1"?d=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${u}:${a}`:a,y?d:void 0):d=this.options.parseMissingKeyHandler(d))}return s?(f.res=d,f.usedParams=this.getUsedParamsDetails(n),f):d}extendTranslation(e,n,r,s,i){var a=this;if(this.i18nFormat&&this.i18nFormat.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...r},r.lng||this.language||s.usedLng,s.usedNS,s.usedKey,{resolved:s});else if(!r.skipInterpolation){r.interpolation&&this.interpolator.init({...r,interpolation:{...this.options.interpolation,...r.interpolation}});const c=typeof e=="string"&&(r&&r.interpolation&&r.interpolation.skipOnVariables!==void 0?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let l;if(c){const d=e.match(this.interpolator.nestingRegexp);l=d&&d.length}let f=r.replace&&typeof r.replace!="string"?r.replace:r;if(this.options.interpolation.defaultVariables&&(f={...this.options.interpolation.defaultVariables,...f}),e=this.interpolator.interpolate(e,f,r.lng||this.language,r),c){const d=e.match(this.interpolator.nestingRegexp),h=d&&d.length;l<h&&(r.nest=!1)}!r.lng&&this.options.compatibilityAPI!=="v1"&&s&&s.res&&(r.lng=s.usedLng),r.nest!==!1&&(e=this.interpolator.nest(e,function(){for(var d=arguments.length,h=new Array(d),g=0;g<d;g++)h[g]=arguments[g];return i&&i[0]===h[0]&&!r.context?(a.logger.warn(`It seems you are nesting recursively key: ${h[0]} in key: ${n[0]}`),null):a.translate(...h,n)},r)),r.interpolation&&this.interpolator.reset()}const o=r.postProcess||this.options.postProcess,u=typeof o=="string"?[o]:o;return e!=null&&u&&u.length&&r.applyPostProcessor!==!1&&(e=ro.handle(u,e,n,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...s,usedParams:this.getUsedParamsDetails(r)},...r}:r,this)),e}resolve(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r,s,i,a,o;return typeof e=="string"&&(e=[e]),e.forEach(u=>{if(this.isValidLookup(r))return;const c=this.extractFromKey(u,n),l=c.key;s=l;let f=c.namespaces;this.options.fallbackNS&&(f=f.concat(this.options.fallbackNS));const d=n.count!==void 0&&typeof n.count!="string",h=d&&!n.ordinal&&n.count===0&&this.pluralResolver.shouldUseIntlApi(),g=n.context!==void 0&&(typeof n.context=="string"||typeof n.context=="number")&&n.context!=="",p=n.lngs?n.lngs:this.languageUtils.toResolveHierarchy(n.lng||this.language,n.fallbackLng);f.forEach(m=>{this.isValidLookup(r)||(o=m,!Oi[`${p[0]}-${m}`]&&this.utils&&this.utils.hasLoadedNamespace&&!this.utils.hasLoadedNamespace(o)&&(Oi[`${p[0]}-${m}`]=!0,this.logger.warn(`key "${s}" for languages "${p.join(", ")}" won't get resolved as namespace "${o}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),p.forEach(b=>{if(this.isValidLookup(r))return;a=b;const w=[l];if(this.i18nFormat&&this.i18nFormat.addLookupKeys)this.i18nFormat.addLookupKeys(w,l,b,m,n);else{let y;d&&(y=this.pluralResolver.getSuffix(b,n.count,n));const S=`${this.options.pluralSeparator}zero`,A=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(d&&(w.push(l+y),n.ordinal&&y.indexOf(A)===0&&w.push(l+y.replace(A,this.options.pluralSeparator)),h&&w.push(l+S)),g){const _=`${l}${this.options.contextSeparator}${n.context}`;w.push(_),d&&(w.push(_+y),n.ordinal&&y.indexOf(A)===0&&w.push(_+y.replace(A,this.options.pluralSeparator)),h&&w.push(_+S))}}let $;for(;$=w.pop();)this.isValidLookup(r)||(i=$,r=this.getResource(b,m,$,n))}))})}),{res:r,usedKey:s,exactUsedKey:i,usedLng:a,usedNS:o}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,n,r){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(e,n,r,s):this.resourceStore.getResource(e,n,r,s)}getUsedParamsDetails(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const n=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],r=e.replace&&typeof e.replace!="string";let s=r?e.replace:e;if(r&&typeof e.count<"u"&&(s.count=e.count),this.options.interpolation.defaultVariables&&(s={...this.options.interpolation.defaultVariables,...s}),!r){s={...s};for(const i of n)delete s[i]}return s}static hasDefaultValue(e){const n="defaultValue";for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&n===r.substring(0,n.length)&&e[r]!==void 0)return!0;return!1}}function _r(t){return t.charAt(0).toUpperCase()+t.slice(1)}class Ei{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=pe.create("languageUtils")}getScriptPartFromCode(e){if(e=kn(e),!e||e.indexOf("-")<0)return null;const n=e.split("-");return n.length===2||(n.pop(),n[n.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(n.join("-"))}getLanguagePartFromCode(e){if(e=kn(e),!e||e.indexOf("-")<0)return e;const n=e.split("-");return this.formatLanguageCode(n[0])}formatLanguageCode(e){if(typeof e=="string"&&e.indexOf("-")>-1){const n=["hans","hant","latn","cyrl","cans","mong","arab"];let r=e.split("-");return this.options.lowerCaseLng?r=r.map(s=>s.toLowerCase()):r.length===2?(r[0]=r[0].toLowerCase(),r[1]=r[1].toUpperCase(),n.indexOf(r[1].toLowerCase())>-1&&(r[1]=_r(r[1].toLowerCase()))):r.length===3&&(r[0]=r[0].toLowerCase(),r[1].length===2&&(r[1]=r[1].toUpperCase()),r[0]!=="sgn"&&r[2].length===2&&(r[2]=r[2].toUpperCase()),n.indexOf(r[1].toLowerCase())>-1&&(r[1]=_r(r[1].toLowerCase())),n.indexOf(r[2].toLowerCase())>-1&&(r[2]=_r(r[2].toLowerCase()))),r.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let n;return e.forEach(r=>{if(n)return;const s=this.formatLanguageCode(r);(!this.options.supportedLngs||this.isSupportedCode(s))&&(n=s)}),!n&&this.options.supportedLngs&&e.forEach(r=>{if(n)return;const s=this.getLanguagePartFromCode(r);if(this.isSupportedCode(s))return n=s;n=this.options.supportedLngs.find(i=>{if(i===s)return i;if(!(i.indexOf("-")<0&&s.indexOf("-")<0)&&(i.indexOf("-")>0&&s.indexOf("-")<0&&i.substring(0,i.indexOf("-"))===s||i.indexOf(s)===0&&s.length>1))return i})}),n||(n=this.getFallbackCodes(this.options.fallbackLng)[0]),n}getFallbackCodes(e,n){if(!e)return[];if(typeof e=="function"&&(e=e(n)),typeof e=="string"&&(e=[e]),Array.isArray(e))return e;if(!n)return e.default||[];let r=e[n];return r||(r=e[this.getScriptPartFromCode(n)]),r||(r=e[this.formatLanguageCode(n)]),r||(r=e[this.getLanguagePartFromCode(n)]),r||(r=e.default),r||[]}toResolveHierarchy(e,n){const r=this.getFallbackCodes(n||this.options.fallbackLng||[],e),s=[],i=a=>{a&&(this.isSupportedCode(a)?s.push(a):this.logger.warn(`rejecting language code not found in supportedLngs: ${a}`))};return typeof e=="string"&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&i(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&i(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&i(this.getLanguagePartFromCode(e))):typeof e=="string"&&i(this.formatLanguageCode(e)),r.forEach(a=>{s.indexOf(a)<0&&i(this.formatLanguageCode(a))}),s}}let yw=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],vw={1:function(t){return+(t>1)},2:function(t){return+(t!=1)},3:function(t){return 0},4:function(t){return t%10==1&&t%100!=11?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2},5:function(t){return t==0?0:t==1?1:t==2?2:t%100>=3&&t%100<=10?3:t%100>=11?4:5},6:function(t){return t==1?0:t>=2&&t<=4?1:2},7:function(t){return t==1?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2},8:function(t){return t==1?0:t==2?1:t!=8&&t!=11?2:3},9:function(t){return+(t>=2)},10:function(t){return t==1?0:t==2?1:t<7?2:t<11?3:4},11:function(t){return t==1||t==11?0:t==2||t==12?1:t>2&&t<20?2:3},12:function(t){return+(t%10!=1||t%100==11)},13:function(t){return+(t!==0)},14:function(t){return t==1?0:t==2?1:t==3?2:3},15:function(t){return t%10==1&&t%100!=11?0:t%10>=2&&(t%100<10||t%100>=20)?1:2},16:function(t){return t%10==1&&t%100!=11?0:t!==0?1:2},17:function(t){return t==1||t%10==1&&t%100!=11?0:1},18:function(t){return t==0?0:t==1?1:2},19:function(t){return t==1?0:t==0||t%100>1&&t%100<11?1:t%100>10&&t%100<20?2:3},20:function(t){return t==1?0:t==0||t%100>0&&t%100<20?1:2},21:function(t){return t%100==1?1:t%100==2?2:t%100==3||t%100==4?3:0},22:function(t){return t==1?0:t==2?1:(t<0||t>10)&&t%10==0?2:3}};const bw=["v1","v2","v3"],ww=["v4"],Ti={zero:0,one:1,two:2,few:3,many:4,other:5};function _w(){const t={};return yw.forEach(e=>{e.lngs.forEach(n=>{t[n]={numbers:e.nr,plurals:vw[e.fc]}})}),t}class xw{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.languageUtils=e,this.options=n,this.logger=pe.create("pluralResolver"),(!this.options.compatibilityJSON||ww.includes(this.options.compatibilityJSON))&&(typeof Intl>"u"||!Intl.PluralRules)&&(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=_w()}addRule(e,n){this.rules[e]=n}getRule(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.shouldUseIntlApi())try{return new Intl.PluralRules(kn(e==="dev"?"en":e),{type:n.ordinal?"ordinal":"cardinal"})}catch{return}return this.rules[e]||this.rules[this.languageUtils.getLanguagePartFromCode(e)]}needsPlural(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=this.getRule(e,n);return this.shouldUseIntlApi()?r&&r.resolvedOptions().pluralCategories.length>1:r&&r.numbers.length>1}getPluralFormsOfKey(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.getSuffixes(e,r).map(s=>`${n}${s}`)}getSuffixes(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=this.getRule(e,n);return r?this.shouldUseIntlApi()?r.resolvedOptions().pluralCategories.sort((s,i)=>Ti[s]-Ti[i]).map(s=>`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${s}`):r.numbers.map(s=>this.getSuffix(e,s,n)):[]}getSuffix(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const s=this.getRule(e,r);return s?this.shouldUseIntlApi()?`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${s.select(n)}`:this.getSuffixRetroCompatible(s,n):(this.logger.warn(`no plural rule found for: ${e}`),"")}getSuffixRetroCompatible(e,n){const r=e.noAbs?e.plurals(n):e.plurals(Math.abs(n));let s=e.numbers[r];this.options.simplifyPluralSuffix&&e.numbers.length===2&&e.numbers[0]===1&&(s===2?s="plural":s===1&&(s=""));const i=()=>this.options.prepend&&s.toString()?this.options.prepend+s.toString():s.toString();return this.options.compatibilityJSON==="v1"?s===1?"":typeof s=="number"?`_plural_${s.toString()}`:i():this.options.compatibilityJSON==="v2"||this.options.simplifyPluralSuffix&&e.numbers.length===2&&e.numbers[0]===1?i():this.options.prepend&&r.toString()?this.options.prepend+r.toString():r.toString()}shouldUseIntlApi(){return!bw.includes(this.options.compatibilityJSON)}}function Ci(t,e,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:".",s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,i=cw(t,e,n);return!i&&s&&typeof n=="string"&&(i=zr(t,n,r),i===void 0&&(i=zr(e,n,r))),i}class Sw{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=pe.create("interpolator"),this.options=e,this.format=e.interpolation&&e.interpolation.format||(n=>n),this.init(e)}init(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};e.interpolation||(e.interpolation={escapeValue:!0});const{escape:n,escapeValue:r,useRawValueToEscape:s,prefix:i,prefixEscaped:a,suffix:o,suffixEscaped:u,formatSeparator:c,unescapeSuffix:l,unescapePrefix:f,nestingPrefix:d,nestingPrefixEscaped:h,nestingSuffix:g,nestingSuffixEscaped:p,nestingOptionsSeparator:m,maxReplaces:b,alwaysFormat:w}=e.interpolation;this.escape=n!==void 0?n:fw,this.escapeValue=r!==void 0?r:!0,this.useRawValueToEscape=s!==void 0?s:!1,this.prefix=i?et(i):a||"{{",this.suffix=o?et(o):u||"}}",this.formatSeparator=c||",",this.unescapePrefix=l?"":f||"-",this.unescapeSuffix=this.unescapePrefix?"":l||"",this.nestingPrefix=d?et(d):h||et("$t("),this.nestingSuffix=g?et(g):p||et(")"),this.nestingOptionsSeparator=m||",",this.maxReplaces=b||1e3,this.alwaysFormat=w!==void 0?w:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(n,r)=>n&&n.source===r?(n.lastIndex=0,n):new RegExp(r,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(e,n,r,s){let i,a,o;const u=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{};function c(g){return g.replace(/\$/g,"$$$$")}const l=g=>{if(g.indexOf(this.formatSeparator)<0){const w=Ci(n,u,g,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(w,void 0,r,{...s,...n,interpolationkey:g}):w}const p=g.split(this.formatSeparator),m=p.shift().trim(),b=p.join(this.formatSeparator).trim();return this.format(Ci(n,u,m,this.options.keySeparator,this.options.ignoreJSONStructure),b,r,{...s,...n,interpolationkey:m})};this.resetRegExp();const f=s&&s.missingInterpolationHandler||this.options.missingInterpolationHandler,d=s&&s.interpolation&&s.interpolation.skipOnVariables!==void 0?s.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:g=>c(g)},{regex:this.regexp,safeValue:g=>this.escapeValue?c(this.escape(g)):c(g)}].forEach(g=>{for(o=0;i=g.regex.exec(e);){const p=i[1].trim();if(a=l(p),a===void 0)if(typeof f=="function"){const b=f(e,i,s);a=typeof b=="string"?b:""}else if(s&&Object.prototype.hasOwnProperty.call(s,p))a="";else if(d){a=i[0];continue}else this.logger.warn(`missed to pass in variable ${p} for interpolating ${e}`),a="";else typeof a!="string"&&!this.useRawValueToEscape&&(a=_i(a));const m=g.safeValue(a);if(e=e.replace(i[0],m),d?(g.regex.lastIndex+=a.length,g.regex.lastIndex-=i[0].length):g.regex.lastIndex=0,o++,o>=this.maxReplaces)break}}),e}nest(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s,i,a;function o(u,c){const l=this.nestingOptionsSeparator;if(u.indexOf(l)<0)return u;const f=u.split(new RegExp(`${l}[ ]*{`));let d=`{${f[1]}`;u=f[0],d=this.interpolate(d,a);const h=d.match(/'/g),g=d.match(/"/g);(h&&h.length%2===0&&!g||g.length%2!==0)&&(d=d.replace(/'/g,'"'));try{a=JSON.parse(d),c&&(a={...c,...a})}catch(p){return this.logger.warn(`failed parsing options string in nesting for key ${u}`,p),`${u}${l}${d}`}return a.defaultValue&&a.defaultValue.indexOf(this.prefix)>-1&&delete a.defaultValue,u}for(;s=this.nestingRegexp.exec(e);){let u=[];a={...r},a=a.replace&&typeof a.replace!="string"?a.replace:a,a.applyPostProcessor=!1,delete a.defaultValue;let c=!1;if(s[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(s[1])){const l=s[1].split(this.formatSeparator).map(f=>f.trim());s[1]=l.shift(),u=l,c=!0}if(i=n(o.call(this,s[1].trim(),a),a),i&&s[0]===e&&typeof i!="string")return i;typeof i!="string"&&(i=_i(i)),i||(this.logger.warn(`missed to resolve ${s[1]} for nesting ${e}`),i=""),c&&(i=u.reduce((l,f)=>this.format(l,f,r.lng,{...r,interpolationkey:s[1].trim()}),i.trim())),e=e.replace(s[0],i),this.regexp.lastIndex=0}return e}}function Ow(t){let e=t.toLowerCase().trim();const n={};if(t.indexOf("(")>-1){const r=t.split("(");e=r[0].toLowerCase().trim();const s=r[1].substring(0,r[1].length-1);e==="currency"&&s.indexOf(":")<0?n.currency||(n.currency=s.trim()):e==="relativetime"&&s.indexOf(":")<0?n.range||(n.range=s.trim()):s.split(";").forEach(a=>{if(a){const[o,...u]=a.split(":"),c=u.join(":").trim().replace(/^'+|'+$/g,""),l=o.trim();n[l]||(n[l]=c),c==="false"&&(n[l]=!1),c==="true"&&(n[l]=!0),isNaN(c)||(n[l]=parseInt(c,10))}})}return{formatName:e,formatOptions:n}}function tt(t){const e={};return function(r,s,i){const a=s+JSON.stringify(i);let o=e[a];return o||(o=t(kn(s),i),e[a]=o),o(r)}}class Ew{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=pe.create("formatter"),this.options=e,this.formats={number:tt((n,r)=>{const s=new Intl.NumberFormat(n,{...r});return i=>s.format(i)}),currency:tt((n,r)=>{const s=new Intl.NumberFormat(n,{...r,style:"currency"});return i=>s.format(i)}),datetime:tt((n,r)=>{const s=new Intl.DateTimeFormat(n,{...r});return i=>s.format(i)}),relativetime:tt((n,r)=>{const s=new Intl.RelativeTimeFormat(n,{...r});return i=>s.format(i,r.range||"day")}),list:tt((n,r)=>{const s=new Intl.ListFormat(n,{...r});return i=>s.format(i)})},this.init(e)}init(e){const r=(arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}}).interpolation;this.formatSeparator=r.formatSeparator?r.formatSeparator:r.formatSeparator||","}add(e,n){this.formats[e.toLowerCase().trim()]=n}addCached(e,n){this.formats[e.toLowerCase().trim()]=tt(n)}format(e,n,r){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return n.split(this.formatSeparator).reduce((o,u)=>{const{formatName:c,formatOptions:l}=Ow(u);if(this.formats[c]){let f=o;try{const d=s&&s.formatParams&&s.formatParams[s.interpolationkey]||{},h=d.locale||d.lng||s.locale||s.lng||r;f=this.formats[c](o,h,{...l,...s,...d})}catch(d){this.logger.warn(d)}return f}else this.logger.warn(`there was no format function for ${c}`);return o},e)}}function Tw(t,e){t.pending[e]!==void 0&&(delete t.pending[e],t.pendingCount--)}class Cw extends ir{constructor(e,n,r){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};super(),this.backend=e,this.store=n,this.services=r,this.languageUtils=r.languageUtils,this.options=s,this.logger=pe.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=s.maxParallelReads||10,this.readingCalls=0,this.maxRetries=s.maxRetries>=0?s.maxRetries:5,this.retryTimeout=s.retryTimeout>=1?s.retryTimeout:350,this.state={},this.queue=[],this.backend&&this.backend.init&&this.backend.init(r,s.backend,s)}queueLoad(e,n,r,s){const i={},a={},o={},u={};return e.forEach(c=>{let l=!0;n.forEach(f=>{const d=`${c}|${f}`;!r.reload&&this.store.hasResourceBundle(c,f)?this.state[d]=2:this.state[d]<0||(this.state[d]===1?a[d]===void 0&&(a[d]=!0):(this.state[d]=1,l=!1,a[d]===void 0&&(a[d]=!0),i[d]===void 0&&(i[d]=!0),u[f]===void 0&&(u[f]=!0)))}),l||(o[c]=!0)}),(Object.keys(i).length||Object.keys(a).length)&&this.queue.push({pending:a,pendingCount:Object.keys(a).length,loaded:{},errors:[],callback:s}),{toLoad:Object.keys(i),pending:Object.keys(a),toLoadLanguages:Object.keys(o),toLoadNamespaces:Object.keys(u)}}loaded(e,n,r){const s=e.split("|"),i=s[0],a=s[1];n&&this.emit("failedLoading",i,a,n),r&&this.store.addResourceBundle(i,a,r,void 0,void 0,{skipCopy:!0}),this.state[e]=n?-1:2;const o={};this.queue.forEach(u=>{lw(u.loaded,[i],a),Tw(u,e),n&&u.errors.push(n),u.pendingCount===0&&!u.done&&(Object.keys(u.loaded).forEach(c=>{o[c]||(o[c]={});const l=u.loaded[c];l.length&&l.forEach(f=>{o[c][f]===void 0&&(o[c][f]=!0)})}),u.done=!0,u.errors.length?u.callback(u.errors):u.callback())}),this.emit("loaded",o),this.queue=this.queue.filter(u=>!u.done)}read(e,n,r){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.retryTimeout,a=arguments.length>5?arguments[5]:void 0;if(!e.length)return a(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:n,fcName:r,tried:s,wait:i,callback:a});return}this.readingCalls++;const o=(c,l)=>{if(this.readingCalls--,this.waitingReads.length>0){const f=this.waitingReads.shift();this.read(f.lng,f.ns,f.fcName,f.tried,f.wait,f.callback)}if(c&&l&&s<this.maxRetries){setTimeout(()=>{this.read.call(this,e,n,r,s+1,i*2,a)},i);return}a(c,l)},u=this.backend[r].bind(this.backend);if(u.length===2){try{const c=u(e,n);c&&typeof c.then=="function"?c.then(l=>o(null,l)).catch(o):o(null,c)}catch(c){o(c)}return}return u(e,n,o)}prepareLoading(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),s&&s();typeof e=="string"&&(e=this.languageUtils.toResolveHierarchy(e)),typeof n=="string"&&(n=[n]);const i=this.queueLoad(e,n,r,s);if(!i.toLoad.length)return i.pending.length||s(),null;i.toLoad.forEach(a=>{this.loadOne(a)})}load(e,n,r){this.prepareLoading(e,n,{},r)}reload(e,n,r){this.prepareLoading(e,n,{reload:!0},r)}loadOne(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const r=e.split("|"),s=r[0],i=r[1];this.read(s,i,"read",void 0,void 0,(a,o)=>{a&&this.logger.warn(`${n}loading namespace ${i} for language ${s} failed`,a),!a&&o&&this.logger.log(`${n}loaded namespace ${i} for language ${s}`,o),this.loaded(e,a,o)})}saveMissing(e,n,r,s,i){let a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},o=arguments.length>6&&arguments[6]!==void 0?arguments[6]:()=>{};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(n)){this.logger.warn(`did not save key "${r}" as the namespace "${n}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(r==null||r==="")){if(this.backend&&this.backend.create){const u={...a,isUpdate:i},c=this.backend.create.bind(this.backend);if(c.length<6)try{let l;c.length===5?l=c(e,n,r,s,u):l=c(e,n,r,s),l&&typeof l.then=="function"?l.then(f=>o(null,f)).catch(o):o(null,l)}catch(l){o(l)}else c(e,n,r,s,o,u)}!e||!e[0]||this.store.addResource(e[0],n,r,s)}}}function $i(){return{debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:function(e){let n={};if(typeof e[1]=="object"&&(n=e[1]),typeof e[1]=="string"&&(n.defaultValue=e[1]),typeof e[2]=="string"&&(n.tDescription=e[2]),typeof e[2]=="object"||typeof e[3]=="object"){const r=e[3]||e[2];Object.keys(r).forEach(s=>{n[s]=r[s]})}return n},interpolation:{escapeValue:!0,format:t=>t,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}}function ki(t){return typeof t.ns=="string"&&(t.ns=[t.ns]),typeof t.fallbackLng=="string"&&(t.fallbackLng=[t.fallbackLng]),typeof t.fallbackNS=="string"&&(t.fallbackNS=[t.fallbackNS]),t.supportedLngs&&t.supportedLngs.indexOf("cimode")<0&&(t.supportedLngs=t.supportedLngs.concat(["cimode"])),t}function cn(){}function $w(t){Object.getOwnPropertyNames(Object.getPrototypeOf(t)).forEach(n=>{typeof t[n]=="function"&&(t[n]=t[n].bind(t))})}class jt extends ir{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;if(super(),this.options=ki(e),this.services={},this.logger=pe,this.modules={external:[]},$w(this),n&&!this.isInitialized&&!e.isClone){if(!this.options.initImmediate)return this.init(e,n),this;setTimeout(()=>{this.init(e,n)},0)}}init(){var e=this;let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;this.isInitializing=!0,typeof n=="function"&&(r=n,n={}),!n.defaultNS&&n.defaultNS!==!1&&n.ns&&(typeof n.ns=="string"?n.defaultNS=n.ns:n.ns.indexOf("translation")<0&&(n.defaultNS=n.ns[0]));const s=$i();this.options={...s,...this.options,...ki(n)},this.options.compatibilityAPI!=="v1"&&(this.options.interpolation={...s.interpolation,...this.options.interpolation}),n.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=n.keySeparator),n.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=n.nsSeparator);function i(l){return l?typeof l=="function"?new l:l:null}if(!this.options.isClone){this.modules.logger?pe.init(i(this.modules.logger),this.options):pe.init(null,this.options);let l;this.modules.formatter?l=this.modules.formatter:typeof Intl<"u"&&(l=Ew);const f=new Ei(this.options);this.store=new Si(this.options.resources,this.options);const d=this.services;d.logger=pe,d.resourceStore=this.store,d.languageUtils=f,d.pluralResolver=new xw(f,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),l&&(!this.options.interpolation.format||this.options.interpolation.format===s.interpolation.format)&&(d.formatter=i(l),d.formatter.init(d,this.options),this.options.interpolation.format=d.formatter.format.bind(d.formatter)),d.interpolator=new Sw(this.options),d.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},d.backendConnector=new Cw(i(this.modules.backend),d.resourceStore,d,this.options),d.backendConnector.on("*",function(h){for(var g=arguments.length,p=new Array(g>1?g-1:0),m=1;m<g;m++)p[m-1]=arguments[m];e.emit(h,...p)}),this.modules.languageDetector&&(d.languageDetector=i(this.modules.languageDetector),d.languageDetector.init&&d.languageDetector.init(d,this.options.detection,this.options)),this.modules.i18nFormat&&(d.i18nFormat=i(this.modules.i18nFormat),d.i18nFormat.init&&d.i18nFormat.init(this)),this.translator=new An(this.services,this.options),this.translator.on("*",function(h){for(var g=arguments.length,p=new Array(g>1?g-1:0),m=1;m<g;m++)p[m-1]=arguments[m];e.emit(h,...p)}),this.modules.external.forEach(h=>{h.init&&h.init(this)})}if(this.format=this.options.interpolation.format,r||(r=cn),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const l=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);l.length>0&&l[0]!=="dev"&&(this.options.lng=l[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(l=>{this[l]=function(){return e.store[l](...arguments)}}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(l=>{this[l]=function(){return e.store[l](...arguments),e}});const u=St(),c=()=>{const l=(f,d)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),u.resolve(d),r(f,d)};if(this.languages&&this.options.compatibilityAPI!=="v1"&&!this.isInitialized)return l(null,this.t.bind(this));this.changeLanguage(this.options.lng,l)};return this.options.resources||!this.options.initImmediate?c():setTimeout(c,0),u}loadResources(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:cn;const s=typeof e=="string"?e:this.language;if(typeof e=="function"&&(r=e),!this.options.resources||this.options.partialBundledLanguages){if(s&&s.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return r();const i=[],a=o=>{if(!o||o==="cimode")return;this.services.languageUtils.toResolveHierarchy(o).forEach(c=>{c!=="cimode"&&i.indexOf(c)<0&&i.push(c)})};s?a(s):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(u=>a(u)),this.options.preload&&this.options.preload.forEach(o=>a(o)),this.services.backendConnector.load(i,this.options.ns,o=>{!o&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),r(o)})}else r(null)}reloadResources(e,n,r){const s=St();return e||(e=this.languages),n||(n=this.options.ns),r||(r=cn),this.services.backendConnector.reload(e,n,i=>{s.resolve(),r(i)}),s}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&ro.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1))for(let n=0;n<this.languages.length;n++){const r=this.languages[n];if(!(["cimode","dev"].indexOf(r)>-1)&&this.store.hasLanguageSomeTranslations(r)){this.resolvedLanguage=r;break}}}changeLanguage(e,n){var r=this;this.isLanguageChangingTo=e;const s=St();this.emit("languageChanging",e);const i=u=>{this.language=u,this.languages=this.services.languageUtils.toResolveHierarchy(u),this.resolvedLanguage=void 0,this.setResolvedLanguage(u)},a=(u,c)=>{c?(i(c),this.translator.changeLanguage(c),this.isLanguageChangingTo=void 0,this.emit("languageChanged",c),this.logger.log("languageChanged",c)):this.isLanguageChangingTo=void 0,s.resolve(function(){return r.t(...arguments)}),n&&n(u,function(){return r.t(...arguments)})},o=u=>{!e&&!u&&this.services.languageDetector&&(u=[]);const c=typeof u=="string"?u:this.services.languageUtils.getBestMatchFromCodes(u);c&&(this.language||i(c),this.translator.language||this.translator.changeLanguage(c),this.services.languageDetector&&this.services.languageDetector.cacheUserLanguage&&this.services.languageDetector.cacheUserLanguage(c)),this.loadResources(c,l=>{a(l,c)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?o(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(o):this.services.languageDetector.detect(o):o(e),s}getFixedT(e,n,r){var s=this;const i=function(a,o){let u;if(typeof o!="object"){for(var c=arguments.length,l=new Array(c>2?c-2:0),f=2;f<c;f++)l[f-2]=arguments[f];u=s.options.overloadTranslationOptionHandler([a,o].concat(l))}else u={...o};u.lng=u.lng||i.lng,u.lngs=u.lngs||i.lngs,u.ns=u.ns||i.ns,u.keyPrefix=u.keyPrefix||r||i.keyPrefix;const d=s.options.keySeparator||".";let h;return u.keyPrefix&&Array.isArray(a)?h=a.map(g=>`${u.keyPrefix}${d}${g}`):h=u.keyPrefix?`${u.keyPrefix}${d}${a}`:a,s.t(h,u)};return typeof e=="string"?i.lng=e:i.lngs=e,i.ns=n,i.keyPrefix=r,i}t(){return this.translator&&this.translator.translate(...arguments)}exists(){return this.translator&&this.translator.exists(...arguments)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const r=n.lng||this.resolvedLanguage||this.languages[0],s=this.options?this.options.fallbackLng:!1,i=this.languages[this.languages.length-1];if(r.toLowerCase()==="cimode")return!0;const a=(o,u)=>{const c=this.services.backendConnector.state[`${o}|${u}`];return c===-1||c===2};if(n.precheck){const o=n.precheck(this,a);if(o!==void 0)return o}return!!(this.hasResourceBundle(r,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||a(r,e)&&(!s||a(i,e)))}loadNamespaces(e,n){const r=St();return this.options.ns?(typeof e=="string"&&(e=[e]),e.forEach(s=>{this.options.ns.indexOf(s)<0&&this.options.ns.push(s)}),this.loadResources(s=>{r.resolve(),n&&n(s)}),r):(n&&n(),Promise.resolve())}loadLanguages(e,n){const r=St();typeof e=="string"&&(e=[e]);const s=this.options.preload||[],i=e.filter(a=>s.indexOf(a)<0&&this.services.languageUtils.isSupportedCode(a));return i.length?(this.options.preload=s.concat(i),this.loadResources(a=>{r.resolve(),n&&n(a)}),r):(n&&n(),Promise.resolve())}dir(e){if(e||(e=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!e)return"rtl";const n=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],r=this.services&&this.services.languageUtils||new Ei($i());return n.indexOf(r.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;return new jt(e,n)}cloneInstance(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:cn;const r=e.forkResourceStore;r&&delete e.forkResourceStore;const s={...this.options,...e,isClone:!0},i=new jt(s);return(e.debug!==void 0||e.prefix!==void 0)&&(i.logger=i.logger.clone(e)),["store","services","language"].forEach(o=>{i[o]=this[o]}),i.services={...this.services},i.services.utils={hasLoadedNamespace:i.hasLoadedNamespace.bind(i)},r&&(i.store=new Si(this.store.data,s),i.services.resourceStore=i.store),i.translator=new An(i.services,s),i.translator.on("*",function(o){for(var u=arguments.length,c=new Array(u>1?u-1:0),l=1;l<u;l++)c[l-1]=arguments[l];i.emit(o,...c)}),i.init(s,n),i.translator.options=s,i.translator.backendConnector.services.utils={hasLoadedNamespace:i.hasLoadedNamespace.bind(i)},i}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const Q=jt.createInstance();Q.createInstance=jt.createInstance;Q.createInstance;Q.dir;Q.init;Q.loadResources;Q.reloadResources;Q.use;Q.changeLanguage;Q.getFixedT;Q.t;Q.exists;Q.setDefaultNamespace;Q.hasLoadedNamespace;Q.loadNamespaces;Q.loadLanguages;const so=Jt(Q),kw=()=>Yt(so),Aw=t=>{const[e,n]=Y(Q);return ft(()=>{t.i18next instanceof Promise?t.i18next.then(r=>{r!=null&&n(r)}).catch(r=>{console.error("failed to initialize i18n.text",r)}):t.i18next!=null&&n(t.i18next)}),K(so.Provider,{get value(){return e()},get children(){return t.children}})};var D;(function(t){t.assertEqual=s=>s;function e(s){}t.assertIs=e;function n(s){throw new Error}t.assertNever=n,t.arrayToEnum=s=>{const i={};for(const a of s)i[a]=a;return i},t.getValidEnumValues=s=>{const i=t.objectKeys(s).filter(o=>typeof s[s[o]]!="number"),a={};for(const o of i)a[o]=s[o];return t.objectValues(a)},t.objectValues=s=>t.objectKeys(s).map(function(i){return s[i]}),t.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const i=[];for(const a in s)Object.prototype.hasOwnProperty.call(s,a)&&i.push(a);return i},t.find=(s,i)=>{for(const a of s)if(i(a))return a},t.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&isFinite(s)&&Math.floor(s)===s;function r(s,i=" | "){return s.map(a=>typeof a=="string"?`'${a}'`:a).join(i)}t.joinValues=r,t.jsonStringifyReplacer=(s,i)=>typeof i=="bigint"?i.toString():i})(D||(D={}));var Hr;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})(Hr||(Hr={}));const O=D.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Ie=t=>{switch(typeof t){case"undefined":return O.undefined;case"string":return O.string;case"number":return isNaN(t)?O.nan:O.number;case"boolean":return O.boolean;case"function":return O.function;case"bigint":return O.bigint;case"symbol":return O.symbol;case"object":return Array.isArray(t)?O.array:t===null?O.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?O.promise:typeof Map<"u"&&t instanceof Map?O.map:typeof Set<"u"&&t instanceof Set?O.set:typeof Date<"u"&&t instanceof Date?O.date:O.object;default:return O.unknown}},v=D.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),Pw=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:");class se extends Error{constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){const n=e||function(i){return i.message},r={_errors:[]},s=i=>{for(const a of i.issues)if(a.code==="invalid_union")a.unionErrors.map(s);else if(a.code==="invalid_return_type")s(a.returnTypeError);else if(a.code==="invalid_arguments")s(a.argumentsError);else if(a.path.length===0)r._errors.push(n(a));else{let o=r,u=0;for(;u<a.path.length;){const c=a.path[u];u===a.path.length-1?(o[c]=o[c]||{_errors:[]},o[c]._errors.push(n(a))):o[c]=o[c]||{_errors:[]},o=o[c],u++}}};return s(this),r}static assert(e){if(!(e instanceof se))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,D.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},r=[];for(const s of this.issues)s.path.length>0?(n[s.path[0]]=n[s.path[0]]||[],n[s.path[0]].push(e(s))):r.push(e(s));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}se.create=t=>new se(t);const lt=(t,e)=>{let n;switch(t.code){case v.invalid_type:t.received===O.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case v.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,D.jsonStringifyReplacer)}`;break;case v.unrecognized_keys:n=`Unrecognized key(s) in object: ${D.joinValues(t.keys,", ")}`;break;case v.invalid_union:n="Invalid input";break;case v.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${D.joinValues(t.options)}`;break;case v.invalid_enum_value:n=`Invalid enum value. Expected ${D.joinValues(t.options)}, received '${t.received}'`;break;case v.invalid_arguments:n="Invalid function arguments";break;case v.invalid_return_type:n="Invalid function return type";break;case v.invalid_date:n="Invalid date";break;case v.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:D.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case v.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case v.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case v.custom:n="Invalid input";break;case v.invalid_intersection_types:n="Intersection results could not be merged";break;case v.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case v.not_finite:n="Number must be finite";break;default:n=e.defaultError,D.assertNever(t)}return{message:n}};let io=lt;function Rw(t){io=t}function Pn(){return io}const Rn=t=>{const{data:e,path:n,errorMaps:r,issueData:s}=t,i=[...n,...s.path||[]],a={...s,path:i};if(s.message!==void 0)return{...s,path:i,message:s.message};let o="";const u=r.filter(c=>!!c).slice().reverse();for(const c of u)o=c(a,{data:e,defaultError:o}).message;return{...s,path:i,message:o}},Lw=[];function x(t,e){const n=Pn(),r=Rn({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,n,n===lt?void 0:lt].filter(s=>!!s)});t.common.issues.push(r)}class ee{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const r=[];for(const s of n){if(s.status==="aborted")return k;s.status==="dirty"&&e.dirty(),r.push(s.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,n){const r=[];for(const s of n){const i=await s.key,a=await s.value;r.push({key:i,value:a})}return ee.mergeObjectSync(e,r)}static mergeObjectSync(e,n){const r={};for(const s of n){const{key:i,value:a}=s;if(i.status==="aborted"||a.status==="aborted")return k;i.status==="dirty"&&e.dirty(),a.status==="dirty"&&e.dirty(),i.value!=="__proto__"&&(typeof a.value<"u"||s.alwaysSet)&&(r[i.value]=a.value)}return{status:e.value,value:r}}}const k=Object.freeze({status:"aborted"}),st=t=>({status:"dirty",value:t}),te=t=>({status:"valid",value:t}),qr=t=>t.status==="aborted",Qr=t=>t.status==="dirty",Dt=t=>t.status==="valid",Mt=t=>typeof Promise<"u"&&t instanceof Promise;function Ln(t,e,n,r){if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e.get(t)}function ao(t,e,n,r,s){if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(t,n),n}var E;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e?.message})(E||(E={}));var At,Pt;class ve{constructor(e,n,r,s){this._cachedPath=[],this.parent=e,this.data=n,this._path=r,this._key=s}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const Ai=(t,e)=>{if(Dt(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new se(t.common.issues);return this._error=n,this._error}}};function L(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:r,description:s}=t;if(e&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:s}:{errorMap:(a,o)=>{var u,c;const{message:l}=t;return a.code==="invalid_enum_value"?{message:l??o.defaultError}:typeof o.data>"u"?{message:(u=l??r)!==null&&u!==void 0?u:o.defaultError}:a.code!=="invalid_type"?{message:o.defaultError}:{message:(c=l??n)!==null&&c!==void 0?c:o.defaultError}},description:s}}class N{constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return Ie(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:Ie(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new ee,ctx:{common:e.parent.common,data:e.data,parsedType:Ie(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(Mt(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const r=this.safeParse(e,n);if(r.success)return r.data;throw r.error}safeParse(e,n){var r;const s={common:{issues:[],async:(r=n?.async)!==null&&r!==void 0?r:!1,contextualErrorMap:n?.errorMap},path:n?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Ie(e)},i=this._parseSync({data:e,path:s.path,parent:s});return Ai(s,i)}async parseAsync(e,n){const r=await this.safeParseAsync(e,n);if(r.success)return r.data;throw r.error}async safeParseAsync(e,n){const r={common:{issues:[],contextualErrorMap:n?.errorMap,async:!0},path:n?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Ie(e)},s=this._parse({data:e,path:r.path,parent:r}),i=await(Mt(s)?s:Promise.resolve(s));return Ai(r,i)}refine(e,n){const r=s=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(s):n;return this._refinement((s,i)=>{const a=e(s),o=()=>i.addIssue({code:v.custom,...r(s)});return typeof Promise<"u"&&a instanceof Promise?a.then(u=>u?!0:(o(),!1)):a?!0:(o(),!1)})}refinement(e,n){return this._refinement((r,s)=>e(r)?!0:(s.addIssue(typeof n=="function"?n(r,s):n),!1))}_refinement(e){return new he({schema:this,typeName:C.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}optional(){return ge.create(this,this._def)}nullable(){return Ve.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return de.create(this,this._def)}promise(){return dt.create(this,this._def)}or(e){return Vt.create([this,e],this._def)}and(e){return Bt.create(this,e,this._def)}transform(e){return new he({...L(this._def),schema:this,typeName:C.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new Qt({...L(this._def),innerType:this,defaultValue:n,typeName:C.ZodDefault})}brand(){return new bs({typeName:C.ZodBranded,type:this,...L(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new Wt({...L(this._def),innerType:this,catchValue:n,typeName:C.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return nn.create(this,e)}readonly(){return Gt.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const Nw=/^c[^\s-]{8,}$/i,Iw=/^[0-9a-z]+$/,jw=/^[0-9A-HJKMNP-TV-Z]{26}$/,Dw=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,Mw=/^[a-z0-9_-]{21}$/i,Uw=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,Fw=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,Zw="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let xr;const Vw=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,Bw=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,Kw=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,oo="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",zw=new RegExp(`^${oo}$`);function uo(t){let e="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`),e}function Hw(t){return new RegExp(`^${uo(t)}$`)}function lo(t){let e=`${oo}T${uo(t)}`;const n=[];return n.push(t.local?"Z?":"Z"),t.offset&&n.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${n.join("|")})`,new RegExp(`^${e}$`)}function qw(t,e){return!!((e==="v4"||!e)&&Vw.test(t)||(e==="v6"||!e)&&Bw.test(t))}class ue extends N{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==O.string){const i=this._getOrReturnCtx(e);return x(i,{code:v.invalid_type,expected:O.string,received:i.parsedType}),k}const r=new ee;let s;for(const i of this._def.checks)if(i.kind==="min")e.data.length<i.value&&(s=this._getOrReturnCtx(e,s),x(s,{code:v.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="max")e.data.length>i.value&&(s=this._getOrReturnCtx(e,s),x(s,{code:v.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="length"){const a=e.data.length>i.value,o=e.data.length<i.value;(a||o)&&(s=this._getOrReturnCtx(e,s),a?x(s,{code:v.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):o&&x(s,{code:v.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),r.dirty())}else if(i.kind==="email")Fw.test(e.data)||(s=this._getOrReturnCtx(e,s),x(s,{validation:"email",code:v.invalid_string,message:i.message}),r.dirty());else if(i.kind==="emoji")xr||(xr=new RegExp(Zw,"u")),xr.test(e.data)||(s=this._getOrReturnCtx(e,s),x(s,{validation:"emoji",code:v.invalid_string,message:i.message}),r.dirty());else if(i.kind==="uuid")Dw.test(e.data)||(s=this._getOrReturnCtx(e,s),x(s,{validation:"uuid",code:v.invalid_string,message:i.message}),r.dirty());else if(i.kind==="nanoid")Mw.test(e.data)||(s=this._getOrReturnCtx(e,s),x(s,{validation:"nanoid",code:v.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid")Nw.test(e.data)||(s=this._getOrReturnCtx(e,s),x(s,{validation:"cuid",code:v.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid2")Iw.test(e.data)||(s=this._getOrReturnCtx(e,s),x(s,{validation:"cuid2",code:v.invalid_string,message:i.message}),r.dirty());else if(i.kind==="ulid")jw.test(e.data)||(s=this._getOrReturnCtx(e,s),x(s,{validation:"ulid",code:v.invalid_string,message:i.message}),r.dirty());else if(i.kind==="url")try{new URL(e.data)}catch{s=this._getOrReturnCtx(e,s),x(s,{validation:"url",code:v.invalid_string,message:i.message}),r.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(e.data)||(s=this._getOrReturnCtx(e,s),x(s,{validation:"regex",code:v.invalid_string,message:i.message}),r.dirty())):i.kind==="trim"?e.data=e.data.trim():i.kind==="includes"?e.data.includes(i.value,i.position)||(s=this._getOrReturnCtx(e,s),x(s,{code:v.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),r.dirty()):i.kind==="toLowerCase"?e.data=e.data.toLowerCase():i.kind==="toUpperCase"?e.data=e.data.toUpperCase():i.kind==="startsWith"?e.data.startsWith(i.value)||(s=this._getOrReturnCtx(e,s),x(s,{code:v.invalid_string,validation:{startsWith:i.value},message:i.message}),r.dirty()):i.kind==="endsWith"?e.data.endsWith(i.value)||(s=this._getOrReturnCtx(e,s),x(s,{code:v.invalid_string,validation:{endsWith:i.value},message:i.message}),r.dirty()):i.kind==="datetime"?lo(i).test(e.data)||(s=this._getOrReturnCtx(e,s),x(s,{code:v.invalid_string,validation:"datetime",message:i.message}),r.dirty()):i.kind==="date"?zw.test(e.data)||(s=this._getOrReturnCtx(e,s),x(s,{code:v.invalid_string,validation:"date",message:i.message}),r.dirty()):i.kind==="time"?Hw(i).test(e.data)||(s=this._getOrReturnCtx(e,s),x(s,{code:v.invalid_string,validation:"time",message:i.message}),r.dirty()):i.kind==="duration"?Uw.test(e.data)||(s=this._getOrReturnCtx(e,s),x(s,{validation:"duration",code:v.invalid_string,message:i.message}),r.dirty()):i.kind==="ip"?qw(e.data,i.version)||(s=this._getOrReturnCtx(e,s),x(s,{validation:"ip",code:v.invalid_string,message:i.message}),r.dirty()):i.kind==="base64"?Kw.test(e.data)||(s=this._getOrReturnCtx(e,s),x(s,{validation:"base64",code:v.invalid_string,message:i.message}),r.dirty()):D.assertNever(i);return{status:r.value,value:e.data}}_regex(e,n,r){return this.refinement(s=>e.test(s),{validation:n,code:v.invalid_string,...E.errToObj(r)})}_addCheck(e){return new ue({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...E.errToObj(e)})}url(e){return this._addCheck({kind:"url",...E.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...E.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...E.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...E.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...E.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...E.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...E.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...E.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...E.errToObj(e)})}datetime(e){var n,r;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof e?.precision>"u"?null:e?.precision,offset:(n=e?.offset)!==null&&n!==void 0?n:!1,local:(r=e?.local)!==null&&r!==void 0?r:!1,...E.errToObj(e?.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof e?.precision>"u"?null:e?.precision,...E.errToObj(e?.message)})}duration(e){return this._addCheck({kind:"duration",...E.errToObj(e)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...E.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n?.position,...E.errToObj(n?.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...E.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...E.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...E.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...E.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,...E.errToObj(n)})}nonempty(e){return this.min(1,E.errToObj(e))}trim(){return new ue({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new ue({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new ue({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}ue.create=t=>{var e;return new ue({checks:[],typeName:C.ZodString,coerce:(e=t?.coerce)!==null&&e!==void 0?e:!1,...L(t)})};function Qw(t,e){const n=(t.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,s=n>r?n:r,i=parseInt(t.toFixed(s).replace(".","")),a=parseInt(e.toFixed(s).replace(".",""));return i%a/Math.pow(10,s)}class Ue extends N{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==O.number){const i=this._getOrReturnCtx(e);return x(i,{code:v.invalid_type,expected:O.number,received:i.parsedType}),k}let r;const s=new ee;for(const i of this._def.checks)i.kind==="int"?D.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),x(r,{code:v.invalid_type,expected:"integer",received:"float",message:i.message}),s.dirty()):i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(r=this._getOrReturnCtx(e,r),x(r,{code:v.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(r=this._getOrReturnCtx(e,r),x(r,{code:v.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="multipleOf"?Qw(e.data,i.value)!==0&&(r=this._getOrReturnCtx(e,r),x(r,{code:v.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):i.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),x(r,{code:v.not_finite,message:i.message}),s.dirty()):D.assertNever(i);return{status:s.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,E.toString(n))}gt(e,n){return this.setLimit("min",e,!1,E.toString(n))}lte(e,n){return this.setLimit("max",e,!0,E.toString(n))}lt(e,n){return this.setLimit("max",e,!1,E.toString(n))}setLimit(e,n,r,s){return new Ue({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:E.toString(s)}]})}_addCheck(e){return new Ue({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:E.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:E.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:E.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:E.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:E.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:E.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:E.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:E.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:E.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&D.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(n)&&Number.isFinite(e)}}Ue.create=t=>new Ue({checks:[],typeName:C.ZodNumber,coerce:t?.coerce||!1,...L(t)});class Fe extends N{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce&&(e.data=BigInt(e.data)),this._getType(e)!==O.bigint){const i=this._getOrReturnCtx(e);return x(i,{code:v.invalid_type,expected:O.bigint,received:i.parsedType}),k}let r;const s=new ee;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(r=this._getOrReturnCtx(e,r),x(r,{code:v.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(r=this._getOrReturnCtx(e,r),x(r,{code:v.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="multipleOf"?e.data%i.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),x(r,{code:v.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):D.assertNever(i);return{status:s.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,E.toString(n))}gt(e,n){return this.setLimit("min",e,!1,E.toString(n))}lte(e,n){return this.setLimit("max",e,!0,E.toString(n))}lt(e,n){return this.setLimit("max",e,!1,E.toString(n))}setLimit(e,n,r,s){return new Fe({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:E.toString(s)}]})}_addCheck(e){return new Fe({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:E.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:E.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:E.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:E.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:E.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}Fe.create=t=>{var e;return new Fe({checks:[],typeName:C.ZodBigInt,coerce:(e=t?.coerce)!==null&&e!==void 0?e:!1,...L(t)})};class Ut extends N{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==O.boolean){const r=this._getOrReturnCtx(e);return x(r,{code:v.invalid_type,expected:O.boolean,received:r.parsedType}),k}return te(e.data)}}Ut.create=t=>new Ut({typeName:C.ZodBoolean,coerce:t?.coerce||!1,...L(t)});class Ge extends N{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==O.date){const i=this._getOrReturnCtx(e);return x(i,{code:v.invalid_type,expected:O.date,received:i.parsedType}),k}if(isNaN(e.data.getTime())){const i=this._getOrReturnCtx(e);return x(i,{code:v.invalid_date}),k}const r=new ee;let s;for(const i of this._def.checks)i.kind==="min"?e.data.getTime()<i.value&&(s=this._getOrReturnCtx(e,s),x(s,{code:v.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),r.dirty()):i.kind==="max"?e.data.getTime()>i.value&&(s=this._getOrReturnCtx(e,s),x(s,{code:v.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),r.dirty()):D.assertNever(i);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Ge({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:E.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:E.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}Ge.create=t=>new Ge({checks:[],coerce:t?.coerce||!1,typeName:C.ZodDate,...L(t)});class Nn extends N{_parse(e){if(this._getType(e)!==O.symbol){const r=this._getOrReturnCtx(e);return x(r,{code:v.invalid_type,expected:O.symbol,received:r.parsedType}),k}return te(e.data)}}Nn.create=t=>new Nn({typeName:C.ZodSymbol,...L(t)});class Ft extends N{_parse(e){if(this._getType(e)!==O.undefined){const r=this._getOrReturnCtx(e);return x(r,{code:v.invalid_type,expected:O.undefined,received:r.parsedType}),k}return te(e.data)}}Ft.create=t=>new Ft({typeName:C.ZodUndefined,...L(t)});class Zt extends N{_parse(e){if(this._getType(e)!==O.null){const r=this._getOrReturnCtx(e);return x(r,{code:v.invalid_type,expected:O.null,received:r.parsedType}),k}return te(e.data)}}Zt.create=t=>new Zt({typeName:C.ZodNull,...L(t)});class ct extends N{constructor(){super(...arguments),this._any=!0}_parse(e){return te(e.data)}}ct.create=t=>new ct({typeName:C.ZodAny,...L(t)});class qe extends N{constructor(){super(...arguments),this._unknown=!0}_parse(e){return te(e.data)}}qe.create=t=>new qe({typeName:C.ZodUnknown,...L(t)});class Ce extends N{_parse(e){const n=this._getOrReturnCtx(e);return x(n,{code:v.invalid_type,expected:O.never,received:n.parsedType}),k}}Ce.create=t=>new Ce({typeName:C.ZodNever,...L(t)});class In extends N{_parse(e){if(this._getType(e)!==O.undefined){const r=this._getOrReturnCtx(e);return x(r,{code:v.invalid_type,expected:O.void,received:r.parsedType}),k}return te(e.data)}}In.create=t=>new In({typeName:C.ZodVoid,...L(t)});class de extends N{_parse(e){const{ctx:n,status:r}=this._processInputParams(e),s=this._def;if(n.parsedType!==O.array)return x(n,{code:v.invalid_type,expected:O.array,received:n.parsedType}),k;if(s.exactLength!==null){const a=n.data.length>s.exactLength.value,o=n.data.length<s.exactLength.value;(a||o)&&(x(n,{code:a?v.too_big:v.too_small,minimum:o?s.exactLength.value:void 0,maximum:a?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),r.dirty())}if(s.minLength!==null&&n.data.length<s.minLength.value&&(x(n,{code:v.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),r.dirty()),s.maxLength!==null&&n.data.length>s.maxLength.value&&(x(n,{code:v.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((a,o)=>s.type._parseAsync(new ve(n,a,n.path,o)))).then(a=>ee.mergeArray(r,a));const i=[...n.data].map((a,o)=>s.type._parseSync(new ve(n,a,n.path,o)));return ee.mergeArray(r,i)}get element(){return this._def.type}min(e,n){return new de({...this._def,minLength:{value:e,message:E.toString(n)}})}max(e,n){return new de({...this._def,maxLength:{value:e,message:E.toString(n)}})}length(e,n){return new de({...this._def,exactLength:{value:e,message:E.toString(n)}})}nonempty(e){return this.min(1,e)}}de.create=(t,e)=>new de({type:t,minLength:null,maxLength:null,exactLength:null,typeName:C.ZodArray,...L(e)});function rt(t){if(t instanceof z){const e={};for(const n in t.shape){const r=t.shape[n];e[n]=ge.create(rt(r))}return new z({...t._def,shape:()=>e})}else return t instanceof de?new de({...t._def,type:rt(t.element)}):t instanceof ge?ge.create(rt(t.unwrap())):t instanceof Ve?Ve.create(rt(t.unwrap())):t instanceof be?be.create(t.items.map(e=>rt(e))):t}class z extends N{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=D.objectKeys(e);return this._cached={shape:e,keys:n}}_parse(e){if(this._getType(e)!==O.object){const c=this._getOrReturnCtx(e);return x(c,{code:v.invalid_type,expected:O.object,received:c.parsedType}),k}const{status:r,ctx:s}=this._processInputParams(e),{shape:i,keys:a}=this._getCached(),o=[];if(!(this._def.catchall instanceof Ce&&this._def.unknownKeys==="strip"))for(const c in s.data)a.includes(c)||o.push(c);const u=[];for(const c of a){const l=i[c],f=s.data[c];u.push({key:{status:"valid",value:c},value:l._parse(new ve(s,f,s.path,c)),alwaysSet:c in s.data})}if(this._def.catchall instanceof Ce){const c=this._def.unknownKeys;if(c==="passthrough")for(const l of o)u.push({key:{status:"valid",value:l},value:{status:"valid",value:s.data[l]}});else if(c==="strict")o.length>0&&(x(s,{code:v.unrecognized_keys,keys:o}),r.dirty());else if(c!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const c=this._def.catchall;for(const l of o){const f=s.data[l];u.push({key:{status:"valid",value:l},value:c._parse(new ve(s,f,s.path,l)),alwaysSet:l in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const c=[];for(const l of u){const f=await l.key,d=await l.value;c.push({key:f,value:d,alwaysSet:l.alwaysSet})}return c}).then(c=>ee.mergeObjectSync(r,c)):ee.mergeObjectSync(r,u)}get shape(){return this._def.shape()}strict(e){return E.errToObj,new z({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,r)=>{var s,i,a,o;const u=(a=(i=(s=this._def).errorMap)===null||i===void 0?void 0:i.call(s,n,r).message)!==null&&a!==void 0?a:r.defaultError;return n.code==="unrecognized_keys"?{message:(o=E.errToObj(e).message)!==null&&o!==void 0?o:u}:{message:u}}}:{}})}strip(){return new z({...this._def,unknownKeys:"strip"})}passthrough(){return new z({...this._def,unknownKeys:"passthrough"})}extend(e){return new z({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new z({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:C.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new z({...this._def,catchall:e})}pick(e){const n={};return D.objectKeys(e).forEach(r=>{e[r]&&this.shape[r]&&(n[r]=this.shape[r])}),new z({...this._def,shape:()=>n})}omit(e){const n={};return D.objectKeys(this.shape).forEach(r=>{e[r]||(n[r]=this.shape[r])}),new z({...this._def,shape:()=>n})}deepPartial(){return rt(this)}partial(e){const n={};return D.objectKeys(this.shape).forEach(r=>{const s=this.shape[r];e&&!e[r]?n[r]=s:n[r]=s.optional()}),new z({...this._def,shape:()=>n})}required(e){const n={};return D.objectKeys(this.shape).forEach(r=>{if(e&&!e[r])n[r]=this.shape[r];else{let i=this.shape[r];for(;i instanceof ge;)i=i._def.innerType;n[r]=i}}),new z({...this._def,shape:()=>n})}keyof(){return co(D.objectKeys(this.shape))}}z.create=(t,e)=>new z({shape:()=>t,unknownKeys:"strip",catchall:Ce.create(),typeName:C.ZodObject,...L(e)});z.strictCreate=(t,e)=>new z({shape:()=>t,unknownKeys:"strict",catchall:Ce.create(),typeName:C.ZodObject,...L(e)});z.lazycreate=(t,e)=>new z({shape:t,unknownKeys:"strip",catchall:Ce.create(),typeName:C.ZodObject,...L(e)});class Vt extends N{_parse(e){const{ctx:n}=this._processInputParams(e),r=this._def.options;function s(i){for(const o of i)if(o.result.status==="valid")return o.result;for(const o of i)if(o.result.status==="dirty")return n.common.issues.push(...o.ctx.common.issues),o.result;const a=i.map(o=>new se(o.ctx.common.issues));return x(n,{code:v.invalid_union,unionErrors:a}),k}if(n.common.async)return Promise.all(r.map(async i=>{const a={...n,common:{...n.common,issues:[]},parent:null};return{result:await i._parseAsync({data:n.data,path:n.path,parent:a}),ctx:a}})).then(s);{let i;const a=[];for(const u of r){const c={...n,common:{...n.common,issues:[]},parent:null},l=u._parseSync({data:n.data,path:n.path,parent:c});if(l.status==="valid")return l;l.status==="dirty"&&!i&&(i={result:l,ctx:c}),c.common.issues.length&&a.push(c.common.issues)}if(i)return n.common.issues.push(...i.ctx.common.issues),i.result;const o=a.map(u=>new se(u));return x(n,{code:v.invalid_union,unionErrors:o}),k}}get options(){return this._def.options}}Vt.create=(t,e)=>new Vt({options:t,typeName:C.ZodUnion,...L(e)});const Oe=t=>t instanceof zt?Oe(t.schema):t instanceof he?Oe(t.innerType()):t instanceof Ht?[t.value]:t instanceof Ze?t.options:t instanceof qt?D.objectValues(t.enum):t instanceof Qt?Oe(t._def.innerType):t instanceof Ft?[void 0]:t instanceof Zt?[null]:t instanceof ge?[void 0,...Oe(t.unwrap())]:t instanceof Ve?[null,...Oe(t.unwrap())]:t instanceof bs||t instanceof Gt?Oe(t.unwrap()):t instanceof Wt?Oe(t._def.innerType):[];class ar extends N{_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==O.object)return x(n,{code:v.invalid_type,expected:O.object,received:n.parsedType}),k;const r=this.discriminator,s=n.data[r],i=this.optionsMap.get(s);return i?n.common.async?i._parseAsync({data:n.data,path:n.path,parent:n}):i._parseSync({data:n.data,path:n.path,parent:n}):(x(n,{code:v.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),k)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,n,r){const s=new Map;for(const i of n){const a=Oe(i.shape[e]);if(!a.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const o of a){if(s.has(o))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(o)}`);s.set(o,i)}}return new ar({typeName:C.ZodDiscriminatedUnion,discriminator:e,options:n,optionsMap:s,...L(r)})}}function Wr(t,e){const n=Ie(t),r=Ie(e);if(t===e)return{valid:!0,data:t};if(n===O.object&&r===O.object){const s=D.objectKeys(e),i=D.objectKeys(t).filter(o=>s.indexOf(o)!==-1),a={...t,...e};for(const o of i){const u=Wr(t[o],e[o]);if(!u.valid)return{valid:!1};a[o]=u.data}return{valid:!0,data:a}}else if(n===O.array&&r===O.array){if(t.length!==e.length)return{valid:!1};const s=[];for(let i=0;i<t.length;i++){const a=t[i],o=e[i],u=Wr(a,o);if(!u.valid)return{valid:!1};s.push(u.data)}return{valid:!0,data:s}}else return n===O.date&&r===O.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class Bt extends N{_parse(e){const{status:n,ctx:r}=this._processInputParams(e),s=(i,a)=>{if(qr(i)||qr(a))return k;const o=Wr(i.value,a.value);return o.valid?((Qr(i)||Qr(a))&&n.dirty(),{status:n.value,value:o.data}):(x(r,{code:v.invalid_intersection_types}),k)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([i,a])=>s(i,a)):s(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}Bt.create=(t,e,n)=>new Bt({left:t,right:e,typeName:C.ZodIntersection,...L(n)});class be extends N{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==O.array)return x(r,{code:v.invalid_type,expected:O.array,received:r.parsedType}),k;if(r.data.length<this._def.items.length)return x(r,{code:v.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),k;!this._def.rest&&r.data.length>this._def.items.length&&(x(r,{code:v.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const i=[...r.data].map((a,o)=>{const u=this._def.items[o]||this._def.rest;return u?u._parse(new ve(r,a,r.path,o)):null}).filter(a=>!!a);return r.common.async?Promise.all(i).then(a=>ee.mergeArray(n,a)):ee.mergeArray(n,i)}get items(){return this._def.items}rest(e){return new be({...this._def,rest:e})}}be.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new be({items:t,typeName:C.ZodTuple,rest:null,...L(e)})};class Kt extends N{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==O.object)return x(r,{code:v.invalid_type,expected:O.object,received:r.parsedType}),k;const s=[],i=this._def.keyType,a=this._def.valueType;for(const o in r.data)s.push({key:i._parse(new ve(r,o,r.path,o)),value:a._parse(new ve(r,r.data[o],r.path,o)),alwaysSet:o in r.data});return r.common.async?ee.mergeObjectAsync(n,s):ee.mergeObjectSync(n,s)}get element(){return this._def.valueType}static create(e,n,r){return n instanceof N?new Kt({keyType:e,valueType:n,typeName:C.ZodRecord,...L(r)}):new Kt({keyType:ue.create(),valueType:e,typeName:C.ZodRecord,...L(n)})}}class jn extends N{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==O.map)return x(r,{code:v.invalid_type,expected:O.map,received:r.parsedType}),k;const s=this._def.keyType,i=this._def.valueType,a=[...r.data.entries()].map(([o,u],c)=>({key:s._parse(new ve(r,o,r.path,[c,"key"])),value:i._parse(new ve(r,u,r.path,[c,"value"]))}));if(r.common.async){const o=new Map;return Promise.resolve().then(async()=>{for(const u of a){const c=await u.key,l=await u.value;if(c.status==="aborted"||l.status==="aborted")return k;(c.status==="dirty"||l.status==="dirty")&&n.dirty(),o.set(c.value,l.value)}return{status:n.value,value:o}})}else{const o=new Map;for(const u of a){const c=u.key,l=u.value;if(c.status==="aborted"||l.status==="aborted")return k;(c.status==="dirty"||l.status==="dirty")&&n.dirty(),o.set(c.value,l.value)}return{status:n.value,value:o}}}}jn.create=(t,e,n)=>new jn({valueType:e,keyType:t,typeName:C.ZodMap,...L(n)});class Je extends N{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==O.set)return x(r,{code:v.invalid_type,expected:O.set,received:r.parsedType}),k;const s=this._def;s.minSize!==null&&r.data.size<s.minSize.value&&(x(r,{code:v.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),n.dirty()),s.maxSize!==null&&r.data.size>s.maxSize.value&&(x(r,{code:v.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),n.dirty());const i=this._def.valueType;function a(u){const c=new Set;for(const l of u){if(l.status==="aborted")return k;l.status==="dirty"&&n.dirty(),c.add(l.value)}return{status:n.value,value:c}}const o=[...r.data.values()].map((u,c)=>i._parse(new ve(r,u,r.path,c)));return r.common.async?Promise.all(o).then(u=>a(u)):a(o)}min(e,n){return new Je({...this._def,minSize:{value:e,message:E.toString(n)}})}max(e,n){return new Je({...this._def,maxSize:{value:e,message:E.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}Je.create=(t,e)=>new Je({valueType:t,minSize:null,maxSize:null,typeName:C.ZodSet,...L(e)});class ot extends N{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==O.function)return x(n,{code:v.invalid_type,expected:O.function,received:n.parsedType}),k;function r(o,u){return Rn({data:o,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,Pn(),lt].filter(c=>!!c),issueData:{code:v.invalid_arguments,argumentsError:u}})}function s(o,u){return Rn({data:o,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,Pn(),lt].filter(c=>!!c),issueData:{code:v.invalid_return_type,returnTypeError:u}})}const i={errorMap:n.common.contextualErrorMap},a=n.data;if(this._def.returns instanceof dt){const o=this;return te(async function(...u){const c=new se([]),l=await o._def.args.parseAsync(u,i).catch(h=>{throw c.addIssue(r(u,h)),c}),f=await Reflect.apply(a,this,l);return await o._def.returns._def.type.parseAsync(f,i).catch(h=>{throw c.addIssue(s(f,h)),c})})}else{const o=this;return te(function(...u){const c=o._def.args.safeParse(u,i);if(!c.success)throw new se([r(u,c.error)]);const l=Reflect.apply(a,this,c.data),f=o._def.returns.safeParse(l,i);if(!f.success)throw new se([s(l,f.error)]);return f.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new ot({...this._def,args:be.create(e).rest(qe.create())})}returns(e){return new ot({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,n,r){return new ot({args:e||be.create([]).rest(qe.create()),returns:n||qe.create(),typeName:C.ZodFunction,...L(r)})}}class zt extends N{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}zt.create=(t,e)=>new zt({getter:t,typeName:C.ZodLazy,...L(e)});class Ht extends N{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return x(n,{received:n.data,code:v.invalid_literal,expected:this._def.value}),k}return{status:"valid",value:e.data}}get value(){return this._def.value}}Ht.create=(t,e)=>new Ht({value:t,typeName:C.ZodLiteral,...L(e)});function co(t,e){return new Ze({values:t,typeName:C.ZodEnum,...L(e)})}class Ze extends N{constructor(){super(...arguments),At.set(this,void 0)}_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),r=this._def.values;return x(n,{expected:D.joinValues(r),received:n.parsedType,code:v.invalid_type}),k}if(Ln(this,At)||ao(this,At,new Set(this._def.values)),!Ln(this,At).has(e.data)){const n=this._getOrReturnCtx(e),r=this._def.values;return x(n,{received:n.data,code:v.invalid_enum_value,options:r}),k}return te(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e,n=this._def){return Ze.create(e,{...this._def,...n})}exclude(e,n=this._def){return Ze.create(this.options.filter(r=>!e.includes(r)),{...this._def,...n})}}At=new WeakMap;Ze.create=co;class qt extends N{constructor(){super(...arguments),Pt.set(this,void 0)}_parse(e){const n=D.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==O.string&&r.parsedType!==O.number){const s=D.objectValues(n);return x(r,{expected:D.joinValues(s),received:r.parsedType,code:v.invalid_type}),k}if(Ln(this,Pt)||ao(this,Pt,new Set(D.getValidEnumValues(this._def.values))),!Ln(this,Pt).has(e.data)){const s=D.objectValues(n);return x(r,{received:r.data,code:v.invalid_enum_value,options:s}),k}return te(e.data)}get enum(){return this._def.values}}Pt=new WeakMap;qt.create=(t,e)=>new qt({values:t,typeName:C.ZodNativeEnum,...L(e)});class dt extends N{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==O.promise&&n.common.async===!1)return x(n,{code:v.invalid_type,expected:O.promise,received:n.parsedType}),k;const r=n.parsedType===O.promise?n.data:Promise.resolve(n.data);return te(r.then(s=>this._def.type.parseAsync(s,{path:n.path,errorMap:n.common.contextualErrorMap})))}}dt.create=(t,e)=>new dt({type:t,typeName:C.ZodPromise,...L(e)});class he extends N{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===C.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:r}=this._processInputParams(e),s=this._def.effect||null,i={addIssue:a=>{x(r,a),a.fatal?n.abort():n.dirty()},get path(){return r.path}};if(i.addIssue=i.addIssue.bind(i),s.type==="preprocess"){const a=s.transform(r.data,i);if(r.common.async)return Promise.resolve(a).then(async o=>{if(n.value==="aborted")return k;const u=await this._def.schema._parseAsync({data:o,path:r.path,parent:r});return u.status==="aborted"?k:u.status==="dirty"||n.value==="dirty"?st(u.value):u});{if(n.value==="aborted")return k;const o=this._def.schema._parseSync({data:a,path:r.path,parent:r});return o.status==="aborted"?k:o.status==="dirty"||n.value==="dirty"?st(o.value):o}}if(s.type==="refinement"){const a=o=>{const u=s.refinement(o,i);if(r.common.async)return Promise.resolve(u);if(u instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return o};if(r.common.async===!1){const o=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return o.status==="aborted"?k:(o.status==="dirty"&&n.dirty(),a(o.value),{status:n.value,value:o.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(o=>o.status==="aborted"?k:(o.status==="dirty"&&n.dirty(),a(o.value).then(()=>({status:n.value,value:o.value}))))}if(s.type==="transform")if(r.common.async===!1){const a=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!Dt(a))return a;const o=s.transform(a.value,i);if(o instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:o}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(a=>Dt(a)?Promise.resolve(s.transform(a.value,i)).then(o=>({status:n.value,value:o})):a);D.assertNever(s)}}he.create=(t,e,n)=>new he({schema:t,typeName:C.ZodEffects,effect:e,...L(n)});he.createWithPreprocess=(t,e,n)=>new he({schema:e,effect:{type:"preprocess",transform:t},typeName:C.ZodEffects,...L(n)});class ge extends N{_parse(e){return this._getType(e)===O.undefined?te(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}ge.create=(t,e)=>new ge({innerType:t,typeName:C.ZodOptional,...L(e)});class Ve extends N{_parse(e){return this._getType(e)===O.null?te(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Ve.create=(t,e)=>new Ve({innerType:t,typeName:C.ZodNullable,...L(e)});class Qt extends N{_parse(e){const{ctx:n}=this._processInputParams(e);let r=n.data;return n.parsedType===O.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}Qt.create=(t,e)=>new Qt({innerType:t,typeName:C.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...L(e)});class Wt extends N{_parse(e){const{ctx:n}=this._processInputParams(e),r={...n,common:{...n.common,issues:[]}},s=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return Mt(s)?s.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new se(r.common.issues)},input:r.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new se(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}Wt.create=(t,e)=>new Wt({innerType:t,typeName:C.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...L(e)});class Dn extends N{_parse(e){if(this._getType(e)!==O.nan){const r=this._getOrReturnCtx(e);return x(r,{code:v.invalid_type,expected:O.nan,received:r.parsedType}),k}return{status:"valid",value:e.data}}}Dn.create=t=>new Dn({typeName:C.ZodNaN,...L(t)});const Ww=Symbol("zod_brand");class bs extends N{_parse(e){const{ctx:n}=this._processInputParams(e),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class nn extends N{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?k:i.status==="dirty"?(n.dirty(),st(i.value)):this._def.out._parseAsync({data:i.value,path:r.path,parent:r})})();{const s=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?k:s.status==="dirty"?(n.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:r.path,parent:r})}}static create(e,n){return new nn({in:e,out:n,typeName:C.ZodPipeline})}}class Gt extends N{_parse(e){const n=this._def.innerType._parse(e),r=s=>(Dt(s)&&(s.value=Object.freeze(s.value)),s);return Mt(n)?n.then(s=>r(s)):r(n)}unwrap(){return this._def.innerType}}Gt.create=(t,e)=>new Gt({innerType:t,typeName:C.ZodReadonly,...L(e)});function fo(t,e={},n){return t?ct.create().superRefine((r,s)=>{var i,a;if(!t(r)){const o=typeof e=="function"?e(r):typeof e=="string"?{message:e}:e,u=(a=(i=o.fatal)!==null&&i!==void 0?i:n)!==null&&a!==void 0?a:!0,c=typeof o=="string"?{message:o}:o;s.addIssue({code:"custom",...c,fatal:u})}}):ct.create()}const Gw={object:z.lazycreate};var C;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(C||(C={}));const Jw=(t,e={message:`Input not instance of ${t.name}`})=>fo(n=>n instanceof t,e),ho=ue.create,po=Ue.create,Yw=Dn.create,Xw=Fe.create,go=Ut.create,e_=Ge.create,t_=Nn.create,n_=Ft.create,r_=Zt.create,s_=ct.create,i_=qe.create,a_=Ce.create,o_=In.create,u_=de.create,l_=z.create,c_=z.strictCreate,d_=Vt.create,f_=ar.create,h_=Bt.create,p_=be.create,g_=Kt.create,m_=jn.create,y_=Je.create,v_=ot.create,b_=zt.create,w_=Ht.create,__=Ze.create,x_=qt.create,S_=dt.create,Pi=he.create,O_=ge.create,E_=Ve.create,T_=he.createWithPreprocess,C_=nn.create,$_=()=>ho().optional(),k_=()=>po().optional(),A_=()=>go().optional(),P_={string:t=>ue.create({...t,coerce:!0}),number:t=>Ue.create({...t,coerce:!0}),boolean:t=>Ut.create({...t,coerce:!0}),bigint:t=>Fe.create({...t,coerce:!0}),date:t=>Ge.create({...t,coerce:!0})},R_=k;var re=Object.freeze({__proto__:null,defaultErrorMap:lt,setErrorMap:Rw,getErrorMap:Pn,makeIssue:Rn,EMPTY_PATH:Lw,addIssueToContext:x,ParseStatus:ee,INVALID:k,DIRTY:st,OK:te,isAborted:qr,isDirty:Qr,isValid:Dt,isAsync:Mt,get util(){return D},get objectUtil(){return Hr},ZodParsedType:O,getParsedType:Ie,ZodType:N,datetimeRegex:lo,ZodString:ue,ZodNumber:Ue,ZodBigInt:Fe,ZodBoolean:Ut,ZodDate:Ge,ZodSymbol:Nn,ZodUndefined:Ft,ZodNull:Zt,ZodAny:ct,ZodUnknown:qe,ZodNever:Ce,ZodVoid:In,ZodArray:de,ZodObject:z,ZodUnion:Vt,ZodDiscriminatedUnion:ar,ZodIntersection:Bt,ZodTuple:be,ZodRecord:Kt,ZodMap:jn,ZodSet:Je,ZodFunction:ot,ZodLazy:zt,ZodLiteral:Ht,ZodEnum:Ze,ZodNativeEnum:qt,ZodPromise:dt,ZodEffects:he,ZodTransformer:he,ZodOptional:ge,ZodNullable:Ve,ZodDefault:Qt,ZodCatch:Wt,ZodNaN:Dn,BRAND:Ww,ZodBranded:bs,ZodPipeline:nn,ZodReadonly:Gt,custom:fo,Schema:N,ZodSchema:N,late:Gw,get ZodFirstPartyTypeKind(){return C},coerce:P_,any:s_,array:u_,bigint:Xw,boolean:go,date:e_,discriminatedUnion:f_,effect:Pi,enum:__,function:v_,instanceof:Jw,intersection:h_,lazy:b_,literal:w_,map:m_,nan:Yw,nativeEnum:x_,never:a_,null:r_,nullable:E_,number:po,object:l_,oboolean:A_,onumber:k_,optional:O_,ostring:$_,pipeline:C_,preprocess:T_,promise:S_,record:g_,set:y_,strictObject:c_,string:ho,symbol:t_,transformer:Pi,tuple:p_,undefined:n_,union:d_,unknown:i_,void:o_,NEVER:R_,ZodIssueCode:v,quotelessJson:Pw,ZodError:se});const L_=/^[0-9a-f]{64}$/,le=t=>{const e=typeof t=="string"&&t.length===64&&L_.test(t);return e||console.warn("invalid id is ignored: ",t),e},N_=t=>e=>t.safeParse(e).success,I_=re.array(re.array(re.string())),j_=re.tuple([re.literal("emoji"),re.string().regex(/^\w+$/,{message:"shortcode can includes only alpahnumeric characters and underscore"}),re.string().url()]);class D_{findTagsByName(e){return this.tags.filter(([n])=>n===e)}findFirstTagByName(e){return this.tags.find(([n])=>n===e)}findLastTagByName(e){return this.tags.findLast(([n])=>n===e)}pTags(){return this.tags.filter(([e,n])=>e==="p"&&le(n))}eTags(){return this.tags.filter(([e,n])=>e==="e"&&le(n))}emojiTags(){return this.tags.filter(N_(j_))}taggedPubkeys(){return pn(this.pTags().map(([,e])=>e))}taggedEventIds(){return this.eTags().map(([,e])=>e)}lastTaggedEventId(){const e=this.taggedEventIds();if(e.length!==0)return e[e.length-1]}getEmojiUrl(e){const n=this.emojiTags().find(([,s])=>s===e);if(n==null)return;const[,,r]=n;return r}}const M_=/^[0-9a-f]{128}$/,U_=t=>typeof t=="string"&&t.length===128&&M_.test(t),k1=re.object({id:re.string().refine(le),pubkey:re.string().refine(le),created_at:re.number().int(),kind:re.number().int(),tags:I_,content:re.string(),sig:re.string().refine(U_)});class ws extends D_{constructor(e){super(),this.rawEvent=e}get id(){return this.rawEvent.id}get sig(){return this.rawEvent.sig}get kind(){return this.rawEvent.kind}get pubkey(){return this.rawEvent.pubkey}get createdAt(){return this.rawEvent.created_at}get content(){return this.rawEvent.content}get tags(){return this.rawEvent.tags}createdAtAsDate(){return new Date(this.rawEvent.created_at*1e3)}}const F_=/^\p{Emoji}[\p{Emoji_Component}\p{Emoji_Modifier}\p{Emoji_Presentation}]*$/u,Ri=/^:(\w+):$/,Z_=t=>{if(t.isLikeOrDislike())return{type:"LikeDislike",content:t.content};if(t.isEmoji())return{type:"Emoji",content:t.content};if(t.isCustomEmoji()){const e=t.getShortcode(),n=t.getUrl();if(e!=null&&n!=null)return{type:"CustomEmoji",content:t.content,shortcode:e,url:n}}return{type:"Unknown",content:t.content}};class V_ extends ws{constructor(e){if(e.kind!==Gb)throw new TypeError("kind should be 7");super(e)}isLike(){return this.content==="+"}isDislike(){return this.content==="-"}isLikeOrDislike(){return this.isLike()||this.isDislike()}isEmoji(){return F_.test(this.content)}isCustomEmoji(){return Ri.test(this.content)}getShortcode(){return this.content.match(Ri)?.[1]}getUrl(){const e=this.getShortcode();if(e!=null)return this.getEmojiUrl(e)}toReactionTypes(){return Z_(this)}}/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const _s=t=>t instanceof Uint8Array,A1=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),P1=(t,e)=>t<<32-e|t>>>e,B_=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!B_)throw new Error("Non little-endian hardware is not supported");const K_=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function Ke(t){if(!_s(t))throw new Error("Uint8Array expected");let e="";for(let n=0;n<t.length;n++)e+=K_[t[n]];return e}function Mn(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);const e=t.length;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);const n=new Uint8Array(e/2);for(let r=0;r<n.length;r++){const s=r*2,i=t.slice(s,s+2),a=Number.parseInt(i,16);if(Number.isNaN(a)||a<0)throw new Error("Invalid byte sequence");n[r]=a}return n}function z_(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function H_(t){if(typeof t=="string"&&(t=z_(t)),!_s(t))throw new Error(`expected Uint8Array, got ${typeof t}`);return t}function q_(...t){const e=new Uint8Array(t.reduce((r,s)=>r+s.length,0));let n=0;return t.forEach(r=>{if(!_s(r))throw new Error("Uint8Array expected");e.set(r,n),n+=r.length}),e}class R1{clone(){return this._cloneInto()}}function L1(t){const e=r=>t().update(H_(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}/*! scure-base - MIT License (c) 2022 Paul Miller (paulmillr.com) */function _t(t){if(!Number.isSafeInteger(t))throw new Error(`Wrong integer: ${t}`)}function ke(...t){const e=(s,i)=>a=>s(i(a)),n=Array.from(t).reverse().reduce((s,i)=>s?e(s,i.encode):i.encode,void 0),r=t.reduce((s,i)=>s?e(s,i.decode):i.decode,void 0);return{encode:n,decode:r}}function Ae(t){return{encode:e=>{if(!Array.isArray(e)||e.length&&typeof e[0]!="number")throw new Error("alphabet.encode input should be an array of numbers");return e.map(n=>{if(_t(n),n<0||n>=t.length)throw new Error(`Digit index outside alphabet: ${n} (alphabet: ${t.length})`);return t[n]})},decode:e=>{if(!Array.isArray(e)||e.length&&typeof e[0]!="string")throw new Error("alphabet.decode input should be array of strings");return e.map(n=>{if(typeof n!="string")throw new Error(`alphabet.decode: not string element=${n}`);const r=t.indexOf(n);if(r===-1)throw new Error(`Unknown letter: "${n}". Allowed: ${t}`);return r})}}}function Pe(t=""){if(typeof t!="string")throw new Error("join separator should be string");return{encode:e=>{if(!Array.isArray(e)||e.length&&typeof e[0]!="string")throw new Error("join.encode input should be array of strings");for(let n of e)if(typeof n!="string")throw new Error(`join.encode: non-string input=${n}`);return e.join(t)},decode:e=>{if(typeof e!="string")throw new Error("join.decode input should be string");return e.split(t)}}}function or(t,e="="){if(_t(t),typeof e!="string")throw new Error("padding chr should be string");return{encode(n){if(!Array.isArray(n)||n.length&&typeof n[0]!="string")throw new Error("padding.encode input should be array of strings");for(let r of n)if(typeof r!="string")throw new Error(`padding.encode: non-string input=${r}`);for(;n.length*t%8;)n.push(e);return n},decode(n){if(!Array.isArray(n)||n.length&&typeof n[0]!="string")throw new Error("padding.encode input should be array of strings");for(let s of n)if(typeof s!="string")throw new Error(`padding.decode: non-string input=${s}`);let r=n.length;if(r*t%8)throw new Error("Invalid padding: string should have whole number of bytes");for(;r>0&&n[r-1]===e;r--)if(!((r-1)*t%8))throw new Error("Invalid padding: string has too much padding");return n.slice(0,r)}}}function mo(t){if(typeof t!="function")throw new Error("normalize fn should be function");return{encode:e=>e,decode:e=>t(e)}}function Li(t,e,n){if(e<2)throw new Error(`convertRadix: wrong from=${e}, base cannot be less than 2`);if(n<2)throw new Error(`convertRadix: wrong to=${n}, base cannot be less than 2`);if(!Array.isArray(t))throw new Error("convertRadix: data should be array");if(!t.length)return[];let r=0;const s=[],i=Array.from(t);for(i.forEach(a=>{if(_t(a),a<0||a>=e)throw new Error(`Wrong integer: ${a}`)});;){let a=0,o=!0;for(let u=r;u<i.length;u++){const c=i[u],l=e*a+c;if(!Number.isSafeInteger(l)||e*a/e!==a||l-c!==e*a)throw new Error("convertRadix: carry overflow");if(a=l%n,i[u]=Math.floor(l/n),!Number.isSafeInteger(i[u])||i[u]*n+a!==l)throw new Error("convertRadix: carry overflow");if(o)i[u]?o=!1:r=u;else continue}if(s.push(a),o)break}for(let a=0;a<t.length-1&&t[a]===0;a++)s.push(0);return s.reverse()}const yo=(t,e)=>e?yo(e,t%e):t,Un=(t,e)=>t+(e-yo(t,e));function Gr(t,e,n,r){if(!Array.isArray(t))throw new Error("convertRadix2: data should be array");if(e<=0||e>32)throw new Error(`convertRadix2: wrong from=${e}`);if(n<=0||n>32)throw new Error(`convertRadix2: wrong to=${n}`);if(Un(e,n)>32)throw new Error(`convertRadix2: carry overflow from=${e} to=${n} carryBits=${Un(e,n)}`);let s=0,i=0;const a=2**n-1,o=[];for(const u of t){if(_t(u),u>=2**e)throw new Error(`convertRadix2: invalid data word=${u} from=${e}`);if(s=s<<e|u,i+e>32)throw new Error(`convertRadix2: carry overflow pos=${i} from=${e}`);for(i+=e;i>=n;i-=n)o.push((s>>i-n&a)>>>0);s&=2**i-1}if(s=s<<n-i&a,!r&&i>=e)throw new Error("Excess padding");if(!r&&s)throw new Error(`Non-zero padding: ${s}`);return r&&i>0&&o.push(s>>>0),o}function Q_(t){return _t(t),{encode:e=>{if(!(e instanceof Uint8Array))throw new Error("radix.encode input should be Uint8Array");return Li(Array.from(e),2**8,t)},decode:e=>{if(!Array.isArray(e)||e.length&&typeof e[0]!="number")throw new Error("radix.decode input should be array of strings");return Uint8Array.from(Li(e,t,2**8))}}}function Be(t,e=!1){if(_t(t),t<=0||t>32)throw new Error("radix2: bits should be in (0..32]");if(Un(8,t)>32||Un(t,8)>32)throw new Error("radix2: carry overflow");return{encode:n=>{if(!(n instanceof Uint8Array))throw new Error("radix2.encode input should be Uint8Array");return Gr(Array.from(n),8,t,!e)},decode:n=>{if(!Array.isArray(n)||n.length&&typeof n[0]!="number")throw new Error("radix2.decode input should be array of strings");return Uint8Array.from(Gr(n,t,8,e))}}}function Ni(t){if(typeof t!="function")throw new Error("unsafeWrapper fn should be function");return function(...e){try{return t.apply(null,e)}catch{}}}const W_=ke(Be(4),Ae("0123456789ABCDEF"),Pe("")),G_=ke(Be(5),Ae("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),or(5),Pe(""));ke(Be(5),Ae("0123456789ABCDEFGHIJKLMNOPQRSTUV"),or(5),Pe(""));ke(Be(5),Ae("0123456789ABCDEFGHJKMNPQRSTVWXYZ"),Pe(""),mo(t=>t.toUpperCase().replace(/O/g,"0").replace(/[IL]/g,"1")));const J_=ke(Be(6),Ae("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),or(6),Pe("")),Y_=ke(Be(6),Ae("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),or(6),Pe("")),xs=t=>ke(Q_(58),Ae(t),Pe("")),Jr=xs("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz");xs("123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ");xs("rpshnaf39wBUDNEGHJKLM4PQRST7VWXYZ2bcdeCg65jkm8oFqi1tuvAxyz");const Ii=[0,2,3,5,6,7,9,10,11],X_={encode(t){let e="";for(let n=0;n<t.length;n+=8){const r=t.subarray(n,n+8);e+=Jr.encode(r).padStart(Ii[r.length],"1")}return e},decode(t){let e=[];for(let n=0;n<t.length;n+=11){const r=t.slice(n,n+11),s=Ii.indexOf(r.length),i=Jr.decode(r);for(let a=0;a<i.length-s;a++)if(i[a]!==0)throw new Error("base58xmr: wrong padding");e=e.concat(Array.from(i.slice(i.length-s)))}return Uint8Array.from(e)}},Yr=ke(Ae("qpzry9x8gf2tvdw0s3jn54khce6mua7l"),Pe("")),ji=[996825010,642813549,513874426,1027748829,705979059];function Ot(t){const e=t>>25;let n=(t&33554431)<<5;for(let r=0;r<ji.length;r++)(e>>r&1)===1&&(n^=ji[r]);return n}function Di(t,e,n=1){const r=t.length;let s=1;for(let i=0;i<r;i++){const a=t.charCodeAt(i);if(a<33||a>126)throw new Error(`Invalid prefix (${t})`);s=Ot(s)^a>>5}s=Ot(s);for(let i=0;i<r;i++)s=Ot(s)^t.charCodeAt(i)&31;for(let i of e)s=Ot(s)^i;for(let i=0;i<6;i++)s=Ot(s);return s^=n,Yr.encode(Gr([s%2**30],30,5,!1))}function vo(t){const e=t==="bech32"?1:734539939,n=Be(5),r=n.decode,s=n.encode,i=Ni(r);function a(l,f,d=90){if(typeof l!="string")throw new Error(`bech32.encode prefix should be string, not ${typeof l}`);if(!Array.isArray(f)||f.length&&typeof f[0]!="number")throw new Error(`bech32.encode words should be array of numbers, not ${typeof f}`);const h=l.length+7+f.length;if(d!==!1&&h>d)throw new TypeError(`Length ${h} exceeds limit ${d}`);return l=l.toLowerCase(),`${l}1${Yr.encode(f)}${Di(l,f,e)}`}function o(l,f=90){if(typeof l!="string")throw new Error(`bech32.decode input should be string, not ${typeof l}`);if(l.length<8||f!==!1&&l.length>f)throw new TypeError(`Wrong string length: ${l.length} (${l}). Expected (8..${f})`);const d=l.toLowerCase();if(l!==d&&l!==l.toUpperCase())throw new Error("String must be lowercase or uppercase");l=d;const h=l.lastIndexOf("1");if(h===0||h===-1)throw new Error('Letter "1" must be present between prefix and data only');const g=l.slice(0,h),p=l.slice(h+1);if(p.length<6)throw new Error("Data must be at least 6 characters long");const m=Yr.decode(p).slice(0,-6),b=Di(g,m,e);if(!p.endsWith(b))throw new Error(`Invalid checksum in ${l}: expected "${b}"`);return{prefix:g,words:m}}const u=Ni(o);function c(l){const{prefix:f,words:d}=o(l,!1);return{prefix:f,words:d,bytes:r(d)}}return{encode:a,decode:o,decodeToBytes:c,decodeUnsafe:u,fromWords:r,fromWordsUnsafe:i,toWords:s}}const Fn=vo("bech32");vo("bech32m");const e0={encode:t=>new TextDecoder().decode(t),decode:t=>new TextEncoder().encode(t)},t0=ke(Be(4),Ae("0123456789abcdef"),Pe(""),mo(t=>{if(typeof t!="string"||t.length%2)throw new TypeError(`hex.decode: expected string, got ${typeof t} with length ${t.length}`);return t.toLowerCase()})),n0={utf8:e0,hex:t0,base16:W_,base32:G_,base64:J_,base64url:Y_,base58:Jr,base58xmr:X_};`${Object.keys(n0).join(", ")}`;var Et=new TextDecoder("utf-8"),r0=new TextEncoder,bo=5e3;function s0(t){const e=new Uint8Array(4);return e[0]=t>>24&255,e[1]=t>>16&255,e[2]=t>>8&255,e[3]=t&255,e}function i0(t){let{prefix:e,words:n}=Fn.decode(t,bo),r=new Uint8Array(Fn.fromWords(n));switch(e){case"nprofile":{let s=dn(r);if(!s[0]?.[0])throw new Error("missing TLV 0 for nprofile");if(s[0][0].length!==32)throw new Error("TLV 0 should be 32 bytes");return{type:"nprofile",data:{pubkey:Ke(s[0][0]),relays:s[1]?s[1].map(i=>Et.decode(i)):[]}}}case"nevent":{let s=dn(r);if(!s[0]?.[0])throw new Error("missing TLV 0 for nevent");if(s[0][0].length!==32)throw new Error("TLV 0 should be 32 bytes");if(s[2]&&s[2][0].length!==32)throw new Error("TLV 2 should be 32 bytes");if(s[3]&&s[3][0].length!==4)throw new Error("TLV 3 should be 4 bytes");return{type:"nevent",data:{id:Ke(s[0][0]),relays:s[1]?s[1].map(i=>Et.decode(i)):[],author:s[2]?.[0]?Ke(s[2][0]):void 0,kind:s[3]?.[0]?parseInt(Ke(s[3][0]),16):void 0}}}case"naddr":{let s=dn(r);if(!s[0]?.[0])throw new Error("missing TLV 0 for naddr");if(!s[2]?.[0])throw new Error("missing TLV 2 for naddr");if(s[2][0].length!==32)throw new Error("TLV 2 should be 32 bytes");if(!s[3]?.[0])throw new Error("missing TLV 3 for naddr");if(s[3][0].length!==4)throw new Error("TLV 3 should be 4 bytes");return{type:"naddr",data:{identifier:Et.decode(s[0][0]),pubkey:Ke(s[2][0]),kind:parseInt(Ke(s[3][0]),16),relays:s[1]?s[1].map(i=>Et.decode(i)):[]}}}case"nrelay":{let s=dn(r);if(!s[0]?.[0])throw new Error("missing TLV 0 for nrelay");return{type:"nrelay",data:Et.decode(s[0][0])}}case"nsec":return{type:e,data:r};case"npub":case"note":return{type:e,data:Ke(r)};default:throw new Error(`unknown prefix ${e}`)}}function dn(t){let e={},n=t;for(;n.length>0;){let r=n[0],s=n[1],i=n.slice(2,2+s);if(n=n.slice(2+s),i.length<s)throw new Error(`not enough data to read on TLV ${r}`);e[r]=e[r]||[],e[r].push(i)}return e}function N1(t){return _o("npub",Mn(t))}function I1(t){return _o("note",Mn(t))}function wo(t,e){let n=Fn.toWords(e);return Fn.encode(t,n,bo)}function _o(t,e){return wo(t,e)}function j1(t){let e;t.kind!==void 0&&(e=s0(t.kind));let n=a0({0:[Mn(t.id)],1:(t.relays||[]).map(r=>r0.encode(r)),2:t.author?[Mn(t.author)]:[],3:e?[new Uint8Array(e)]:[]});return wo("nevent",n)}function a0(t){let e=[];return Object.entries(t).reverse().forEach(([n,r])=>{r.forEach(s=>{let i=new Uint8Array(s.length+2);i.set([parseInt(n)],0),i.set([s.length],1),i.set(s,2),e.push(i)})}),q_(...e)}const o0=["reply","root","mention"],u0=/(?<url>(?:https?|wss?):\/\/[-a-zA-Z0-9.]+(:\d{1,5})?(?:\/[-[\]~!$&'()*+.,:;@&=%\w]+|\/)*(?:\?[-[\]~!$&'()*+.,/:;%@&=\w?]+)?(?:#[-[\]~!$&'()*+.,/:;%@\w&=?#]+)?)/g,l0=/(?:#\[(?<idx>\d+)\])/g,c0=/(?<mention>(?<nip19>nostr:)?(?<bech32>(?:npub|note|nprofile|nevent|naddr|nrelay)1[ac-hj-np-z02-9]+))/gi,d0=/#(?<hashtag>[\p{Letter}\p{Number}_]+)/gu,f0=/:(?<emoji>\w+):/gu,h0=t=>{const e=[...t.matchAll(u0),...t.matchAll(l0),...t.matchAll(c0),...t.matchAll(d0),...t.matchAll(f0)].sort((i,a)=>i.index-a.index);let n=0;const r=[],s=i=>{if(i!=null&&i>n){const a=t.slice(n,i),o=r[r.length-1];if(o?.type==="PlainText")o.content+=a;else{const u={type:"PlainText",content:a};r.push(u)}n=i}};return e.forEach(i=>{const{index:a}=i;if(!(a<n)){if(i.groups?.url){s(a);const o={type:"URL",content:i.groups?.url};r.push(o)}else if(i.groups?.idx){const o=parseInt(i.groups.idx,10);s(a),r.push({type:"TagReference",tagIndex:o,content:i[0]})}else if(i.groups?.mention){s(a);try{const o=i0(i.groups.bech32),u={type:"Bech32Entity",content:i[0],data:o,isNIP19:i.groups.nip19==="nostr:"};if((o.type==="npub"||o.type==="note")&&!le(o.data)||o.type==="nprofile"&&!le(o.data.pubkey)||o.type==="nevent"&&!le(o.data.id)||o.type==="naddr"&&!le(o.data.pubkey)||o.type==="nsec"&&o.data.length!==32)throw new Error("Invalid ID");r.push(u)}catch{console.warn(`ignored invalid bech32 entity: ${i[0]}`),s(a+i[0].length)}}else if(i.groups?.hashtag){s(a);const o=i.groups?.hashtag,u={type:"HashTag",content:i[0],tagName:o};r.push(u)}else if(i.groups?.emoji){s(a);const o=i.groups?.emoji,u={type:"CustomEmoji",content:i[0],shortcode:o};r.push(u)}n=a+i[0].length}}),n<t.length&&s(t.length),r},p0=t=>t==null?!1:o0.includes(t),g0=(t,{tagIndex:e,content:n})=>{const r=t.tags[e];if(r==null)return;const s=r[0];if(s==="p"&&le(r[1]))return{type:"MentionedUser",tagIndex:e,content:n,pubkey:r[1]};if(s==="e"&&le(r[1])){const i=p0(r[3])?r[3]:void 0;return{type:"MentionedEvent",tagIndex:e,content:n,eventId:r[1],marker:i}}},m0=(t,e)=>t.map(n=>{if(n.type==="TagReference"){const r=g0(e,n);return{...n,type:"TagReferenceResolved",reference:r}}if(n.type==="CustomEmoji"){const r=e.getEmojiUrl(n.shortcode);return{...n,type:"CustomEmojiResolved",url:r}}return n}),y0=t=>{const e=t.map((r,s)=>[r,s]).filter(([[r,s]])=>r==="e"&&le(s)),n=(r,s)=>r==="root"||r==="reply"||r==="mention"?r:e.length===1?"reply":s===0?"root":e.length===2||s===e.length-1?"reply":"mention";return e.map(([[,r,s,i],a],o)=>({id:r,relayUrl:(s?.length??0)>0?s:null,marker:n(i,o),index:a}))};class v0 extends ws{#e;#t;parsed(){if(this.#t!=null)return this.#t;const e=h0(this.content),n=m0(e,this);return this.#t=n,n}markedEventTags(){return this.#e!=null?this.#e:(this.#e=y0(this.tags),this.#e)}replyingToEvent(){return this.markedEventTags().find(({marker:e})=>e==="reply")}rootEvent(){return this.markedEventTags().find(({marker:e})=>e==="root")}mentionedEvents(){return this.markedEventTags().filter(({marker:e})=>e==="mention")}contentWarning(){const e=this.findLastTagByName("content-warning");return e==null?{contentWarning:!1}:{contentWarning:!0,reason:(e[1]?.length??0)>0?e[1]:void 0}}containsEventMention(e){const n=this.rawEvent.tags.findIndex(([r,s])=>r==="e"&&s===e);return this.containsEventNote(e)||this.containsEventMentionIndex(n)}containsEventMentionIndex(e){return e<0||e>=this.rawEvent.tags.length?!1:this.parsed().some(n=>n.type==="TagReferenceResolved"&&n.tagIndex===e)}containsEventNote(e){return this.parsed().some(n=>n.type==="Bech32Entity"&&(n.data.type==="nevent"&&n.data.data.id===e||n.data.type==="note"&&n.data.data===e))}}class b0 extends v0{constructor(e){if(e.kind!==Kr)throw new TypeError(`kind should be 1 but it was ${e.kind}`);super(e)}}const w0=t=>new ws(t),D1=t=>new b0(t),M1=t=>new V_(t),_0=t=>t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),x0=t=>new RegExp(t.map(_0).join("|")),S0=t=>t.flags.indexOf("i")>=0?t:new RegExp(t.source,`${t.flags}i`),O0=()=>{const t=[...Jb];return window.navigator.language.includes("ja")&&t.push(...Yb),t},xo=()=>({relayUrls:O0(),columns:[],customEmojis:{},colorTheme:{type:"specific",id:"sakura"},dateFormat:"relative",keepOpenPostForm:!1,useEmojiReaction:!0,showEmojiReaction:!0,showMedia:!0,embedding:{twitter:!0,youtube:!0,ogp:!0},hideCount:!1,mutedPubkeys:[],mutedKeywords:[]}),E0=t=>JSON.stringify(t),T0=t=>({...xo(),...JSON.parse(t)}),C0=eo(()=>window.localStorage,E0,T0),[Se,ne]=je(()=>to("RabbitConfig",xo(),C0)),$0=()=>{const t=kw(),e=()=>{const _=Se.colorTheme;return _.type==="specific"&&wr[_.id]!=null?wr[_.id]:wr.sakura},n=_=>{ne("relayUrls",T=>pn([...T,_]))},r=_=>{ne("relayUrls",T=>T.filter(P=>P!==_))},s=_=>{ne("mutedPubkeys",T=>pn([...T,_]))},i=_=>{ne("mutedPubkeys",T=>T.filter(P=>P!==_))},a=_=>{ne("mutedKeywords",T=>pn([...T,_]))},o=_=>{ne("mutedKeywords",T=>T.filter(P=>P!==_))},u=_=>{ne("columns",T=>{const P=T.findIndex(j=>j.id===_.id);if(P>=0){const j=[...T];return j.splice(P,1,_),j}return[...T,_]})},c=(_,T)=>{ne("columns",P=>{const j=T-1,M=Math.max(Math.min(j,P.length),0),R=P.findIndex(oe=>oe.id===_);if(R<0||M===R)return P;console.log(R,M);const V=[...P],[H]=V.splice(R,1);return V.splice(M,0,H),V})},l=(_,T)=>{const P=Se.columns.findIndex(j=>j.id===T);c(_,P+1)},f=_=>{ne("columns",T=>T.filter(P=>P.id!==_))},d=_=>{ne("customEmojis",T=>({...T,[_.shortcode]:_}))},h=_=>{ne("customEmojis",T=>{const P=Object.fromEntries(_.map(j=>[j.shortcode,j]));return{...T,...P}})},g=_=>{ne("customEmojis",T=>({...T,[_]:void 0}))},p=_=>Se.customEmojis[_],m=_=>pb(Object.values(Se.customEmojis).filter(({shortcode:T})=>T.includes(_)),[T=>T.shortcode.length]),b=Z(()=>new Set(Se.mutedPubkeys)),w=_=>b().has(_),$=Z(()=>Se.mutedKeywords.length===0?null:S0(x0(Se.mutedKeywords))),y=_=>{if(_.kind===Kr){const T=$();return T==null?!1:T.test(_.content)}return!1};return{config:()=>Se,setConfig:ne,getColorTheme:e,addRelay:n,removeRelay:r,saveColumn:u,moveColumn:c,moveColumnById:l,removeColumn:f,initializeColumns:({pubkey:_})=>{if((Se.columns?.length??0)>0)return;const T=[ew({width:"widest",pubkey:_}),tw({pubkey:_}),sw({name:t.t("column.myPosts"),pubkey:_}),iw({name:t.t("column.myReactions"),pubkey:_})];navigator.language.includes("ja")&&T.splice(2,0,rw()),ne("columns",()=>[...T])},saveEmoji:d,saveEmojis:h,removeEmoji:g,getEmoji:p,searchEmojis:m,addMutedPubkey:s,removeMutedPubkey:i,addMutedKeyword:a,removeMutedKeyword:o,isPubkeyMuted:w,shouldMuteEvent:_=>{const T=w0(_);return w(_.pubkey)||T.taggedPubkeys().some(w)||_.kind===Kr&&y(_)}}},k0=t=>{const{getColorTheme:e}=$0();ft(()=>{const n=e(),{className:r}=n;r!=null&&(t.classList.add(r),me(()=>{t.classList.remove(r)}))})},So={loggedIn:!1,agreements:{nostrBuild:!1}},A0=t=>JSON.stringify(t),P0=t=>JSON.parse(t),R0=eo(()=>window.localStorage,A0,P0),[Mi,Ui]=je(()=>to("RabbitPersistStatus",So,R0)),L0=()=>({persistStatus:()=>({...So,...Mi}),loggedIn:()=>{Ui(r=>({...r,loggedIn:!0}))},agreeToToS:r=>{Ui("agreements",s=>({...s,[r]:!0}))},didAgreeToToS:r=>Mi.agreements[r]??!1}),{slice:N0,forEach:I0}=[];function j0(t){return I0.call(N0.call(arguments,1),e=>{if(e)for(const n in e)t[n]===void 0&&(t[n]=e[n])}),t}const Fi=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,D0=(t,e,n)=>{const r=n||{};r.path=r.path||"/";const s=encodeURIComponent(e);let i=`${t}=${s}`;if(r.maxAge>0){const a=r.maxAge-0;if(Number.isNaN(a))throw new Error("maxAge should be a Number");i+=`; Max-Age=${Math.floor(a)}`}if(r.domain){if(!Fi.test(r.domain))throw new TypeError("option domain is invalid");i+=`; Domain=${r.domain}`}if(r.path){if(!Fi.test(r.path))throw new TypeError("option path is invalid");i+=`; Path=${r.path}`}if(r.expires){if(typeof r.expires.toUTCString!="function")throw new TypeError("option expires is invalid");i+=`; Expires=${r.expires.toUTCString()}`}if(r.httpOnly&&(i+="; HttpOnly"),r.secure&&(i+="; Secure"),r.sameSite)switch(typeof r.sameSite=="string"?r.sameSite.toLowerCase():r.sameSite){case!0:i+="; SameSite=Strict";break;case"lax":i+="; SameSite=Lax";break;case"strict":i+="; SameSite=Strict";break;case"none":i+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return i},Zi={create(t,e,n,r){let s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};n&&(s.expires=new Date,s.expires.setTime(s.expires.getTime()+n*60*1e3)),r&&(s.domain=r),document.cookie=D0(t,encodeURIComponent(e),s)},read(t){const e=`${t}=`,n=document.cookie.split(";");for(let r=0;r<n.length;r++){let s=n[r];for(;s.charAt(0)===" ";)s=s.substring(1,s.length);if(s.indexOf(e)===0)return s.substring(e.length,s.length)}return null},remove(t){this.create(t,"",-1)}};var M0={name:"cookie",lookup(t){let{lookupCookie:e}=t;if(e&&typeof document<"u")return Zi.read(e)||void 0},cacheUserLanguage(t,e){let{lookupCookie:n,cookieMinutes:r,cookieDomain:s,cookieOptions:i}=e;n&&typeof document<"u"&&Zi.create(n,t,r,s,i)}},U0={name:"querystring",lookup(t){let{lookupQuerystring:e}=t,n;if(typeof window<"u"){let{search:r}=window.location;!window.location.search&&window.location.hash?.indexOf("?")>-1&&(r=window.location.hash.substring(window.location.hash.indexOf("?")));const i=r.substring(1).split("&");for(let a=0;a<i.length;a++){const o=i[a].indexOf("=");o>0&&i[a].substring(0,o)===e&&(n=i[a].substring(o+1))}}return n}};let Tt=null;const Vi=()=>{if(Tt!==null)return Tt;try{Tt=window!=="undefined"&&window.localStorage!==null;const t="i18next.translate.boo";window.localStorage.setItem(t,"foo"),window.localStorage.removeItem(t)}catch{Tt=!1}return Tt};var F0={name:"localStorage",lookup(t){let{lookupLocalStorage:e}=t;if(e&&Vi())return window.localStorage.getItem(e)||void 0},cacheUserLanguage(t,e){let{lookupLocalStorage:n}=e;n&&Vi()&&window.localStorage.setItem(n,t)}};let Ct=null;const Bi=()=>{if(Ct!==null)return Ct;try{Ct=window!=="undefined"&&window.sessionStorage!==null;const t="i18next.translate.boo";window.sessionStorage.setItem(t,"foo"),window.sessionStorage.removeItem(t)}catch{Ct=!1}return Ct};var Z0={name:"sessionStorage",lookup(t){let{lookupSessionStorage:e}=t;if(e&&Bi())return window.sessionStorage.getItem(e)||void 0},cacheUserLanguage(t,e){let{lookupSessionStorage:n}=e;n&&Bi()&&window.sessionStorage.setItem(n,t)}},V0={name:"navigator",lookup(t){const e=[];if(typeof navigator<"u"){const{languages:n,userLanguage:r,language:s}=navigator;if(n)for(let i=0;i<n.length;i++)e.push(n[i]);r&&e.push(r),s&&e.push(s)}return e.length>0?e:void 0}},B0={name:"htmlTag",lookup(t){let{htmlTag:e}=t,n;const r=e||(typeof document<"u"?document.documentElement:null);return r&&typeof r.getAttribute=="function"&&(n=r.getAttribute("lang")),n}},K0={name:"path",lookup(t){let{lookupFromPathIndex:e}=t;if(typeof window>"u")return;const n=window.location.pathname.match(/\/([a-zA-Z-]*)/g);return Array.isArray(n)?n[typeof e=="number"?e:0]?.replace("/",""):void 0}},z0={name:"subdomain",lookup(t){let{lookupFromSubdomainIndex:e}=t;const n=typeof e=="number"?e+1:1,r=typeof window<"u"&&window.location?.hostname?.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i);if(r)return r[n]}};function H0(){return{order:["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"],lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:t=>t}}class Oo{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.type="languageDetector",this.detectors={},this.init(e,n)}init(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=e||{languageUtils:{}},this.options=j0(n,this.options||{},H0()),typeof this.options.convertDetectedLanguage=="string"&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=s=>s.replace("-","_")),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=r,this.addDetector(M0),this.addDetector(U0),this.addDetector(F0),this.addDetector(Z0),this.addDetector(V0),this.addDetector(B0),this.addDetector(K0),this.addDetector(z0)}addDetector(e){return this.detectors[e.name]=e,this}detect(e){e||(e=this.options.order);let n=[];return e.forEach(r=>{if(this.detectors[r]){let s=this.detectors[r].lookup(this.options);s&&typeof s=="string"&&(s=[s]),s&&(n=n.concat(s))}}),n=n.map(r=>this.options.convertDetectedLanguage(r)),this.services.languageUtils.getBestMatchFromCodes?n:n.length>0?n[0]:null}cacheUserLanguage(e,n){n||(n=this.options.caches),n&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(e)>-1||n.forEach(r=>{this.detectors[r]&&this.detectors[r].cacheUserLanguage(e,this.options)}))}}Oo.type="languageDetector";const Zn=(t,...e)=>{const n=String.raw(t,e),r=[],s=n.split(`
`);for(let i=0;i<s.length;i+=1){const o=s[i].trimStart();(r.length>0||o.length>0)&&r.push(o)}for(;r.length>0&&!(r[r.length-1].length>0);)r.pop();return r.join(`
`)},q0={general:{loading:"Loading",updating:"Updating"},notFound:{title:"Not found",back:"Back"},posting:{placeholder:"What's happening?",placeholderReply:"Post a reply",emojiPicker:"Emoji",contentWarning:"Content warning",contentWarningReason:"Reason of warning",uploadImage:"Upload image",submit:"Submit",close:"Close",forbiddenToIncludeNsec:"You cannot include private key (nsec).",failedToUploadFile:"Failed to upload files: {{filenames}}",replyToPre:"Reply to",replyToAnd:" and ",replyToPost:""},column:{home:"Home",notification:"Notification",relay:"Relay",japanese:"Japanese",posts:"User",reactions:"Reactions",channel:"Channel",bookmark:"Bookmark",search:"Search",myPosts:"My posts",myReactions:"My reactions",back:"Back",loadLatest:"Load latest posts",loadOld:"Load old posts",addRelayColumn:{add:"追加"},config:{columnWidth:"Column width",widest:"Widest",wide:"Wide",medium:"Medium",narrow:"Narrow",moveLeft:"Move left",moveRight:"Move right",removeColumn:"Remove"}},profile:{following:"Following",followers:"Followers",loadFollowers:"Load",editProfile:"Edit",follow:"Follow",unfollow:"Unfollow",followingCurrently:"Following",followsYou:"follows you",copyPubkey:"Copy ID",showJSON:"Show JSON",mute:"Mute",unmute:"Unmute",followMyself:"Follow myself",unfollowMyself:"Unfollow myself",addColumn:"Add column",addUserColumn:"Add user column",addUserHomeColumn:"Add home column",confirmUnfollow:"Do you really want to unfollow?",confirmUpdateEvenIfEmpty:Zn`
      Your follow list appears to be empty.

      There is no problem if you are trying to follow for the first time.
      Otherwise, it may be caused by poor connections to relays.
      You should reload this page to reconnect to relays.
      You also should make sure you have configured the same relay list as the other clients.

      Do you want to continue?
    `,failedToUpdateFollowList:"Failed to update the follow list",failedToFetchLatestFollowList:"Failed to fetch the latest follow list. It may be disconnected from some relays.",edit:{icon:"Icon",banner:"Banner image",name:"Username",displayName:"Display Name",about:"About",website:"Website",nip05:"Domain verification (NIP-05)",lightningAddress:"LNURL address / lightning address",lightningAddressDescription:"Only one side will be saved.",otherProperties:"Other properties",save:"Save",cancel:"Cancel",updating:"updating...",updateSucceeded:"Updated successfully",failedToUpdatePartially:"Failed to update on {{count}} relays",failedToUpdate:"Failed to update on all relays"}},post:{replyToPre:"Replying to ",replyToPost:"",copyEventId:"Copy ID",showJSON:"Show JSON",showReposts:"Show reposts",showReactions:"Show reactions",deletePost:"Delete",confirmDelete:"Do you really want to delete?",deletedSuccessfully:"Deleted successfully (reload to reflect)",failedToDeletePartially:"Failed to delete on {{count}} relays",failedToDelete:"Failed to delete",showImage:"Show image",showVideo:"Show video",showPreview:"Show preview",showOverflow:"Read more",hideOverflow:"Hide",download:"Download",contentWarning:{show:"Click to display",reason:"Reason",hide:"Hide"},failedToFetchEvent:"Failed to fetch event",unexpectedKind:"Unexpected event（kind:{{kind}}）",unsupportedKind:"Unsupported event（kind:{{kind}}）"},notification:{reposted:" reposted",reacted:" reacted",zapped:" zapped"},zap:{lud06:"LNURL address",lud16:"Lightning Address",fetchingLnUrlEndpoint:"Fetching LNURL endpoint...",fetchingLnUrlEndpointError:"Failed to fetch LNURL endpoint.",lnUrlEndpointError:"LNURL returned an error: ",fetchingLnUrlInvoice:"Fetching Lightning invoice...",fetchingLnUrlInvoiceError:"Failed to fetch Lightning invoice.",userDidNotConfigureZap:"You cannot Zap because the user did't configure Zap.",lnurlServiceDoesNotAllowNostr:"The LNURL service doesn't support Zap. This will be normal lightning payment.",zapSplitIsNotSupported:"Zap split is not supported yet. You'll zap to the author only.",comment:"Comment (optional)",sendViaWallet:"Send via wallet",sendViaWebLN:"Send via extension",completed:"Completed"},config:{config:"Settings",confirmImport:"Import? (The config will be overwritten)",copyToClipboard:"Copy to clipboard",importFromClipboard:"Import from clipboard",profile:{profile:"Profile",openProfile:"Open",editProfile:"Edit"},relays:{relays:"Relays",numOfRelays_one:"{{count}} relay are configured.",numOfRelays_other:"{{count}} relyas are configured.",addRelay:"Add",importRelays:"Import",importFromExtension:"Import from browser extension",notConfigured:"No relays are configured.",askImport:"Do you want to import these relays?",failedToImport:"Failed to import.",imported_one:"Imported {{count}} relay.",imported_other:"Imported {{count}} relays"},display:{display:"Display",colorTheme:"Color theme",timeNotation:"Time notation",relativeTimeNotation:"Relative",relativeTimeNotationExample:"7s",absoluteTimeNotationShort:"Absolute (short)",absoluteTimeNotationShortExample:"Yesterday 23:55",absoluteTimeNotationLong:"Absolute (long)",absoluteTimeNotationLongExample:"2020/11/8 21:02:53",reaction:"Reaction",enableEmojiReaction:"Enable emoji reaction",showEmojiReaction:"Show emoji reactions on posts",embedding:"Embedded contents",embeddingDescription:"Enable/disable embedding",others:"Others",keepOpenPostForm:"Remain the input field open after posting",showMediaByDefault:"Load media by default",hideNumbers:"Hide the numbers of reactions, reposts and followers"},customEmoji:{customEmoji:"Custom emojis",shortcode:"Name",url:"URL",addEmoji:"Add",removeEmoji:"Remove",emojiImport:"Emoji import",emojiImportDescription:"Paste a JSON where the keys are names and the values are image URLs",importEmoji:"Import"},mute:{mute:"Mute",mutedUsers:"Muted users",mutedKeywords:"Muted keywords",add:"Add"}},hello:{signerChecking:"Checking that signer extension is installed...",signerUnavailable:"Please install a signer extension.",loginWithSigner:"Login with signer extension",signerUnavailableMessage:"You need to install a signer browser extension.",reloadAfterInstall:"Please reload after the installation is complete.",reload:"Reload"},about:{bugReport:"Report bug",sourceCode:"Source code",termOfService:"License",agplText:Zn`
      This program is free software:

      you can redistribute it and/or modify it under the terms of
      the GNU Affero General Public License as published by
      the Free Software Foundation, either version 3 of the License,
      or (at your option) any later version.

      This program is distributed in the hope that it will be useful,
      but WITHOUT ANY WARRANTY; without even the implied warranty of
      MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
      GNU Affero General Public License for more details.
    `,agplTranslationJa:"Japanese translation as a reference",usingLibraries:"Using libraries"},domainTransfer:{announcementHead:"Rabbit has moved to the new domain",announcementDescription:"Please update your bookmark and links",howToMigrateSettings:"How to migrate settings",close:"Close"}},Q0={general:{loading:"読み込み中",updating:"更新中"},notFound:{title:"ページが見つかりませんでした",back:"戻る"},posting:{placeholder:"いまどうしてる？",placeholderReply:"返信を投稿",emojiPicker:"絵文字を追加",contentWarning:"コンテンツ警告を設定",contentWarningReason:"警告の理由",uploadImage:"画像を投稿",submit:"投稿",close:"閉じる",forbiddenToIncludeNsec:"投稿に秘密鍵(nsec)を含めることはできません。",failedToUploadFile:"ファイルのアップロードに失敗しました: {{filenames}}",replyToPre:"",replyToAnd:" と ",replyToPost:"に返信"},column:{home:"ホーム",notification:"通知",relay:"リレー",japanese:"日本語",posts:"投稿",reactions:"リアクション",channel:"チャンネル",bookmark:"ブックマーク",search:"検索",myPosts:"自分の投稿",myReactions:"自分のリアクション",back:"戻る",loadLatest:"最新の投稿を読み込む",loadOld:"古い投稿を読み込む",addRelayColumn:{add:"追加"},config:{columnWidth:"カラム幅",widest:"特大",wide:"大",medium:"中",narrow:"小",moveLeft:"左に移動",moveRight:"右に移動",removeColumn:"削除"}},profile:{following:"フォロー",followers:"フォロワー",loadFollowers:"読み込む",editProfile:"編集",follow:"フォロー",unfollow:"フォロー解除",followingCurrently:"フォロー中",followsYou:"フォローされています",copyPubkey:"IDをコピー",showJSON:"JSONを確認",mute:"ミュート",unmute:"ミュート解除",followMyself:"自分をフォロー",unfollowMyself:"自分をフォロー解除",addColumn:"カラムを追加",addUserColumn:"ユーザカラムを追加",addUserHomeColumn:"ホームカラムを追加",confirmUnfollow:"本当にフォロー解除しますか？",confirmUpdateEvenIfEmpty:Zn`
      フォローリストが空のようです。初めてのフォローであれば問題ありません。
      そうでなければ、リレーとの接続がうまくいっていない可能性があります。ページを再読み込みしてリレーと再接続してください。
      また、他のクライアントと同じリレーを設定できているどうかご確認ください。

      続行しますか？
    `,failedToUpdateFollowList:"フォローリストの更新に失敗しました",failedToFetchLatestFollowList:"最新のフォローリストを取得できませんでした。リレーの接続状況が悪い可能性があります。",edit:{icon:"アイコン",banner:"バナー",name:"ユーザ名",displayName:"ユーザ名",about:"自己紹介",website:"ウェブサイト",nip05:"ドメイン証明（NIP-05）",lightningAddress:"LNURLアドレス / ライトニングアドレス",lightningAddressDescription:"どちらか片方のみが保存されます。",otherProperties:"その他の項目",save:"更新",cancel:"キャンセル",updating:"更新中...",updateSucceeded:"更新しました",failedToUpdatePartially:"{{count}}個のリレーで更新に失敗しました",failedToUpdate:"すべてのリレーで更新に失敗しました"}},post:{replyToPre:"",replyToPost:"への返信",copyEventId:"IDをコピー",showJSON:"JSONを確認",showReposts:"リポスト一覧",showReactions:"リアクション一覧",deletePost:"削除",confirmDelete:"本当に削除しますか？",deletedSuccessfully:"削除しました（画面への反映にはリロード）",failedToDeletePartially:"{{count}}個のリレーで削除に失敗しました",failedToDelete:"すべてのリレーで削除に失敗しました",showImage:"画像を表示する",showVideo:"動画を表示する",showPreview:"プレビューを表示する",showOverflow:"続きを読む",hideOverflow:"隠す",download:"ダウンロード",contentWarning:{show:"表示するにはクリック",reason:"理由",hide:"隠す"},failedToFetchEvent:"取得に失敗しました",unexpectedKind:"予期しないイベントです（kind:{{kind}}）",unsupportedKind:"未対応のイベントです（kind:{{kind}}）"},notification:{reposted:"がリポスト",reacted:"がリアクション",zapped:"がZap"},zap:{lud06:"LNURLアドレス",lud16:"ライトニングアドレス",fetchingLnUrlEndpoint:"LNURLエンドポイントを取得中...",fetchingLnUrlEndpointError:"LNURLエンドポイントを取得できませんでした",lnUrlEndpointError:"LNURLエンドポイントがエラーを返しました: ",fetchingLnUrlInvoice:"ライトニングインボイスを取得中...",fetchingLnUrlInvoiceError:"ライトニングインボイスを取得できませんでした",userDidNotConfigureZap:"このユーザはZapを設定していないため、Zapできません。",lnurlServiceDoesNotAllowNostr:"受取人のLNURLサービスがZapをサポートしていないため、通常のライトニング送金となります。",zapSplitIsNotSupported:"Zap分配はまだサポートされていません。投稿者のみへの送金となります。",comment:"コメント (任意)",sendViaWallet:"ウォレットで送る",sendViaWebLN:"拡張機能で送る",completed:"完了"},config:{config:"設定",confirmImport:"インポートしますか？（現在の設定は上書きされます）",copyToClipboard:"クリップボードに設定をコピー",importFromClipboard:"設定をクリップボードから読み込む",profile:{profile:"プロフィール",openProfile:"開く",editProfile:"編集"},relays:{relays:"リレー",numOfRelays_one:"{{count}}個のリレーが設定されています。",numOfRelays_other:"{{count}}個のリレーが設定されています。",addRelay:"追加",importRelays:"インポート",importFromExtension:"拡張機能からインポート",notConfigured:"リレーが設定されていません",askImport:"これらのリレーをインポートしますか？",failedToImport:"インポートに失敗しました",imported_one:"{{count}}個のリレーをインポートしました",imported_other:"{{count}}個のリレーをインポートしました"},display:{display:"表示",colorTheme:"カラーテーマ",timeNotation:"時刻の表記",relativeTimeNotation:"相対表記",relativeTimeNotationExample:"7秒前",absoluteTimeNotationShort:"絶対表記 (短形式)",absoluteTimeNotationShortExample:"昨日 23:55",absoluteTimeNotationLong:"絶対表記 (長形式)",absoluteTimeNotationLongExample:"2020/11/8 21:02:53",reaction:"リアクション",enableEmojiReaction:"絵文字を選べるようにする",showEmojiReaction:"投稿にリアクションされた絵文字を表示する",embedding:"埋め込み",embeddingDescription:"各項目の埋め込みを有効にするかどうか",others:"その他",keepOpenPostForm:"投稿後も投稿欄を開いたままにする",showMediaByDefault:"デフォルトで画像や動画を読み込む",hideNumbers:"いいねやリポスト、フォロワーなどの数を隠す"},customEmoji:{customEmoji:"カスタム絵文字",shortcode:"名前",url:"URL",addEmoji:"追加",removeEmoji:"削除",emojiImport:"絵文字のインポート",emojiImportDescription:"絵文字の名前をキー、画像のURLを値とするJSONを読み込むことができます。",importEmoji:"インポート"},mute:{mute:"ミュート",mutedUsers:"ミュートしたユーザ",mutedKeywords:"ミュートした単語",add:"追加"}},hello:{signerChecking:"ブラウザ拡張機能のインストール状況を確認中...",signerUnavailable:"ブラウザ拡張機能が必要です",loginWithSigner:"拡張機能でログイン",signerUnavailableMessage:"利用するにはブラウザ拡張機能をインストールしてください。",reloadAfterInstall:"インストールが完了したら再読み込みしてください。",reload:"再読み込み"},about:{bugReport:"バグ報告",sourceCode:"ソースコード",termOfService:"利用規約",agplText:Zn`
      このプログラムは自由ソフトウェアです。

      フリーソフトウェア財団から発行された GNUアフェロー一般公衆ライセンス
      （バージョン3か、(任意で)より新しいバージョンのいずれか）の条件の下で
      再頒布や改変、あるいはその両方を行うことができます。

      このプログラムは役立つことを願って頒布されていますが、
      **いかなる保証もありません**。

      _商品性_や_特定目的適合性_ に対する保証は暗示されたものも含めて存在しません。
      詳しくはGNUアフェロー一般公衆ライセンスをご覧ください。
    `,agplTranslationJa:"参考日本語訳",usingLibraries:"使用ライブラリ"},domainTransfer:{announcementHead:"Rabbitは新しいドメインに移りました",announcementDescription:"ブックマークやリンクの更新をお願いします",howToMigrateSettings:"設定の移行方法について",close:"閉じる"}},W0=async()=>{try{return await Q.use(Oo).init({fallbackLng:"en",debug:!1,resources:{ja:{translation:Q0},en:{translation:q0}}}),Q}catch(t){throw console.error("failed to setup i18next",t),t}},G0=qn(()=>Qn(()=>import("./Hello-CYxAH9lK.js"),__vite__mapDeps([0,1,2]))),J0=qn(()=>Qn(()=>import("./Home-BUG9Dhbk.js"),__vite__mapDeps([3,4,1,5,6,7,2,8]))),Y0=qn(()=>Qn(()=>import("./Permalink-BDE8uw95.js"),__vite__mapDeps([9,4,1]))),X0=qn(()=>Qn(()=>import("./NotFound-D3RwTKI_.js"),[])),Ki=new yl({}),e1=W0(),t1={id:/^npub1[ac-hj-np-z02-9]+$/},n1=Zu({storage:{getItem(t){return Tl(t).then(e=>e??null)},setItem(t,e){return Cl(t,e)},removeItem(t){return $l(t)}}}),r1=()=>{const{persistStatus:t}=L0();return K(es,{get when(){return t().loggedIn},get fallback(){return K(G0,{})},get children(){return K(J0,{})}})},s1=()=>(ft(()=>{const[t]=ml({queryClient:Ki,persister:n1});me(()=>t())}),k0(document.body),K(Aw,{i18next:e1,get children(){return K(vl,{client:Ki,get children(){return K(Lu,{get children(){return[K(an,{path:"/hello",component:()=>K(Nu,{href:"/"})}),K(an,{path:"/",component:()=>K(r1,{})}),K(an,{path:"/:id",component:()=>K(Y0,{}),matchFilters:t1}),K(an,{path:"/*",component:()=>K(X0,{})})]}})}})}}));zo(()=>K(s1,{}),document.getElementById("root"));export{zy as $,me as A,M1 as B,qn as C,O1 as D,C1 as E,o1 as F,i1 as G,h1 as H,i0 as I,R1 as J,A1 as K,H_ as L,l1 as M,L1 as N,P1 as O,Ke as P,rs as Q,Gb as R,u1 as S,I_ as T,_1 as U,x1 as V,b1 as W,w1 as X,$a as Y,T1 as Z,Qn as _,K as a,hg as a$,Hb as a0,N1 as a1,f1 as a2,Go as a3,S1 as a4,un as a5,v1 as a6,y1 as a7,h0 as a8,$e as a9,tn as aA,fc as aB,Lv as aC,Jv as aD,Na as aE,ms as aF,re as aG,wr as aH,E1 as aI,N_ as aJ,ws as aK,le as aL,k1 as aM,Mv as aN,cs as aO,vs as aP,kg as aQ,Tg as aR,rr as aS,Cp as aT,Pg as aU,ka as aV,_p as aW,yp as aX,zh as aY,Xt as aZ,Em as a_,Jn as aa,Gn as ab,Uo as ac,W as ad,Jt as ae,Yt as af,$o as ag,$1 as ah,qi as ai,Qo as aj,nw as ak,ew as al,tw as am,rw as an,sw as ao,iw as ap,m0 as aq,I1 as ar,j1 as as,a1 as at,it as au,qo as av,ps as aw,Ua as ax,nr as ay,en as az,De as b,za as b0,Fa as b1,Ka as b2,Yg as b3,_e as b4,Y as c,ea as d,pu as e,Cr as f,L0 as g,es as h,$r as i,$0 as j,pn as k,D1 as l,Wo as m,Jo as n,ko as o,D_ as p,je as q,ft as r,d1 as s,c1 as t,kw as u,Z as v,w0 as w,Kr as x,Ta as y,m1 as z};
//# sourceMappingURL=index-BNStRSs3.js.map
