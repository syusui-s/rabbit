import{u as R,j as Z,w as m,a as n,i as r,h as l,b as I,f as j,d as B,t as s}from"./index-CvufKy-1.js";import{B as D}from"./Home-C_XlOcpm.js";import{E as M,j as N}from"./EventDisplay-o840Rscw.js";import{i as v,U as T,f as V,g as a}from"./SideBar-BD5ARE8G.js";import{u as h,Z as A,l as q,a as F}from"./lud16ToLnurlPayUrl-DbQuuN-7.js";import{t as G}from"./url-DPIb-kBm.js";import"./arrow-left-auFxq3f0.js";import"./useFollowings-C6qvwves.js";import"./useSubscription-JbOrRf0k.js";import"./NostrSet-C_EhWi4d.js";import"./SafeLink-Cf9K7VbA.js";import"./resolveAsset-D-MKg2vE.js";import"./_baseClone-DtEf7fiO.js";const H=s('<div class="flex items-center gap-1 text-sm"><div class="flex w-6 flex-col items-center"><div class="size-4 shrink-0 text-amber-500"aria-hidden=true></div><div class="mt-[-2px] shrink-0 text-xs"></div></div><div class="notification-user flex gap-1 overflow-hidden"><div class="author-icon size-5 shrink-0 overflow-hidden rounded"></div><div class="flex min-w-0 flex-1 overflow-hidden"><button class="select-text truncate font-bold hover:text-link hover:underline"></button><span class=shrink-0>'),J=s('<div class="ml-7 whitespace-pre-wrap break-words rounded border border-border px-1 text-sm">'),K=s('<div class="notification-event py-1">'),O=s('<img alt=icon class="size-full object-cover">'),ue=i=>{const b=R(),{shouldMuteEvent:x}=Z(),{showProfile:g}=V(),t=m(()=>new A(i.event)),{profile:$}=v(()=>({pubkey:t().senderPubkey()})),{profile:u}=v(()=>a([t().zappedPubkey()])(([e])=>({pubkey:e}))),w=()=>{const e=u()?.lud06;return e==null?null:q(e)},y=()=>{const e=u()?.lud16;return e==null?null:F(e)},_=h(()=>a([w()])(([e])=>({lnurlPayUrl:e}))),k=h(()=>a([y()])(([e])=>({lnurlPayUrl:e}))),P=()=>{const e=t().amountSats();return e==null?null:N(e)},E=()=>_.isZapReceiptVerified(i.event)||k.isZapReceiptVerified(i.event);return n(l,{get when(){return m(()=>!x(i.event))()&&E()},get children(){return[(()=>{const e=H(),d=e.firstChild,c=d.firstChild,S=c.nextSibling,z=d.nextSibling,p=z.firstChild,L=p.nextSibling,o=L.firstChild,U=o.nextSibling;return r(c,n(D,{})),r(S,P),r(p,n(l,{get when(){return $()?.picture},keyed:!0,children:C=>(()=>{const f=O();return I(()=>j(f,"src",G(C,"icon"))),f})()})),o.$$click=()=>g(t().senderPubkey()),r(o,n(T,{get pubkey(){return t().senderPubkey()}})),r(U,()=>b.t("notification.zapped")),e})(),n(l,{get when(){return t().description().content.length>0},get children(){const e=J();return r(e,()=>t().description().content),e}}),n(l,{get when(){return t().zappedEventId()!=null},get children(){const e=K();return r(e,n(M,{get eventId(){return t().zappedEventId()}})),e}})]}})};B(["click"]);export{ue as default};
//# sourceMappingURL=ZapReceipt-CQoKNekD.js.map
