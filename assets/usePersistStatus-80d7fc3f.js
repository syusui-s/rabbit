import{c as u,w as S,o as d,k as f,j as m}from"./index-69396151.js";const I=(t,r,o)=>{const e=t();return{getItem(s){const a=e.getItem(s);return a!=null?o(a):null},setItem(s,a){const n=r(a);e.setItem(s,n)}}},T=(t,r,o)=>{const[e,s]=u(!1),[a,n]=S(r);return d(()=>{const c=o.getItem(t);c!=null&&n(c),s(!0)}),f(()=>{e()&&o.setItem(t,a)}),[a,n]},P=t=>{const r=new URL("/rabbit/",window.location.href);return new URL(t,r).href},g={loggedIn:!1,agreements:{nostrBuild:!1}},w=t=>JSON.stringify(t),b=t=>JSON.parse(t),p=I(()=>window.localStorage,w,b),[i,l]=m(()=>T("RabbitPersistStatus",g,p)),R=()=>({persistStatus:()=>({...g,...i}),loggedIn:()=>{l(e=>({...e,loggedIn:!0}))},agreeToToS:e=>{l("agreements",s=>({...s,[e]:!0}))},didAgreeToToS:e=>i.agreements[e]??!1});export{T as a,I as c,P as r,R as u};
//# sourceMappingURL=usePersistStatus-80d7fc3f.js.map
