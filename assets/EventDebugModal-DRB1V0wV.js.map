{"version":3,"file":"EventDebugModal-DRB1V0wV.js","sources":["../../src/components/modal/EventDebugModal.tsx"],"sourcesContent":["import { Component, createMemo, Show } from 'solid-js';\n\nimport { type Event as NostrEvent } from 'nostr-tools/pure';\n\nimport BasicModal from '@/components/modal/BasicModal';\nimport Copy from '@/components/utils/Copy';\nimport usePool from '@/nostr/usePool';\n\nexport type EventDebugModalProps = {\n  event: NostrEvent;\n  extra?: string;\n  onClose: () => void;\n};\n\nconst EventDebugModal: Component<EventDebugModalProps> = (props) => {\n  const pool = usePool();\n\n  const json = createMemo(() => JSON.stringify(props.event, null, 2));\n  const seenOn = createMemo(() => {\n    const relays = pool().seenOn.get(props.event.id) ?? [];\n    return [...relays].map((relay) => relay.url).join('\\n');\n  });\n\n  return (\n    <BasicModal onClose={props.onClose}>\n      <div class=\"p-4\">\n        <h2 class=\"text-lg font-bold\">Event JSON</h2>\n        <pre class=\"whitespace-pre-wrap break-all rounded-lg border border-border p-4 text-xs\">\n          {json()}\n        </pre>\n        <div class=\"flex justify-end\">\n          <Copy class=\"size-4 hover:text-primary\" text={json()} />\n        </div>\n      </div>\n      <Show when={props.extra}>\n        <div class=\"p-4\">\n          <h2 class=\"text-lg font-bold\">Extra</h2>\n          <pre class=\"whitespace-pre-wrap break-all rounded-lg border border-border p-4 text-xs\">\n            {props.extra}\n          </pre>\n        </div>\n      </Show>\n      <div class=\"p-4\">\n        <h2 class=\"text-lg font-bold\">Found in these relays</h2>\n        <p>If this is empty, it is from the cache.</p>\n        <pre class=\"whitespace-pre-wrap break-all rounded-lg border border-border p-2 text-xs\">\n          {seenOn()}\n        </pre>\n      </div>\n    </BasicModal>\n  );\n};\n\nexport default EventDebugModal;\n"],"names":["EventDebugModal","props","pool","usePool","json","createMemo","JSON","stringify","event","seenOn","get","id","map","relay","url","join","_$createComponent","BasicModal","onClose","children","_el$","_tmpl$","_el$2","firstChild","_el$3","nextSibling","_el$4","_$insert","Copy","text","Show","when","extra","_el$5","_tmpl$2","_el$6","_el$7","_el$8","_tmpl$3","_el$9","_el$10","_el$11"],"mappings":"0wBAcMA,EAA8DC,GAAA,CAClE,MAAMC,EAAOC,IAEPC,EAAOC,EAAW,IAAMC,KAAKC,UAAUN,EAAMO,MAAO,KAAM,CAAC,CAAC,EAC5DC,EAASJ,EAAW,IAEjB,CAAC,GADOH,EAAOO,EAAAA,OAAOC,IAAIT,EAAMO,MAAMG,EAAE,GAAK,EACnC,EAAEC,OAAeC,EAAMC,GAAG,EAAEC,KAAK;AAAA,CAAI,CACvD,EAED,OAAAC,EACGC,EAAU,CAAA,IAACC,SAAO,CAAA,OAAEjB,EAAMiB,OAAO,EAAA,IAAAC,UAAA,CAAA,MAAA,EAAA,IAAA,CAAAC,MAAAA,EAAAC,IAAAC,EAAAF,EAAAG,WAAAC,EAAAF,EAAAG,YAAAC,EAAAF,EAAAC,YAAAE,OAAAA,EAAAH,EAI3BpB,CAAI,EAAAsB,EAAAA,EAAAV,EAGJY,EAAI,CAAA,MAAA,4BAAA,IAAmCC,MAAI,CAAA,OAAEzB,EAAK,CAAC,CAAA,CAAA,CAAA,EAAAgB,CAAAA,GAAAJ,EAAAA,EAGvDc,EAAI,CAAA,IAACC,MAAI,CAAA,OAAE9B,EAAM+B,KAAK,EAAA,IAAAb,UAAA,CAAA,MAAAc,EAAAC,EAAA,EAAAC,EAAAF,EAAAV,WAAAa,EAAAD,EAAAV,YAAAW,OAAAA,EAAAA,EAIhBnC,IAAAA,EAAM+B,KAAK,EAAAC,CAAA,CAAA,CAAA,GAAA,IAAA,CAAAI,MAAAA,EAAAC,IAAAC,EAAAF,EAAAd,WAAAiB,EAAAD,EAAAd,YAAAgB,EAAAD,EAAAf,YAAAE,OAAAA,EAAAc,EAQbhC,CAAM,EAAA4B,KAAA,CAAA,CAAA,CAAA,CAKjB"}