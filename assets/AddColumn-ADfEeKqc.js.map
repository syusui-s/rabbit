{"version":3,"file":"AddColumn-ADfEeKqc.js","sources":["../../src/components/modal/AddColumn.tsx"],"sourcesContent":["import { Component } from 'solid-js';\n\nimport Bell from 'heroicons/24/outline/bell.svg';\nimport GlobeAlt from 'heroicons/24/outline/globe-alt.svg';\nimport Heart from 'heroicons/24/outline/heart.svg';\nimport Home from 'heroicons/24/outline/home.svg';\nimport MagnifyingGlass from 'heroicons/24/outline/magnifying-glass.svg';\nimport User from 'heroicons/24/outline/user.svg';\n// import BookmarkIcon from 'heroicons/24/outline/bookmark.svg';\n// import ChatBubbleLeftRight from 'heroicons/24/outline/chat-bubble-left-right.svg';\n\nimport BasicModal from '@/components/modal/BasicModal';\nimport {\n  createFollowingColumn,\n  createJapanRelaysColumn,\n  createNotificationColumn,\n  createPostsColumn,\n  createReactionsColumn,\n  createSearchColumn,\n} from '@/core/column';\nimport useConfig from '@/core/useConfig';\nimport { useRequestCommand } from '@/hooks/useCommandBus';\nimport { useTranslation } from '@/i18n/useTranslation';\nimport usePubkey from '@/nostr/usePubkey';\nimport ensureNonNull from '@/utils/ensureNonNull';\n\ntype AddColumnProps = {\n  onClose: () => void;\n};\n\nconst AddColumn: Component<AddColumnProps> = (props) => {\n  const i18n = useTranslation();\n  const pubkey = usePubkey();\n  const { saveColumn } = useConfig();\n  const request = useRequestCommand();\n\n  const finish = () => {\n    props.onClose();\n    request({ command: 'moveToLastColumn' }).catch((err) => console.error(err));\n  };\n\n  const addFollowingColumn = () => {\n    ensureNonNull([pubkey()] as const)(([pubkeyNonNull]) => {\n      saveColumn(createFollowingColumn({ pubkey: pubkeyNonNull }));\n    });\n    finish();\n  };\n\n  const addNotificationColumn = () => {\n    ensureNonNull([pubkey()] as const)(([pubkeyNonNull]) => {\n      saveColumn(createNotificationColumn({ pubkey: pubkeyNonNull }));\n    });\n    finish();\n  };\n\n  const addJapanRelaysColumn = () => {\n    saveColumn(createJapanRelaysColumn());\n    finish();\n  };\n\n  const addSearchColumn = () => {\n    saveColumn(createSearchColumn({ query: '' }));\n    finish();\n  };\n\n  const addMyPostsColumn = () => {\n    ensureNonNull([pubkey()] as const)(([pubkeyNonNull]) => {\n      saveColumn(createPostsColumn({ pubkey: pubkeyNonNull }));\n    });\n    finish();\n  };\n\n  const addMyReactionsColumn = () => {\n    ensureNonNull([pubkey()] as const)(([pubkeyNonNull]) => {\n      saveColumn(createReactionsColumn({ pubkey: pubkeyNonNull }));\n    });\n    finish();\n  };\n\n  return (\n    <BasicModal onClose={props.onClose}>\n      <div class=\"flex flex-wrap p-4\">\n        <button\n          class=\"flex basis-1/2 flex-col items-center gap-2 py-8 hover:text-primary sm:basis-1/4\"\n          onClick={() => addFollowingColumn()}\n        >\n          <span class=\"inline-block size-8\">\n            <Home />\n          </span>\n          {i18n.t('column.home')}\n        </button>\n        <button\n          class=\"flex basis-1/2 flex-col items-center gap-2 py-8 hover:text-primary sm:basis-1/4\"\n          onClick={() => addNotificationColumn()}\n        >\n          <span class=\"inline-block size-8\">\n            <Bell />\n          </span>\n          {i18n.t('column.notification')}\n        </button>\n        <button\n          class=\"flex basis-1/2 flex-col items-center gap-2 py-8 hover:text-primary sm:basis-1/4\"\n          onClick={() => addJapanRelaysColumn()}\n        >\n          <span class=\"inline-block size-8\">\n            <GlobeAlt />\n          </span>\n          {i18n.t('column.japanese')}\n        </button>\n        {/*\n        <button\n          class=\"flex basis-1/2 flex-col items-center gap-2 py-8 sm:basis-1/4\"\n          onClick={() => window.alert()}\n        >\n          <span class=\"inline-block size-8\">\n            <ChatBubbleLeftRight />\n          </span>\n          チャンネル\n        </button>\n        */}\n        {/*\n        <button\n          class=\"flex basis-1/2 flex-col items-center gap-2 py-8 sm:basis-1/4\"\n          onClick={() => addBookmarkColumn()}\n        >\n          <span class=\"inline-block size-8\">\n            <BookmarkIcon />\n          </span>\n          ブックマーク\n        </button>\n        */}\n        <button\n          class=\"flex basis-1/2 flex-col items-center gap-2 py-8 hover:text-primary sm:basis-1/4\"\n          onClick={() => addSearchColumn()}\n        >\n          <span class=\"inline-block size-8\">\n            <MagnifyingGlass />\n          </span>\n          {i18n.t('column.search')}\n        </button>\n        <button\n          class=\"flex basis-1/2 flex-col items-center gap-2 py-8 hover:text-primary sm:basis-1/4\"\n          onClick={() => addMyPostsColumn()}\n        >\n          <span class=\"inline-block size-8\">\n            <User />\n          </span>\n          {i18n.t('column.myPosts')}\n        </button>\n        <button\n          class=\"flex basis-1/2 flex-col items-center gap-2 py-8 hover:text-primary sm:basis-1/4\"\n          onClick={() => addMyReactionsColumn()}\n        >\n          <span class=\"inline-block size-8\">\n            <Heart />\n          </span>\n          {i18n.t('column.myReactions')}\n        </button>\n      </div>\n    </BasicModal>\n  );\n};\n\nexport default AddColumn;\n"],"names":["AddColumn","props","i18n","useTranslation","pubkey","usePubkey","saveColumn","useConfig","request","useRequestCommand","finish","onClose","command","catch","err","console","error","addFollowingColumn","ensureNonNull","pubkeyNonNull","createFollowingColumn","addNotificationColumn","createNotificationColumn","addJapanRelaysColumn","createJapanRelaysColumn","addSearchColumn","createSearchColumn","query","addMyPostsColumn","createPostsColumn","addMyReactionsColumn","createReactionsColumn","_$createComponent","BasicModal","children","_el$","_tmpl$","_el$2","firstChild","_el$3","_el$4","nextSibling","_el$5","_el$6","_el$7","_el$8","_el$9","_el$10","_el$11","_el$12","_el$13","$$click","_$insert","Home","t","Bell","GlobeAlt","MagnifyingGlass","User","Heart","_$delegateEvents"],"mappings":"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"}