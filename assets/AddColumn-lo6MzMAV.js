import{s as w,t as u,u as v,j as x,c as S,a as t,S as _,i,F as $,aj as M,M as H,d as A,ak as P,al as U,am as j,an as q,ah as B,ao as E,ap as F}from"./index-vB-Ph9_p.js";import{b as L,a as N,H as z,g as G,G as T,M as D,h as J,i as W,e as y}from"./SideBar-boBxCUjq.js";import{B as K}from"./BasicModal-m-m9T6_X.js";import{i as O}from"./url-4UJeT0bq.js";import"./resolveAsset-fXUt5UT7.js";const Q=u('<svg xmlns=http://www.w3.org/2000/svg fill=none stroke=currentColor stroke-width=1.5 aria-hidden=true data-slot=icon viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round d="M21.75 17.25v-.228a4.5 4.5 0 0 0-.12-1.03l-2.268-9.64a3.375 3.375 0 0 0-3.285-2.602H7.923a3.375 3.375 0 0 0-3.285 2.602l-2.268 9.64a4.5 4.5 0 0 0-.12 1.03v.228m19.5 0a3 3 0 0 1-3 3H5.25a3 3 0 0 1-3-3m19.5 0a3 3 0 0 0-3-3H5.25a3 3 0 0 0-3 3m16.5 0h.008v.008h-.008zm-3 0h.008v.008h-.008z">'),V=(s={})=>(()=>{const a=Q();return w(a,s,!0,!0),a})(),X=u('<div class=p-8><form class="flex gap-1"><input class="flex-1 rounded-md border-border bg-bg placeholder:text-fg-secondary focus:border-border focus:ring-primary"type=text name=url placeholder=wss://... pattern=wss?://.* required><button class="rounded border border-primary px-4 py-1 font-bold text-primary"type=submit></button></form><div class="flex flex-col items-start gap-1 pt-8">'),Y=u('<button type=button class="text-fg-secondary hover:text-fg">'),Z=u('<div class="flex flex-wrap p-4">'),I=u('<button class="flex basis-1/2 flex-col items-center gap-2 py-8 hover:text-primary sm:basis-1/4"><span class="inline-block size-8">'),ee=s=>{const a=v(),{config:l}=x(),[o,C]=S(""),f=r=>{r.preventDefault();const e=o();if(!O(e)){window.alert("Invalid url");return}s.addRelaysColumn([e])};return(()=>{const r=X(),e=r.firstChild,d=e.firstChild,h=d.nextSibling,b=e.nextSibling;return e.addEventListener("submit",f),d.addEventListener("change",c=>C(c.currentTarget.value)),i(h,()=>a.t("column.addRelayColumn.add")),i(b,t($,{get each(){return l().relayUrls},children:c=>(()=>{const m=Y();return m.$$click=()=>s.addRelaysColumn([c]),i(m,c),m})()})),r})()},ce=s=>{const a=v(),l=L(),{saveColumn:o}=x(),C=N(),[f,r]=S(void 0),e=()=>{s.onClose(),C({command:"moveToLastColumn"}).catch(n=>console.error(n))},d=()=>{y([l()])(([n])=>{o(U({pubkey:n}))}),e()},h=()=>{y([l()])(([n])=>{o(j({pubkey:n}))}),e()},b=()=>{o(q()),e()},c=n=>{o(P({relayUrls:n})),e()},k=[{name:()=>a.t("column.home"),icon:()=>t(z,{}),onSelect:d},{name:()=>a.t("column.notification"),icon:()=>t(G,{}),onSelect:h},{name:()=>a.t("column.relay"),icon:()=>t(V,{}),onSelect:()=>r("AddRelaysColumn")},{name:()=>a.t("column.japanese"),icon:()=>t(T,{}),onSelect:b},{name:()=>a.t("column.search"),icon:()=>t(D,{}),onSelect:()=>{o(B({query:""})),e()}},{name:()=>a.t("column.myPosts"),icon:()=>t(J,{}),onSelect:()=>{y([l()])(([n])=>{o(E({pubkey:n}))}),e()}},{name:()=>a.t("column.myReactions"),icon:()=>t(W,{}),onSelect:()=>{y([l()])(([n])=>{o(F({pubkey:n}))}),e()}}];return t(K,{get onClose(){return s.onClose},get children(){return t(_,{get fallback(){return(()=>{const n=Z();return i(n,t($,{each:k,children:g=>(()=>{const p=I(),R=p.firstChild;return M(p,"click",g.onSelect,!0),i(R,()=>g.icon()),i(p,()=>g.name(),null),p})()})),n})()},get children(){return t(H,{get when(){return f()==="AddRelaysColumn"},get children(){return t(ee,{addRelaysColumn:c})}})}})}})};A(["click"]);export{ce as default};
//# sourceMappingURL=AddColumn-lo6MzMAV.js.map
