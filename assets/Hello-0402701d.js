import{g as x,J as _,u as $,y as u,i as l,a as i,M as c,b as S,j as w,l as k,d as C,t as s,c as I}from"./main-d0d65c2a.js";import{a as y,r as M,u as N}from"./usePersistStatus-2a283cb5.js";import"./modulepreload-polyfill-3cfb730f.js";const R=s("<p>"),A=s("<h2 class=font-bold>"),E=s('<p><br>初めて利用する方も、他のクライアントをつかっている方も<br><a class="text-link underline"target=_blank rel="noopener noreferrer"href=https://scrapbox.io/nostr/NIP-07#63e1c10c8b8fcb00000584fc>こちらを参考</a>に拡張機能をインストールしてください。<br>終わりましたら、このページを再読込してください。'),P=s('<button class="rounded bg-primary p-4 text-lg font-bold text-primary-fg hover:shadow-md">'),W=s('<div class="mx-auto flex max-w-[640px] flex-col items-center p-4 text-fg"><div class="flex flex-col items-center gap-4 rounded p-4"><img width=96 alt=logo height=96><h1 class="text-5xl font-black text-primary">Rabbit</h1><div>Rabbit is a Web client for Nostr.</div></div><div class="rounded-md p-8 shadow-md">'),j=()=>{const[n,t]=I("checking"),r=()=>{window.nostr!=null?t("available"):t("unavailable")};return u(()=>{let a=0;const o=setInterval(()=>{r(),a>=10&&clearInterval(o),a+=1},1e3)}),n},O=()=>{const n=x(),t=j(),r=_(),{persistStatus:a,loggedIn:o}=N(),{config:f}=$(),{canImport:h,importConfig:m}=y(),p=()=>{f().columns.length===0&&h()&&window.confirm("import config from old domain?")&&m(),o(),r("/")};return u(()=>{console.log(),a().loggedIn&&r("/")}),(()=>{const g=W(),d=g.firstChild,b=d.firstChild,v=d.nextSibling;return l(v,i(S,{get children(){return[i(c,{get when(){return t()==="checking"},get children(){const e=R();return l(e,()=>n()("hello.signerChecking")),e}}),i(c,{get when(){return t()==="unavailable"},get children(){return[(()=>{const e=A();return l(e,()=>n()("hello.signerUnavailable")),e})(),E()]}}),i(c,{get when(){return t()==="available"},get children(){const e=P();return e.$$click=p,l(e,()=>n()("hello.loginWithSigner")),e}})]}})),w(()=>k(b,"src",M("images/rabbit_256.png"))),g})()};C(["click"]);export{O as default};
//# sourceMappingURL=Hello-0402701d.js.map
