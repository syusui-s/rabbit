import{c as u,w as S,o as d,k as f}from"./index-0fbea07b.js";const m=(t,a,o)=>{const e=t();return{getItem(s){const r=e.getItem(s);return r!=null?o(r):null},setItem(s,r){const n=a(r);e.setItem(s,n)}}},I=(t,a,o)=>{const[e,s]=u(!1),[r,n]=S(a);return d(()=>{const i=o.getItem(t);i!=null&&n(i),s(!0)}),f(()=>{e()&&o.setItem(t,r)}),[r,n]},h=t=>{const a=new URL("/rabbit/",window.location.href);return new URL(t,a).href},g={loggedIn:!1,agreements:{nostrBuild:!1}},T=t=>JSON.stringify(t),w=t=>JSON.parse(t),b=m(()=>window.localStorage,T,w),[c,l]=I("RabbitPersistStatus",g,b),P=()=>({persistStatus:()=>({...g,...c}),loggedIn:()=>{l(e=>({...e,loggedIn:!0}))},agreeToToS:e=>{l("agreements",s=>({...s,[e]:!0}))},didAgreeToToS:e=>c.agreements[e]??!1});export{I as a,m as c,h as r,P as u};
//# sourceMappingURL=usePersistStatus-1b5da458.js.map
