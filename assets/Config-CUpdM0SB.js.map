{"version":3,"file":"Config-CUpdM0SB.js","sources":["../../node_modules/heroicons/24/outline/chevron-down.svg","../../node_modules/heroicons/24/outline/chevron-up.svg","../../node_modules/heroicons/24/outline/eye-slash.svg","../../node_modules/heroicons/24/outline/paint-brush.svg","../../node_modules/heroicons/24/outline/server-stack.svg","../../src/utils/emojipack.ts","../../src/components/modal/Config.tsx"],"sourcesContent":["export default (props = {}) => <svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"1.5\" aria-hidden=\"true\" data-slot=\"icon\" viewBox=\"0 0 24 24\"{...props}><path stroke-linecap=\"round\" stroke-linejoin=\"round\" d=\"m19.5 8.25-7.5 7.5-7.5-7.5\"/></svg>","export default (props = {}) => <svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"1.5\" aria-hidden=\"true\" data-slot=\"icon\" viewBox=\"0 0 24 24\"{...props}><path stroke-linecap=\"round\" stroke-linejoin=\"round\" d=\"m4.5 15.75 7.5-7.5 7.5 7.5\"/></svg>","export default (props = {}) => <svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"1.5\" aria-hidden=\"true\" data-slot=\"icon\" viewBox=\"0 0 24 24\"{...props}><path stroke-linecap=\"round\" stroke-linejoin=\"round\" d=\"M3.98 8.223A10.477 10.477 0 0 0 1.934 12c1.292 4.338 5.31 7.5 10.066 7.5.993 0 1.953-.138 2.863-.395M6.228 6.228A10.451 10.451 0 0 1 12 4.5c4.756 0 8.773 3.162 10.065 7.498a10.522 10.522 0 0 1-4.293 5.774M6.228 6.228 3 3m3.228 3.228 3.65 3.65m7.894 7.894L21 21m-3.228-3.228-3.65-3.65m0 0a3 3 0 1 0-4.243-4.243m4.242 4.242L9.88 9.88\"/></svg>","export default (props = {}) => <svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"1.5\" aria-hidden=\"true\" data-slot=\"icon\" viewBox=\"0 0 24 24\"{...props}><path stroke-linecap=\"round\" stroke-linejoin=\"round\" d=\"M9.53 16.122a3 3 0 0 0-5.78 1.128 2.25 2.25 0 0 1-2.4 2.245 4.5 4.5 0 0 0 8.4-2.245c0-.399-.078-.78-.22-1.128m0 0a15.998 15.998 0 0 0 3.388-1.62m-5.043-.025a15.994 15.994 0 0 1 1.622-3.395m3.42 3.42a15.995 15.995 0 0 0 4.764-4.648l3.876-5.814a1.151 1.151 0 0 0-1.597-1.597L14.146 6.32a15.996 15.996 0 0 0-4.649 4.763m3.42 3.42a6.776 6.776 0 0 0-3.42-3.42\"/></svg>","export default (props = {}) => <svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"1.5\" aria-hidden=\"true\" data-slot=\"icon\" viewBox=\"0 0 24 24\"{...props}><path stroke-linecap=\"round\" stroke-linejoin=\"round\" d=\"M5.25 14.25h13.5m-13.5 0a3 3 0 0 1-3-3m3 3a3 3 0 1 0 0 6h13.5a3 3 0 1 0 0-6m-16.5-3a3 3 0 0 1 3-3h13.5a3 3 0 0 1 3 3m-19.5 0a4.5 4.5 0 0 1 .9-2.7L5.737 5.1a3.375 3.375 0 0 1 2.7-1.35h7.126c1.062 0 2.062.5 2.7 1.35l2.587 3.45a4.5 4.5 0 0 1 .9 2.7m0 0a3 3 0 0 1-3 3m0 3h.008v.008h-.008zm0-6h.008v.008h-.008zm-3 6h.008v.008h-.008zm0-6h.008v.008h-.008z\"/></svg>","/**\n * This is free and unencumbered software released into the public domain.\n *\n * Anyone is free to copy, modify, publish, use, compile, sell, or\n * distribute this software, either in source code form or as a compiled\n * binary, for any purpose, commercial or non-commercial, and by any\n * means.\n *\n * In jurisdictions that recognize copyright laws, the author or authors\n * of this software dedicate any and all copyright interest in the\n * software to the public domain. We make this dedication for the benefit\n * of the public at large and to the detriment of our heirs and\n * successors. We intend this dedication to be an overt act of\n * relinquishment in perpetuity of all present and future rights to this\n * software under copyright law.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.\n * IN NO EVENT SHALL THE AUTHORS BE LIABLE FOR ANY CLAIM, DAMAGES OR\n * OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE,\n * ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR\n * OTHER DEALINGS IN THE SOFTWARE.\n *\n * For more information, please refer to <http://unlicense.org/>\n */\nimport uniqBy from 'lodash/uniqBy';\nimport { z } from 'zod';\n\nimport { CustomEmojiConfig } from '@/core/useConfig';\n\nexport const pubkeySchema = z\n  .string()\n  .length(64)\n  .regex(/^[0-9a-f]{64}$/);\n\nexport const shortcodeSchema = z.string().regex(/^\\w+$/);\n\nexport const emojiSchema = z.object({\n  shortcode: shortcodeSchema,\n  url: z.string().url(),\n  keywords: z.optional(z.array(shortcodeSchema)),\n});\n\nexport const emojiPackSchemaV1 = z\n  .object({\n    manifest: z.literal('emojipack_v1'),\n    name: z.string(),\n    emojis: z.array(emojiSchema),\n    description: z.optional(z.string()),\n    author: z.optional(pubkeySchema),\n    publisher: z.optional(pubkeySchema),\n  })\n  .refine(\n    (emojiPack) => {\n      // check uniqueness of shortcodes\n      const uniqEmojis = uniqBy(emojiPack.emojis, (emoji) => emoji.shortcode).length;\n      return uniqEmojis === emojiPack.emojis.length;\n    },\n    { message: 'shortcodes should be unique' },\n  );\n\nexport const simpleEmojiPackSchema = z.record(shortcodeSchema, z.string().url());\n\nexport const allEmojiPackSchema = emojiPackSchemaV1.or(simpleEmojiPackSchema);\n\nexport type Emoji = z.infer<typeof emojiSchema>;\n\nexport type EmojiPackV1 = z.infer<typeof emojiPackSchemaV1>;\n\nexport type SimpleEmojiPack = z.infer<typeof simpleEmojiPackSchema>;\n\nexport type AllEmojiPack = z.infer<typeof allEmojiPackSchema>;\n\nexport const getEmojiPack = async (urlString: string): Promise<AllEmojiPack> => {\n  const url = new URL(urlString);\n  const res = await fetch(url);\n  return allEmojiPackSchema.parseAsync(await res.json());\n};\n\nexport const convertToEmojiConfig = (emojipack: SimpleEmojiPack): CustomEmojiConfig[] =>\n  Object.entries(emojipack).map(([shortcode, url]) => ({ shortcode, url }));\n","import { createSignal, Show, For, type JSX, batch } from 'solid-js';\n\nimport ArrowLeft from 'heroicons/24/outline/arrow-left.svg';\nimport ChevronDown from 'heroicons/24/outline/chevron-down.svg';\nimport ChevronUp from 'heroicons/24/outline/chevron-up.svg';\nimport EyeSlash from 'heroicons/24/outline/eye-slash.svg';\nimport FaceSmile from 'heroicons/24/outline/face-smile.svg';\nimport PaintBrush from 'heroicons/24/outline/paint-brush.svg';\nimport ServerStack from 'heroicons/24/outline/server-stack.svg';\nimport User from 'heroicons/24/outline/user.svg';\nimport XMark from 'heroicons/24/outline/x-mark.svg';\n\nimport BasicModal from '@/components/modal/BasicModal';\nimport UserNameDisplay from '@/components/UserDisplayName';\nimport LazyLoad from '@/components/utils/LazyLoad';\nimport usePopup from '@/components/utils/usePopup';\nimport { colorThemes } from '@/core/colorThemes';\nimport useConfig, { ConfigSchema, type Config } from '@/core/useConfig';\nimport useModalState from '@/hooks/useModalState';\nimport { useTranslation } from '@/i18n/useTranslation';\nimport usePubkey from '@/nostr/usePubkey';\nimport { simpleEmojiPackSchema, convertToEmojiConfig } from '@/utils/emojipack';\nimport ensureNonNull from '@/utils/ensureNonNull';\n\ntype ConfigProps = {\n  onClose: () => void;\n};\n\nconst BaseUrlRegex = (schemaRegex: string) =>\n  `^(?:${schemaRegex})://[-a-zA-Z0-9.]+(:\\\\d{1,5})?(?:/[-[\\\\]~!$&'()*+.,:;@&=%\\\\w]+|/)*(?:\\\\?[-[\\\\]~!$&'()*+.,/:;%@&=\\\\w?]+)?(?:#[-[\\\\]~!$&'()*+.,/:;%@\\\\w&=?#]+)?$`;\nconst HttpUrlRegex = BaseUrlRegex('https?');\nconst RelayUrlRegex = BaseUrlRegex('wss?');\n\nconst Section = (props: { title: string; initialOpened?: boolean; children: JSX.Element }) => {\n  const [opened, setOpened] = createSignal(props.initialOpened ?? true);\n  const toggleOpened = () => setOpened((current) => !current);\n\n  return (\n    <div class=\"mb-2 rounded border border-border shadow hover:shadow-md\">\n      <h3 class=\"text-lg font-bold\">\n        <button\n          type=\"button\"\n          class=\"flex w-full items-center p-2 text-start\"\n          onClick={() => toggleOpened()}\n        >\n          <span class=\"flex-1 hover:text-fg-secondary\">{props.title}</span>\n          <span class=\"inline-block size-4 shrink-0 text-fg\">\n            <Show when={opened()} fallback={<ChevronDown />}>\n              <ChevronUp />\n            </Show>\n          </span>\n        </button>\n      </h3>\n      <Show when={opened()}>\n        <div class=\"border-t border-border p-2\">{props.children}</div>\n      </Show>\n    </div>\n  );\n};\n\nconst ToggleButton = (props: {\n  value: boolean;\n  onClick: JSX.EventHandler<HTMLButtonElement, MouseEvent>;\n}) => (\n  <button\n    class=\"flex h-[24px] w-[48px] items-center rounded-full border border-primary/80 px-1\"\n    classList={{\n      'bg-bg-tertiary': !props.value,\n      'justify-start': !props.value,\n      'bg-primary': props.value,\n      'justify-end': props.value,\n    }}\n    area-label={props.value}\n    onClick={(event) => props.onClick(event)}\n  >\n    <span class=\"m-[-3px] inline-block size-5 rounded-full border bg-primary-fg shadow\" />\n  </button>\n);\n\nconst ProfileSection = () => {\n  const i18n = useTranslation();\n  const pubkey = usePubkey();\n  const { showProfile, showProfileEdit } = useModalState();\n\n  return (\n    <Section title={i18n.t('config.account.profile')}>\n      <div class=\"flex gap-2 py-1\">\n        <button\n          class=\"rounded border border-primary px-4 py-1 font-bold text-primary\"\n          onClick={() =>\n            ensureNonNull([pubkey()])(([pubkeyNonNull]) => {\n              showProfile(pubkeyNonNull);\n            })\n          }\n        >\n          {i18n.t('config.account.openProfile')}\n        </button>\n        <button\n          class=\"rounded border border-primary px-4 py-1 font-bold text-primary\"\n          onClick={() => showProfileEdit()}\n        >\n          {i18n.t('config.account.editProfile')}\n        </button>\n      </div>\n    </Section>\n  );\n};\n\nconst BackupSection = () => {\n  let fileInputRef: HTMLInputElement | undefined;\n\n  const i18n = useTranslation();\n  const config = useConfig();\n\n  const handleSave = () => {\n    const json = JSON.stringify(config.config(), null, 2);\n    const blob = new Blob([json], { type: 'application/json' });\n    const dataUrl = URL.createObjectURL(blob);\n\n    const datetime = new Date().toISOString();\n    const link = document.createElement('a');\n    link.href = dataUrl;\n    link.download = `rabbit-${datetime}.json`;\n\n    link.click();\n  };\n\n  const handleRestore = () => {\n    if (fileInputRef == null) return;\n    fileInputRef.click();\n  };\n\n  const restore = async (file: File) => {\n    try {\n      const json = await file.text();\n      const validated = ConfigSchema.parse(JSON.parse(json));\n      config.setConfig(validated);\n\n      window.alert(i18n.t('config.account.restored'));\n      window.location.reload();\n    } catch (e) {\n      if (e instanceof Error) {\n        window.alert(`${i18n.t('config.account.failedToRestore')}: ${e.message}`);\n      } else {\n        window.alert(i18n.t('config.account.failedToRestore'));\n      }\n    }\n  };\n\n  const handleChangeFile: JSX.EventHandler<HTMLInputElement, Event> = (ev) => {\n    ev.preventDefault();\n\n    const files = [...(ev.currentTarget.files ?? [])];\n    if (files.length !== 1) return;\n    const file = files[0];\n    restore(file).catch((err) => console.log(err));\n  };\n\n  return (\n    <Section title={i18n.t('config.account.backupConfig')}>\n      <div class=\"flex gap-2 py-1\">\n        <button\n          class=\"rounded border border-primary px-4 py-1 font-bold text-primary\"\n          onClick={handleSave}\n        >\n          {i18n.t('config.account.save')}\n        </button>\n        <button\n          class=\"rounded border border-primary px-4 py-1 font-bold text-primary\"\n          onClick={handleRestore}\n        >\n          {i18n.t('config.account.restore')}\n        </button>\n      </div>\n      <input\n        ref={fileInputRef}\n        type=\"file\"\n        hidden\n        multiple={false}\n        name=\"config\"\n        accept=\"application/json\"\n        onChange={handleChangeFile}\n      />\n    </Section>\n  );\n};\n\nconst RelayConfig = () => {\n  const i18n = useTranslation();\n  const { config, addRelay, removeRelay } = useConfig();\n\n  const [relayUrlInput, setRelayUrlInput] = createSignal<string>('');\n\n  const handleClickAddRelay: JSX.EventHandler<HTMLFormElement, Event> = (ev) => {\n    ev.preventDefault();\n    if (relayUrlInput().length === 0) return;\n    addRelay(relayUrlInput());\n    setRelayUrlInput('');\n  };\n\n  const importFromNIP07 = async () => {\n    if (window.nostr == null) return;\n\n    const importedRelays = Object.entries((await window.nostr?.getRelays?.()) ?? []);\n    const relayUrls = importedRelays.map(([relayUrl]) => relayUrl).join('\\n');\n\n    if (importedRelays.length === 0) {\n      window.alert(i18n.t('config.relays.notConfigured'));\n      return;\n    }\n\n    if (!window.confirm(`${i18n.t('config.relays.askImport')}\\n\\n${relayUrls}`)) {\n      return;\n    }\n\n    const lastCount = config().relayUrls.length;\n    batch(() => {\n      importedRelays.forEach(([relayUrl]) => {\n        addRelay(relayUrl);\n      });\n    });\n    const currentCount = config().relayUrls.length;\n    const importedCount = currentCount - lastCount;\n    window.alert(i18n.t('config.relays.imported', { count: importedCount }));\n  };\n\n  return (\n    <>\n      <Section title={i18n.t('config.relays.relays')}>\n        <p class=\"py-1\">\n          {i18n.t('config.relays.numOfRelays', { count: config().relayUrls.length })}\n        </p>\n        <form class=\"flex gap-2\" onSubmit={handleClickAddRelay}>\n          <input\n            class=\"flex-1 rounded-md border border-border bg-bg ring-border placeholder:text-fg-secondary focus:border-border focus:ring-primary\"\n            type=\"text\"\n            name=\"relayUrl\"\n            placeholder=\"wss://...\"\n            value={relayUrlInput()}\n            pattern={RelayUrlRegex}\n            onChange={(ev) => setRelayUrlInput(ev.currentTarget.value)}\n          />\n          <button type=\"submit\" class=\"rounded bg-primary p-2 font-bold text-primary-fg\">\n            {i18n.t('config.relays.addRelay')}\n          </button>\n        </form>\n        <ul class=\"pt-2\">\n          <For each={config().relayUrls}>\n            {(relayUrl: string) => (\n              <li class=\"flex items-center border-t border-border pr-4\">\n                <div class=\"flex-1 truncate\">{relayUrl}</div>\n                <button class=\"size-3 shrink-0\" onClick={() => removeRelay(relayUrl)}>\n                  <XMark />\n                </button>\n              </li>\n            )}\n          </For>\n        </ul>\n      </Section>\n      <Section title={i18n.t('config.relays.importRelays')}>\n        <button\n          type=\"button\"\n          class=\"rounded bg-primary p-2 font-bold text-primary-fg\"\n          onClick={() => {\n            importFromNIP07().catch((err) => {\n              console.error('failed to import relays', err);\n              window.alert(i18n.t('config.relays.failedToImport'));\n            });\n          }}\n        >\n          {i18n.t('config.relays.importFromExtension')}\n        </button>\n      </Section>\n    </>\n  );\n};\n\nconst ColorThemeConfig = () => {\n  const i18n = useTranslation();\n  const { config, setConfig } = useConfig();\n\n  const isCurrentlyUsing = (id: string) => {\n    const colorThemeConfig = config().colorTheme;\n    if (colorThemeConfig.type === 'specific') {\n      return colorThemeConfig.id === id;\n    }\n    return false;\n  };\n\n  const updateColorTheme = (id: string) => {\n    setConfig((current) => ({ ...current, colorTheme: { type: 'specific', id } }));\n  };\n\n  return (\n    <Section title={i18n.t('config.display.colorTheme')}>\n      <div class=\"scrollbar flex flex-col overflow-y-auto rounded-md border border-border\">\n        <For each={Object.values(colorThemes)}>\n          {(colorTheme) => (\n            <button\n              type=\"button\"\n              class=\"border-t border-border px-2 py-1 text-left first:border-none\"\n              classList={{\n                'bg-primary': isCurrentlyUsing(colorTheme.id),\n                'text-primary-fg': isCurrentlyUsing(colorTheme.id),\n                'text-fg': !isCurrentlyUsing(colorTheme.id),\n              }}\n              onClick={() => updateColorTheme(colorTheme.id)}\n            >\n              {colorTheme.name}\n            </button>\n          )}\n        </For>\n      </div>\n    </Section>\n  );\n};\n\nconst DateFormatConfig = () => {\n  const i18n = useTranslation();\n  const { config, setConfig } = useConfig();\n\n  const dateFormats: {\n    id: Config['dateFormat'];\n    name: string;\n    example: string;\n  }[] = [\n    {\n      id: 'relative',\n      name: i18n.t('config.display.relativeTimeNotation'),\n      example: i18n.t('config.display.relativeTimeNotationExample'),\n    },\n    {\n      id: 'absolute-short',\n      name: i18n.t('config.display.absoluteTimeNotationShort'),\n      example: i18n.t('config.display.absoluteTimeNotationShortExample'),\n    },\n    {\n      id: 'absolute-long',\n      name: i18n.t('config.display.absoluteTimeNotationLong'),\n      example: i18n.t('config.display.absoluteTimeNotationLongExample'),\n    },\n  ];\n\n  const updateDateFormat = (dateFormat: Config['dateFormat']) => {\n    setConfig((current) => ({ ...current, dateFormat }));\n  };\n\n  return (\n    <Section title={i18n.t('config.display.timeNotation')}>\n      <div class=\"flex flex-col justify-evenly gap-2 sm:flex-row\">\n        <For each={dateFormats}>\n          {({ id, name, example }) => (\n            <div class=\"flex flex-1 flex-row items-center gap-1 sm:flex-col\">\n              <button\n                type=\"button\"\n                class=\"w-48 rounded border border-primary p-2 font-bold sm:w-full\"\n                classList={{\n                  'bg-primary': config().dateFormat === id,\n                  'text-primary-fg': config().dateFormat === id,\n                  'bg-bg': config().dateFormat !== id,\n                  'text-primary': config().dateFormat !== id,\n                }}\n                onClick={() => updateDateFormat(id)}\n              >\n                {name}\n              </button>\n              <div class=\"text-xs\">{example}</div>\n            </div>\n          )}\n        </For>\n      </div>\n    </Section>\n  );\n};\n\nconst ReactionConfig = () => {\n  const i18n = useTranslation();\n  const { config, setConfig } = useConfig();\n\n  const toggleUseEmojiReaction = () => {\n    setConfig((current) => ({\n      ...current,\n      useEmojiReaction: !(current.useEmojiReaction ?? false),\n    }));\n  };\n\n  const toggleShowEmojiReaction = () => {\n    setConfig((current) => ({\n      ...current,\n      showEmojiReaction: !(current.showEmojiReaction ?? false),\n    }));\n  };\n\n  return (\n    <Section title={i18n.t('config.display.reaction')}>\n      <div class=\"flex flex-col justify-evenly gap-2\">\n        <div class=\"flex w-full\">\n          <div class=\"flex-1\">{i18n.t('config.display.enableEmojiReaction')}</div>\n          <ToggleButton\n            value={config().useEmojiReaction}\n            onClick={() => toggleUseEmojiReaction()}\n          />\n        </div>\n        <div class=\"flex w-full\">\n          <div class=\"flex-1\">{i18n.t('config.display.showEmojiReaction')}</div>\n          <ToggleButton\n            value={config().showEmojiReaction}\n            onClick={() => toggleShowEmojiReaction()}\n          />\n        </div>\n      </div>\n    </Section>\n  );\n};\n\nconst EmojiConfig = () => {\n  const i18n = useTranslation();\n  const { config, saveEmoji, removeEmoji } = useConfig();\n\n  const [shortcodeInput, setShortcodeInput] = createSignal('');\n  const [urlInput, setUrlInput] = createSignal('');\n\n  const handleClickSaveEmoji: JSX.EventHandler<HTMLFormElement, SubmitEvent> = (ev) => {\n    ev.preventDefault();\n    if (shortcodeInput().length === 0 || urlInput().length === 0) return;\n    saveEmoji({ shortcode: shortcodeInput(), url: urlInput() });\n    setShortcodeInput('');\n    setUrlInput('');\n  };\n\n  return (\n    <Section title={i18n.t('config.customEmoji.customEmoji')}>\n      <form class=\"flex flex-col gap-2\" onSubmit={handleClickSaveEmoji}>\n        <label class=\"flex flex-1 items-center gap-1\">\n          <div class=\"w-9\">{i18n.t('config.customEmoji.shortcode')}</div>\n          <input\n            class=\"flex-1 rounded-md border-border bg-bg placeholder:text-fg-secondary focus:border-border focus:ring-primary\"\n            type=\"text\"\n            name=\"shortcode\"\n            placeholder=\"smiley\"\n            value={shortcodeInput()}\n            pattern=\"^\\\\w+$\"\n            required\n            onChange={(ev) => setShortcodeInput(ev.currentTarget.value)}\n          />\n        </label>\n        <label class=\"flex flex-1 items-center gap-1\">\n          <div class=\"w-9\">{i18n.t('config.customEmoji.url')}</div>\n          <input\n            class=\"flex-1 rounded-md border-border bg-bg placeholder:text-fg-secondary focus:border-border focus:ring-primary\"\n            type=\"text\"\n            name=\"url\"\n            value={urlInput()}\n            placeholder=\"https://example.com/smiley.png\"\n            pattern={HttpUrlRegex}\n            required\n            onChange={(ev) => setUrlInput(ev.currentTarget.value)}\n          />\n        </label>\n        <button\n          type=\"submit\"\n          class=\"w-24 self-end rounded bg-primary p-2 font-bold text-primary-fg\"\n        >\n          {i18n.t('config.customEmoji.addEmoji')}\n        </button>\n      </form>\n      <ul class=\"mt-4 flex max-h-[40vh] min-h-64 flex-wrap overflow-y-auto border-t border-border\">\n        <For each={Object.values(config().customEmojis)}>\n          {({ shortcode, url }) => {\n            const popup = usePopup(() => ({\n              popup: (\n                <div class=\"flex min-w-24 flex-col items-center rounded border border-border bg-bg shadow\">\n                  <div class=\"flex items-center p-1\">\n                    <img class=\"h-20 max-w-20 object-contain\" src={url} alt={shortcode} />\n                  </div>\n                  <div class=\"p-1 text-center text-sm\">{shortcode}</div>\n                  <div class=\"w-full border-t border-border\">\n                    <button\n                      type=\"button\"\n                      class=\"w-full px-2 py-1 text-danger\"\n                      onClick={() => removeEmoji(shortcode)}\n                    >\n                      {i18n.t('config.customEmoji.removeEmoji')}\n                    </button>\n                  </div>\n                </div>\n              ),\n            }));\n\n            return (\n              <li ref={popup.targetRef} class=\"min-w-0 basis-1/2 sm:basis-1/4\">\n                <button\n                  type=\"button\"\n                  class=\"flex w-full flex-col items-center gap-1 rounded p-2 hover:bg-bg-tertiary/20 hover:shadow\"\n                  onClick={() => popup.open()}\n                >\n                  <LazyLoad fallback={<div class=\"size-8\" />}>\n                    {() => (\n                      <div class=\"flex h-8 max-w-8 items-center\">\n                        <img class=\"object-contain\" src={url} alt={shortcode} />\n                      </div>\n                    )}\n                  </LazyLoad>\n                  <div class=\"w-full truncate text-xs text-fg-secondary\">{shortcode}</div>\n                </button>\n                {popup.popup()}\n              </li>\n            );\n          }}\n        </For>\n      </ul>\n    </Section>\n  );\n};\n\nconst EmojiImport = () => {\n  const i18n = useTranslation();\n  const { saveEmojis } = useConfig();\n\n  const [jsonInput, setJSONInput] = createSignal('');\n\n  const handleClickSaveEmoji: JSX.EventHandler<HTMLFormElement, SubmitEvent> = (ev) => {\n    ev.preventDefault();\n    if (jsonInput().length === 0) return;\n\n    try {\n      const data = simpleEmojiPackSchema.parse(JSON.parse(jsonInput()));\n      const emojis = convertToEmojiConfig(data);\n      saveEmojis(emojis);\n      setJSONInput('');\n    } catch (err) {\n      const message = err instanceof Error ? `:${err.message}` : '';\n      window.alert(`JSONの読み込みに失敗しました${message}`);\n    }\n  };\n\n  return (\n    <Section title={i18n.t('config.customEmoji.emojiImport')}>\n      <p>{i18n.t('config.customEmoji.emojiImportDescription')}</p>\n      <form class=\"flex flex-col gap-2\" onSubmit={handleClickSaveEmoji}>\n        <textarea\n          class=\"flex-1 rounded-md border-border bg-bg placeholder:text-fg-secondary focus:border-border focus:ring-primary\"\n          name=\"json\"\n          value={jsonInput()}\n          placeholder='{ \"smiley\": \"https://example.com/smiley.png\" }'\n          onChange={(ev) => setJSONInput(ev.currentTarget.value)}\n        />\n        <button\n          type=\"submit\"\n          class=\"w-24 self-end rounded bg-primary p-2 font-bold text-primary-fg\"\n        >\n          {i18n.t('config.customEmoji.importEmoji')}\n        </button>\n      </form>\n    </Section>\n  );\n};\n\nconst MuteConfig = () => {\n  const i18n = useTranslation();\n  const { config, removeMutedPubkey, addMutedKeyword, removeMutedKeyword } = useConfig();\n\n  const [keywordInput, setKeywordInput] = createSignal('');\n\n  const handleClickAddKeyword: JSX.EventHandler<HTMLFormElement, Event> = (ev) => {\n    ev.preventDefault();\n    if (keywordInput().length === 0) return;\n    addMutedKeyword(keywordInput());\n    setKeywordInput('');\n  };\n\n  return (\n    <>\n      <Section title={i18n.t('config.mute.mutedUsers')} initialOpened={false}>\n        <ul class=\"flex max-h-[50vh] min-h-64 flex-col overflow-y-auto\">\n          <For each={config().mutedPubkeys}>\n            {(pubkey) => (\n              <li class=\"flex items-center border-b border-border pr-4\">\n                <div class=\"flex-1 truncate\">\n                  <LazyLoad fallback={<div class=\"h-4\" />}>\n                    {() => <UserNameDisplay pubkey={pubkey} />}\n                  </LazyLoad>\n                </div>\n                <button class=\"size-3 shrink-0\" onClick={() => removeMutedPubkey(pubkey)}>\n                  <XMark />\n                </button>\n              </li>\n            )}\n          </For>\n        </ul>\n      </Section>\n      <Section title={i18n.t('config.mute.mutedKeywords')} initialOpened={false}>\n        <form class=\"flex gap-2\" onSubmit={handleClickAddKeyword}>\n          <input\n            class=\"flex-1 rounded-md border border-border bg-bg ring-border focus:border-border focus:ring-primary\"\n            type=\"text\"\n            name=\"keyword\"\n            value={keywordInput()}\n            onChange={(ev) => setKeywordInput(ev.currentTarget.value)}\n          />\n          <button type=\"submit\" class=\"rounded bg-primary p-2 font-bold text-primary-fg\">\n            {i18n.t('config.mute.add')}\n          </button>\n        </form>\n        <ul class=\"mt-2 flex max-h-[50vh] min-h-64 flex-col overflow-y-auto border-t border-border\">\n          <For each={config().mutedKeywords}>\n            {(keyword) => (\n              <li class=\"flex items-center border-b border-border pr-4\">\n                <div class=\"flex-1 truncate\">{keyword}</div>\n                <button class=\"size-3 shrink-0\" onClick={() => removeMutedKeyword(keyword)}>\n                  <XMark />\n                </button>\n              </li>\n            )}\n          </For>\n        </ul>\n      </Section>\n    </>\n  );\n};\n\nconst EmbeddingConfig = () => {\n  const i18n = useTranslation();\n  const { config, setConfig } = useConfig();\n\n  const toggle = (key: keyof Config['embedding']) => {\n    setConfig((current) => ({\n      ...current,\n      embedding: {\n        ...current.embedding,\n        [key]: !current.embedding[key],\n      },\n    }));\n  };\n\n  return (\n    <Section title={i18n.t('config.display.embedding')}>\n      <p>{i18n.t('config.display.embeddingDescription')}</p>\n      <div class=\"flex flex-col justify-evenly gap-2\">\n        <div class=\"flex w-full\">\n          <div class=\"flex-1\">YouTube</div>\n          <ToggleButton value={config().embedding.youtube} onClick={() => toggle('youtube')} />\n        </div>\n        <div class=\"flex w-full\">\n          <div class=\"flex-1\">X (Twitter)</div>\n          <ToggleButton value={config().embedding.twitter} onClick={() => toggle('twitter')} />\n        </div>\n        <div class=\"flex w-full\">\n          <div class=\"flex-1\">OGP</div>\n          <ToggleButton value={config().embedding.ogp} onClick={() => toggle('ogp')} />\n        </div>\n      </div>\n    </Section>\n  );\n};\n\nconst OtherConfig = () => {\n  const i18n = useTranslation();\n  const { config, setConfig } = useConfig();\n\n  const toggleKeepOpenPostForm = () => {\n    setConfig((current) => ({\n      ...current,\n      keepOpenPostForm: !(current.keepOpenPostForm ?? false),\n    }));\n  };\n\n  const toggleShowMedia = () => {\n    setConfig((current) => ({\n      ...current,\n      showMedia: !(current.showMedia ?? true),\n    }));\n  };\n\n  const toggleHideCount = () => {\n    setConfig((current) => ({\n      ...current,\n      hideCount: !(current.hideCount ?? false),\n    }));\n  };\n\n  return (\n    <Section title={i18n.t('config.display.others')}>\n      <div class=\"flex flex-col justify-evenly gap-2\">\n        <div class=\"flex w-full\">\n          <div class=\"flex-1\">{i18n.t('config.display.keepOpenPostForm')}</div>\n          <ToggleButton\n            value={config().keepOpenPostForm}\n            onClick={() => toggleKeepOpenPostForm()}\n          />\n        </div>\n        <div class=\"flex w-full\">\n          <div class=\"flex-1\">{i18n.t('config.display.showMediaByDefault')}</div>\n          <ToggleButton value={config().showMedia} onClick={() => toggleShowMedia()} />\n        </div>\n        <div class=\"flex w-full\">\n          <div class=\"flex-1\">{i18n.t('config.display.hideNumbers')}</div>\n          <ToggleButton value={config().hideCount} onClick={() => toggleHideCount()} />\n        </div>\n        {/*\n        <div class=\"flex w-full\">\n          <div class=\"flex-1\">リアクションのデフォルト</div>\n          <input\n            type=\"text\"\n            maxlength=\"1\"\n            // onBlur={handleChangeReaction}\n          />\n        </div>\n        */}\n      </div>\n    </Section>\n  );\n};\n\nconst ConfigUI = (props: ConfigProps) => {\n  const i18n = useTranslation();\n  const [menuIndex, setMenuIndex] = createSignal<number | null>(null);\n\n  const menu = [\n    {\n      name: () => i18n.t('config.account.profile'),\n      icon: () => <User />,\n      render: () => (\n        <>\n          <ProfileSection />\n          <BackupSection />\n        </>\n      ),\n    },\n    {\n      name: () => i18n.t('config.relays.relays'),\n      icon: () => <ServerStack />,\n      render: () => <RelayConfig />,\n    },\n    {\n      name: () => i18n.t('config.display.display'),\n      icon: () => <PaintBrush />,\n      render: () => (\n        <>\n          <ColorThemeConfig />\n          <DateFormatConfig />\n          <ReactionConfig />\n          <EmbeddingConfig />\n          <OtherConfig />\n        </>\n      ),\n    },\n    {\n      name: () => i18n.t('config.customEmoji.customEmoji'),\n      icon: () => <FaceSmile />,\n      render: () => (\n        <>\n          <EmojiConfig />\n          <EmojiImport />\n        </>\n      ),\n    },\n    {\n      name: () => i18n.t('config.mute.mute'),\n      icon: () => <EyeSlash />,\n      render: () => <MuteConfig />,\n    },\n  ];\n\n  const getMenuItem = () => {\n    const index = menuIndex();\n    if (index == null) return null;\n    return menu[index];\n  };\n\n  return (\n    <BasicModal onClose={props.onClose}>\n      <div class=\"p-4\">\n        <Show\n          when={getMenuItem()}\n          fallback={\n            <>\n              <h2 class=\"flex-1 text-center text-lg font-bold\">{i18n.t('config.config')}</h2>\n              <ul class=\"flex flex-col\">\n                <For each={menu}>\n                  {(menuItem, i) => (\n                    <li class=\"w-full\">\n                      <button\n                        class=\"flex w-full gap-2 py-3 hover:text-primary\"\n                        onClick={() => setMenuIndex(i)}\n                      >\n                        <span class=\"inline-block size-6\">{menuItem.icon()}</span>\n                        {menuItem.name()}\n                      </button>\n                    </li>\n                  )}\n                </For>\n              </ul>\n            </>\n          }\n          keyed\n        >\n          {(menuItem) => (\n            <div class=\"flex flex-col\">\n              <div>\n                <button\n                  class=\"pr-4 text-fg hover:text-fg-secondary\"\n                  onClick={() => setMenuIndex(null)}\n                >\n                  <span class=\"inline-block size-6\">\n                    <ArrowLeft />\n                  </span>\n                </button>\n              </div>\n              <div class=\"w-full flex-1 pt-4\">{menuItem.render()}</div>\n            </div>\n          )}\n        </Show>\n      </div>\n    </BasicModal>\n  );\n};\n\nexport default ConfigUI;\n"],"names":["ChevronDown","props","_el$","_tmpl$","_$spread","ChevronUp","EyeSlash","PaintBrush","ServerStack","pubkeySchema","z","shortcodeSchema","emojiSchema","emojiPackSchemaV1","emojiPack","uniqBy","emoji","simpleEmojiPackSchema","convertToEmojiConfig","emojipack","shortcode","url","BaseUrlRegex","schemaRegex","HttpUrlRegex","RelayUrlRegex","Section","opened","setOpened","createSignal","initialOpened","toggleOpened","current","_tmpl$2","_el$2","firstChild","_el$3","_el$4","_el$5","nextSibling","$$click","title","_$createComponent","Show","when","fallback","children","_el$6","ToggleButton","_el$7","_tmpl$3","event","onClick","_$effect","_p$","_v$","value","_v$2","_v$3","_v$4","_v$5","classList","toggle","_$setAttribute","undefined","ProfileSection","i18n","useTranslation","pubkey","usePubkey","showProfile","showProfileEdit","useModalState","t","_el$8","_tmpl$4","_el$9","_el$10","ensureNonNull","pubkeyNonNull","_$insert","BackupSection","fileInputRef","config","useConfig","handleSave","json","JSON","stringify","blob","Blob","type","dataUrl","URL","createObjectURL","datetime","Date","toISOString","link","document","createElement","href","download","click","handleRestore","restore","file","text","validated","ConfigSchema","parse","setConfig","window","alert","location","reload","e","Error","message","handleChangeFile","ev","preventDefault","files","currentTarget","length","catch","console","log","err","_el$11","_el$12","_el$13","_el$14","_tmpl$5","addEventListener","_ref$","_$use","multiple","RelayConfig","addRelay","removeRelay","relayUrlInput","setRelayUrlInput","handleClickAddRelay","importFromNIP07","nostr","importedRelays","Object","entries","getRelays","relayUrls","map","relayUrl","join","confirm","lastCount","batch","forEach","importedCount","count","_el$15","_tmpl$6","_el$16","_tmpl$7","_el$17","_el$18","_el$19","_tmpl$8","For","each","_el$21","_tmpl$10","_el$22","_el$23","XMark","_el$20","_tmpl$9","error","ColorThemeConfig","isCurrentlyUsing","id","colorThemeConfig","colorTheme","updateColorTheme","_el$24","_tmpl$11","values","colorThemes","_el$25","_tmpl$12","name","_v$6","_v$7","_v$8","DateFormatConfig","dateFormats","example","updateDateFormat","dateFormat","_el$26","_tmpl$13","_el$27","_tmpl$14","_el$28","_el$29","_v$9","_v$10","_v$11","_v$12","ReactionConfig","toggleUseEmojiReaction","useEmojiReaction","toggleShowEmojiReaction","showEmojiReaction","_el$30","_tmpl$15","_el$31","_el$32","_el$33","_el$34","EmojiConfig","saveEmoji","removeEmoji","shortcodeInput","setShortcodeInput","urlInput","setUrlInput","handleClickSaveEmoji","_el$35","_tmpl$16","_el$36","_el$37","_el$38","_el$39","_el$40","_el$41","_el$42","_el$43","_tmpl$17","customEmojis","popup","usePopup","_el$44","_tmpl$18","_el$45","_el$46","_el$47","_el$48","_el$49","_el$50","_tmpl$19","_el$51","_el$52","_ref$2","targetRef","open","LazyLoad","_tmpl$20","_el$54","_tmpl$21","_el$55","EmojiImport","saveEmojis","jsonInput","setJSONInput","data","emojis","_el$56","_tmpl$22","_el$57","_tmpl$23","_el$58","_el$59","MuteConfig","removeMutedPubkey","addMutedKeyword","removeMutedKeyword","keywordInput","setKeywordInput","handleClickAddKeyword","_el$60","_tmpl$24","mutedPubkeys","_el$65","_tmpl$27","_el$66","_el$67","_tmpl$28","UserNameDisplay","_el$61","_tmpl$25","_el$62","_el$63","_el$64","_tmpl$26","mutedKeywords","_el$69","_el$70","_el$71","keyword","EmbeddingConfig","key","embedding","_el$72","_el$73","_tmpl$29","_el$74","_el$76","_el$78","youtube","twitter","ogp","OtherConfig","toggleKeepOpenPostForm","keepOpenPostForm","toggleShowMedia","showMedia","toggleHideCount","hideCount","_el$80","_tmpl$30","_el$81","_el$82","_el$83","_el$84","_el$85","_el$86","ConfigUI","menuIndex","setMenuIndex","menu","icon","User","render","FaceSmile","getMenuItem","index","BasicModal","onClose","_el$87","_tmpl$31","_el$88","_tmpl$32","_el$89","_tmpl$33","menuItem","i","_el$90","_tmpl$34","_el$91","_el$92","keyed","_el$93","_tmpl$35","_el$94","_el$95","_el$96","_el$97","ArrowLeft","_$delegateEvents"],"mappings":"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","x_google_ignoreList":[0,1,2,3,4]}