const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Hello-DFSlACoz.js","assets/resolveAsset-C5PFNW9K.js","assets/SafeLink-bu1HGIMF.js","assets/Home-CXVCKyhf.js","assets/SideBar-CMprZcnW.js","assets/arrow-left-CGup73Bq.js","assets/useFollowings-DMjrA4Gj.js","assets/EventDisplay-CgVU6zft.js","assets/url-CEJjbZ3u.js","assets/useSubscription-CzbA6HZk.js","assets/NostrSet-CTt4PkYn.js","assets/Permalink-BUQwqAiC.js"])))=>i.map(i=>d[i]);
(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();const D={context:void 0,registry:void 0,effects:void 0,done:!1,getContextId(){return cu(this.context.count)},getNextContextId(){return cu(this.context.count++)}};function cu(e){const t=String(e),n=t.length-1;return D.context.id+(n?String.fromCharCode(96+n):"")+t}function Jt(e){D.context=e}const bd=!1,qp=(e,t)=>e===t,Te=Symbol("solid-proxy"),vd=typeof Proxy=="function",jo=Symbol("solid-track"),kn={equals:qp};let Xe=null,wd=Ad;const je=1,$n=2,_d={owned:null,cleanups:null,context:null,owner:null},Ir={};var U=null;let kr=null,Dp=null,V=null,he=null,Re=null,nr=0;function et(e,t){const n=V,r=U,s=e.length===0,i=t===void 0?r:t,o=s?_d:{owned:null,cleanups:null,context:i?i.context:null,owner:i},a=s?e:()=>e(()=>se(()=>sn(o)));U=o,V=null;try{return ze(a,!0)}finally{V=n,U=r}}function le(e,t){t=t?Object.assign({},kn,t):kn;const n={value:e,observers:null,observerSlots:null,comparator:t.equals||void 0},r=s=>(typeof s=="function"&&(s=s(n.value)),Od(n,s));return[Ed.bind(n),r]}function Lt(e,t,n){const r=ir(e,t,!0,je);Bt(r)}function Me(e,t,n){const r=ir(e,t,!1,je);Bt(r)}function Mt(e,t,n){wd=Vp;const r=ir(e,t,!1,je);(!n||!n.render)&&(r.user=!0),Re?Re.push(r):Bt(r)}function Z(e,t,n){n=n?Object.assign({},kn,n):kn;const r=ir(e,t,!0,0);return r.observers=null,r.observerSlots=null,r.comparator=n.equals||void 0,Bt(r),Ed.bind(r)}function Up(e){return e&&typeof e=="object"&&"then"in e}function Sd(e,t,n){let r,s,i;typeof t=="function"?(r=e,s=t,i={}):(r=!0,s=e,i=t||{});let o=null,a=Ir,u=null,c=!1,l="initialValue"in i,f=typeof r=="function"&&Z(r);const d=new Set,[p,g]=(i.storage||le)(i.initialValue),[h,m]=le(void 0),[y,b]=le(void 0,{equals:!1}),[_,v]=le(l?"ready":"unresolved");D.context&&(u=D.getNextContextId(),i.ssrLoadFrom==="initial"?a=i.initialValue:D.load&&D.has(u)&&(a=D.load(u)));function w(I,R,q,$){return o===I&&(o=null,$!==void 0&&(l=!0),(I===a||R===a)&&i.onHydrated&&queueMicrotask(()=>i.onHydrated($,{value:R})),a=Ir,E(R,q)),R}function E(I,R){ze(()=>{R===void 0&&g(()=>I),v(R!==void 0?"errored":l?"ready":"unresolved"),m(R);for(const q of d.keys())q.decrement();d.clear()},!1)}function A(){const I=Zp,R=p(),q=h();if(q!==void 0&&!o)throw q;return V&&V.user,R}function C(I=!0){if(I!==!1&&c)return;c=!1;const R=f?f():r;if(R==null||R===!1){w(o,se(p));return}let q;const $=a!==Ir?a:se(()=>{try{return s(R,{value:p(),refetching:I})}catch(L){q=L}});if(q!==void 0){w(o,void 0,Pn(q),R);return}else if(!Up($))return w(o,$,void 0,R),$;return o=$,"v"in $?($.s===1?w(o,$.v,void 0,R):w(o,void 0,Pn($.v),R),$):(c=!0,queueMicrotask(()=>c=!1),ze(()=>{v(l?"refreshing":"pending"),b()},!1),$.then(L=>w($,L,void 0,R),L=>w($,void 0,Pn(L),R)))}Object.defineProperties(A,{state:{get:()=>_()},error:{get:()=>h()},loading:{get(){const I=_();return I==="pending"||I==="refreshing"}},latest:{get(){if(!l)return A();const I=h();if(I&&!o)throw I;return p()}}});let j=U;return f?Lt(()=>(j=U,C(!1))):C(!1),[A,{refetch:I=>rr(j,()=>C(I)),mutate:g}]}function xd(e){return ze(e,!1)}function se(e){if(V===null)return e();const t=V;V=null;try{return e()}finally{V=t}}function gt(e,t,n){const r=Array.isArray(e);let s,i=n&&n.defer;return o=>{let a;if(r){a=Array(e.length);for(let c=0;c<e.length;c++)a[c]=e[c]()}else a=e();if(i)return i=!1,o;const u=se(()=>t(a,s,o));return s=a,u}}function Mp(e){Mt(()=>se(e))}function Ne(e){return U===null||(U.cleanups===null?U.cleanups=[e]:U.cleanups.push(e)),e}function Fo(){return V}function Ln(){return U}function rr(e,t){const n=U,r=V;U=e,V=null;try{return ze(t,!0)}catch(s){or(s)}finally{U=n,V=r}}function Bp(e){const t=V,n=U;return Promise.resolve().then(()=>{V=t,U=n;let r;return ze(e,!1),V=U=null,r?r.done:void 0})}const[GO,WO]=le(!1);function dn(e,t){const n=Symbol("context");return{id:n,Provider:Gp(n),defaultValue:e}}function hn(e){let t;return U&&U.context&&(t=U.context[e.id])!==void 0?t:e.defaultValue}function sr(e){const t=Z(e),n=Z(()=>qo(t()));return n.toArray=()=>{const r=n();return Array.isArray(r)?r:r!=null?[r]:[]},n}let Zp;function Ed(){if(this.sources&&this.state)if(this.state===je)Bt(this);else{const e=he;he=null,ze(()=>zn(this),!1),he=e}if(V){const e=this.observers?this.observers.length:0;V.sources?(V.sources.push(this),V.sourceSlots.push(e)):(V.sources=[this],V.sourceSlots=[e]),this.observers?(this.observers.push(V),this.observerSlots.push(V.sources.length-1)):(this.observers=[V],this.observerSlots=[V.sources.length-1])}return this.value}function Od(e,t,n){let r=e.value;return(!e.comparator||!e.comparator(r,t))&&(e.value=t,e.observers&&e.observers.length&&ze(()=>{for(let s=0;s<e.observers.length;s+=1){const i=e.observers[s],o=kr&&kr.running;o&&kr.disposed.has(i),(o?!i.tState:!i.state)&&(i.pure?he.push(i):Re.push(i),i.observers&&Rd(i)),o||(i.state=je)}if(he.length>1e6)throw he=[],new Error},!1)),t}function Bt(e){if(!e.fn)return;sn(e);const t=nr;Hp(e,e.value,t)}function Hp(e,t,n){let r;const s=U,i=V;V=U=e;try{r=e.fn(t)}catch(o){return e.pure&&(e.state=je,e.owned&&e.owned.forEach(sn),e.owned=null),e.updatedAt=n+1,or(o)}finally{V=i,U=s}(!e.updatedAt||e.updatedAt<=n)&&(e.updatedAt!=null&&"observers"in e?Od(e,r):e.value=r,e.updatedAt=n)}function ir(e,t,n,r=je,s){const i={fn:e,state:r,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:t,owner:U,context:U?U.context:null,pure:n};return U===null||U!==_d&&(U.owned?U.owned.push(i):U.owned=[i]),i}function Nn(e){if(e.state===0)return;if(e.state===$n)return zn(e);if(e.suspense&&se(e.suspense.inFallback))return e.suspense.effects.push(e);const t=[e];for(;(e=e.owner)&&(!e.updatedAt||e.updatedAt<nr);)e.state&&t.push(e);for(let n=t.length-1;n>=0;n--)if(e=t[n],e.state===je)Bt(e);else if(e.state===$n){const r=he;he=null,ze(()=>zn(e,t[0]),!1),he=r}}function ze(e,t){if(he)return e();let n=!1;t||(he=[]),Re?n=!0:Re=[],nr++;try{const r=e();return Kp(n),r}catch(r){n||(Re=null),he=null,or(r)}}function Kp(e){if(he&&(Ad(he),he=null),e)return;const t=Re;Re=null,t.length&&ze(()=>wd(t),!1)}function Ad(e){for(let t=0;t<e.length;t++)Nn(e[t])}function Vp(e){let t,n=0;for(t=0;t<e.length;t++){const r=e[t];r.user?e[n++]=r:Nn(r)}if(D.context){if(D.count){D.effects||(D.effects=[]),D.effects.push(...e.slice(0,n));return}Jt()}for(D.effects&&(D.done||!D.count)&&(e=[...D.effects,...e],n+=D.effects.length,delete D.effects),t=0;t<n;t++)Nn(e[t])}function zn(e,t){e.state=0;for(let n=0;n<e.sources.length;n+=1){const r=e.sources[n];if(r.sources){const s=r.state;s===je?r!==t&&(!r.updatedAt||r.updatedAt<nr)&&Nn(r):s===$n&&zn(r,t)}}}function Rd(e){for(let t=0;t<e.observers.length;t+=1){const n=e.observers[t];n.state||(n.state=$n,n.pure?he.push(n):Re.push(n),n.observers&&Rd(n))}}function sn(e){let t;if(e.sources)for(;e.sources.length;){const n=e.sources.pop(),r=e.sourceSlots.pop(),s=n.observers;if(s&&s.length){const i=s.pop(),o=n.observerSlots.pop();r<s.length&&(i.sourceSlots[o]=r,s[r]=i,n.observerSlots[r]=o)}}if(e.tOwned){for(t=e.tOwned.length-1;t>=0;t--)sn(e.tOwned[t]);delete e.tOwned}if(e.owned){for(t=e.owned.length-1;t>=0;t--)sn(e.owned[t]);e.owned=null}if(e.cleanups){for(t=e.cleanups.length-1;t>=0;t--)e.cleanups[t]();e.cleanups=null}e.state=0}function Pn(e){return e instanceof Error?e:new Error(typeof e=="string"?e:"Unknown error",{cause:e})}function lu(e,t,n){try{for(const r of t)r(e)}catch(r){or(r,n&&n.owner||null)}}function or(e,t=U){const n=Xe&&t&&t.context&&t.context[Xe],r=Pn(e);if(!n)throw r;Re?Re.push({fn(){lu(r,n,t)},state:je}):lu(r,n,t)}function qo(e){if(typeof e=="function"&&!e.length)return qo(e());if(Array.isArray(e)){const t=[];for(let n=0;n<e.length;n++){const r=qo(e[n]);Array.isArray(r)?t.push.apply(t,r):t.push(r)}return t}return e}function Gp(e,t){return function(r){let s;return Me(()=>s=se(()=>(U.context={...U.context,[e]:r.value},sr(()=>r.children))),void 0),s}}function JO(e){Xe||(Xe=Symbol("error")),U===null||(U.context===null||!U.context[Xe]?(U.context={...U.context,[Xe]:[e]},Cn(U,Xe,[e])):U.context[Xe].push(e))}function Cn(e,t,n){if(e.owned)for(let r=0;r<e.owned.length;r++)e.owned[r].context===e.context&&Cn(e.owned[r],t,n),e.owned[r].context?e.owned[r].context[t]||(e.owned[r].context[t]=n,Cn(e.owned[r],t,n)):(e.owned[r].context=e.context,Cn(e.owned[r],t,n))}const Wp=Symbol("fallback");function fu(e){for(let t=0;t<e.length;t++)e[t]()}function Jp(e,t,n={}){let r=[],s=[],i=[],o=0,a=t.length>1?[]:null;return Ne(()=>fu(i)),()=>{let u=e()||[],c=u.length,l,f;return u[jo],se(()=>{let p,g,h,m,y,b,_,v,w;if(c===0)o!==0&&(fu(i),i=[],r=[],s=[],o=0,a&&(a=[])),n.fallback&&(r=[Wp],s[0]=et(E=>(i[0]=E,n.fallback())),o=1);else if(o===0){for(s=new Array(c),f=0;f<c;f++)r[f]=u[f],s[f]=et(d);o=c}else{for(h=new Array(c),m=new Array(c),a&&(y=new Array(c)),b=0,_=Math.min(o,c);b<_&&r[b]===u[b];b++);for(_=o-1,v=c-1;_>=b&&v>=b&&r[_]===u[v];_--,v--)h[v]=s[_],m[v]=i[_],a&&(y[v]=a[_]);for(p=new Map,g=new Array(v+1),f=v;f>=b;f--)w=u[f],l=p.get(w),g[f]=l===void 0?-1:l,p.set(w,f);for(l=b;l<=_;l++)w=r[l],f=p.get(w),f!==void 0&&f!==-1?(h[f]=s[l],m[f]=i[l],a&&(y[f]=a[l]),f=g[f],p.set(w,f)):i[l]();for(f=b;f<c;f++)f in h?(s[f]=h[f],i[f]=m[f],a&&(a[f]=y[f],a[f](f))):s[f]=et(d);s=s.slice(0,o=c),r=u.slice(0)}return s});function d(p){if(i[f]=p,a){const[g,h]=le(f);return a[f]=h,t(u[f],g)}return t(u[f])}}}function Q(e,t){return se(()=>e(t||{}))}function vn(){return!0}const Do={get(e,t,n){return t===Te?n:e.get(t)},has(e,t){return t===Te?!0:e.has(t)},set:vn,deleteProperty:vn,getOwnPropertyDescriptor(e,t){return{configurable:!0,enumerable:!0,get(){return e.get(t)},set:vn,deleteProperty:vn}},ownKeys(e){return e.keys()}};function $r(e){return(e=typeof e=="function"?e():e)?e:{}}function Qp(){for(let e=0,t=this.length;e<t;++e){const n=this[e]();if(n!==void 0)return n}}function Yp(...e){let t=!1;for(let o=0;o<e.length;o++){const a=e[o];t=t||!!a&&Te in a,e[o]=typeof a=="function"?(t=!0,Z(a)):a}if(vd&&t)return new Proxy({get(o){for(let a=e.length-1;a>=0;a--){const u=$r(e[a])[o];if(u!==void 0)return u}},has(o){for(let a=e.length-1;a>=0;a--)if(o in $r(e[a]))return!0;return!1},keys(){const o=[];for(let a=0;a<e.length;a++)o.push(...Object.keys($r(e[a])));return[...new Set(o)]}},Do);const n={},r=Object.create(null);for(let o=e.length-1;o>=0;o--){const a=e[o];if(!a)continue;const u=Object.getOwnPropertyNames(a);for(let c=u.length-1;c>=0;c--){const l=u[c];if(l==="__proto__"||l==="constructor")continue;const f=Object.getOwnPropertyDescriptor(a,l);if(!r[l])r[l]=f.get?{enumerable:!0,configurable:!0,get:Qp.bind(n[l]=[f.get.bind(a)])}:f.value!==void 0?f:void 0;else{const d=n[l];d&&(f.get?d.push(f.get.bind(a)):f.value!==void 0&&d.push(()=>f.value))}}}const s={},i=Object.keys(r);for(let o=i.length-1;o>=0;o--){const a=i[o],u=r[a];u&&u.get?Object.defineProperty(s,a,u):s[a]=u?u.value:void 0}return s}function Xp(e,...t){const n=t.length;if(vd&&Te in e){const s=n>1?t.flat():t[0],i=t.map(o=>new Proxy({get(a){return o.includes(a)?e[a]:void 0},has(a){return o.includes(a)&&a in e},keys(){return o.filter(a=>a in e)}},Do));return i.push(new Proxy({get(o){return s.includes(o)?void 0:e[o]},has(o){return s.includes(o)?!1:o in e},keys(){return Object.keys(e).filter(o=>!s.includes(o))}},Do)),i}const r=[];for(let s=0;s<=n;s++)r[s]={};for(const s of Object.getOwnPropertyNames(e)){let i=n;for(let u=0;u<t.length;u++)if(t[u].includes(s)){i=u;break}const o=Object.getOwnPropertyDescriptor(e,s);!o.get&&!o.set&&o.enumerable&&o.writable&&o.configurable?r[i][s]=o.value:Object.defineProperty(r[i],s,o)}return r}function ar(e){let t,n;const r=s=>{const i=D.context;if(i){const[a,u]=le();D.count||(D.count=0),D.count++,(n||(n=e())).then(c=>{!D.done&&Jt(i),D.count--,u(()=>c.default),Jt()}),t=a}else if(!t){const[a]=Sd(()=>(n||(n=e())).then(u=>u.default));t=a}let o;return Z(()=>(o=t())?se(()=>{if(!i||D.done)return o(s);const a=D.context;Jt(i);const u=o(s);return Jt(a),u}):"")};return r.preload=()=>n||((n=e()).then(s=>t=()=>s.default),n),r}const Td=e=>`Stale read from <${e}>.`;function QO(e){const t="fallback"in e&&{fallback:()=>e.fallback};return Z(Jp(()=>e.each,e.children,t||void 0))}function va(e){const t=e.keyed,n=Z(()=>e.when,void 0,void 0),r=t?n:Z(n,void 0,{equals:(s,i)=>!s==!i});return Z(()=>{const s=r();if(s){const i=e.children;return typeof i=="function"&&i.length>0?se(()=>i(t?s:()=>{if(!se(r))throw Td("Show");return n()})):i}return e.fallback},void 0,void 0)}function YO(e){const t=sr(()=>e.children),n=Z(()=>{const r=t(),s=Array.isArray(r)?r:[r];let i=()=>{};for(let o=0;o<s.length;o++){const a=o,u=s[o],c=i,l=Z(()=>c()?void 0:u.when,void 0,void 0),f=u.keyed?l:Z(l,void 0,{equals:(d,p)=>!d==!p});i=()=>c()||(f()?[a,l,u]:void 0)}return i});return Z(()=>{const r=n()();if(!r)return e.fallback;const[s,i,o]=r,a=o.children;return typeof a=="function"&&a.length>0?se(()=>a(o.keyed?i():()=>{if(se(n)()?.[0]!==s)throw Td("Match");return i()})):a},void 0,void 0)}function XO(e){return e}const eg=["allowfullscreen","async","alpha","autofocus","autoplay","checked","controls","default","disabled","formnovalidate","hidden","indeterminate","inert","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","seamless","selected","adauctionheaders","browsingtopics","credentialless","defaultchecked","defaultmuted","defaultselected","defer","disablepictureinpicture","disableremoteplayback","preservespitch","shadowrootclonable","shadowrootcustomelementregistry","shadowrootdelegatesfocus","shadowrootserializable","sharedstoragewritable"],tg=new Set(["className","value","readOnly","noValidate","formNoValidate","isMap","noModule","playsInline","adAuctionHeaders","allowFullscreen","browsingTopics","defaultChecked","defaultMuted","defaultSelected","disablePictureInPicture","disableRemotePlayback","preservesPitch","shadowRootClonable","shadowRootCustomElementRegistry","shadowRootDelegatesFocus","shadowRootSerializable","sharedStorageWritable",...eg]),ng=new Set(["innerHTML","textContent","innerText","children"]),rg=Object.assign(Object.create(null),{className:"class",htmlFor:"for"}),sg=Object.assign(Object.create(null),{class:"className",novalidate:{$:"noValidate",FORM:1},formnovalidate:{$:"formNoValidate",BUTTON:1,INPUT:1},ismap:{$:"isMap",IMG:1},nomodule:{$:"noModule",SCRIPT:1},playsinline:{$:"playsInline",VIDEO:1},readonly:{$:"readOnly",INPUT:1,TEXTAREA:1},adauctionheaders:{$:"adAuctionHeaders",IFRAME:1},allowfullscreen:{$:"allowFullscreen",IFRAME:1},browsingtopics:{$:"browsingTopics",IMG:1},defaultchecked:{$:"defaultChecked",INPUT:1},defaultmuted:{$:"defaultMuted",AUDIO:1,VIDEO:1},defaultselected:{$:"defaultSelected",OPTION:1},disablepictureinpicture:{$:"disablePictureInPicture",VIDEO:1},disableremoteplayback:{$:"disableRemotePlayback",AUDIO:1,VIDEO:1},preservespitch:{$:"preservesPitch",AUDIO:1,VIDEO:1},shadowrootclonable:{$:"shadowRootClonable",TEMPLATE:1},shadowrootdelegatesfocus:{$:"shadowRootDelegatesFocus",TEMPLATE:1},shadowrootserializable:{$:"shadowRootSerializable",TEMPLATE:1},sharedstoragewritable:{$:"sharedStorageWritable",IFRAME:1,IMG:1}});function ig(e,t){const n=sg[e];return typeof n=="object"?n[t]?n.$:void 0:n}const og=new Set(["beforeinput","click","dblclick","contextmenu","focusin","focusout","input","keydown","keyup","mousedown","mousemove","mouseout","mouseover","mouseup","pointerdown","pointermove","pointerout","pointerover","pointerup","touchend","touchmove","touchstart"]),ag=new Set(["altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignObject","g","glyph","glyphRef","hkern","image","line","linearGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","set","stop","svg","switch","symbol","text","textPath","tref","tspan","use","view","vkern"]),ug={xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace"},cg=e=>Z(()=>e());function lg(e,t,n){let r=n.length,s=t.length,i=r,o=0,a=0,u=t[s-1].nextSibling,c=null;for(;o<s||a<i;){if(t[o]===n[a]){o++,a++;continue}for(;t[s-1]===n[i-1];)s--,i--;if(s===o){const l=i<r?a?n[a-1].nextSibling:n[i-a]:u;for(;a<i;)e.insertBefore(n[a++],l)}else if(i===a)for(;o<s;)(!c||!c.has(t[o]))&&t[o].remove(),o++;else if(t[o]===n[i-1]&&n[a]===t[s-1]){const l=t[--s].nextSibling;e.insertBefore(n[a++],t[o++].nextSibling),e.insertBefore(n[--i],l),t[s]=n[i]}else{if(!c){c=new Map;let f=a;for(;f<i;)c.set(n[f],f++)}const l=c.get(t[o]);if(l!=null)if(a<l&&l<i){let f=o,d=1,p;for(;++f<s&&f<i&&!((p=c.get(t[f]))==null||p!==l+d);)d++;if(d>l-a){const g=t[o];for(;a<l;)e.insertBefore(n[a++],g)}else e.replaceChild(n[a++],t[o++])}else o++;else t[o++].remove()}}}const du="_$DX_DELEGATE";function fg(e,t,n,r={}){let s;return et(i=>{s=i,t===document?e():Mo(t,e(),t.firstChild?null:void 0,n)},r.owner),()=>{s(),t.textContent=""}}function eA(e,t,n,r){let s;const i=()=>{const a=document.createElement("template");return a.innerHTML=e,a.content.firstChild},o=()=>(s||(s=i())).cloneNode(!0);return o.cloneNode=o,o}function Pd(e,t=window.document){const n=t[du]||(t[du]=new Set);for(let r=0,s=e.length;r<s;r++){const i=e[r];n.has(i)||(n.add(i),t.addEventListener(i,xg))}}function Uo(e,t,n){vt(e)||(n==null?e.removeAttribute(t):e.setAttribute(t,n))}function dg(e,t,n,r){vt(e)||(r==null?e.removeAttributeNS(t,n):e.setAttributeNS(t,n,r))}function hg(e,t,n){vt(e)||(n?e.setAttribute(t,""):e.removeAttribute(t))}function pg(e,t){vt(e)||(t==null?e.removeAttribute("class"):e.className=t)}function gg(e,t,n,r){if(r)Array.isArray(n)?(e[`$$${t}`]=n[0],e[`$$${t}Data`]=n[1]):e[`$$${t}`]=n;else if(Array.isArray(n)){const s=n[0];e.addEventListener(t,n[0]=i=>s.call(e,n[1],i))}else e.addEventListener(t,n,typeof n!="function"&&n)}function mg(e,t,n={}){const r=Object.keys(t||{}),s=Object.keys(n);let i,o;for(i=0,o=s.length;i<o;i++){const a=s[i];!a||a==="undefined"||t[a]||(hu(e,a,!1),delete n[a])}for(i=0,o=r.length;i<o;i++){const a=r[i],u=!!t[a];!a||a==="undefined"||n[a]===u||!u||(hu(e,a,!0),n[a]=u)}return n}function yg(e,t,n){if(!t)return n?Uo(e,"style"):t;const r=e.style;if(typeof t=="string")return r.cssText=t;typeof n=="string"&&(r.cssText=n=void 0),n||(n={}),t||(t={});let s,i;for(i in n)t[i]==null&&r.removeProperty(i),delete n[i];for(i in t)s=t[i],s!==n[i]&&(r.setProperty(i,s),n[i]=s);return n}function bg(e,t={},n,r){const s={};return r||Me(()=>s.children=on(e,t.children,s.children)),Me(()=>typeof t.ref=="function"&&vg(t.ref,e)),Me(()=>wg(e,t,n,!0,s,!0)),s}function vg(e,t,n){return se(()=>e(t,n))}function Mo(e,t,n,r){if(n!==void 0&&!r&&(r=[]),typeof t!="function")return on(e,t,r,n);Me(s=>on(e,t(),s,n),r)}function wg(e,t,n,r,s={},i=!1){t||(t={});for(const o in s)if(!(o in t)){if(o==="children")continue;s[o]=pu(e,o,null,s[o],n,i,t)}for(const o in t){if(o==="children")continue;const a=t[o];s[o]=pu(e,o,a,s[o],n,i,t)}}function _g(e){let t,n;return!vt()||!(t=D.registry.get(n=Eg()))?e():(D.completed&&D.completed.add(t),D.registry.delete(n),t)}function vt(e){return!!D.context&&!D.done&&(!e||e.isConnected)}function Sg(e){return e.toLowerCase().replace(/-([a-z])/g,(t,n)=>n.toUpperCase())}function hu(e,t,n){const r=t.trim().split(/\s+/);for(let s=0,i=r.length;s<i;s++)e.classList.toggle(r[s],n)}function pu(e,t,n,r,s,i,o){let a,u,c,l,f;if(t==="style")return yg(e,n,r);if(t==="classList")return mg(e,n,r);if(n===r)return r;if(t==="ref")i||n(e);else if(t.slice(0,3)==="on:"){const d=t.slice(3);r&&e.removeEventListener(d,r,typeof r!="function"&&r),n&&e.addEventListener(d,n,typeof n!="function"&&n)}else if(t.slice(0,10)==="oncapture:"){const d=t.slice(10);r&&e.removeEventListener(d,r,!0),n&&e.addEventListener(d,n,!0)}else if(t.slice(0,2)==="on"){const d=t.slice(2).toLowerCase(),p=og.has(d);if(!p&&r){const g=Array.isArray(r)?r[0]:r;e.removeEventListener(d,g)}(p||n)&&(gg(e,d,n,p),p&&Pd([d]))}else if(t.slice(0,5)==="attr:")Uo(e,t.slice(5),n);else if(t.slice(0,5)==="bool:")hg(e,t.slice(5),n);else if((f=t.slice(0,5)==="prop:")||(c=ng.has(t))||!s&&((l=ig(t,e.tagName))||(u=tg.has(t)))||(a=e.nodeName.includes("-")||"is"in o)){if(f)t=t.slice(5),u=!0;else if(vt(e))return n;t==="class"||t==="className"?pg(e,n):a&&!u&&!c?e[Sg(t)]=n:e[l||t]=n}else{const d=s&&t.indexOf(":")>-1&&ug[t.split(":")[0]];d?dg(e,d,t,n):Uo(e,rg[t]||t,n)}return n}function xg(e){if(D.registry&&D.events&&D.events.find(([u,c])=>c===e))return;let t=e.target;const n=`$$${e.type}`,r=e.target,s=e.currentTarget,i=u=>Object.defineProperty(e,"target",{configurable:!0,value:u}),o=()=>{const u=t[n];if(u&&!t.disabled){const c=t[`${n}Data`];if(c!==void 0?u.call(t,c,e):u.call(t,e),e.cancelBubble)return}return t.host&&typeof t.host!="string"&&!t.host._$host&&t.contains(e.target)&&i(t.host),!0},a=()=>{for(;o()&&(t=t._$host||t.parentNode||t.host););};if(Object.defineProperty(e,"currentTarget",{configurable:!0,get(){return t||document}}),D.registry&&!D.done&&(D.done=_$HY.done=!0),e.composedPath){const u=e.composedPath();i(u[0]);for(let c=0;c<u.length-2&&(t=u[c],!!o());c++){if(t._$host){t=t._$host,a();break}if(t.parentNode===s)break}}else a();i(r)}function on(e,t,n,r,s){const i=vt(e);if(i){!n&&(n=[...e.childNodes]);let u=[];for(let c=0;c<n.length;c++){const l=n[c];l.nodeType===8&&l.data.slice(0,2)==="!$"?l.remove():u.push(l)}n=u}for(;typeof n=="function";)n=n();if(t===n)return n;const o=typeof t,a=r!==void 0;if(e=a&&n[0]&&n[0].parentNode||e,o==="string"||o==="number"){if(i||o==="number"&&(t=t.toString(),t===n))return n;if(a){let u=n[0];u&&u.nodeType===3?u.data!==t&&(u.data=t):u=document.createTextNode(t),n=At(e,n,r,u)}else n!==""&&typeof n=="string"?n=e.firstChild.data=t:n=e.textContent=t}else if(t==null||o==="boolean"){if(i)return n;n=At(e,n,r)}else{if(o==="function")return Me(()=>{let u=t();for(;typeof u=="function";)u=u();n=on(e,u,n,r)}),()=>n;if(Array.isArray(t)){const u=[],c=n&&Array.isArray(n);if(Bo(u,t,n,s))return Me(()=>n=on(e,u,n,r,!0)),()=>n;if(i){if(!u.length)return n;if(r===void 0)return n=[...e.childNodes];let l=u[0];if(l.parentNode!==e)return n;const f=[l];for(;(l=l.nextSibling)!==r;)f.push(l);return n=f}if(u.length===0){if(n=At(e,n,r),a)return n}else c?n.length===0?gu(e,u,r):lg(e,n,u):(n&&At(e),gu(e,u));n=u}else if(t.nodeType){if(i&&t.parentNode)return n=a?[t]:t;if(Array.isArray(n)){if(a)return n=At(e,n,r,t);At(e,n,null,t)}else n==null||n===""||!e.firstChild?e.appendChild(t):e.replaceChild(t,e.firstChild);n=t}}return n}function Bo(e,t,n,r){let s=!1;for(let i=0,o=t.length;i<o;i++){let a=t[i],u=n&&n[e.length],c;if(!(a==null||a===!0||a===!1))if((c=typeof a)=="object"&&a.nodeType)e.push(a);else if(Array.isArray(a))s=Bo(e,a,u)||s;else if(c==="function")if(r){for(;typeof a=="function";)a=a();s=Bo(e,Array.isArray(a)?a:[a],Array.isArray(u)?u:[u])||s}else e.push(a),s=!0;else{const l=String(a);u&&u.nodeType===3&&u.data===l?e.push(u):e.push(document.createTextNode(l))}}return s}function gu(e,t,n=null){for(let r=0,s=t.length;r<s;r++)e.insertBefore(t[r],n)}function At(e,t,n,r){if(n===void 0)return e.textContent="";const s=r||document.createTextNode("");if(t.length){let i=!1;for(let o=t.length-1;o>=0;o--){const a=t[o];if(s!==a){const u=a.parentNode===e;!i&&!o?u?e.replaceChild(s,a):e.insertBefore(s,n):u&&a.remove()}else i=!0}}else e.insertBefore(s,n);return[s]}function Eg(){return D.getNextContextId()}const Zo=!1,Og="http://www.w3.org/2000/svg";function Cd(e,t=!1,n=void 0){return t?document.createElementNS(Og,e):document.createElement(e,{is:n})}function tA(e){const{useShadow:t}=e,n=document.createTextNode(""),r=()=>e.mount||document.body,s=Ln();let i,o=!!D.context;return Mt(()=>{o&&(Ln().user=o=!1),i||(i=rr(s,()=>Z(()=>e.children)));const a=r();if(a instanceof HTMLHeadElement){const[u,c]=le(!1),l=()=>c(!0);et(f=>Mo(a,()=>u()?f():i(),null)),Ne(l)}else{const u=Cd(e.isSVG?"g":"div",e.isSVG),c=t&&u.attachShadow?u.attachShadow({mode:"open"}):u;Object.defineProperty(u,"_$host",{get(){return n.parentNode},configurable:!0}),Mo(c,i),a.appendChild(u),e.ref&&e.ref(u),Ne(()=>a.removeChild(u))}},void 0,{render:!o}),n}function Ag(e,t){const n=Z(e);return Z(()=>{const r=n();switch(typeof r){case"function":return se(()=>r(t));case"string":const s=ag.has(r),i=D.context?_g():Cd(r,s,se(()=>t.is));return bg(i,t,s),i}})}function nA(e){const[,t]=Xp(e,["component"]);return Ag(()=>e.component,t)}const Rg="modulepreload",Tg=function(e){return"/"+e},mu={},ur=function(t,n,r){let s=Promise.resolve();if(n&&n.length>0){let u=function(c){return Promise.all(c.map(l=>Promise.resolve(l).then(f=>({status:"fulfilled",value:f}),f=>({status:"rejected",reason:f}))))};document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=o?.nonce||o?.getAttribute("nonce");s=u(n.map(c=>{if(c=Tg(c),c in mu)return;mu[c]=!0;const l=c.endsWith(".css"),f=l?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${f}`))return;const d=document.createElement("link");if(d.rel=l?"stylesheet":Rg,l||(d.as="script"),d.crossOrigin="",d.href=c,a&&d.setAttribute("nonce",a),document.head.appendChild(d),l)return new Promise((p,g)=>{d.addEventListener("load",p),d.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return s.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return t().catch(i)})};function Id(){let e=new Set;function t(s){return e.add(s),()=>e.delete(s)}let n=!1;function r(s,i){if(n)return!(n=!1);const o={to:s,options:i,defaultPrevented:!1,preventDefault:()=>o.defaultPrevented=!0};for(const a of e)a.listener({...o,from:a.location,retry:u=>{u&&(n=!0),a.navigate(s,{...i,resolve:!1})}});return!o.defaultPrevented}return{subscribe:t,confirm:r}}let Ho;function wa(){(!window.history.state||window.history.state._depth==null)&&window.history.replaceState({...window.history.state,_depth:window.history.length-1},""),Ho=window.history.state._depth}wa();function Pg(e){return{...e,_depth:window.history.state&&window.history.state._depth}}function Cg(e,t){let n=!1;return()=>{const r=Ho;wa();const s=r==null?null:Ho-r;if(n){n=!1;return}s&&t(s)?(n=!0,window.history.go(-s)):e()}}const Ig=/^(?:[a-z0-9]+:)?\/\//i,kg=/^\/+|(\/)\/+$/g,kd="http://sr";function tn(e,t=!1){const n=e.replace(kg,"$1");return n?t||/^[?#]/.test(n)?n:"/"+n:""}function In(e,t,n){if(Ig.test(t))return;const r=tn(e),s=n&&tn(n);let i="";return!s||t.startsWith("/")?i=r:s.toLowerCase().indexOf(r.toLowerCase())!==0?i=r+s:i=s,(i||"/")+tn(t,!i)}function $g(e,t){if(e==null)throw new Error(t);return e}function Lg(e,t){return tn(e).replace(/\/*(\*.*)?$/g,"")+tn(t)}function $d(e){const t={};return e.searchParams.forEach((n,r)=>{r in t?Array.isArray(t[r])?t[r].push(n):t[r]=[t[r],n]:t[r]=n}),t}function Ng(e,t,n){const[r,s]=e.split("/*",2),i=r.split("/").filter(Boolean),o=i.length;return a=>{const u=a.split("/").filter(Boolean),c=u.length-o;if(c<0||c>0&&s===void 0&&!t)return null;const l={path:o?"":"/",params:{}},f=d=>n===void 0?void 0:n[d];for(let d=0;d<o;d++){const p=i[d],g=p[0]===":",h=g?u[d]:u[d].toLowerCase(),m=g?p.slice(1):p.toLowerCase();if(g&&Lr(h,f(m)))l.params[m]=h;else if(g||!Lr(h,m))return null;l.path+=`/${h}`}if(s){const d=c?u.slice(-c).join("/"):"";if(Lr(d,f(s)))l.params[s]=d;else return null}return l}}function Lr(e,t){const n=r=>r===e;return t===void 0?!0:typeof t=="string"?n(t):typeof t=="function"?t(e):Array.isArray(t)?t.some(n):t instanceof RegExp?t.test(e):!1}function zg(e){const[t,n]=e.pattern.split("/*",2),r=t.split("/").filter(Boolean);return r.reduce((s,i)=>s+(i.startsWith(":")?2:3),r.length-(n===void 0?0:1))}function Ld(e){const t=new Map,n=Ln();return new Proxy({},{get(r,s){return t.has(s)||rr(n,()=>t.set(s,Z(()=>e()[s]))),t.get(s)()},getOwnPropertyDescriptor(){return{enumerable:!0,configurable:!0}},ownKeys(){return Reflect.ownKeys(e())},has(r,s){return s in e()}})}function Nd(e){let t=/(\/?\:[^\/]+)\?/.exec(e);if(!t)return[e];let n=e.slice(0,t.index),r=e.slice(t.index+t[0].length);const s=[n,n+=t[1]];for(;t=/^(\/\:[^\/]+)\?/.exec(r);)s.push(n+=t[1]),r=r.slice(t[0].length);return Nd(r).reduce((i,o)=>[...i,...s.map(a=>a+o)],[])}const jg=100,zd=dn(),jd=dn(),_a=()=>$g(hn(zd),"<A> and 'use' router primitives can be only used inside a Route."),Fg=()=>_a().navigatorFactory(),qg=()=>_a().location,rA=()=>_a().params;function Dg(e,t=""){const{component:n,preload:r,load:s,children:i,info:o}=e,a=!i||Array.isArray(i)&&!i.length,u={key:e,component:n,preload:r||s,info:o};return Fd(e.path).reduce((c,l)=>{for(const f of Nd(l)){const d=Lg(t,f);let p=a?d:d.split("/*",1)[0];p=p.split("/").map(g=>g.startsWith(":")||g.startsWith("*")?g:encodeURIComponent(g)).join("/"),c.push({...u,originalPath:l,pattern:p,matcher:Ng(p,!a,e.matchFilters)})}return c},[])}function Ug(e,t=0){return{routes:e,score:zg(e[e.length-1])*1e4-t,matcher(n){const r=[];for(let s=e.length-1;s>=0;s--){const i=e[s],o=i.matcher(n);if(!o)return null;r.unshift({...o,route:i})}return r}}}function Fd(e){return Array.isArray(e)?e:[e]}function qd(e,t="",n=[],r=[]){const s=Fd(e);for(let i=0,o=s.length;i<o;i++){const a=s[i];if(a&&typeof a=="object"){a.hasOwnProperty("path")||(a.path="");const u=Dg(a,t);for(const c of u){n.push(c);const l=Array.isArray(a.children)&&a.children.length===0;if(a.children&&!l)qd(a.children,c.pattern,n,r);else{const f=Ug([...n],r.length);r.push(f)}n.pop()}}}return n.length?r:r.sort((i,o)=>o.score-i.score)}function Nr(e,t){for(let n=0,r=e.length;n<r;n++){const s=e[n].matcher(t);if(s)return s}return[]}function Mg(e,t,n){const r=new URL(kd),s=Z(l=>{const f=e();try{return new URL(f,r)}catch{return console.error(`Invalid path ${f}`),l}},r,{equals:(l,f)=>l.href===f.href}),i=Z(()=>s().pathname),o=Z(()=>s().search,!0),a=Z(()=>s().hash),u=()=>"",c=gt(o,()=>$d(s()));return{get pathname(){return i()},get search(){return o()},get hash(){return a()},get state(){return t()},get key(){return u()},query:n?n(c):Ld(c)}}let ft;function Bg(){return ft}function Zg(e,t,n,r={}){const{signal:[s,i],utils:o={}}=e,a=o.parsePath||(L=>L),u=o.renderPath||(L=>L),c=o.beforeLeave||Id(),l=In("",r.base||"");if(l===void 0)throw new Error(`${l} is not a valid base path`);l&&!s().value&&i({value:l,replace:!0,scroll:!1});const[f,d]=le(!1);let p;const g=(L,O)=>{O.value===h()&&O.state===y()||(p===void 0&&d(!0),ft=L,p=O,Bp(()=>{p===O&&(m(p.value),b(p.state),w[1](T=>T.filter(z=>z.pending)))}).finally(()=>{p===O&&xd(()=>{ft=void 0,L==="navigate"&&q(p),d(!1),p=void 0})}))},[h,m]=le(s().value),[y,b]=le(s().state),_=Mg(h,y,o.queryWrapper),v=[],w=le([]),E=Z(()=>typeof r.transformUrl=="function"?Nr(t(),r.transformUrl(_.pathname)):Nr(t(),_.pathname)),A=()=>{const L=E(),O={};for(let T=0;T<L.length;T++)Object.assign(O,L[T].params);return O},C=o.paramsWrapper?o.paramsWrapper(A,t):Ld(A),j={pattern:l,path:()=>l,outlet:()=>null,resolvePath(L){return In(l,L)}};return Me(gt(s,L=>g("native",L),{defer:!0})),{base:j,location:_,params:C,isRouting:f,renderPath:u,parsePath:a,navigatorFactory:R,matches:E,beforeLeave:c,preloadRoute:$,singleFlight:r.singleFlight===void 0?!0:r.singleFlight,submissions:w};function I(L,O,T){se(()=>{if(typeof O=="number"){O&&(o.go?o.go(O):console.warn("Router integration does not support relative routing"));return}const z=!O||O[0]==="?",{replace:B,resolve:x,scroll:P,state:k}={replace:!1,resolve:!z,scroll:!0,...T},M=x?L.resolvePath(O):In(z&&_.pathname||"",O);if(M===void 0)throw new Error(`Path '${O}' is not a routable path`);if(v.length>=jg)throw new Error("Too many redirects");const te=h();(M!==te||k!==y())&&(Zo||c.confirm(M,T)&&(v.push({value:te,replace:B,scroll:P,state:y()}),g("navigate",{value:M,state:k})))})}function R(L){return L=L||hn(jd)||j,(O,T)=>I(L,O,T)}function q(L){const O=v[0];O&&(i({...L,replace:O.replace,scroll:O.scroll}),v.length=0)}function $(L,O){const T=Nr(t(),L.pathname),z=ft;ft="preload";for(let B in T){const{route:x,params:P}=T[B];x.component&&x.component.preload&&x.component.preload();const{preload:k}=x;O&&k&&rr(n(),()=>k({params:P,location:{pathname:L.pathname,search:L.search,hash:L.hash,query:$d(L),state:null,key:""},intent:"preload"}))}ft=z}}function Hg(e,t,n,r){const{base:s,location:i,params:o}=e,{pattern:a,component:u,preload:c}=r().route,l=Z(()=>r().path);u&&u.preload&&u.preload();const f=c?c({params:o,location:i,intent:ft||"initial"}):void 0;return{parent:t,pattern:a,path:l,outlet:()=>u?Q(u,{params:o,location:i,data:f,get children(){return n()}}):n(),resolvePath(p){return In(s.path(),p,l())}}}const Kg=e=>t=>{const{base:n}=t,r=sr(()=>t.children),s=Z(()=>qd(r(),t.base||""));let i;const o=Zg(e,s,()=>i,{base:n,singleFlight:t.singleFlight,transformUrl:t.transformUrl});return e.create&&e.create(o),Q(zd.Provider,{value:o,get children(){return Q(Vg,{routerState:o,get root(){return t.root},get preload(){return t.rootPreload||t.rootLoad},get children(){return[cg(()=>(i=Ln())&&null),Q(Gg,{routerState:o,get branches(){return s()}})]}})}})};function Vg(e){const t=e.routerState.location,n=e.routerState.params,r=Z(()=>e.preload&&se(()=>{e.preload({params:n,location:t,intent:Bg()||"initial"})}));return Q(va,{get when(){return e.root},keyed:!0,get fallback(){return e.children},children:s=>Q(s,{params:n,location:t,get data(){return r()},get children(){return e.children}})})}function Gg(e){const t=[];let n;const r=Z(gt(e.routerState.matches,(s,i,o)=>{let a=i&&s.length===i.length;const u=[];for(let c=0,l=s.length;c<l;c++){const f=i&&i[c],d=s[c];o&&f&&d.route.key===f.route.key?u[c]=o[c]:(a=!1,t[c]&&t[c](),et(p=>{t[c]=p,u[c]=Hg(e.routerState,u[c-1]||e.routerState.base,yu(()=>r()[c+1]),()=>{const g=e.routerState.matches();return g[c]??g[0]})}))}return t.splice(s.length).forEach(c=>c()),o&&a?o:(n=u[0],u)}));return yu(()=>r()&&n)()}const yu=e=>()=>Q(va,{get when(){return e()},keyed:!0,children:t=>Q(jd.Provider,{value:t,get children(){return t.outlet()}})}),wn=e=>{const t=sr(()=>e.children);return Yp(e,{get children(){return t()}})};function Wg([e,t],n,r){return[e,r?s=>t(r(s)):t]}function Jg(e){let t=!1;const n=s=>typeof s=="string"?{value:s}:s,r=Wg(le(n(e.get()),{equals:(s,i)=>s.value===i.value&&s.state===i.state}),void 0,s=>(!t&&e.set(s),D.registry&&!D.done&&(D.done=!0),s));return e.init&&Ne(e.init((s=e.get())=>{t=!0,r[1](n(s)),t=!1})),Kg({signal:r,create:e.create,utils:e.utils})}function Qg(e,t,n){return e.addEventListener(t,n),()=>e.removeEventListener(t,n)}function Yg(e,t){const n=e&&document.getElementById(e);n?n.scrollIntoView():t&&window.scrollTo(0,0)}const Xg=new Map;function em(e=!0,t=!1,n="/_server",r){return s=>{const i=s.base.path(),o=s.navigatorFactory(s.base);let a,u;function c(h){return h.namespaceURI==="http://www.w3.org/2000/svg"}function l(h){if(h.defaultPrevented||h.button!==0||h.metaKey||h.altKey||h.ctrlKey||h.shiftKey)return;const m=h.composedPath().find(E=>E instanceof Node&&E.nodeName.toUpperCase()==="A");if(!m||t&&!m.hasAttribute("link"))return;const y=c(m),b=y?m.href.baseVal:m.href;if((y?m.target.baseVal:m.target)||!b&&!m.hasAttribute("state"))return;const v=(m.getAttribute("rel")||"").split(/\s+/);if(m.hasAttribute("download")||v&&v.includes("external"))return;const w=y?new URL(b,document.baseURI):new URL(b);if(!(w.origin!==window.location.origin||i&&w.pathname&&!w.pathname.toLowerCase().startsWith(i.toLowerCase())))return[m,w]}function f(h){const m=l(h);if(!m)return;const[y,b]=m,_=s.parsePath(b.pathname+b.search+b.hash),v=y.getAttribute("state");h.preventDefault(),o(_,{resolve:!1,replace:y.hasAttribute("replace"),scroll:!y.hasAttribute("noscroll"),state:v?JSON.parse(v):void 0})}function d(h){const m=l(h);if(!m)return;const[y,b]=m;s.preloadRoute(b,y.getAttribute("preload")!=="false")}function p(h){clearTimeout(a);const m=l(h);if(!m)return u=null;const[y,b]=m;u!==y&&(a=setTimeout(()=>{s.preloadRoute(b,y.getAttribute("preload")!=="false"),u=y},20))}function g(h){if(h.defaultPrevented)return;let m=h.submitter&&h.submitter.hasAttribute("formaction")?h.submitter.getAttribute("formaction"):h.target.getAttribute("action");if(!m)return;if(!m.startsWith("https://action/")){const b=new URL(m,kd);if(m=s.parsePath(b.pathname+b.search),!m.startsWith(n))return}if(h.target.method.toUpperCase()!=="POST")throw new Error("Only POST forms are supported for Actions");const y=Xg.get(m);if(y){h.preventDefault();const b=new FormData(h.target,h.submitter);y.call({r:s,f:h.target},h.target.enctype==="multipart/form-data"?b:new URLSearchParams(b))}}Pd(["click","submit"]),document.addEventListener("click",f),e&&(document.addEventListener("mousemove",p,{passive:!0}),document.addEventListener("focusin",d,{passive:!0}),document.addEventListener("touchstart",d,{passive:!0})),document.addEventListener("submit",g),Ne(()=>{document.removeEventListener("click",f),e&&(document.removeEventListener("mousemove",p),document.removeEventListener("focusin",d),document.removeEventListener("touchstart",d)),document.removeEventListener("submit",g)})}}function tm(e){const t=e.replace(/^.*?#/,"");if(!t.startsWith("/")){const[,n="/"]=window.location.hash.split("#",2);return`${n}#${t}`}return t}function nm(e){const t=()=>window.location.hash.slice(1),n=Id();return Jg({get:t,set({value:r,replace:s,scroll:i,state:o}){s?window.history.replaceState(Pg(o),"","#"+r):window.history.pushState(o,"","#"+r);const a=r.indexOf("#"),u=a>=0?r.slice(a+1):"";Yg(u,i),wa()},init:r=>Qg(window,"hashchange",Cg(r,s=>!n.confirm(s&&s<0?s:t()))),create:em(e.preload,e.explicitLinks,e.actionBase),utils:{go:r=>window.history.go(r),renderPath:r=>`#${r}`,parsePath:tm,beforeLeave:n}})(e)}function rm(e){const t=Fg(),n=qg(),{href:r,state:s}=e,i=typeof r=="function"?r({navigate:t,location:n}):r;return t(i,{replace:!0,state:s}),null}const Ko=Symbol("store-raw"),Nt=Symbol("store-node"),qe=Symbol("store-has"),Dd=Symbol("store-self");function Ud(e){let t=e[Te];if(!t&&(Object.defineProperty(e,Te,{value:t=new Proxy(e,om)}),!Array.isArray(e))){const n=Object.keys(e),r=Object.getOwnPropertyDescriptors(e);for(let s=0,i=n.length;s<i;s++){const o=n[s];r[o].get&&Object.defineProperty(e,o,{enumerable:r[o].enumerable,get:r[o].get.bind(t)})}}return t}function nt(e){let t;return e!=null&&typeof e=="object"&&(e[Te]||!(t=Object.getPrototypeOf(e))||t===Object.prototype||Array.isArray(e))}function mt(e,t=new Set){let n,r,s,i;if(n=e!=null&&e[Ko])return n;if(!nt(e)||t.has(e))return e;if(Array.isArray(e)){Object.isFrozen(e)?e=e.slice(0):t.add(e);for(let o=0,a=e.length;o<a;o++)s=e[o],(r=mt(s,t))!==s&&(e[o]=r)}else{Object.isFrozen(e)?e=Object.assign({},e):t.add(e);const o=Object.keys(e),a=Object.getOwnPropertyDescriptors(e);for(let u=0,c=o.length;u<c;u++)i=o[u],!a[i].get&&(s=e[i],(r=mt(s,t))!==s&&(e[i]=r))}return e}function jn(e,t){let n=e[t];return n||Object.defineProperty(e,t,{value:n=Object.create(null)}),n}function an(e,t,n){if(e[t])return e[t];const[r,s]=le(n,{equals:!1,internal:!0});return r.$=s,e[t]=r}function sm(e,t){const n=Reflect.getOwnPropertyDescriptor(e,t);return!n||n.get||!n.configurable||t===Te||t===Nt||(delete n.value,delete n.writable,n.get=()=>e[Te][t]),n}function Md(e){Fo()&&an(jn(e,Nt),Dd)()}function im(e){return Md(e),Reflect.ownKeys(e)}const om={get(e,t,n){if(t===Ko)return e;if(t===Te)return n;if(t===jo)return Md(e),n;const r=jn(e,Nt),s=r[t];let i=s?s():e[t];if(t===Nt||t===qe||t==="__proto__")return i;if(!s){const o=Object.getOwnPropertyDescriptor(e,t);Fo()&&(typeof i!="function"||e.hasOwnProperty(t))&&!(o&&o.get)&&(i=an(r,t,i)())}return nt(i)?Ud(i):i},has(e,t){return t===Ko||t===Te||t===jo||t===Nt||t===qe||t==="__proto__"?!0:(Fo()&&an(jn(e,qe),t)(),t in e)},set(){return!0},deleteProperty(){return!0},ownKeys:im,getOwnPropertyDescriptor:sm};function _e(e,t,n,r=!1){if(!r&&e[t]===n)return;const s=e[t],i=e.length;n===void 0?(delete e[t],e[qe]&&e[qe][t]&&s!==void 0&&e[qe][t].$()):(e[t]=n,e[qe]&&e[qe][t]&&s===void 0&&e[qe][t].$());let o=jn(e,Nt),a;if((a=an(o,t,s))&&a.$(()=>n),Array.isArray(e)&&e.length!==i){for(let u=e.length;u<i;u++)(a=o[u])&&a.$();(a=an(o,"length",i))&&a.$(e.length)}(a=o[Dd])&&a.$()}function Bd(e,t){const n=Object.keys(t);for(let r=0;r<n.length;r+=1){const s=n[r];_e(e,s,t[s])}}function am(e,t){if(typeof t=="function"&&(t=t(e)),t=mt(t),Array.isArray(t)){if(e===t)return;let n=0,r=t.length;for(;n<r;n++){const s=t[n];e[n]!==s&&_e(e,n,s)}_e(e,"length",r)}else Bd(e,t)}function Qt(e,t,n=[]){let r,s=e;if(t.length>1){r=t.shift();const o=typeof r,a=Array.isArray(e);if(Array.isArray(r)){for(let u=0;u<r.length;u++)Qt(e,[r[u]].concat(t),n);return}else if(a&&o==="function"){for(let u=0;u<e.length;u++)r(e[u],u)&&Qt(e,[u].concat(t),n);return}else if(a&&o==="object"){const{from:u=0,to:c=e.length-1,by:l=1}=r;for(let f=u;f<=c;f+=l)Qt(e,[f].concat(t),n);return}else if(t.length>1){Qt(e[r],t,[r].concat(n));return}s=e[r],n=[r].concat(n)}let i=t[0];typeof i=="function"&&(i=i(s,n),i===s)||r===void 0&&i==null||(i=mt(i),r===void 0||nt(s)&&nt(i)&&!Array.isArray(i)?Bd(s,i):_e(e,r,i))}function Sa(...[e,t]){const n=mt(e||{}),r=Array.isArray(n),s=Ud(n);function i(...o){xd(()=>{r&&o.length===1?am(n,o[0]):Qt(n,o)})}return[s,i]}const Vo=Symbol("store-root");function It(e,t,n,r,s){const i=t[n];if(e===i)return;const o=Array.isArray(e);if(n!==Vo&&(!nt(e)||!nt(i)||o!==Array.isArray(i)||s&&e[s]!==i[s])){_e(t,n,e);return}if(o){if(e.length&&i.length&&(!r||s&&e[0]&&e[0][s]!=null)){let c,l,f,d,p,g,h,m;for(f=0,d=Math.min(i.length,e.length);f<d&&(i[f]===e[f]||s&&i[f]&&e[f]&&i[f][s]&&i[f][s]===e[f][s]);f++)It(e[f],i,f,r,s);const y=new Array(e.length),b=new Map;for(d=i.length-1,p=e.length-1;d>=f&&p>=f&&(i[d]===e[p]||s&&i[d]&&e[p]&&i[d][s]&&i[d][s]===e[p][s]);d--,p--)y[p]=i[d];if(f>p||f>d){for(l=f;l<=p;l++)_e(i,l,e[l]);for(;l<e.length;l++)_e(i,l,y[l]),It(e[l],i,l,r,s);i.length>e.length&&_e(i,"length",e.length);return}for(h=new Array(p+1),l=p;l>=f;l--)g=e[l],m=s&&g?g[s]:g,c=b.get(m),h[l]=c===void 0?-1:c,b.set(m,l);for(c=f;c<=d;c++)g=i[c],m=s&&g?g[s]:g,l=b.get(m),l!==void 0&&l!==-1&&(y[l]=i[c],l=h[l],b.set(m,l));for(l=f;l<e.length;l++)l in y?(_e(i,l,y[l]),It(e[l],i,l,r,s)):_e(i,l,e[l])}else for(let c=0,l=e.length;c<l;c++)It(e[c],i,c,r,s);i.length>e.length&&_e(i,"length",e.length);return}const a=Object.keys(e);for(let c=0,l=a.length;c<l;c++)It(e[a[c]],i,a[c],r,s);const u=Object.keys(i);for(let c=0,l=u.length;c<l;c++)e[u[c]]===void 0&&_e(i,u[c],void 0)}function um(e,t={}){const{merge:n,key:r="id"}=t,s=mt(e);return i=>{if(!nt(i)||!nt(s))return s;const o=It(s,{[Vo]:i},Vo,n,r);return o===void 0?i:o}}var Zt=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},cm={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},lm=class{#e=cm;#t=!1;setTimeoutProvider(e){this.#e=e}setTimeout(e,t){return this.#e.setTimeout(e,t)}clearTimeout(e){this.#e.clearTimeout(e)}setInterval(e,t){return this.#e.setInterval(e,t)}clearInterval(e){this.#e.clearInterval(e)}},Ue=new lm;function fm(e){setTimeout(e,0)}var jt=typeof window>"u"||"Deno"in globalThis;function ae(){}function dm(e,t){return typeof e=="function"?e(t):e}function Go(e){return typeof e=="number"&&e>=0&&e!==1/0}function Zd(e,t){return Math.max(e+(t||0)-Date.now(),0)}function tt(e,t){return typeof e=="function"?e(t):e}function xe(e,t){return typeof e=="function"?e(t):e}function bu(e,t){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:o,stale:a}=e;if(o){if(r){if(t.queryHash!==xa(o,t.options))return!1}else if(!un(t.queryKey,o))return!1}if(n!=="all"){const u=t.isActive();if(n==="active"&&!u||n==="inactive"&&u)return!1}return!(typeof a=="boolean"&&t.isStale()!==a||s&&s!==t.state.fetchStatus||i&&!i(t))}function vu(e,t){const{exact:n,status:r,predicate:s,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(n){if(yt(t.options.mutationKey)!==yt(i))return!1}else if(!un(t.options.mutationKey,i))return!1}return!(r&&t.state.status!==r||s&&!s(t))}function xa(e,t){return(t?.queryKeyHashFn||yt)(e)}function yt(e){return JSON.stringify(e,(t,n)=>Wo(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function un(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(n=>un(e[n],t[n])):!1}var hm=Object.prototype.hasOwnProperty;function Hd(e,t,n=0){if(e===t)return e;if(n>500)return t;const r=wu(e)&&wu(t);if(!r&&!(Wo(e)&&Wo(t)))return t;const i=(r?e:Object.keys(e)).length,o=r?t:Object.keys(t),a=o.length,u=r?new Array(a):{};let c=0;for(let l=0;l<a;l++){const f=r?l:o[l],d=e[f],p=t[f];if(d===p){u[f]=d,(r?l<i:hm.call(e,f))&&c++;continue}if(d===null||p===null||typeof d!="object"||typeof p!="object"){u[f]=p;continue}const g=Hd(d,p,n+1);u[f]=g,g===d&&c++}return i===a&&c===i?e:u}function Fn(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function wu(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Wo(e){if(!_u(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!_u(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function _u(e){return Object.prototype.toString.call(e)==="[object Object]"}function pm(e){return new Promise(t=>{Ue.setTimeout(t,e)})}function Jo(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?Hd(e,t):t}function gm(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function mm(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var Ea=Symbol();function Kd(e,t){return!e.queryFn&&t?.initialPromise?()=>t.initialPromise:!e.queryFn||e.queryFn===Ea?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function Vd(e,t){return typeof e=="function"?e(...t):!!e}function ym(e,t,n){let r=!1,s;return Object.defineProperty(e,"signal",{enumerable:!0,get:()=>(s??=t(),r||(r=!0,s.aborted?n():s.addEventListener("abort",n,{once:!0})),s)}),e}var bm=class extends Zt{#e;#t;#n;constructor(){super(),this.#n=e=>{if(!jt&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#n=e,this.#t?.(),this.#t=e(t=>{typeof t=="boolean"?this.setFocused(t):this.onFocus()})}setFocused(e){this.#e!==e&&(this.#e=e,this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},Oa=new bm;function Qo(){let e,t;const n=new Promise((s,i)=>{e=s,t=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),e(s)},n.reject=s=>{r({status:"rejected",reason:s}),t(s)},n}function vm(e){let t;if(e.then(n=>(t=n,n),ae)?.catch(ae),t!==void 0)return{data:t}}function Gd(e){return e}function wm(e){return{mutationKey:e.options.mutationKey,state:e.state,...e.options.scope&&{scope:e.options.scope},...e.meta&&{meta:e.meta}}}function _m(e,t,n){const r=()=>{const s=e.promise?.then(t).catch(i=>n(i)?Promise.reject(new Error("redacted")):Promise.reject(i));return s?.catch(ae),s};return{dehydratedAt:Date.now(),state:{...e.state,...e.state.data!==void 0&&{data:t(e.state.data)}},queryKey:e.queryKey,queryHash:e.queryHash,...e.state.status==="pending"&&{promise:r()},...e.meta&&{meta:e.meta}}}function Sm(e){return e.state.isPaused}function xm(e){return e.state.status==="success"}function Em(e){return!0}function Om(e,t={}){const n=t.shouldDehydrateMutation??e.getDefaultOptions().dehydrate?.shouldDehydrateMutation??Sm,r=e.getMutationCache().getAll().flatMap(u=>n(u)?[wm(u)]:[]),s=t.shouldDehydrateQuery??e.getDefaultOptions().dehydrate?.shouldDehydrateQuery??xm,i=t.shouldRedactErrors??e.getDefaultOptions().dehydrate?.shouldRedactErrors??Em,o=t.serializeData??e.getDefaultOptions().dehydrate?.serializeData??Gd,a=e.getQueryCache().getAll().flatMap(u=>s(u)?[_m(u,o,i)]:[]);return{mutations:r,queries:a}}function Wd(e,t,n){if(typeof t!="object"||t===null)return;const r=e.getMutationCache(),s=e.getQueryCache(),i=n?.defaultOptions?.deserializeData??e.getDefaultOptions().hydrate?.deserializeData??Gd,o=t.mutations||[],a=t.queries||[];o.forEach(({state:u,...c})=>{r.build(e,{...e.getDefaultOptions().hydrate?.mutations,...n?.defaultOptions?.mutations,...c},u)}),a.forEach(({queryKey:u,state:c,queryHash:l,meta:f,promise:d,dehydratedAt:p})=>{const g=d?vm(d):void 0,h=c.data===void 0?g?.data:c.data,m=h===void 0?h:i(h);let y=s.get(l);const b=y?.state.status==="pending",_=y?.state.fetchStatus==="fetching";if(y){const v=g&&p!==void 0&&p>y.state.dataUpdatedAt;if(c.dataUpdatedAt>y.state.dataUpdatedAt||v){const{fetchStatus:w,...E}=c;y.setState({...E,data:m})}}else y=s.build(e,{...e.getDefaultOptions().hydrate?.queries,...n?.defaultOptions?.queries,queryKey:u,queryHash:l,meta:f},{...c,data:m,fetchStatus:"idle",status:m!==void 0?"success":c.status});d&&!b&&!_&&(p===void 0||p>y.state.dataUpdatedAt)&&y.fetch(void 0,{initialPromise:Promise.resolve(d).then(i)}).catch(ae)})}var Am=fm;function Rm(){let e=[],t=0,n=a=>{a()},r=a=>{a()},s=Am;const i=a=>{t?e.push(a):s(()=>{n(a)})},o=()=>{const a=e;e=[],a.length&&s(()=>{r(()=>{a.forEach(u=>{n(u)})})})};return{batch:a=>{let u;t++;try{u=a()}finally{t--,t||o()}return u},batchCalls:a=>(...u)=>{i(()=>{a(...u)})},schedule:i,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{s=a}}}var ce=Rm(),Tm=class extends Zt{#e=!0;#t;#n;constructor(){super(),this.#n=e=>{if(!jt&&window.addEventListener){const t=()=>e(!0),n=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",n)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#n=e,this.#t?.(),this.#t=e(this.setOnline.bind(this))}setOnline(e){this.#e!==e&&(this.#e=e,this.listeners.forEach(n=>{n(e)}))}isOnline(){return this.#e}},qn=new Tm;function Pm(e){return Math.min(1e3*2**e,3e4)}function Jd(e){return(e??"online")==="online"?qn.isOnline():!0}var Yo=class extends Error{constructor(e){super("CancelledError"),this.revert=e?.revert,this.silent=e?.silent}};function Qd(e){let t=!1,n=0,r;const s=Qo(),i=()=>s.status!=="pending",o=h=>{if(!i()){const m=new Yo(h);d(m),e.onCancel?.(m)}},a=()=>{t=!0},u=()=>{t=!1},c=()=>Oa.isFocused()&&(e.networkMode==="always"||qn.isOnline())&&e.canRun(),l=()=>Jd(e.networkMode)&&e.canRun(),f=h=>{i()||(r?.(),s.resolve(h))},d=h=>{i()||(r?.(),s.reject(h))},p=()=>new Promise(h=>{r=m=>{(i()||c())&&h(m)},e.onPause?.()}).then(()=>{r=void 0,i()||e.onContinue?.()}),g=()=>{if(i())return;let h;const m=n===0?e.initialPromise:void 0;try{h=m??e.fn()}catch(y){h=Promise.reject(y)}Promise.resolve(h).then(f).catch(y=>{if(i())return;const b=e.retry??(jt?0:3),_=e.retryDelay??Pm,v=typeof _=="function"?_(n,y):_,w=b===!0||typeof b=="number"&&n<b||typeof b=="function"&&b(n,y);if(t||!w){d(y);return}n++,e.onFail?.(n,y),pm(v).then(()=>c()?void 0:p()).then(()=>{t?d(y):g()})})};return{promise:s,status:()=>s.status,cancel:o,continue:()=>(r?.(),s),cancelRetry:a,continueRetry:u,canStart:l,start:()=>(l()?g():p().then(g),s)}}var Yd=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Go(this.gcTime)&&(this.#e=Ue.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(jt?1/0:300*1e3))}clearGcTimeout(){this.#e&&(Ue.clearTimeout(this.#e),this.#e=void 0)}},Cm=class extends Yd{#e;#t;#n;#s;#r;#o;#a;constructor(e){super(),this.#a=!1,this.#o=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#s=e.client,this.#n=this.#s.getQueryCache(),this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#e=xu(this.options),this.state=e.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#r?.promise}setOptions(e){if(this.options={...this.#o,...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const t=xu(this.options);t.data!==void 0&&(this.setState(Su(t.data,t.dataUpdatedAt)),this.#e=t)}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#n.remove(this)}setData(e,t){const n=Jo(this.state.data,e,this.options);return this.#i({data:n,type:"success",dataUpdatedAt:t?.updatedAt,manual:t?.manual}),n}setState(e,t){this.#i({type:"setState",state:e,setStateOptions:t})}cancel(e){const t=this.#r?.promise;return this.#r?.cancel(e),t?t.then(ae).catch(ae):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(e=>xe(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Ea||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>tt(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!Zd(this.state.dataUpdatedAt,e)}onFocus(){this.observers.find(t=>t.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#r?.continue()}onOnline(){this.observers.find(t=>t.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#r?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(this.#r&&(this.#a?this.#r.cancel({revert:!0}):this.#r.cancelRetry()),this.scheduleGc()),this.#n.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#i({type:"invalidate"})}async fetch(e,t){if(this.state.fetchStatus!=="idle"&&this.#r?.status()!=="rejected"){if(this.state.data!==void 0&&t?.cancelRefetch)this.cancel({silent:!0});else if(this.#r)return this.#r.continueRetry(),this.#r.promise}if(e&&this.setOptions(e),!this.options.queryFn){const a=this.observers.find(u=>u.options.queryFn);a&&this.setOptions(a.options)}const n=new AbortController,r=a=>{Object.defineProperty(a,"signal",{enumerable:!0,get:()=>(this.#a=!0,n.signal)})},s=()=>{const a=Kd(this.options,t),c=(()=>{const l={client:this.#s,queryKey:this.queryKey,meta:this.meta};return r(l),l})();return this.#a=!1,this.options.persister?this.options.persister(a,c,this):a(c)},o=(()=>{const a={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:this.#s,state:this.state,fetchFn:s};return r(a),a})();this.options.behavior?.onFetch(o,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==o.fetchOptions?.meta)&&this.#i({type:"fetch",meta:o.fetchOptions?.meta}),this.#r=Qd({initialPromise:t?.initialPromise,fn:o.fetchFn,onCancel:a=>{a instanceof Yo&&a.revert&&this.setState({...this.#t,fetchStatus:"idle"}),n.abort()},onFail:(a,u)=>{this.#i({type:"failed",failureCount:a,error:u})},onPause:()=>{this.#i({type:"pause"})},onContinue:()=>{this.#i({type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0});try{const a=await this.#r.start();if(a===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(a),this.#n.config.onSuccess?.(a,this),this.#n.config.onSettled?.(a,this.state.error,this),a}catch(a){if(a instanceof Yo){if(a.silent)return this.#r.promise;if(a.revert){if(this.state.data===void 0)throw a;return this.state.data}}throw this.#i({type:"error",error:a}),this.#n.config.onError?.(a,this),this.#n.config.onSettled?.(this.state.data,a,this),a}finally{this.scheduleGc()}}#i(e){const t=n=>{switch(e.type){case"failed":return{...n,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...Xd(n.data,this.options),fetchMeta:e.meta??null};case"success":const r={...n,...Su(e.data,e.dataUpdatedAt),dataUpdateCount:n.dataUpdateCount+1,...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#t=e.manual?r:void 0,r;case"error":const s=e.error;return{...n,error:s,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error",isInvalidated:!0};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...e.state}}};this.state=t(this.state),ce.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),this.#n.notify({query:this,type:"updated",action:e})})}};function Xd(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Jd(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function Su(e,t){return{data:e,dataUpdatedAt:t??Date.now(),error:null,isInvalidated:!1,status:"success"}}function xu(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Im=class extends Zt{constructor(e,t){super(),this.options=t,this.#e=e,this.#i=null,this.#a=Qo(),this.bindMethods(),this.setOptions(t)}#e;#t=void 0;#n=void 0;#s=void 0;#r;#o;#a;#i;#g;#d;#h;#c;#l;#u;#p=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#t.addObserver(this),Eu(this.#t,this.options)?this.#f():this.updateResult(),this.#v())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Xo(this.#t,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Xo(this.#t,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#w(),this.#_(),this.#t.removeObserver(this)}setOptions(e){const t=this.options,n=this.#t;if(this.options=this.#e.defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof xe(this.options.enabled,this.#t)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#S(),this.#t.setOptions(this.options),t._defaulted&&!Fn(this.options,t)&&this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#t,observer:this});const r=this.hasListeners();r&&Ou(this.#t,n,this.options,t)&&this.#f(),this.updateResult(),r&&(this.#t!==n||xe(this.options.enabled,this.#t)!==xe(t.enabled,this.#t)||tt(this.options.staleTime,this.#t)!==tt(t.staleTime,this.#t))&&this.#m();const s=this.#y();r&&(this.#t!==n||xe(this.options.enabled,this.#t)!==xe(t.enabled,this.#t)||s!==this.#u)&&this.#b(s)}getOptimisticResult(e){const t=this.#e.getQueryCache().build(this.#e,e),n=this.createResult(t,e);return $m(this,n)&&(this.#s=n,this.#o=this.options,this.#r=this.#t.state),n}getCurrentResult(){return this.#s}trackResult(e,t){return new Proxy(e,{get:(n,r)=>(this.trackProp(r),t?.(r),r==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&this.#a.status==="pending"&&this.#a.reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(n,r))})}trackProp(e){this.#p.add(e)}getCurrentQuery(){return this.#t}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const t=this.#e.defaultQueryOptions(e),n=this.#e.getQueryCache().build(this.#e,t);return n.fetch().then(()=>this.createResult(n,t))}fetch(e){return this.#f({...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#s))}#f(e){this.#S();let t=this.#t.fetch(this.options,e);return e?.throwOnError||(t=t.catch(ae)),t}#m(){this.#w();const e=tt(this.options.staleTime,this.#t);if(jt||this.#s.isStale||!Go(e))return;const n=Zd(this.#s.dataUpdatedAt,e)+1;this.#c=Ue.setTimeout(()=>{this.#s.isStale||this.updateResult()},n)}#y(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#t):this.options.refetchInterval)??!1}#b(e){this.#_(),this.#u=e,!(jt||xe(this.options.enabled,this.#t)===!1||!Go(this.#u)||this.#u===0)&&(this.#l=Ue.setInterval(()=>{(this.options.refetchIntervalInBackground||Oa.isFocused())&&this.#f()},this.#u))}#v(){this.#m(),this.#b(this.#y())}#w(){this.#c&&(Ue.clearTimeout(this.#c),this.#c=void 0)}#_(){this.#l&&(Ue.clearInterval(this.#l),this.#l=void 0)}createResult(e,t){const n=this.#t,r=this.options,s=this.#s,i=this.#r,o=this.#o,u=e!==n?e.state:this.#n,{state:c}=e;let l={...c},f=!1,d;if(t._optimisticResults){const C=this.hasListeners(),j=!C&&Eu(e,t),I=C&&Ou(e,n,t,r);(j||I)&&(l={...l,...Xd(c.data,e.options)}),t._optimisticResults==="isRestoring"&&(l.fetchStatus="idle")}let{error:p,errorUpdatedAt:g,status:h}=l;d=l.data;let m=!1;if(t.placeholderData!==void 0&&d===void 0&&h==="pending"){let C;s?.isPlaceholderData&&t.placeholderData===o?.placeholderData?(C=s.data,m=!0):C=typeof t.placeholderData=="function"?t.placeholderData(this.#h?.state.data,this.#h):t.placeholderData,C!==void 0&&(h="success",d=Jo(s?.data,C,t),f=!0)}if(t.select&&d!==void 0&&!m)if(s&&d===i?.data&&t.select===this.#g)d=this.#d;else try{this.#g=t.select,d=t.select(d),d=Jo(s?.data,d,t),this.#d=d,this.#i=null}catch(C){this.#i=C}this.#i&&(p=this.#i,d=this.#d,g=Date.now(),h="error");const y=l.fetchStatus==="fetching",b=h==="pending",_=h==="error",v=b&&y,w=d!==void 0,A={status:h,fetchStatus:l.fetchStatus,isPending:b,isSuccess:h==="success",isError:_,isInitialLoading:v,isLoading:v,data:d,dataUpdatedAt:l.dataUpdatedAt,error:p,errorUpdatedAt:g,failureCount:l.fetchFailureCount,failureReason:l.fetchFailureReason,errorUpdateCount:l.errorUpdateCount,isFetched:l.dataUpdateCount>0||l.errorUpdateCount>0,isFetchedAfterMount:l.dataUpdateCount>u.dataUpdateCount||l.errorUpdateCount>u.errorUpdateCount,isFetching:y,isRefetching:y&&!b,isLoadingError:_&&!w,isPaused:l.fetchStatus==="paused",isPlaceholderData:f,isRefetchError:_&&w,isStale:Aa(e,t),refetch:this.refetch,promise:this.#a,isEnabled:xe(t.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const C=A.data!==void 0,j=A.status==="error"&&!C,I=$=>{j?$.reject(A.error):C&&$.resolve(A.data)},R=()=>{const $=this.#a=A.promise=Qo();I($)},q=this.#a;switch(q.status){case"pending":e.queryHash===n.queryHash&&I(q);break;case"fulfilled":(j||A.data!==q.value)&&R();break;case"rejected":(!j||A.error!==q.reason)&&R();break}}return A}updateResult(){const e=this.#s,t=this.createResult(this.#t,this.options);if(this.#r=this.#t.state,this.#o=this.options,this.#r.data!==void 0&&(this.#h=this.#t),Fn(t,e))return;this.#s=t;const n=()=>{if(!e)return!0;const{notifyOnChangeProps:r}=this.options,s=typeof r=="function"?r():r;if(s==="all"||!s&&!this.#p.size)return!0;const i=new Set(s??this.#p);return this.options.throwOnError&&i.add("error"),Object.keys(this.#s).some(o=>{const a=o;return this.#s[a]!==e[a]&&i.has(a)})};this.#x({listeners:n()})}#S(){const e=this.#e.getQueryCache().build(this.#e,this.options);if(e===this.#t)return;const t=this.#t;this.#t=e,this.#n=e.state,this.hasListeners()&&(t?.removeObserver(this),e.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#v()}#x(e){ce.batch(()=>{e.listeners&&this.listeners.forEach(t=>{t(this.#s)}),this.#e.getQueryCache().notify({query:this.#t,type:"observerResultsUpdated"})})}};function km(e,t){return xe(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function Eu(e,t){return km(e,t)||e.state.data!==void 0&&Xo(e,t,t.refetchOnMount)}function Xo(e,t,n){if(xe(t.enabled,e)!==!1&&tt(t.staleTime,e)!=="static"){const r=typeof n=="function"?n(e):n;return r==="always"||r!==!1&&Aa(e,t)}return!1}function Ou(e,t,n,r){return(e!==t||xe(r.enabled,e)===!1)&&(!n.suspense||e.state.status!=="error")&&Aa(e,n)}function Aa(e,t){return xe(t.enabled,e)!==!1&&e.isStaleByTime(tt(t.staleTime,e))}function $m(e,t){return!Fn(e.getCurrentResult(),t)}function Au(e){return{onFetch:(t,n)=>{const r=t.options,s=t.fetchOptions?.meta?.fetchMore?.direction,i=t.state.data?.pages||[],o=t.state.data?.pageParams||[];let a={pages:[],pageParams:[]},u=0;const c=async()=>{let l=!1;const f=g=>{ym(g,()=>t.signal,()=>l=!0)},d=Kd(t.options,t.fetchOptions),p=async(g,h,m)=>{if(l)return Promise.reject();if(h==null&&g.pages.length)return Promise.resolve(g);const b=(()=>{const E={client:t.client,queryKey:t.queryKey,pageParam:h,direction:m?"backward":"forward",meta:t.options.meta};return f(E),E})(),_=await d(b),{maxPages:v}=t.options,w=m?mm:gm;return{pages:w(g.pages,_,v),pageParams:w(g.pageParams,h,v)}};if(s&&i.length){const g=s==="backward",h=g?Lm:Ru,m={pages:i,pageParams:o},y=h(r,m);a=await p(m,y,g)}else{const g=e??i.length;do{const h=u===0?o[0]??r.initialPageParam:Ru(r,a);if(u>0&&h==null)break;a=await p(a,h),u++}while(u<g)}return a};t.options.persister?t.fetchFn=()=>t.options.persister?.(c,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n):t.fetchFn=c}}}function Ru(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function Lm(e,{pages:t,pageParams:n}){return t.length>0?e.getPreviousPageParam?.(t[0],t,n[0],n):void 0}var Nm=class extends Yd{#e;#t;#n;#s;constructor(e){super(),this.#e=e.client,this.mutationId=e.mutationId,this.#n=e.mutationCache,this.#t=[],this.state=e.state||eh(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#t.includes(e)||(this.#t.push(e),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#t=this.#t.filter(t=>t!==e),this.scheduleGc(),this.#n.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#n.remove(this))}continue(){return this.#s?.continue()??this.execute(this.state.variables)}async execute(e){const t=()=>{this.#r({type:"continue"})},n={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#s=Qd({fn:()=>this.options.mutationFn?this.options.mutationFn(e,n):Promise.reject(new Error("No mutationFn found")),onFail:(i,o)=>{this.#r({type:"failed",failureCount:i,error:o})},onPause:()=>{this.#r({type:"pause"})},onContinue:t,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#n.canRun(this)});const r=this.state.status==="pending",s=!this.#s.canStart();try{if(r)t();else{this.#r({type:"pending",variables:e,isPaused:s}),await this.#n.config.onMutate?.(e,this,n);const o=await this.options.onMutate?.(e,n);o!==this.state.context&&this.#r({type:"pending",context:o,variables:e,isPaused:s})}const i=await this.#s.start();return await this.#n.config.onSuccess?.(i,e,this.state.context,this,n),await this.options.onSuccess?.(i,e,this.state.context,n),await this.#n.config.onSettled?.(i,null,this.state.variables,this.state.context,this,n),await this.options.onSettled?.(i,null,e,this.state.context,n),this.#r({type:"success",data:i}),i}catch(i){try{await this.#n.config.onError?.(i,e,this.state.context,this,n)}catch(o){Promise.reject(o)}try{await this.options.onError?.(i,e,this.state.context,n)}catch(o){Promise.reject(o)}try{await this.#n.config.onSettled?.(void 0,i,this.state.variables,this.state.context,this,n)}catch(o){Promise.reject(o)}try{await this.options.onSettled?.(void 0,i,e,this.state.context,n)}catch(o){Promise.reject(o)}throw this.#r({type:"error",error:i}),i}finally{this.#n.runNext(this)}}#r(e){const t=n=>{switch(e.type){case"failed":return{...n,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...n,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:e.error,failureCount:n.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=t(this.state),ce.batch(()=>{this.#t.forEach(n=>{n.onMutationUpdate(e)}),this.#n.notify({mutation:this,type:"updated",action:e})})}};function eh(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var zm=class extends Zt{constructor(e={}){super(),this.config=e,this.#e=new Set,this.#t=new Map,this.#n=0}#e;#t;#n;build(e,t,n){const r=new Nm({client:e,mutationCache:this,mutationId:++this.#n,options:e.defaultMutationOptions(t),state:n});return this.add(r),r}add(e){this.#e.add(e);const t=_n(e);if(typeof t=="string"){const n=this.#t.get(t);n?n.push(e):this.#t.set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(this.#e.delete(e)){const t=_n(e);if(typeof t=="string"){const n=this.#t.get(t);if(n)if(n.length>1){const r=n.indexOf(e);r!==-1&&n.splice(r,1)}else n[0]===e&&this.#t.delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){const t=_n(e);if(typeof t=="string"){const r=this.#t.get(t)?.find(s=>s.state.status==="pending");return!r||r===e}else return!0}runNext(e){const t=_n(e);return typeof t=="string"?this.#t.get(t)?.find(r=>r!==e&&r.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){ce.batch(()=>{this.#e.forEach(e=>{this.notify({type:"removed",mutation:e})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(e){const t={exact:!0,...e};return this.getAll().find(n=>vu(t,n))}findAll(e={}){return this.getAll().filter(t=>vu(e,t))}notify(e){ce.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(t=>t.state.isPaused);return ce.batch(()=>Promise.all(e.map(t=>t.continue().catch(ae))))}};function _n(e){return e.options.scope?.id}var jm=class extends Zt{#e;#t=void 0;#n;#s;constructor(t,n){super(),this.#e=t,this.setOptions(n),this.bindMethods(),this.#r()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(t){const n=this.options;this.options=this.#e.defaultMutationOptions(t),Fn(this.options,n)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#n,observer:this}),n?.mutationKey&&this.options.mutationKey&&yt(n.mutationKey)!==yt(this.options.mutationKey)?this.reset():this.#n?.state.status==="pending"&&this.#n.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#n?.removeObserver(this)}onMutationUpdate(t){this.#r(),this.#o(t)}getCurrentResult(){return this.#t}reset(){this.#n?.removeObserver(this),this.#n=void 0,this.#r(),this.#o()}mutate(t,n){return this.#s=n,this.#n?.removeObserver(this),this.#n=this.#e.getMutationCache().build(this.#e,this.options),this.#n.addObserver(this),this.#n.execute(t)}#r(){const t=this.#n?.state??eh();this.#t={...t,isPending:t.status==="pending",isSuccess:t.status==="success",isError:t.status==="error",isIdle:t.status==="idle",mutate:this.mutate,reset:this.reset}}#o(t){ce.batch(()=>{if(this.#s&&this.hasListeners()){const n=this.#t.variables,r=this.#t.context,s={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};if(t?.type==="success"){try{this.#s.onSuccess?.(t.data,n,r,s)}catch(i){Promise.reject(i)}try{this.#s.onSettled?.(t.data,null,n,r,s)}catch(i){Promise.reject(i)}}else if(t?.type==="error"){try{this.#s.onError?.(t.error,n,r,s)}catch(i){Promise.reject(i)}try{this.#s.onSettled?.(void 0,t.error,n,r,s)}catch(i){Promise.reject(i)}}}this.listeners.forEach(n=>{n(this.#t)})})}},Fm=class extends Zt{constructor(e={}){super(),this.config=e,this.#e=new Map}#e;build(e,t,n){const r=t.queryKey,s=t.queryHash??xa(r,t);let i=this.get(s);return i||(i=new Cm({client:e,queryKey:r,queryHash:s,options:e.defaultQueryOptions(t),state:n,defaultOptions:e.getQueryDefaults(r)}),this.add(i)),i}add(e){this.#e.has(e.queryHash)||(this.#e.set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=this.#e.get(e.queryHash);t&&(e.destroy(),t===e&&this.#e.delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){ce.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return this.#e.get(e)}getAll(){return[...this.#e.values()]}find(e){const t={exact:!0,...e};return this.getAll().find(n=>bu(t,n))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(n=>bu(e,n)):t}notify(e){ce.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){ce.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){ce.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},qm=class{#e;#t;#n;#s;#r;#o;#a;#i;constructor(t={}){this.#e=t.queryCache||new Fm,this.#t=t.mutationCache||new zm,this.#n=t.defaultOptions||{},this.#s=new Map,this.#r=new Map,this.#o=0}mount(){this.#o++,this.#o===1&&(this.#a=Oa.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#i=qn.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#o--,this.#o===0&&(this.#a?.(),this.#a=void 0,this.#i?.(),this.#i=void 0)}isFetching(t){return this.#e.findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return this.#t.findAll({...t,status:"pending"}).length}getQueryData(t){const n=this.defaultQueryOptions({queryKey:t});return this.#e.get(n.queryHash)?.state.data}ensureQueryData(t){const n=this.defaultQueryOptions(t),r=this.#e.build(this,n),s=r.state.data;return s===void 0?this.fetchQuery(t):(t.revalidateIfStale&&r.isStaleByTime(tt(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(s))}getQueriesData(t){return this.#e.findAll(t).map(({queryKey:n,state:r})=>{const s=r.data;return[n,s]})}setQueryData(t,n,r){const s=this.defaultQueryOptions({queryKey:t}),o=this.#e.get(s.queryHash)?.state.data,a=dm(n,o);if(a!==void 0)return this.#e.build(this,s).setData(a,{...r,manual:!0})}setQueriesData(t,n,r){return ce.batch(()=>this.#e.findAll(t).map(({queryKey:s})=>[s,this.setQueryData(s,n,r)]))}getQueryState(t){const n=this.defaultQueryOptions({queryKey:t});return this.#e.get(n.queryHash)?.state}removeQueries(t){const n=this.#e;ce.batch(()=>{n.findAll(t).forEach(r=>{n.remove(r)})})}resetQueries(t,n){const r=this.#e;return ce.batch(()=>(r.findAll(t).forEach(s=>{s.reset()}),this.refetchQueries({type:"active",...t},n)))}cancelQueries(t,n={}){const r={revert:!0,...n},s=ce.batch(()=>this.#e.findAll(t).map(i=>i.cancel(r)));return Promise.all(s).then(ae).catch(ae)}invalidateQueries(t,n={}){return ce.batch(()=>(this.#e.findAll(t).forEach(r=>{r.invalidate()}),t?.refetchType==="none"?Promise.resolve():this.refetchQueries({...t,type:t?.refetchType??t?.type??"active"},n)))}refetchQueries(t,n={}){const r={...n,cancelRefetch:n.cancelRefetch??!0},s=ce.batch(()=>this.#e.findAll(t).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let o=i.fetch(void 0,r);return r.throwOnError||(o=o.catch(ae)),i.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(s).then(ae)}fetchQuery(t){const n=this.defaultQueryOptions(t);n.retry===void 0&&(n.retry=!1);const r=this.#e.build(this,n);return r.isStaleByTime(tt(n.staleTime,r))?r.fetch(n):Promise.resolve(r.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(ae).catch(ae)}fetchInfiniteQuery(t){return t.behavior=Au(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(ae).catch(ae)}ensureInfiniteQueryData(t){return t.behavior=Au(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return qn.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#n}setDefaultOptions(t){this.#n=t}setQueryDefaults(t,n){this.#s.set(yt(t),{queryKey:t,defaultOptions:n})}getQueryDefaults(t){const n=[...this.#s.values()],r={};return n.forEach(s=>{un(t,s.queryKey)&&Object.assign(r,s.defaultOptions)}),r}setMutationDefaults(t,n){this.#r.set(yt(t),{mutationKey:t,defaultOptions:n})}getMutationDefaults(t){const n=[...this.#r.values()],r={};return n.forEach(s=>{un(t,s.mutationKey)&&Object.assign(r,s.defaultOptions)}),r}defaultQueryOptions(t){if(t._defaulted)return t;const n={...this.#n.queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return n.queryHash||(n.queryHash=xa(n.queryKey,n)),n.refetchOnReconnect===void 0&&(n.refetchOnReconnect=n.networkMode!=="always"),n.throwOnError===void 0&&(n.throwOnError=!!n.suspense),!n.networkMode&&n.persister&&(n.networkMode="offlineFirst"),n.queryFn===Ea&&(n.enabled=!1),n}defaultMutationOptions(t){return t?._defaulted?t:{...this.#n.mutations,...t?.mutationKey&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}};function ea(){}function Dm(e,{interval:t=1e3,onError:n=ea}={}){if(typeof e!="function")throw new Error("argument is not function.");let r=0,s=null,i=!1,o=!1;return async(...a)=>{if(s=a,!o){for(o=!0;i;)await new Promise(u=>Ue.setTimeout(u,t));for(;Date.now()<r;)await new Promise(u=>Ue.setTimeout(u,r-Date.now()));o=!1,i=!0;try{await e(...s)}catch(u){try{n(u)}catch{}}r=Date.now()+t,i=!1}}}var Um=({storage:e,key:t="REACT_QUERY_OFFLINE_CACHE",throttleTime:n=1e3,serialize:r=JSON.stringify,deserialize:s=JSON.parse,retry:i})=>{if(e){const o=async a=>{try{const u=await r(a);await e.setItem(t,u);return}catch(u){return u}};return{persistClient:Dm(async a=>{let u=a,c=await o(u),l=0;for(;c&&u;)l++,u=await i?.({persistedClient:u,error:c,errorCount:l}),u&&(c=await o(u))},{interval:n}),restoreClient:async()=>{const a=await e.getItem(t);if(a)return await s(a)},removeClient:()=>e.removeItem(t)}}return{persistClient:ea,restoreClient:()=>Promise.resolve(void 0),removeClient:ea}},Mm=["added","removed","updated"];function Tu(e){return Mm.includes(e)}async function Bm({queryClient:e,persister:t,maxAge:n=1e3*60*60*24,buster:r="",hydrateOptions:s}){try{const i=await t.restoreClient();if(i)if(i.timestamp){const o=Date.now()-i.timestamp>n,a=i.buster!==r;if(o||a)return t.removeClient();Wd(e,i.clientState,s)}else return t.removeClient()}catch(i){throw await t.removeClient(),i}}async function Pu({queryClient:e,persister:t,buster:n="",dehydrateOptions:r}){const s={buster:n,timestamp:Date.now(),clientState:Om(e,r)};await t.persistClient(s)}function Zm(e){const t=e.queryClient.getQueryCache().subscribe(r=>{Tu(r.type)&&Pu(e)}),n=e.queryClient.getMutationCache().subscribe(r=>{Tu(r.type)&&Pu(e)});return()=>{t(),n()}}function Hm(e){let t=!1,n;const r=()=>{t=!0,n?.()},s=Bm(e).then(()=>{t||(n=Zm(e))});return[r,s]}var th=dn(void 0),nh=e=>{if(e)return e;const t=hn(th);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t()},Km=e=>(Me(t=>(t?.(),e.client.mount(),e.client.unmount.bind(e.client))),Ne(()=>e.client.unmount()),Q(th.Provider,{value:()=>e.client,get children(){return e.children}})),Vm=dn(()=>!1),Gm=()=>hn(Vm);function Wm(e,t,n,r){if(n===!1)return t;if(typeof n=="function"){const o=n(e.data,t.data);return{...t,data:o}}let s=t.data;if(e.data===void 0)try{s=structuredClone(s)}catch{}const i=um(s,{key:n})(e.data);return{...t,data:i}}var Jm=(e,t)=>t;function Qm(e,t,n){const r=Z(()=>nh(n?.())),s=Gm(),i=Z(()=>{const v=r().defaultQueryOptions(e());return v._optimisticResults=s()?"isRestoring":"optimistic",v.structuralSharing=!1,v}),o=i(),[a,u]=le(new t(r(),i()));let c=a().getOptimisticResult(i());const[l,f]=Sa(c),d=()=>a().subscribe(w=>{c=w,queueMicrotask(()=>{h&&b()})});function p(v){const w=a().options,E=w.reconcile;f(A=>Wm(A,v,E===void 0?!1:E,w.queryHash))}function g(){return[()=>l,v=>{const w=mt(l);if(typeof v=="function"&&(v=v(w)),v?.hydrationData){const{hydrationData:E,...A}=v;v=A}p(v)}]}let h=null,m=null;const[y,{refetch:b}]=Sd(()=>{const v=a();return new Promise((w,E)=>{if(m=w,!h&&!s()&&(h=d()),v.updateResult(),c.isError&&!c.isFetching&&!s()&&Vd(v.options.throwOnError,[c.error,v.getCurrentQuery()]))return p(c),E(c.error);if(!c.isLoading)return m=null,w(Jm(v.getCurrentQuery(),c));p(c)})},{storage:g,get deferStream(){return e().deferStream},onHydrated(v,w){if(w.value&&"hydrationData"in w.value&&Wd(r(),{queries:[{...w.value.hydrationData}]}),h)return;const E={...o};(o.staleTime||!o.initialData)&&w.value&&(E.refetchOnMount=!1),a().setOptions(E),p(a().getOptimisticResult(E)),h=d()}});Lt(gt(r,v=>{h&&h();const w=new t(v,i());h=d(),u(w)},{defer:!0})),Lt(gt(s,v=>{!v&&!Zo&&b()},{defer:!0})),Ne(()=>{h&&(h(),h=null),m&&!Zo&&(m(c),m=null)}),Lt(gt([a,i],([v,w])=>{v.setOptions(w),p(v.getOptimisticResult(w)),b()},{defer:!0}));const _={get(v,w){return w==="data"?l.data!==void 0?y.latest?.data:y()?.data:Reflect.get(v,w)}};return new Proxy(l,_)}function Ym(e,t){return Qm(Z(()=>e()),Im,t)}function Xm(e,t){const n=Z(()=>nh(t?.())),r=new jm(n(),e()),s=(u,c)=>{r.mutate(u,c).catch(ae)},[i,o]=Sa({...r.getCurrentResult(),mutate:s,mutateAsync:r.getCurrentResult().mutate});Lt(()=>{r.setOptions(e())}),Lt(gt(()=>i.status,()=>{if(i.isError&&Vd(r.options.throwOnError,[i.error]))throw i.error}));const a=r.subscribe(u=>{o({...u,mutate:s,mutateAsync:u.mutate})});return Ne(a),i}var ey=class extends qm{constructor(e={}){super(e)}},oA=Ym,aA=Xm;function cr(e){return new Promise((t,n)=>{e.oncomplete=e.onsuccess=()=>t(e.result),e.onabort=e.onerror=()=>n(e.error)})}function ty(e,t){let n;const r=()=>{if(n)return n;const s=indexedDB.open(e);return s.onupgradeneeded=()=>s.result.createObjectStore(t),n=cr(s),n.then(i=>{i.onclose=()=>n=void 0},()=>{}),n};return(s,i)=>r().then(o=>i(o.transaction(t,s).objectStore(t)))}let zr;function Ra(){return zr||(zr=ty("keyval-store","keyval")),zr}function ny(e,t=Ra()){return t("readonly",n=>cr(n.get(e)))}function ry(e,t,n=Ra()){return n("readwrite",r=>(r.put(t,e),cr(r.transaction)))}function sy(e,t=Ra()){return t("readwrite",n=>(n.delete(e),cr(n.transaction)))}var Sn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ta(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function uA(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var n=function r(){var s=!1;try{s=this instanceof r}catch{}return s?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var s=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return e[r]}})}),n}var jr,Cu;function iy(){if(Cu)return jr;Cu=1;function e(){this.__data__=[],this.size=0}return jr=e,jr}var Fr,Iu;function Pa(){if(Iu)return Fr;Iu=1;function e(t,n){return t===n||t!==t&&n!==n}return Fr=e,Fr}var qr,ku;function lr(){if(ku)return qr;ku=1;var e=Pa();function t(n,r){for(var s=n.length;s--;)if(e(n[s][0],r))return s;return-1}return qr=t,qr}var Dr,$u;function oy(){if($u)return Dr;$u=1;var e=lr(),t=Array.prototype,n=t.splice;function r(s){var i=this.__data__,o=e(i,s);if(o<0)return!1;var a=i.length-1;return o==a?i.pop():n.call(i,o,1),--this.size,!0}return Dr=r,Dr}var Ur,Lu;function ay(){if(Lu)return Ur;Lu=1;var e=lr();function t(n){var r=this.__data__,s=e(r,n);return s<0?void 0:r[s][1]}return Ur=t,Ur}var Mr,Nu;function uy(){if(Nu)return Mr;Nu=1;var e=lr();function t(n){return e(this.__data__,n)>-1}return Mr=t,Mr}var Br,zu;function cy(){if(zu)return Br;zu=1;var e=lr();function t(n,r){var s=this.__data__,i=e(s,n);return i<0?(++this.size,s.push([n,r])):s[i][1]=r,this}return Br=t,Br}var Zr,ju;function fr(){if(ju)return Zr;ju=1;var e=iy(),t=oy(),n=ay(),r=uy(),s=cy();function i(o){var a=-1,u=o==null?0:o.length;for(this.clear();++a<u;){var c=o[a];this.set(c[0],c[1])}}return i.prototype.clear=e,i.prototype.delete=t,i.prototype.get=n,i.prototype.has=r,i.prototype.set=s,Zr=i,Zr}var Hr,Fu;function ly(){if(Fu)return Hr;Fu=1;var e=fr();function t(){this.__data__=new e,this.size=0}return Hr=t,Hr}var Kr,qu;function fy(){if(qu)return Kr;qu=1;function e(t){var n=this.__data__,r=n.delete(t);return this.size=n.size,r}return Kr=e,Kr}var Vr,Du;function dy(){if(Du)return Vr;Du=1;function e(t){return this.__data__.get(t)}return Vr=e,Vr}var Gr,Uu;function hy(){if(Uu)return Gr;Uu=1;function e(t){return this.__data__.has(t)}return Gr=e,Gr}var Wr,Mu;function rh(){if(Mu)return Wr;Mu=1;var e=typeof Sn=="object"&&Sn&&Sn.Object===Object&&Sn;return Wr=e,Wr}var Jr,Bu;function Be(){if(Bu)return Jr;Bu=1;var e=rh(),t=typeof self=="object"&&self&&self.Object===Object&&self,n=e||t||Function("return this")();return Jr=n,Jr}var Qr,Zu;function pn(){if(Zu)return Qr;Zu=1;var e=Be(),t=e.Symbol;return Qr=t,Qr}var Yr,Hu;function py(){if(Hu)return Yr;Hu=1;var e=pn(),t=Object.prototype,n=t.hasOwnProperty,r=t.toString,s=e?e.toStringTag:void 0;function i(o){var a=n.call(o,s),u=o[s];try{o[s]=void 0;var c=!0}catch{}var l=r.call(o);return c&&(a?o[s]=u:delete o[s]),l}return Yr=i,Yr}var Xr,Ku;function gy(){if(Ku)return Xr;Ku=1;var e=Object.prototype,t=e.toString;function n(r){return t.call(r)}return Xr=n,Xr}var es,Vu;function gn(){if(Vu)return es;Vu=1;var e=pn(),t=py(),n=gy(),r="[object Null]",s="[object Undefined]",i=e?e.toStringTag:void 0;function o(a){return a==null?a===void 0?s:r:i&&i in Object(a)?t(a):n(a)}return es=o,es}var ts,Gu;function dr(){if(Gu)return ts;Gu=1;function e(t){var n=typeof t;return t!=null&&(n=="object"||n=="function")}return ts=e,ts}var ns,Wu;function sh(){if(Wu)return ns;Wu=1;var e=gn(),t=dr(),n="[object AsyncFunction]",r="[object Function]",s="[object GeneratorFunction]",i="[object Proxy]";function o(a){if(!t(a))return!1;var u=e(a);return u==r||u==s||u==n||u==i}return ns=o,ns}var rs,Ju;function my(){if(Ju)return rs;Ju=1;var e=Be(),t=e["__core-js_shared__"];return rs=t,rs}var ss,Qu;function yy(){if(Qu)return ss;Qu=1;var e=my(),t=(function(){var r=/[^.]+$/.exec(e&&e.keys&&e.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""})();function n(r){return!!t&&t in r}return ss=n,ss}var is,Yu;function ih(){if(Yu)return is;Yu=1;var e=Function.prototype,t=e.toString;function n(r){if(r!=null){try{return t.call(r)}catch{}try{return r+""}catch{}}return""}return is=n,is}var os,Xu;function by(){if(Xu)return os;Xu=1;var e=sh(),t=yy(),n=dr(),r=ih(),s=/[\\^$.*+?()[\]{}|]/g,i=/^\[object .+?Constructor\]$/,o=Function.prototype,a=Object.prototype,u=o.toString,c=a.hasOwnProperty,l=RegExp("^"+u.call(c).replace(s,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function f(d){if(!n(d)||t(d))return!1;var p=e(d)?l:i;return p.test(r(d))}return os=f,os}var as,ec;function vy(){if(ec)return as;ec=1;function e(t,n){return t?.[n]}return as=e,as}var us,tc;function wt(){if(tc)return us;tc=1;var e=by(),t=vy();function n(r,s){var i=t(r,s);return e(i)?i:void 0}return us=n,us}var cs,nc;function Ca(){if(nc)return cs;nc=1;var e=wt(),t=Be(),n=e(t,"Map");return cs=n,cs}var ls,rc;function hr(){if(rc)return ls;rc=1;var e=wt(),t=e(Object,"create");return ls=t,ls}var fs,sc;function wy(){if(sc)return fs;sc=1;var e=hr();function t(){this.__data__=e?e(null):{},this.size=0}return fs=t,fs}var ds,ic;function _y(){if(ic)return ds;ic=1;function e(t){var n=this.has(t)&&delete this.__data__[t];return this.size-=n?1:0,n}return ds=e,ds}var hs,oc;function Sy(){if(oc)return hs;oc=1;var e=hr(),t="__lodash_hash_undefined__",n=Object.prototype,r=n.hasOwnProperty;function s(i){var o=this.__data__;if(e){var a=o[i];return a===t?void 0:a}return r.call(o,i)?o[i]:void 0}return hs=s,hs}var ps,ac;function xy(){if(ac)return ps;ac=1;var e=hr(),t=Object.prototype,n=t.hasOwnProperty;function r(s){var i=this.__data__;return e?i[s]!==void 0:n.call(i,s)}return ps=r,ps}var gs,uc;function Ey(){if(uc)return gs;uc=1;var e=hr(),t="__lodash_hash_undefined__";function n(r,s){var i=this.__data__;return this.size+=this.has(r)?0:1,i[r]=e&&s===void 0?t:s,this}return gs=n,gs}var ms,cc;function Oy(){if(cc)return ms;cc=1;var e=wy(),t=_y(),n=Sy(),r=xy(),s=Ey();function i(o){var a=-1,u=o==null?0:o.length;for(this.clear();++a<u;){var c=o[a];this.set(c[0],c[1])}}return i.prototype.clear=e,i.prototype.delete=t,i.prototype.get=n,i.prototype.has=r,i.prototype.set=s,ms=i,ms}var ys,lc;function Ay(){if(lc)return ys;lc=1;var e=Oy(),t=fr(),n=Ca();function r(){this.size=0,this.__data__={hash:new e,map:new(n||t),string:new e}}return ys=r,ys}var bs,fc;function Ry(){if(fc)return bs;fc=1;function e(t){var n=typeof t;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?t!=="__proto__":t===null}return bs=e,bs}var vs,dc;function pr(){if(dc)return vs;dc=1;var e=Ry();function t(n,r){var s=n.__data__;return e(r)?s[typeof r=="string"?"string":"hash"]:s.map}return vs=t,vs}var ws,hc;function Ty(){if(hc)return ws;hc=1;var e=pr();function t(n){var r=e(this,n).delete(n);return this.size-=r?1:0,r}return ws=t,ws}var _s,pc;function Py(){if(pc)return _s;pc=1;var e=pr();function t(n){return e(this,n).get(n)}return _s=t,_s}var Ss,gc;function Cy(){if(gc)return Ss;gc=1;var e=pr();function t(n){return e(this,n).has(n)}return Ss=t,Ss}var xs,mc;function Iy(){if(mc)return xs;mc=1;var e=pr();function t(n,r){var s=e(this,n),i=s.size;return s.set(n,r),this.size+=s.size==i?0:1,this}return xs=t,xs}var Es,yc;function Ia(){if(yc)return Es;yc=1;var e=Ay(),t=Ty(),n=Py(),r=Cy(),s=Iy();function i(o){var a=-1,u=o==null?0:o.length;for(this.clear();++a<u;){var c=o[a];this.set(c[0],c[1])}}return i.prototype.clear=e,i.prototype.delete=t,i.prototype.get=n,i.prototype.has=r,i.prototype.set=s,Es=i,Es}var Os,bc;function ky(){if(bc)return Os;bc=1;var e=fr(),t=Ca(),n=Ia(),r=200;function s(i,o){var a=this.__data__;if(a instanceof e){var u=a.__data__;if(!t||u.length<r-1)return u.push([i,o]),this.size=++a.size,this;a=this.__data__=new n(u)}return a.set(i,o),this.size=a.size,this}return Os=s,Os}var As,vc;function oh(){if(vc)return As;vc=1;var e=fr(),t=ly(),n=fy(),r=dy(),s=hy(),i=ky();function o(a){var u=this.__data__=new e(a);this.size=u.size}return o.prototype.clear=t,o.prototype.delete=n,o.prototype.get=r,o.prototype.has=s,o.prototype.set=i,As=o,As}var Rs,wc;function $y(){if(wc)return Rs;wc=1;var e="__lodash_hash_undefined__";function t(n){return this.__data__.set(n,e),this}return Rs=t,Rs}var Ts,_c;function Ly(){if(_c)return Ts;_c=1;function e(t){return this.__data__.has(t)}return Ts=e,Ts}var Ps,Sc;function ah(){if(Sc)return Ps;Sc=1;var e=Ia(),t=$y(),n=Ly();function r(s){var i=-1,o=s==null?0:s.length;for(this.__data__=new e;++i<o;)this.add(s[i])}return r.prototype.add=r.prototype.push=t,r.prototype.has=n,Ps=r,Ps}var Cs,xc;function Ny(){if(xc)return Cs;xc=1;function e(t,n){for(var r=-1,s=t==null?0:t.length;++r<s;)if(n(t[r],r,t))return!0;return!1}return Cs=e,Cs}var Is,Ec;function uh(){if(Ec)return Is;Ec=1;function e(t,n){return t.has(n)}return Is=e,Is}var ks,Oc;function ch(){if(Oc)return ks;Oc=1;var e=ah(),t=Ny(),n=uh(),r=1,s=2;function i(o,a,u,c,l,f){var d=u&r,p=o.length,g=a.length;if(p!=g&&!(d&&g>p))return!1;var h=f.get(o),m=f.get(a);if(h&&m)return h==a&&m==o;var y=-1,b=!0,_=u&s?new e:void 0;for(f.set(o,a),f.set(a,o);++y<p;){var v=o[y],w=a[y];if(c)var E=d?c(w,v,y,a,o,f):c(v,w,y,o,a,f);if(E!==void 0){if(E)continue;b=!1;break}if(_){if(!t(a,function(A,C){if(!n(_,C)&&(v===A||l(v,A,u,c,f)))return _.push(C)})){b=!1;break}}else if(!(v===w||l(v,w,u,c,f))){b=!1;break}}return f.delete(o),f.delete(a),b}return ks=i,ks}var $s,Ac;function zy(){if(Ac)return $s;Ac=1;var e=Be(),t=e.Uint8Array;return $s=t,$s}var Ls,Rc;function jy(){if(Rc)return Ls;Rc=1;function e(t){var n=-1,r=Array(t.size);return t.forEach(function(s,i){r[++n]=[i,s]}),r}return Ls=e,Ls}var Ns,Tc;function ka(){if(Tc)return Ns;Tc=1;function e(t){var n=-1,r=Array(t.size);return t.forEach(function(s){r[++n]=s}),r}return Ns=e,Ns}var zs,Pc;function Fy(){if(Pc)return zs;Pc=1;var e=pn(),t=zy(),n=Pa(),r=ch(),s=jy(),i=ka(),o=1,a=2,u="[object Boolean]",c="[object Date]",l="[object Error]",f="[object Map]",d="[object Number]",p="[object RegExp]",g="[object Set]",h="[object String]",m="[object Symbol]",y="[object ArrayBuffer]",b="[object DataView]",_=e?e.prototype:void 0,v=_?_.valueOf:void 0;function w(E,A,C,j,I,R,q){switch(C){case b:if(E.byteLength!=A.byteLength||E.byteOffset!=A.byteOffset)return!1;E=E.buffer,A=A.buffer;case y:return!(E.byteLength!=A.byteLength||!R(new t(E),new t(A)));case u:case c:case d:return n(+E,+A);case l:return E.name==A.name&&E.message==A.message;case p:case h:return E==A+"";case f:var $=s;case g:var L=j&o;if($||($=i),E.size!=A.size&&!L)return!1;var O=q.get(E);if(O)return O==A;j|=a,q.set(E,A);var T=r($(E),$(A),j,I,R,q);return q.delete(E),T;case m:if(v)return v.call(E)==v.call(A)}return!1}return zs=w,zs}var js,Cc;function lh(){if(Cc)return js;Cc=1;function e(t,n){for(var r=-1,s=n.length,i=t.length;++r<s;)t[i+r]=n[r];return t}return js=e,js}var Fs,Ic;function Fe(){if(Ic)return Fs;Ic=1;var e=Array.isArray;return Fs=e,Fs}var qs,kc;function qy(){if(kc)return qs;kc=1;var e=lh(),t=Fe();function n(r,s,i){var o=s(r);return t(r)?o:e(o,i(r))}return qs=n,qs}var Ds,$c;function Dy(){if($c)return Ds;$c=1;function e(t,n){for(var r=-1,s=t==null?0:t.length,i=0,o=[];++r<s;){var a=t[r];n(a,r,t)&&(o[i++]=a)}return o}return Ds=e,Ds}var Us,Lc;function Uy(){if(Lc)return Us;Lc=1;function e(){return[]}return Us=e,Us}var Ms,Nc;function My(){if(Nc)return Ms;Nc=1;var e=Dy(),t=Uy(),n=Object.prototype,r=n.propertyIsEnumerable,s=Object.getOwnPropertySymbols,i=s?function(o){return o==null?[]:(o=Object(o),e(s(o),function(a){return r.call(o,a)}))}:t;return Ms=i,Ms}var Bs,zc;function By(){if(zc)return Bs;zc=1;function e(t,n){for(var r=-1,s=Array(t);++r<t;)s[r]=n(r);return s}return Bs=e,Bs}var Zs,jc;function mn(){if(jc)return Zs;jc=1;function e(t){return t!=null&&typeof t=="object"}return Zs=e,Zs}var Hs,Fc;function Zy(){if(Fc)return Hs;Fc=1;var e=gn(),t=mn(),n="[object Arguments]";function r(s){return t(s)&&e(s)==n}return Hs=r,Hs}var Ks,qc;function $a(){if(qc)return Ks;qc=1;var e=Zy(),t=mn(),n=Object.prototype,r=n.hasOwnProperty,s=n.propertyIsEnumerable,i=e((function(){return arguments})())?e:function(o){return t(o)&&r.call(o,"callee")&&!s.call(o,"callee")};return Ks=i,Ks}var Yt={exports:{}},Vs,Dc;function Hy(){if(Dc)return Vs;Dc=1;function e(){return!1}return Vs=e,Vs}Yt.exports;var Uc;function fh(){return Uc||(Uc=1,(function(e,t){var n=Be(),r=Hy(),s=t&&!t.nodeType&&t,i=s&&!0&&e&&!e.nodeType&&e,o=i&&i.exports===s,a=o?n.Buffer:void 0,u=a?a.isBuffer:void 0,c=u||r;e.exports=c})(Yt,Yt.exports)),Yt.exports}var Gs,Mc;function La(){if(Mc)return Gs;Mc=1;var e=9007199254740991,t=/^(?:0|[1-9]\d*)$/;function n(r,s){var i=typeof r;return s=s??e,!!s&&(i=="number"||i!="symbol"&&t.test(r))&&r>-1&&r%1==0&&r<s}return Gs=n,Gs}var Ws,Bc;function Na(){if(Bc)return Ws;Bc=1;var e=9007199254740991;function t(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=e}return Ws=t,Ws}var Js,Zc;function Ky(){if(Zc)return Js;Zc=1;var e=gn(),t=Na(),n=mn(),r="[object Arguments]",s="[object Array]",i="[object Boolean]",o="[object Date]",a="[object Error]",u="[object Function]",c="[object Map]",l="[object Number]",f="[object Object]",d="[object RegExp]",p="[object Set]",g="[object String]",h="[object WeakMap]",m="[object ArrayBuffer]",y="[object DataView]",b="[object Float32Array]",_="[object Float64Array]",v="[object Int8Array]",w="[object Int16Array]",E="[object Int32Array]",A="[object Uint8Array]",C="[object Uint8ClampedArray]",j="[object Uint16Array]",I="[object Uint32Array]",R={};R[b]=R[_]=R[v]=R[w]=R[E]=R[A]=R[C]=R[j]=R[I]=!0,R[r]=R[s]=R[m]=R[i]=R[y]=R[o]=R[a]=R[u]=R[c]=R[l]=R[f]=R[d]=R[p]=R[g]=R[h]=!1;function q($){return n($)&&t($.length)&&!!R[e($)]}return Js=q,Js}var Qs,Hc;function dh(){if(Hc)return Qs;Hc=1;function e(t){return function(n){return t(n)}}return Qs=e,Qs}var Xt={exports:{}};Xt.exports;var Kc;function Vy(){return Kc||(Kc=1,(function(e,t){var n=rh(),r=t&&!t.nodeType&&t,s=r&&!0&&e&&!e.nodeType&&e,i=s&&s.exports===r,o=i&&n.process,a=(function(){try{var u=s&&s.require&&s.require("util").types;return u||o&&o.binding&&o.binding("util")}catch{}})();e.exports=a})(Xt,Xt.exports)),Xt.exports}var Ys,Vc;function hh(){if(Vc)return Ys;Vc=1;var e=Ky(),t=dh(),n=Vy(),r=n&&n.isTypedArray,s=r?t(r):e;return Ys=s,Ys}var Xs,Gc;function Gy(){if(Gc)return Xs;Gc=1;var e=By(),t=$a(),n=Fe(),r=fh(),s=La(),i=hh(),o=Object.prototype,a=o.hasOwnProperty;function u(c,l){var f=n(c),d=!f&&t(c),p=!f&&!d&&r(c),g=!f&&!d&&!p&&i(c),h=f||d||p||g,m=h?e(c.length,String):[],y=m.length;for(var b in c)(l||a.call(c,b))&&!(h&&(b=="length"||p&&(b=="offset"||b=="parent")||g&&(b=="buffer"||b=="byteLength"||b=="byteOffset")||s(b,y)))&&m.push(b);return m}return Xs=u,Xs}var ei,Wc;function Wy(){if(Wc)return ei;Wc=1;var e=Object.prototype;function t(n){var r=n&&n.constructor,s=typeof r=="function"&&r.prototype||e;return n===s}return ei=t,ei}var ti,Jc;function Jy(){if(Jc)return ti;Jc=1;function e(t,n){return function(r){return t(n(r))}}return ti=e,ti}var ni,Qc;function Qy(){if(Qc)return ni;Qc=1;var e=Jy(),t=e(Object.keys,Object);return ni=t,ni}var ri,Yc;function Yy(){if(Yc)return ri;Yc=1;var e=Wy(),t=Qy(),n=Object.prototype,r=n.hasOwnProperty;function s(i){if(!e(i))return t(i);var o=[];for(var a in Object(i))r.call(i,a)&&a!="constructor"&&o.push(a);return o}return ri=s,ri}var si,Xc;function gr(){if(Xc)return si;Xc=1;var e=sh(),t=Na();function n(r){return r!=null&&t(r.length)&&!e(r)}return si=n,si}var ii,el;function za(){if(el)return ii;el=1;var e=Gy(),t=Yy(),n=gr();function r(s){return n(s)?e(s):t(s)}return ii=r,ii}var oi,tl;function Xy(){if(tl)return oi;tl=1;var e=qy(),t=My(),n=za();function r(s){return e(s,n,t)}return oi=r,oi}var ai,nl;function eb(){if(nl)return ai;nl=1;var e=Xy(),t=1,n=Object.prototype,r=n.hasOwnProperty;function s(i,o,a,u,c,l){var f=a&t,d=e(i),p=d.length,g=e(o),h=g.length;if(p!=h&&!f)return!1;for(var m=p;m--;){var y=d[m];if(!(f?y in o:r.call(o,y)))return!1}var b=l.get(i),_=l.get(o);if(b&&_)return b==o&&_==i;var v=!0;l.set(i,o),l.set(o,i);for(var w=f;++m<p;){y=d[m];var E=i[y],A=o[y];if(u)var C=f?u(A,E,y,o,i,l):u(E,A,y,i,o,l);if(!(C===void 0?E===A||c(E,A,a,u,l):C)){v=!1;break}w||(w=y=="constructor")}if(v&&!w){var j=i.constructor,I=o.constructor;j!=I&&"constructor"in i&&"constructor"in o&&!(typeof j=="function"&&j instanceof j&&typeof I=="function"&&I instanceof I)&&(v=!1)}return l.delete(i),l.delete(o),v}return ai=s,ai}var ui,rl;function tb(){if(rl)return ui;rl=1;var e=wt(),t=Be(),n=e(t,"DataView");return ui=n,ui}var ci,sl;function nb(){if(sl)return ci;sl=1;var e=wt(),t=Be(),n=e(t,"Promise");return ci=n,ci}var li,il;function ph(){if(il)return li;il=1;var e=wt(),t=Be(),n=e(t,"Set");return li=n,li}var fi,ol;function rb(){if(ol)return fi;ol=1;var e=wt(),t=Be(),n=e(t,"WeakMap");return fi=n,fi}var di,al;function sb(){if(al)return di;al=1;var e=tb(),t=Ca(),n=nb(),r=ph(),s=rb(),i=gn(),o=ih(),a="[object Map]",u="[object Object]",c="[object Promise]",l="[object Set]",f="[object WeakMap]",d="[object DataView]",p=o(e),g=o(t),h=o(n),m=o(r),y=o(s),b=i;return(e&&b(new e(new ArrayBuffer(1)))!=d||t&&b(new t)!=a||n&&b(n.resolve())!=c||r&&b(new r)!=l||s&&b(new s)!=f)&&(b=function(_){var v=i(_),w=v==u?_.constructor:void 0,E=w?o(w):"";if(E)switch(E){case p:return d;case g:return a;case h:return c;case m:return l;case y:return f}return v}),di=b,di}var hi,ul;function ib(){if(ul)return hi;ul=1;var e=oh(),t=ch(),n=Fy(),r=eb(),s=sb(),i=Fe(),o=fh(),a=hh(),u=1,c="[object Arguments]",l="[object Array]",f="[object Object]",d=Object.prototype,p=d.hasOwnProperty;function g(h,m,y,b,_,v){var w=i(h),E=i(m),A=w?l:s(h),C=E?l:s(m);A=A==c?f:A,C=C==c?f:C;var j=A==f,I=C==f,R=A==C;if(R&&o(h)){if(!o(m))return!1;w=!0,j=!1}if(R&&!j)return v||(v=new e),w||a(h)?t(h,m,y,b,_,v):n(h,m,A,y,b,_,v);if(!(y&u)){var q=j&&p.call(h,"__wrapped__"),$=I&&p.call(m,"__wrapped__");if(q||$){var L=q?h.value():h,O=$?m.value():m;return v||(v=new e),_(L,O,y,b,v)}}return R?(v||(v=new e),r(h,m,y,b,_,v)):!1}return hi=g,hi}var pi,cl;function ja(){if(cl)return pi;cl=1;var e=ib(),t=mn();function n(r,s,i,o,a){return r===s?!0:r==null||s==null||!t(r)&&!t(s)?r!==r&&s!==s:e(r,s,i,o,n,a)}return pi=n,pi}var gi,ll;function ob(){if(ll)return gi;ll=1;var e=ja();function t(n,r){return e(n,r)}return gi=t,gi}var ab=ob();const ub=Ta(ab);var mi,fl;function cb(){if(fl)return mi;fl=1;var e=pn(),t=$a(),n=Fe(),r=e?e.isConcatSpreadable:void 0;function s(i){return n(i)||t(i)||!!(r&&i&&i[r])}return mi=s,mi}var yi,dl;function lb(){if(dl)return yi;dl=1;var e=lh(),t=cb();function n(r,s,i,o,a){var u=-1,c=r.length;for(i||(i=t),a||(a=[]);++u<c;){var l=r[u];s>0&&i(l)?s>1?n(l,s-1,i,o,a):e(a,l):o||(a[a.length]=l)}return a}return yi=n,yi}var bi,hl;function gh(){if(hl)return bi;hl=1;function e(t,n){for(var r=-1,s=t==null?0:t.length,i=Array(s);++r<s;)i[r]=n(t[r],r,t);return i}return bi=e,bi}var vi,pl;function mr(){if(pl)return vi;pl=1;var e=gn(),t=mn(),n="[object Symbol]";function r(s){return typeof s=="symbol"||t(s)&&e(s)==n}return vi=r,vi}var wi,gl;function Fa(){if(gl)return wi;gl=1;var e=Fe(),t=mr(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function s(i,o){if(e(i))return!1;var a=typeof i;return a=="number"||a=="symbol"||a=="boolean"||i==null||t(i)?!0:r.test(i)||!n.test(i)||o!=null&&i in Object(o)}return wi=s,wi}var _i,ml;function fb(){if(ml)return _i;ml=1;var e=Ia(),t="Expected a function";function n(r,s){if(typeof r!="function"||s!=null&&typeof s!="function")throw new TypeError(t);var i=function(){var o=arguments,a=s?s.apply(this,o):o[0],u=i.cache;if(u.has(a))return u.get(a);var c=r.apply(this,o);return i.cache=u.set(a,c)||u,c};return i.cache=new(n.Cache||e),i}return n.Cache=e,_i=n,_i}var Si,yl;function db(){if(yl)return Si;yl=1;var e=fb(),t=500;function n(r){var s=e(r,function(o){return i.size===t&&i.clear(),o}),i=s.cache;return s}return Si=n,Si}var xi,bl;function hb(){if(bl)return xi;bl=1;var e=db(),t=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,n=/\\(\\)?/g,r=e(function(s){var i=[];return s.charCodeAt(0)===46&&i.push(""),s.replace(t,function(o,a,u,c){i.push(u?c.replace(n,"$1"):a||o)}),i});return xi=r,xi}var Ei,vl;function pb(){if(vl)return Ei;vl=1;var e=pn(),t=gh(),n=Fe(),r=mr(),s=e?e.prototype:void 0,i=s?s.toString:void 0;function o(a){if(typeof a=="string")return a;if(n(a))return t(a,o)+"";if(r(a))return i?i.call(a):"";var u=a+"";return u=="0"&&1/a==-1/0?"-0":u}return Ei=o,Ei}var Oi,wl;function gb(){if(wl)return Oi;wl=1;var e=pb();function t(n){return n==null?"":e(n)}return Oi=t,Oi}var Ai,_l;function mh(){if(_l)return Ai;_l=1;var e=Fe(),t=Fa(),n=hb(),r=gb();function s(i,o){return e(i)?i:t(i,o)?[i]:n(r(i))}return Ai=s,Ai}var Ri,Sl;function yr(){if(Sl)return Ri;Sl=1;var e=mr();function t(n){if(typeof n=="string"||e(n))return n;var r=n+"";return r=="0"&&1/n==-1/0?"-0":r}return Ri=t,Ri}var Ti,xl;function qa(){if(xl)return Ti;xl=1;var e=mh(),t=yr();function n(r,s){s=e(s,r);for(var i=0,o=s.length;r!=null&&i<o;)r=r[t(s[i++])];return i&&i==o?r:void 0}return Ti=n,Ti}var Pi,El;function mb(){if(El)return Pi;El=1;var e=oh(),t=ja(),n=1,r=2;function s(i,o,a,u){var c=a.length,l=c,f=!u;if(i==null)return!l;for(i=Object(i);c--;){var d=a[c];if(f&&d[2]?d[1]!==i[d[0]]:!(d[0]in i))return!1}for(;++c<l;){d=a[c];var p=d[0],g=i[p],h=d[1];if(f&&d[2]){if(g===void 0&&!(p in i))return!1}else{var m=new e;if(u)var y=u(g,h,p,i,o,m);if(!(y===void 0?t(h,g,n|r,u,m):y))return!1}}return!0}return Pi=s,Pi}var Ci,Ol;function yh(){if(Ol)return Ci;Ol=1;var e=dr();function t(n){return n===n&&!e(n)}return Ci=t,Ci}var Ii,Al;function yb(){if(Al)return Ii;Al=1;var e=yh(),t=za();function n(r){for(var s=t(r),i=s.length;i--;){var o=s[i],a=r[o];s[i]=[o,a,e(a)]}return s}return Ii=n,Ii}var ki,Rl;function bh(){if(Rl)return ki;Rl=1;function e(t,n){return function(r){return r==null?!1:r[t]===n&&(n!==void 0||t in Object(r))}}return ki=e,ki}var $i,Tl;function bb(){if(Tl)return $i;Tl=1;var e=mb(),t=yb(),n=bh();function r(s){var i=t(s);return i.length==1&&i[0][2]?n(i[0][0],i[0][1]):function(o){return o===s||e(o,s,i)}}return $i=r,$i}var Li,Pl;function vb(){if(Pl)return Li;Pl=1;var e=qa();function t(n,r,s){var i=n==null?void 0:e(n,r);return i===void 0?s:i}return Li=t,Li}var Ni,Cl;function wb(){if(Cl)return Ni;Cl=1;function e(t,n){return t!=null&&n in Object(t)}return Ni=e,Ni}var zi,Il;function _b(){if(Il)return zi;Il=1;var e=mh(),t=$a(),n=Fe(),r=La(),s=Na(),i=yr();function o(a,u,c){u=e(u,a);for(var l=-1,f=u.length,d=!1;++l<f;){var p=i(u[l]);if(!(d=a!=null&&c(a,p)))break;a=a[p]}return d||++l!=f?d:(f=a==null?0:a.length,!!f&&s(f)&&r(p,f)&&(n(a)||t(a)))}return zi=o,zi}var ji,kl;function Sb(){if(kl)return ji;kl=1;var e=wb(),t=_b();function n(r,s){return r!=null&&t(r,s,e)}return ji=n,ji}var Fi,$l;function xb(){if($l)return Fi;$l=1;var e=ja(),t=vb(),n=Sb(),r=Fa(),s=yh(),i=bh(),o=yr(),a=1,u=2;function c(l,f){return r(l)&&s(f)?i(o(l),f):function(d){var p=t(d,l);return p===void 0&&p===f?n(d,l):e(f,p,a|u)}}return Fi=c,Fi}var qi,Ll;function br(){if(Ll)return qi;Ll=1;function e(t){return t}return qi=e,qi}var Di,Nl;function Eb(){if(Nl)return Di;Nl=1;function e(t){return function(n){return n?.[t]}}return Di=e,Di}var Ui,zl;function Ob(){if(zl)return Ui;zl=1;var e=qa();function t(n){return function(r){return e(r,n)}}return Ui=t,Ui}var Mi,jl;function Ab(){if(jl)return Mi;jl=1;var e=Eb(),t=Ob(),n=Fa(),r=yr();function s(i){return n(i)?e(r(i)):t(i)}return Mi=s,Mi}var Bi,Fl;function Rb(){if(Fl)return Bi;Fl=1;var e=bb(),t=xb(),n=br(),r=Fe(),s=Ab();function i(o){return typeof o=="function"?o:o==null?n:typeof o=="object"?r(o)?t(o[0],o[1]):e(o):s(o)}return Bi=i,Bi}var Zi,ql;function Tb(){if(ql)return Zi;ql=1;function e(t){return function(n,r,s){for(var i=-1,o=Object(n),a=s(n),u=a.length;u--;){var c=a[t?u:++i];if(r(o[c],c,o)===!1)break}return n}}return Zi=e,Zi}var Hi,Dl;function Pb(){if(Dl)return Hi;Dl=1;var e=Tb(),t=e();return Hi=t,Hi}var Ki,Ul;function Cb(){if(Ul)return Ki;Ul=1;var e=Pb(),t=za();function n(r,s){return r&&e(r,s,t)}return Ki=n,Ki}var Vi,Ml;function Ib(){if(Ml)return Vi;Ml=1;var e=gr();function t(n,r){return function(s,i){if(s==null)return s;if(!e(s))return n(s,i);for(var o=s.length,a=r?o:-1,u=Object(s);(r?a--:++a<o)&&i(u[a],a,u)!==!1;);return s}}return Vi=t,Vi}var Gi,Bl;function kb(){if(Bl)return Gi;Bl=1;var e=Cb(),t=Ib(),n=t(e);return Gi=n,Gi}var Wi,Zl;function $b(){if(Zl)return Wi;Zl=1;var e=kb(),t=gr();function n(r,s){var i=-1,o=t(r)?Array(r.length):[];return e(r,function(a,u,c){o[++i]=s(a,u,c)}),o}return Wi=n,Wi}var Ji,Hl;function Lb(){if(Hl)return Ji;Hl=1;function e(t,n){var r=t.length;for(t.sort(n);r--;)t[r]=t[r].value;return t}return Ji=e,Ji}var Qi,Kl;function Nb(){if(Kl)return Qi;Kl=1;var e=mr();function t(n,r){if(n!==r){var s=n!==void 0,i=n===null,o=n===n,a=e(n),u=r!==void 0,c=r===null,l=r===r,f=e(r);if(!c&&!f&&!a&&n>r||a&&u&&l&&!c&&!f||i&&u&&l||!s&&l||!o)return 1;if(!i&&!a&&!f&&n<r||f&&s&&o&&!i&&!a||c&&s&&o||!u&&o||!l)return-1}return 0}return Qi=t,Qi}var Yi,Vl;function zb(){if(Vl)return Yi;Vl=1;var e=Nb();function t(n,r,s){for(var i=-1,o=n.criteria,a=r.criteria,u=o.length,c=s.length;++i<u;){var l=e(o[i],a[i]);if(l){if(i>=c)return l;var f=s[i];return l*(f=="desc"?-1:1)}}return n.index-r.index}return Yi=t,Yi}var Xi,Gl;function jb(){if(Gl)return Xi;Gl=1;var e=gh(),t=qa(),n=Rb(),r=$b(),s=Lb(),i=dh(),o=zb(),a=br(),u=Fe();function c(l,f,d){f.length?f=e(f,function(h){return u(h)?function(m){return t(m,h.length===1?h[0]:h)}:h}):f=[a];var p=-1;f=e(f,i(n));var g=r(l,function(h,m,y){var b=e(f,function(_){return _(h)});return{criteria:b,index:++p,value:h}});return s(g,function(h,m){return o(h,m,d)})}return Xi=c,Xi}var eo,Wl;function Fb(){if(Wl)return eo;Wl=1;function e(t,n,r){switch(r.length){case 0:return t.call(n);case 1:return t.call(n,r[0]);case 2:return t.call(n,r[0],r[1]);case 3:return t.call(n,r[0],r[1],r[2])}return t.apply(n,r)}return eo=e,eo}var to,Jl;function qb(){if(Jl)return to;Jl=1;var e=Fb(),t=Math.max;function n(r,s,i){return s=t(s===void 0?r.length-1:s,0),function(){for(var o=arguments,a=-1,u=t(o.length-s,0),c=Array(u);++a<u;)c[a]=o[s+a];a=-1;for(var l=Array(s+1);++a<s;)l[a]=o[a];return l[s]=i(c),e(r,this,l)}}return to=n,to}var no,Ql;function Db(){if(Ql)return no;Ql=1;function e(t){return function(){return t}}return no=e,no}var ro,Yl;function Ub(){if(Yl)return ro;Yl=1;var e=wt(),t=(function(){try{var n=e(Object,"defineProperty");return n({},"",{}),n}catch{}})();return ro=t,ro}var so,Xl;function Mb(){if(Xl)return so;Xl=1;var e=Db(),t=Ub(),n=br(),r=t?function(s,i){return t(s,"toString",{configurable:!0,enumerable:!1,value:e(i),writable:!0})}:n;return so=r,so}var io,ef;function Bb(){if(ef)return io;ef=1;var e=800,t=16,n=Date.now;function r(s){var i=0,o=0;return function(){var a=n(),u=t-(a-o);if(o=a,u>0){if(++i>=e)return arguments[0]}else i=0;return s.apply(void 0,arguments)}}return io=r,io}var oo,tf;function Zb(){if(tf)return oo;tf=1;var e=Mb(),t=Bb(),n=t(e);return oo=n,oo}var ao,nf;function Hb(){if(nf)return ao;nf=1;var e=br(),t=qb(),n=Zb();function r(s,i){return n(t(s,i,e),s+"")}return ao=r,ao}var uo,rf;function Kb(){if(rf)return uo;rf=1;var e=Pa(),t=gr(),n=La(),r=dr();function s(i,o,a){if(!r(a))return!1;var u=typeof o;return(u=="number"?t(a)&&n(o,a.length):u=="string"&&o in a)?e(a[o],i):!1}return uo=s,uo}var co,sf;function Vb(){if(sf)return co;sf=1;var e=lb(),t=jb(),n=Hb(),r=Kb(),s=n(function(i,o){if(i==null)return[];var a=o.length;return a>1&&r(i,o[0],o[1])?o=[]:a>2&&r(o[0],o[1],o[2])&&(o=[o[0]]),t(i,e(o,1),[])});return co=s,co}var Gb=Vb();const Wb=Ta(Gb);var lo,of;function Jb(){if(of)return lo;of=1;function e(t,n,r,s){for(var i=t.length,o=r+(s?1:-1);s?o--:++o<i;)if(n(t[o],o,t))return o;return-1}return lo=e,lo}var fo,af;function Qb(){if(af)return fo;af=1;function e(t){return t!==t}return fo=e,fo}var ho,uf;function Yb(){if(uf)return ho;uf=1;function e(t,n,r){for(var s=r-1,i=t.length;++s<i;)if(t[s]===n)return s;return-1}return ho=e,ho}var po,cf;function Xb(){if(cf)return po;cf=1;var e=Jb(),t=Qb(),n=Yb();function r(s,i,o){return i===i?n(s,i,o):e(s,t,o)}return po=r,po}var go,lf;function ev(){if(lf)return go;lf=1;var e=Xb();function t(n,r){var s=n==null?0:n.length;return!!s&&e(n,r,0)>-1}return go=t,go}var mo,ff;function tv(){if(ff)return mo;ff=1;function e(t,n,r){for(var s=-1,i=t==null?0:t.length;++s<i;)if(r(n,t[s]))return!0;return!1}return mo=e,mo}var yo,df;function nv(){if(df)return yo;df=1;function e(){}return yo=e,yo}var bo,hf;function rv(){if(hf)return bo;hf=1;var e=ph(),t=nv(),n=ka(),r=1/0,s=e&&1/n(new e([,-0]))[1]==r?function(i){return new e(i)}:t;return bo=s,bo}var vo,pf;function sv(){if(pf)return vo;pf=1;var e=ah(),t=ev(),n=tv(),r=uh(),s=rv(),i=ka(),o=200;function a(u,c,l){var f=-1,d=t,p=u.length,g=!0,h=[],m=h;if(l)g=!1,d=n;else if(p>=o){var y=c?null:s(u);if(y)return i(y);g=!1,d=r,m=new e}else m=c?[]:h;e:for(;++f<p;){var b=u[f],_=c?c(b):b;if(b=l||b!==0?b:0,g&&_===_){for(var v=m.length;v--;)if(m[v]===_)continue e;c&&m.push(_),h.push(b)}else d(m,_,l)||(m!==h&&m.push(_),h.push(b))}return h}return vo=a,vo}var wo,gf;function iv(){if(gf)return wo;gf=1;var e=sv();function t(n){return n&&n.length?e(n):[]}return wo=t,wo}var ov=iv();const kt=Ta(ov);function cA(e){return[0,3].includes(e)||1e4<=e&&e<2e4}function lA(e){return 3e4<=e&&e<4e4}var fA=0,ta=1,dA=3,hA=5,pA=6,na=7,gA=16,mA=9734,yA=9735,bA=3e4;function S(e,t,n){function r(a,u){if(a._zod||Object.defineProperty(a,"_zod",{value:{def:u,constr:o,traits:new Set},enumerable:!1}),a._zod.traits.has(e))return;a._zod.traits.add(e),t(a,u);const c=o.prototype,l=Object.keys(c);for(let f=0;f<l.length;f++){const d=l[f];d in a||(a[d]=c[d].bind(a))}}const s=n?.Parent??Object;class i extends s{}Object.defineProperty(i,"name",{value:e});function o(a){var u;const c=n?.Parent?new i:this;r(c,a),(u=c._zod).deferred??(u.deferred=[]);for(const l of c._zod.deferred)l();return c}return Object.defineProperty(o,"init",{value:r}),Object.defineProperty(o,Symbol.hasInstance,{value:a=>n?.Parent&&a instanceof n.Parent?!0:a?._zod?.traits?.has(e)}),Object.defineProperty(o,"name",{value:e}),o}class zt extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class vh extends Error{constructor(t){super(`Encountered unidirectional transform during encode: ${t}`),this.name="ZodEncodeError"}}const wh={};function rt(e){return wh}function _h(e){const t=Object.values(e).filter(r=>typeof r=="number");return Object.entries(e).filter(([r,s])=>t.indexOf(+r)===-1).map(([r,s])=>s)}function ra(e,t){return typeof t=="bigint"?t.toString():t}function Da(e){return{get value(){{const t=e();return Object.defineProperty(this,"value",{value:t}),t}}}}function Ua(e){return e==null}function Ma(e){const t=e.startsWith("^")?1:0,n=e.endsWith("$")?e.length-1:e.length;return e.slice(t,n)}function av(e,t){const n=(e.toString().split(".")[1]||"").length,r=t.toString();let s=(r.split(".")[1]||"").length;if(s===0&&/\d?e-\d?/.test(r)){const u=r.match(/\d?e-(\d?)/);u?.[1]&&(s=Number.parseInt(u[1]))}const i=n>s?n:s,o=Number.parseInt(e.toFixed(i).replace(".","")),a=Number.parseInt(t.toFixed(i).replace(".",""));return o%a/10**i}const mf=Symbol("evaluating");function K(e,t,n){let r;Object.defineProperty(e,t,{get(){if(r!==mf)return r===void 0&&(r=mf,r=n()),r},set(s){Object.defineProperty(e,t,{value:s})},configurable:!0})}function _t(e,t,n){Object.defineProperty(e,t,{value:n,writable:!0,enumerable:!0,configurable:!0})}function ot(...e){const t={};for(const n of e){const r=Object.getOwnPropertyDescriptors(n);Object.assign(t,r)}return Object.defineProperties({},t)}function yf(e){return JSON.stringify(e)}function uv(e){return e.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/[\s_-]+/g,"-").replace(/^-+|-+$/g,"")}const Sh="captureStackTrace"in Error?Error.captureStackTrace:(...e)=>{};function Dn(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}const cv=Da(()=>{if(typeof navigator<"u"&&navigator?.userAgent?.includes("Cloudflare"))return!1;try{const e=Function;return new e(""),!0}catch{return!1}});function Ft(e){if(Dn(e)===!1)return!1;const t=e.constructor;if(t===void 0||typeof t!="function")return!0;const n=t.prototype;return!(Dn(n)===!1||Object.prototype.hasOwnProperty.call(n,"isPrototypeOf")===!1)}function xh(e){return Ft(e)?{...e}:Array.isArray(e)?[...e]:e}const lv=new Set(["string","number","symbol"]);function qt(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function at(e,t,n){const r=new e._zod.constr(t??e._zod.def);return(!t||n?.parent)&&(r._zod.parent=e),r}function N(e){const t=e;if(!t)return{};if(typeof t=="string")return{error:()=>t};if(t?.message!==void 0){if(t?.error!==void 0)throw new Error("Cannot specify both `message` and `error` params");t.error=t.message}return delete t.message,typeof t.error=="string"?{...t,error:()=>t.error}:t}function fv(e){return Object.keys(e).filter(t=>e[t]._zod.optin==="optional"&&e[t]._zod.optout==="optional")}const dv={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]};function hv(e,t){const n=e._zod.def,r=n.checks;if(r&&r.length>0)throw new Error(".pick() cannot be used on object schemas containing refinements");const i=ot(e._zod.def,{get shape(){const o={};for(const a in t){if(!(a in n.shape))throw new Error(`Unrecognized key: "${a}"`);t[a]&&(o[a]=n.shape[a])}return _t(this,"shape",o),o},checks:[]});return at(e,i)}function pv(e,t){const n=e._zod.def,r=n.checks;if(r&&r.length>0)throw new Error(".omit() cannot be used on object schemas containing refinements");const i=ot(e._zod.def,{get shape(){const o={...e._zod.def.shape};for(const a in t){if(!(a in n.shape))throw new Error(`Unrecognized key: "${a}"`);t[a]&&delete o[a]}return _t(this,"shape",o),o},checks:[]});return at(e,i)}function gv(e,t){if(!Ft(t))throw new Error("Invalid input to extend: expected a plain object");const n=e._zod.def.checks;if(n&&n.length>0){const i=e._zod.def.shape;for(const o in t)if(Object.getOwnPropertyDescriptor(i,o)!==void 0)throw new Error("Cannot overwrite keys on object schemas containing refinements. Use `.safeExtend()` instead.")}const s=ot(e._zod.def,{get shape(){const i={...e._zod.def.shape,...t};return _t(this,"shape",i),i}});return at(e,s)}function mv(e,t){if(!Ft(t))throw new Error("Invalid input to safeExtend: expected a plain object");const n=ot(e._zod.def,{get shape(){const r={...e._zod.def.shape,...t};return _t(this,"shape",r),r}});return at(e,n)}function yv(e,t){const n=ot(e._zod.def,{get shape(){const r={...e._zod.def.shape,...t._zod.def.shape};return _t(this,"shape",r),r},get catchall(){return t._zod.def.catchall},checks:[]});return at(e,n)}function bv(e,t,n){const s=t._zod.def.checks;if(s&&s.length>0)throw new Error(".partial() cannot be used on object schemas containing refinements");const o=ot(t._zod.def,{get shape(){const a=t._zod.def.shape,u={...a};if(n)for(const c in n){if(!(c in a))throw new Error(`Unrecognized key: "${c}"`);n[c]&&(u[c]=e?new e({type:"optional",innerType:a[c]}):a[c])}else for(const c in a)u[c]=e?new e({type:"optional",innerType:a[c]}):a[c];return _t(this,"shape",u),u},checks:[]});return at(t,o)}function vv(e,t,n){const r=ot(t._zod.def,{get shape(){const s=t._zod.def.shape,i={...s};if(n)for(const o in n){if(!(o in i))throw new Error(`Unrecognized key: "${o}"`);n[o]&&(i[o]=new e({type:"nonoptional",innerType:s[o]}))}else for(const o in s)i[o]=new e({type:"nonoptional",innerType:s[o]});return _t(this,"shape",i),i}});return at(t,r)}function $t(e,t=0){if(e.aborted===!0)return!0;for(let n=t;n<e.issues.length;n++)if(e.issues[n]?.continue!==!0)return!0;return!1}function ht(e,t){return t.map(n=>{var r;return(r=n).path??(r.path=[]),n.path.unshift(e),n})}function xn(e){return typeof e=="string"?e:e?.message}function st(e,t,n){const r={...e,path:e.path??[]};if(!e.message){const s=xn(e.inst?._zod.def?.error?.(e))??xn(t?.error?.(e))??xn(n.customError?.(e))??xn(n.localeError?.(e))??"Invalid input";r.message=s}return delete r.inst,delete r.continue,t?.reportInput||delete r.input,r}function Ba(e){return Array.isArray(e)?"array":typeof e=="string"?"string":"unknown"}function cn(...e){const[t,n,r]=e;return typeof t=="string"?{message:t,code:"custom",input:n,inst:r}:{...t}}const Eh=(e,t)=>{e.name="$ZodError",Object.defineProperty(e,"_zod",{value:e._zod,enumerable:!1}),Object.defineProperty(e,"issues",{value:t,enumerable:!1}),e.message=JSON.stringify(t,ra,2),Object.defineProperty(e,"toString",{value:()=>e.message,enumerable:!1})},Oh=S("$ZodError",Eh),Ah=S("$ZodError",Eh,{Parent:Error});function wv(e,t=n=>n.message){const n={},r=[];for(const s of e.issues)s.path.length>0?(n[s.path[0]]=n[s.path[0]]||[],n[s.path[0]].push(t(s))):r.push(t(s));return{formErrors:r,fieldErrors:n}}function _v(e,t=n=>n.message){const n={_errors:[]},r=s=>{for(const i of s.issues)if(i.code==="invalid_union"&&i.errors.length)i.errors.map(o=>r({issues:o}));else if(i.code==="invalid_key")r({issues:i.issues});else if(i.code==="invalid_element")r({issues:i.issues});else if(i.path.length===0)n._errors.push(t(i));else{let o=n,a=0;for(;a<i.path.length;){const u=i.path[a];a===i.path.length-1?(o[u]=o[u]||{_errors:[]},o[u]._errors.push(t(i))):o[u]=o[u]||{_errors:[]},o=o[u],a++}}};return r(e),n}const Za=e=>(t,n,r,s)=>{const i=r?Object.assign(r,{async:!1}):{async:!1},o=t._zod.run({value:n,issues:[]},i);if(o instanceof Promise)throw new zt;if(o.issues.length){const a=new(s?.Err??e)(o.issues.map(u=>st(u,i,rt())));throw Sh(a,s?.callee),a}return o.value},Ha=e=>async(t,n,r,s)=>{const i=r?Object.assign(r,{async:!0}):{async:!0};let o=t._zod.run({value:n,issues:[]},i);if(o instanceof Promise&&(o=await o),o.issues.length){const a=new(s?.Err??e)(o.issues.map(u=>st(u,i,rt())));throw Sh(a,s?.callee),a}return o.value},vr=e=>(t,n,r)=>{const s=r?{...r,async:!1}:{async:!1},i=t._zod.run({value:n,issues:[]},s);if(i instanceof Promise)throw new zt;return i.issues.length?{success:!1,error:new(e??Oh)(i.issues.map(o=>st(o,s,rt())))}:{success:!0,data:i.value}},Sv=vr(Ah),wr=e=>async(t,n,r)=>{const s=r?Object.assign(r,{async:!0}):{async:!0};let i=t._zod.run({value:n,issues:[]},s);return i instanceof Promise&&(i=await i),i.issues.length?{success:!1,error:new e(i.issues.map(o=>st(o,s,rt())))}:{success:!0,data:i.value}},xv=wr(Ah),Ev=e=>(t,n,r)=>{const s=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return Za(e)(t,n,s)},Ov=e=>(t,n,r)=>Za(e)(t,n,r),Av=e=>async(t,n,r)=>{const s=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return Ha(e)(t,n,s)},Rv=e=>async(t,n,r)=>Ha(e)(t,n,r),Tv=e=>(t,n,r)=>{const s=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return vr(e)(t,n,s)},Pv=e=>(t,n,r)=>vr(e)(t,n,r),Cv=e=>async(t,n,r)=>{const s=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return wr(e)(t,n,s)},Iv=e=>async(t,n,r)=>wr(e)(t,n,r),kv=/^[cC][^\s-]{8,}$/,$v=/^[0-9a-z]+$/,Lv=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,Nv=/^[0-9a-vA-V]{20}$/,zv=/^[A-Za-z0-9]{27}$/,jv=/^[a-zA-Z0-9_-]{21}$/,Fv=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,qv=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,bf=e=>e?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${e}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,Dv=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,Uv="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function Mv(){return new RegExp(Uv,"u")}const Bv=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,Zv=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,Hv=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,Kv=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,Vv=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,Rh=/^[A-Za-z0-9_-]*$/,Gv=/^\+[1-9]\d{6,14}$/,Th="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",Wv=new RegExp(`^${Th}$`);function Ph(e){const t="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof e.precision=="number"?e.precision===-1?`${t}`:e.precision===0?`${t}:[0-5]\\d`:`${t}:[0-5]\\d\\.\\d{${e.precision}}`:`${t}(?::[0-5]\\d(?:\\.\\d+)?)?`}function Jv(e){return new RegExp(`^${Ph(e)}$`)}function Qv(e){const t=Ph({precision:e.precision}),n=["Z"];e.local&&n.push(""),e.offset&&n.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");const r=`${t}(?:${n.join("|")})`;return new RegExp(`^${Th}T(?:${r})$`)}const Yv=e=>{const t=e?`[\\s\\S]{${e?.minimum??0},${e?.maximum??""}}`:"[\\s\\S]*";return new RegExp(`^${t}$`)},Xv=/^-?\d+$/,Ch=/^-?\d+(?:\.\d+)?$/,ew=/^(?:true|false)$/i,tw=/^[^A-Z]*$/,nw=/^[^a-z]*$/,be=S("$ZodCheck",(e,t)=>{var n;e._zod??(e._zod={}),e._zod.def=t,(n=e._zod).onattach??(n.onattach=[])}),Ih={number:"number",bigint:"bigint",object:"date"},kh=S("$ZodCheckLessThan",(e,t)=>{be.init(e,t);const n=Ih[typeof t.value];e._zod.onattach.push(r=>{const s=r._zod.bag,i=(t.inclusive?s.maximum:s.exclusiveMaximum)??Number.POSITIVE_INFINITY;t.value<i&&(t.inclusive?s.maximum=t.value:s.exclusiveMaximum=t.value)}),e._zod.check=r=>{(t.inclusive?r.value<=t.value:r.value<t.value)||r.issues.push({origin:n,code:"too_big",maximum:typeof t.value=="object"?t.value.getTime():t.value,input:r.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),$h=S("$ZodCheckGreaterThan",(e,t)=>{be.init(e,t);const n=Ih[typeof t.value];e._zod.onattach.push(r=>{const s=r._zod.bag,i=(t.inclusive?s.minimum:s.exclusiveMinimum)??Number.NEGATIVE_INFINITY;t.value>i&&(t.inclusive?s.minimum=t.value:s.exclusiveMinimum=t.value)}),e._zod.check=r=>{(t.inclusive?r.value>=t.value:r.value>t.value)||r.issues.push({origin:n,code:"too_small",minimum:typeof t.value=="object"?t.value.getTime():t.value,input:r.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),rw=S("$ZodCheckMultipleOf",(e,t)=>{be.init(e,t),e._zod.onattach.push(n=>{var r;(r=n._zod.bag).multipleOf??(r.multipleOf=t.value)}),e._zod.check=n=>{if(typeof n.value!=typeof t.value)throw new Error("Cannot mix number and bigint in multiple_of check.");(typeof n.value=="bigint"?n.value%t.value===BigInt(0):av(n.value,t.value)===0)||n.issues.push({origin:typeof n.value,code:"not_multiple_of",divisor:t.value,input:n.value,inst:e,continue:!t.abort})}}),sw=S("$ZodCheckNumberFormat",(e,t)=>{be.init(e,t),t.format=t.format||"float64";const n=t.format?.includes("int"),r=n?"int":"number",[s,i]=dv[t.format];e._zod.onattach.push(o=>{const a=o._zod.bag;a.format=t.format,a.minimum=s,a.maximum=i,n&&(a.pattern=Xv)}),e._zod.check=o=>{const a=o.value;if(n){if(!Number.isInteger(a)){o.issues.push({expected:r,format:t.format,code:"invalid_type",continue:!1,input:a,inst:e});return}if(!Number.isSafeInteger(a)){a>0?o.issues.push({input:a,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:r,inclusive:!0,continue:!t.abort}):o.issues.push({input:a,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:r,inclusive:!0,continue:!t.abort});return}}a<s&&o.issues.push({origin:"number",input:a,code:"too_small",minimum:s,inclusive:!0,inst:e,continue:!t.abort}),a>i&&o.issues.push({origin:"number",input:a,code:"too_big",maximum:i,inclusive:!0,inst:e,continue:!t.abort})}}),iw=S("$ZodCheckMaxLength",(e,t)=>{var n;be.init(e,t),(n=e._zod.def).when??(n.when=r=>{const s=r.value;return!Ua(s)&&s.length!==void 0}),e._zod.onattach.push(r=>{const s=r._zod.bag.maximum??Number.POSITIVE_INFINITY;t.maximum<s&&(r._zod.bag.maximum=t.maximum)}),e._zod.check=r=>{const s=r.value;if(s.length<=t.maximum)return;const o=Ba(s);r.issues.push({origin:o,code:"too_big",maximum:t.maximum,inclusive:!0,input:s,inst:e,continue:!t.abort})}}),ow=S("$ZodCheckMinLength",(e,t)=>{var n;be.init(e,t),(n=e._zod.def).when??(n.when=r=>{const s=r.value;return!Ua(s)&&s.length!==void 0}),e._zod.onattach.push(r=>{const s=r._zod.bag.minimum??Number.NEGATIVE_INFINITY;t.minimum>s&&(r._zod.bag.minimum=t.minimum)}),e._zod.check=r=>{const s=r.value;if(s.length>=t.minimum)return;const o=Ba(s);r.issues.push({origin:o,code:"too_small",minimum:t.minimum,inclusive:!0,input:s,inst:e,continue:!t.abort})}}),aw=S("$ZodCheckLengthEquals",(e,t)=>{var n;be.init(e,t),(n=e._zod.def).when??(n.when=r=>{const s=r.value;return!Ua(s)&&s.length!==void 0}),e._zod.onattach.push(r=>{const s=r._zod.bag;s.minimum=t.length,s.maximum=t.length,s.length=t.length}),e._zod.check=r=>{const s=r.value,i=s.length;if(i===t.length)return;const o=Ba(s),a=i>t.length;r.issues.push({origin:o,...a?{code:"too_big",maximum:t.length}:{code:"too_small",minimum:t.length},inclusive:!0,exact:!0,input:r.value,inst:e,continue:!t.abort})}}),_r=S("$ZodCheckStringFormat",(e,t)=>{var n,r;be.init(e,t),e._zod.onattach.push(s=>{const i=s._zod.bag;i.format=t.format,t.pattern&&(i.patterns??(i.patterns=new Set),i.patterns.add(t.pattern))}),t.pattern?(n=e._zod).check??(n.check=s=>{t.pattern.lastIndex=0,!t.pattern.test(s.value)&&s.issues.push({origin:"string",code:"invalid_format",format:t.format,input:s.value,...t.pattern?{pattern:t.pattern.toString()}:{},inst:e,continue:!t.abort})}):(r=e._zod).check??(r.check=()=>{})}),uw=S("$ZodCheckRegex",(e,t)=>{_r.init(e,t),e._zod.check=n=>{t.pattern.lastIndex=0,!t.pattern.test(n.value)&&n.issues.push({origin:"string",code:"invalid_format",format:"regex",input:n.value,pattern:t.pattern.toString(),inst:e,continue:!t.abort})}}),cw=S("$ZodCheckLowerCase",(e,t)=>{t.pattern??(t.pattern=tw),_r.init(e,t)}),lw=S("$ZodCheckUpperCase",(e,t)=>{t.pattern??(t.pattern=nw),_r.init(e,t)}),fw=S("$ZodCheckIncludes",(e,t)=>{be.init(e,t);const n=qt(t.includes),r=new RegExp(typeof t.position=="number"?`^.{${t.position}}${n}`:n);t.pattern=r,e._zod.onattach.push(s=>{const i=s._zod.bag;i.patterns??(i.patterns=new Set),i.patterns.add(r)}),e._zod.check=s=>{s.value.includes(t.includes,t.position)||s.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:t.includes,input:s.value,inst:e,continue:!t.abort})}}),dw=S("$ZodCheckStartsWith",(e,t)=>{be.init(e,t);const n=new RegExp(`^${qt(t.prefix)}.*`);t.pattern??(t.pattern=n),e._zod.onattach.push(r=>{const s=r._zod.bag;s.patterns??(s.patterns=new Set),s.patterns.add(n)}),e._zod.check=r=>{r.value.startsWith(t.prefix)||r.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:t.prefix,input:r.value,inst:e,continue:!t.abort})}}),hw=S("$ZodCheckEndsWith",(e,t)=>{be.init(e,t);const n=new RegExp(`.*${qt(t.suffix)}$`);t.pattern??(t.pattern=n),e._zod.onattach.push(r=>{const s=r._zod.bag;s.patterns??(s.patterns=new Set),s.patterns.add(n)}),e._zod.check=r=>{r.value.endsWith(t.suffix)||r.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:t.suffix,input:r.value,inst:e,continue:!t.abort})}}),pw=S("$ZodCheckOverwrite",(e,t)=>{be.init(e,t),e._zod.check=n=>{n.value=t.tx(n.value)}});class gw{constructor(t=[]){this.content=[],this.indent=0,this&&(this.args=t)}indented(t){this.indent+=1,t(this),this.indent-=1}write(t){if(typeof t=="function"){t(this,{execution:"sync"}),t(this,{execution:"async"});return}const r=t.split(`
`).filter(o=>o),s=Math.min(...r.map(o=>o.length-o.trimStart().length)),i=r.map(o=>o.slice(s)).map(o=>" ".repeat(this.indent*2)+o);for(const o of i)this.content.push(o)}compile(){const t=Function,n=this?.args,s=[...(this?.content??[""]).map(i=>`  ${i}`)];return new t(...n,s.join(`
`))}}const mw={major:4,minor:3,patch:5},W=S("$ZodType",(e,t)=>{var n;e??(e={}),e._zod.def=t,e._zod.bag=e._zod.bag||{},e._zod.version=mw;const r=[...e._zod.def.checks??[]];e._zod.traits.has("$ZodCheck")&&r.unshift(e);for(const s of r)for(const i of s._zod.onattach)i(e);if(r.length===0)(n=e._zod).deferred??(n.deferred=[]),e._zod.deferred?.push(()=>{e._zod.run=e._zod.parse});else{const s=(o,a,u)=>{let c=$t(o),l;for(const f of a){if(f._zod.def.when){if(!f._zod.def.when(o))continue}else if(c)continue;const d=o.issues.length,p=f._zod.check(o);if(p instanceof Promise&&u?.async===!1)throw new zt;if(l||p instanceof Promise)l=(l??Promise.resolve()).then(async()=>{await p,o.issues.length!==d&&(c||(c=$t(o,d)))});else{if(o.issues.length===d)continue;c||(c=$t(o,d))}}return l?l.then(()=>o):o},i=(o,a,u)=>{if($t(o))return o.aborted=!0,o;const c=s(a,r,u);if(c instanceof Promise){if(u.async===!1)throw new zt;return c.then(l=>e._zod.parse(l,u))}return e._zod.parse(c,u)};e._zod.run=(o,a)=>{if(a.skipChecks)return e._zod.parse(o,a);if(a.direction==="backward"){const c=e._zod.parse({value:o.value,issues:[]},{...a,skipChecks:!0});return c instanceof Promise?c.then(l=>i(l,o,a)):i(c,o,a)}const u=e._zod.parse(o,a);if(u instanceof Promise){if(a.async===!1)throw new zt;return u.then(c=>s(c,r,a))}return s(u,r,a)}}K(e,"~standard",()=>({validate:s=>{try{const i=Sv(e,s);return i.success?{value:i.data}:{issues:i.error?.issues}}catch{return xv(e,s).then(o=>o.success?{value:o.data}:{issues:o.error?.issues})}},vendor:"zod",version:1}))}),Ka=S("$ZodString",(e,t)=>{W.init(e,t),e._zod.pattern=[...e?._zod.bag?.patterns??[]].pop()??Yv(e._zod.bag),e._zod.parse=(n,r)=>{if(t.coerce)try{n.value=String(n.value)}catch{}return typeof n.value=="string"||n.issues.push({expected:"string",code:"invalid_type",input:n.value,inst:e}),n}}),Y=S("$ZodStringFormat",(e,t)=>{_r.init(e,t),Ka.init(e,t)}),yw=S("$ZodGUID",(e,t)=>{t.pattern??(t.pattern=qv),Y.init(e,t)}),bw=S("$ZodUUID",(e,t)=>{if(t.version){const r={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[t.version];if(r===void 0)throw new Error(`Invalid UUID version: "${t.version}"`);t.pattern??(t.pattern=bf(r))}else t.pattern??(t.pattern=bf());Y.init(e,t)}),vw=S("$ZodEmail",(e,t)=>{t.pattern??(t.pattern=Dv),Y.init(e,t)}),ww=S("$ZodURL",(e,t)=>{Y.init(e,t),e._zod.check=n=>{try{const r=n.value.trim(),s=new URL(r);t.hostname&&(t.hostname.lastIndex=0,t.hostname.test(s.hostname)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:t.hostname.source,input:n.value,inst:e,continue:!t.abort})),t.protocol&&(t.protocol.lastIndex=0,t.protocol.test(s.protocol.endsWith(":")?s.protocol.slice(0,-1):s.protocol)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:t.protocol.source,input:n.value,inst:e,continue:!t.abort})),t.normalize?n.value=s.href:n.value=r;return}catch{n.issues.push({code:"invalid_format",format:"url",input:n.value,inst:e,continue:!t.abort})}}}),_w=S("$ZodEmoji",(e,t)=>{t.pattern??(t.pattern=Mv()),Y.init(e,t)}),Sw=S("$ZodNanoID",(e,t)=>{t.pattern??(t.pattern=jv),Y.init(e,t)}),xw=S("$ZodCUID",(e,t)=>{t.pattern??(t.pattern=kv),Y.init(e,t)}),Ew=S("$ZodCUID2",(e,t)=>{t.pattern??(t.pattern=$v),Y.init(e,t)}),Ow=S("$ZodULID",(e,t)=>{t.pattern??(t.pattern=Lv),Y.init(e,t)}),Aw=S("$ZodXID",(e,t)=>{t.pattern??(t.pattern=Nv),Y.init(e,t)}),Rw=S("$ZodKSUID",(e,t)=>{t.pattern??(t.pattern=zv),Y.init(e,t)}),Tw=S("$ZodISODateTime",(e,t)=>{t.pattern??(t.pattern=Qv(t)),Y.init(e,t)}),Pw=S("$ZodISODate",(e,t)=>{t.pattern??(t.pattern=Wv),Y.init(e,t)}),Cw=S("$ZodISOTime",(e,t)=>{t.pattern??(t.pattern=Jv(t)),Y.init(e,t)}),Iw=S("$ZodISODuration",(e,t)=>{t.pattern??(t.pattern=Fv),Y.init(e,t)}),kw=S("$ZodIPv4",(e,t)=>{t.pattern??(t.pattern=Bv),Y.init(e,t),e._zod.bag.format="ipv4"}),$w=S("$ZodIPv6",(e,t)=>{t.pattern??(t.pattern=Zv),Y.init(e,t),e._zod.bag.format="ipv6",e._zod.check=n=>{try{new URL(`http://[${n.value}]`)}catch{n.issues.push({code:"invalid_format",format:"ipv6",input:n.value,inst:e,continue:!t.abort})}}}),Lw=S("$ZodCIDRv4",(e,t)=>{t.pattern??(t.pattern=Hv),Y.init(e,t)}),Nw=S("$ZodCIDRv6",(e,t)=>{t.pattern??(t.pattern=Kv),Y.init(e,t),e._zod.check=n=>{const r=n.value.split("/");try{if(r.length!==2)throw new Error;const[s,i]=r;if(!i)throw new Error;const o=Number(i);if(`${o}`!==i)throw new Error;if(o<0||o>128)throw new Error;new URL(`http://[${s}]`)}catch{n.issues.push({code:"invalid_format",format:"cidrv6",input:n.value,inst:e,continue:!t.abort})}}});function Lh(e){if(e==="")return!0;if(e.length%4!==0)return!1;try{return atob(e),!0}catch{return!1}}const zw=S("$ZodBase64",(e,t)=>{t.pattern??(t.pattern=Vv),Y.init(e,t),e._zod.bag.contentEncoding="base64",e._zod.check=n=>{Lh(n.value)||n.issues.push({code:"invalid_format",format:"base64",input:n.value,inst:e,continue:!t.abort})}});function jw(e){if(!Rh.test(e))return!1;const t=e.replace(/[-_]/g,r=>r==="-"?"+":"/"),n=t.padEnd(Math.ceil(t.length/4)*4,"=");return Lh(n)}const Fw=S("$ZodBase64URL",(e,t)=>{t.pattern??(t.pattern=Rh),Y.init(e,t),e._zod.bag.contentEncoding="base64url",e._zod.check=n=>{jw(n.value)||n.issues.push({code:"invalid_format",format:"base64url",input:n.value,inst:e,continue:!t.abort})}}),qw=S("$ZodE164",(e,t)=>{t.pattern??(t.pattern=Gv),Y.init(e,t)});function Dw(e,t=null){try{const n=e.split(".");if(n.length!==3)return!1;const[r]=n;if(!r)return!1;const s=JSON.parse(atob(r));return!("typ"in s&&s?.typ!=="JWT"||!s.alg||t&&(!("alg"in s)||s.alg!==t))}catch{return!1}}const Uw=S("$ZodJWT",(e,t)=>{Y.init(e,t),e._zod.check=n=>{Dw(n.value,t.alg)||n.issues.push({code:"invalid_format",format:"jwt",input:n.value,inst:e,continue:!t.abort})}}),Nh=S("$ZodNumber",(e,t)=>{W.init(e,t),e._zod.pattern=e._zod.bag.pattern??Ch,e._zod.parse=(n,r)=>{if(t.coerce)try{n.value=Number(n.value)}catch{}const s=n.value;if(typeof s=="number"&&!Number.isNaN(s)&&Number.isFinite(s))return n;const i=typeof s=="number"?Number.isNaN(s)?"NaN":Number.isFinite(s)?void 0:"Infinity":void 0;return n.issues.push({expected:"number",code:"invalid_type",input:s,inst:e,...i?{received:i}:{}}),n}}),Mw=S("$ZodNumberFormat",(e,t)=>{sw.init(e,t),Nh.init(e,t)}),Bw=S("$ZodBoolean",(e,t)=>{W.init(e,t),e._zod.pattern=ew,e._zod.parse=(n,r)=>{if(t.coerce)try{n.value=!!n.value}catch{}const s=n.value;return typeof s=="boolean"||n.issues.push({expected:"boolean",code:"invalid_type",input:s,inst:e}),n}}),Zw=S("$ZodAny",(e,t)=>{W.init(e,t),e._zod.parse=n=>n}),Hw=S("$ZodUnknown",(e,t)=>{W.init(e,t),e._zod.parse=n=>n}),Kw=S("$ZodNever",(e,t)=>{W.init(e,t),e._zod.parse=(n,r)=>(n.issues.push({expected:"never",code:"invalid_type",input:n.value,inst:e}),n)});function vf(e,t,n){e.issues.length&&t.issues.push(...ht(n,e.issues)),t.value[n]=e.value}const Vw=S("$ZodArray",(e,t)=>{W.init(e,t),e._zod.parse=(n,r)=>{const s=n.value;if(!Array.isArray(s))return n.issues.push({expected:"array",code:"invalid_type",input:s,inst:e}),n;n.value=Array(s.length);const i=[];for(let o=0;o<s.length;o++){const a=s[o],u=t.element._zod.run({value:a,issues:[]},r);u instanceof Promise?i.push(u.then(c=>vf(c,n,o))):vf(u,n,o)}return i.length?Promise.all(i).then(()=>n):n}});function Un(e,t,n,r,s){if(e.issues.length){if(s&&!(n in r))return;t.issues.push(...ht(n,e.issues))}e.value===void 0?n in r&&(t.value[n]=void 0):t.value[n]=e.value}function zh(e){const t=Object.keys(e.shape);for(const r of t)if(!e.shape?.[r]?._zod?.traits?.has("$ZodType"))throw new Error(`Invalid element at key "${r}": expected a Zod schema`);const n=fv(e.shape);return{...e,keys:t,keySet:new Set(t),numKeys:t.length,optionalKeys:new Set(n)}}function jh(e,t,n,r,s,i){const o=[],a=s.keySet,u=s.catchall._zod,c=u.def.type,l=u.optout==="optional";for(const f in t){if(a.has(f))continue;if(c==="never"){o.push(f);continue}const d=u.run({value:t[f],issues:[]},r);d instanceof Promise?e.push(d.then(p=>Un(p,n,f,t,l))):Un(d,n,f,t,l)}return o.length&&n.issues.push({code:"unrecognized_keys",keys:o,input:t,inst:i}),e.length?Promise.all(e).then(()=>n):n}const Gw=S("$ZodObject",(e,t)=>{if(W.init(e,t),!Object.getOwnPropertyDescriptor(t,"shape")?.get){const a=t.shape;Object.defineProperty(t,"shape",{get:()=>{const u={...a};return Object.defineProperty(t,"shape",{value:u}),u}})}const r=Da(()=>zh(t));K(e._zod,"propValues",()=>{const a=t.shape,u={};for(const c in a){const l=a[c]._zod;if(l.values){u[c]??(u[c]=new Set);for(const f of l.values)u[c].add(f)}}return u});const s=Dn,i=t.catchall;let o;e._zod.parse=(a,u)=>{o??(o=r.value);const c=a.value;if(!s(c))return a.issues.push({expected:"object",code:"invalid_type",input:c,inst:e}),a;a.value={};const l=[],f=o.shape;for(const d of o.keys){const p=f[d],g=p._zod.optout==="optional",h=p._zod.run({value:c[d],issues:[]},u);h instanceof Promise?l.push(h.then(m=>Un(m,a,d,c,g))):Un(h,a,d,c,g)}return i?jh(l,c,a,u,r.value,e):l.length?Promise.all(l).then(()=>a):a}}),Ww=S("$ZodObjectJIT",(e,t)=>{Gw.init(e,t);const n=e._zod.parse,r=Da(()=>zh(t)),s=d=>{const p=new gw(["shape","payload","ctx"]),g=r.value,h=_=>{const v=yf(_);return`shape[${v}]._zod.run({ value: input[${v}], issues: [] }, ctx)`};p.write("const input = payload.value;");const m=Object.create(null);let y=0;for(const _ of g.keys)m[_]=`key_${y++}`;p.write("const newResult = {};");for(const _ of g.keys){const v=m[_],w=yf(_),A=d[_]?._zod?.optout==="optional";p.write(`const ${v} = ${h(_)};`),A?p.write(`
        if (${v}.issues.length) {
          if (${w} in input) {
            payload.issues = payload.issues.concat(${v}.issues.map(iss => ({
              ...iss,
              path: iss.path ? [${w}, ...iss.path] : [${w}]
            })));
          }
        }
        
        if (${v}.value === undefined) {
          if (${w} in input) {
            newResult[${w}] = undefined;
          }
        } else {
          newResult[${w}] = ${v}.value;
        }
        
      `):p.write(`
        if (${v}.issues.length) {
          payload.issues = payload.issues.concat(${v}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${w}, ...iss.path] : [${w}]
          })));
        }
        
        if (${v}.value === undefined) {
          if (${w} in input) {
            newResult[${w}] = undefined;
          }
        } else {
          newResult[${w}] = ${v}.value;
        }
        
      `)}p.write("payload.value = newResult;"),p.write("return payload;");const b=p.compile();return(_,v)=>b(d,_,v)};let i;const o=Dn,a=!wh.jitless,c=a&&cv.value,l=t.catchall;let f;e._zod.parse=(d,p)=>{f??(f=r.value);const g=d.value;return o(g)?a&&c&&p?.async===!1&&p.jitless!==!0?(i||(i=s(t.shape)),d=i(d,p),l?jh([],g,d,p,f,e):d):n(d,p):(d.issues.push({expected:"object",code:"invalid_type",input:g,inst:e}),d)}});function wf(e,t,n,r){for(const i of e)if(i.issues.length===0)return t.value=i.value,t;const s=e.filter(i=>!$t(i));return s.length===1?(t.value=s[0].value,s[0]):(t.issues.push({code:"invalid_union",input:t.value,inst:n,errors:e.map(i=>i.issues.map(o=>st(o,r,rt())))}),t)}const Jw=S("$ZodUnion",(e,t)=>{W.init(e,t),K(e._zod,"optin",()=>t.options.some(s=>s._zod.optin==="optional")?"optional":void 0),K(e._zod,"optout",()=>t.options.some(s=>s._zod.optout==="optional")?"optional":void 0),K(e._zod,"values",()=>{if(t.options.every(s=>s._zod.values))return new Set(t.options.flatMap(s=>Array.from(s._zod.values)))}),K(e._zod,"pattern",()=>{if(t.options.every(s=>s._zod.pattern)){const s=t.options.map(i=>i._zod.pattern);return new RegExp(`^(${s.map(i=>Ma(i.source)).join("|")})$`)}});const n=t.options.length===1,r=t.options[0]._zod.run;e._zod.parse=(s,i)=>{if(n)return r(s,i);let o=!1;const a=[];for(const u of t.options){const c=u._zod.run({value:s.value,issues:[]},i);if(c instanceof Promise)a.push(c),o=!0;else{if(c.issues.length===0)return c;a.push(c)}}return o?Promise.all(a).then(u=>wf(u,s,e,i)):wf(a,s,e,i)}}),Qw=S("$ZodIntersection",(e,t)=>{W.init(e,t),e._zod.parse=(n,r)=>{const s=n.value,i=t.left._zod.run({value:s,issues:[]},r),o=t.right._zod.run({value:s,issues:[]},r);return i instanceof Promise||o instanceof Promise?Promise.all([i,o]).then(([u,c])=>_f(n,u,c)):_f(n,i,o)}});function sa(e,t){if(e===t)return{valid:!0,data:e};if(e instanceof Date&&t instanceof Date&&+e==+t)return{valid:!0,data:e};if(Ft(e)&&Ft(t)){const n=Object.keys(t),r=Object.keys(e).filter(i=>n.indexOf(i)!==-1),s={...e,...t};for(const i of r){const o=sa(e[i],t[i]);if(!o.valid)return{valid:!1,mergeErrorPath:[i,...o.mergeErrorPath]};s[i]=o.data}return{valid:!0,data:s}}if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return{valid:!1,mergeErrorPath:[]};const n=[];for(let r=0;r<e.length;r++){const s=e[r],i=t[r],o=sa(s,i);if(!o.valid)return{valid:!1,mergeErrorPath:[r,...o.mergeErrorPath]};n.push(o.data)}return{valid:!0,data:n}}return{valid:!1,mergeErrorPath:[]}}function _f(e,t,n){const r=new Map;let s;for(const a of t.issues)if(a.code==="unrecognized_keys"){s??(s=a);for(const u of a.keys)r.has(u)||r.set(u,{}),r.get(u).l=!0}else e.issues.push(a);for(const a of n.issues)if(a.code==="unrecognized_keys")for(const u of a.keys)r.has(u)||r.set(u,{}),r.get(u).r=!0;else e.issues.push(a);const i=[...r].filter(([,a])=>a.l&&a.r).map(([a])=>a);if(i.length&&s&&e.issues.push({...s,keys:i}),$t(e))return e;const o=sa(t.value,n.value);if(!o.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(o.mergeErrorPath)}`);return e.value=o.data,e}const Yw=S("$ZodTuple",(e,t)=>{W.init(e,t);const n=t.items;e._zod.parse=(r,s)=>{const i=r.value;if(!Array.isArray(i))return r.issues.push({input:i,inst:e,expected:"tuple",code:"invalid_type"}),r;r.value=[];const o=[],a=[...n].reverse().findIndex(l=>l._zod.optin!=="optional"),u=a===-1?0:n.length-a;if(!t.rest){const l=i.length>n.length,f=i.length<u-1;if(l||f)return r.issues.push({...l?{code:"too_big",maximum:n.length,inclusive:!0}:{code:"too_small",minimum:n.length},input:i,inst:e,origin:"array"}),r}let c=-1;for(const l of n){if(c++,c>=i.length&&c>=u)continue;const f=l._zod.run({value:i[c],issues:[]},s);f instanceof Promise?o.push(f.then(d=>En(d,r,c))):En(f,r,c)}if(t.rest){const l=i.slice(n.length);for(const f of l){c++;const d=t.rest._zod.run({value:f,issues:[]},s);d instanceof Promise?o.push(d.then(p=>En(p,r,c))):En(d,r,c)}}return o.length?Promise.all(o).then(()=>r):r}});function En(e,t,n){e.issues.length&&t.issues.push(...ht(n,e.issues)),t.value[n]=e.value}const Xw=S("$ZodRecord",(e,t)=>{W.init(e,t),e._zod.parse=(n,r)=>{const s=n.value;if(!Ft(s))return n.issues.push({expected:"record",code:"invalid_type",input:s,inst:e}),n;const i=[],o=t.keyType._zod.values;if(o){n.value={};const a=new Set;for(const c of o)if(typeof c=="string"||typeof c=="number"||typeof c=="symbol"){a.add(typeof c=="number"?c.toString():c);const l=t.valueType._zod.run({value:s[c],issues:[]},r);l instanceof Promise?i.push(l.then(f=>{f.issues.length&&n.issues.push(...ht(c,f.issues)),n.value[c]=f.value})):(l.issues.length&&n.issues.push(...ht(c,l.issues)),n.value[c]=l.value)}let u;for(const c in s)a.has(c)||(u=u??[],u.push(c));u&&u.length>0&&n.issues.push({code:"unrecognized_keys",input:s,inst:e,keys:u})}else{n.value={};for(const a of Reflect.ownKeys(s)){if(a==="__proto__")continue;let u=t.keyType._zod.run({value:a,issues:[]},r);if(u instanceof Promise)throw new Error("Async schemas not supported in object keys currently");if(typeof a=="string"&&Ch.test(a)&&u.issues.length&&u.issues.some(f=>f.code==="invalid_type"&&f.expected==="number")){const f=t.keyType._zod.run({value:Number(a),issues:[]},r);if(f instanceof Promise)throw new Error("Async schemas not supported in object keys currently");f.issues.length===0&&(u=f)}if(u.issues.length){t.mode==="loose"?n.value[a]=s[a]:n.issues.push({code:"invalid_key",origin:"record",issues:u.issues.map(f=>st(f,r,rt())),input:a,path:[a],inst:e});continue}const l=t.valueType._zod.run({value:s[a],issues:[]},r);l instanceof Promise?i.push(l.then(f=>{f.issues.length&&n.issues.push(...ht(a,f.issues)),n.value[u.value]=f.value})):(l.issues.length&&n.issues.push(...ht(a,l.issues)),n.value[u.value]=l.value)}}return i.length?Promise.all(i).then(()=>n):n}}),e0=S("$ZodEnum",(e,t)=>{W.init(e,t);const n=_h(t.entries),r=new Set(n);e._zod.values=r,e._zod.pattern=new RegExp(`^(${n.filter(s=>lv.has(typeof s)).map(s=>typeof s=="string"?qt(s):s.toString()).join("|")})$`),e._zod.parse=(s,i)=>{const o=s.value;return r.has(o)||s.issues.push({code:"invalid_value",values:n,input:o,inst:e}),s}}),t0=S("$ZodLiteral",(e,t)=>{if(W.init(e,t),t.values.length===0)throw new Error("Cannot create literal schema with no valid values");const n=new Set(t.values);e._zod.values=n,e._zod.pattern=new RegExp(`^(${t.values.map(r=>typeof r=="string"?qt(r):r?qt(r.toString()):String(r)).join("|")})$`),e._zod.parse=(r,s)=>{const i=r.value;return n.has(i)||r.issues.push({code:"invalid_value",values:t.values,input:i,inst:e}),r}}),n0=S("$ZodTransform",(e,t)=>{W.init(e,t),e._zod.parse=(n,r)=>{if(r.direction==="backward")throw new vh(e.constructor.name);const s=t.transform(n.value,n);if(r.async)return(s instanceof Promise?s:Promise.resolve(s)).then(o=>(n.value=o,n));if(s instanceof Promise)throw new zt;return n.value=s,n}});function Sf(e,t){return e.issues.length&&t===void 0?{issues:[],value:void 0}:e}const Fh=S("$ZodOptional",(e,t)=>{W.init(e,t),e._zod.optin="optional",e._zod.optout="optional",K(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,void 0]):void 0),K(e._zod,"pattern",()=>{const n=t.innerType._zod.pattern;return n?new RegExp(`^(${Ma(n.source)})?$`):void 0}),e._zod.parse=(n,r)=>{if(t.innerType._zod.optin==="optional"){const s=t.innerType._zod.run(n,r);return s instanceof Promise?s.then(i=>Sf(i,n.value)):Sf(s,n.value)}return n.value===void 0?n:t.innerType._zod.run(n,r)}}),r0=S("$ZodExactOptional",(e,t)=>{Fh.init(e,t),K(e._zod,"values",()=>t.innerType._zod.values),K(e._zod,"pattern",()=>t.innerType._zod.pattern),e._zod.parse=(n,r)=>t.innerType._zod.run(n,r)}),s0=S("$ZodNullable",(e,t)=>{W.init(e,t),K(e._zod,"optin",()=>t.innerType._zod.optin),K(e._zod,"optout",()=>t.innerType._zod.optout),K(e._zod,"pattern",()=>{const n=t.innerType._zod.pattern;return n?new RegExp(`^(${Ma(n.source)}|null)$`):void 0}),K(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,null]):void 0),e._zod.parse=(n,r)=>n.value===null?n:t.innerType._zod.run(n,r)}),i0=S("$ZodDefault",(e,t)=>{W.init(e,t),e._zod.optin="optional",K(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(n,r)=>{if(r.direction==="backward")return t.innerType._zod.run(n,r);if(n.value===void 0)return n.value=t.defaultValue,n;const s=t.innerType._zod.run(n,r);return s instanceof Promise?s.then(i=>xf(i,t)):xf(s,t)}});function xf(e,t){return e.value===void 0&&(e.value=t.defaultValue),e}const o0=S("$ZodPrefault",(e,t)=>{W.init(e,t),e._zod.optin="optional",K(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(n,r)=>(r.direction==="backward"||n.value===void 0&&(n.value=t.defaultValue),t.innerType._zod.run(n,r))}),a0=S("$ZodNonOptional",(e,t)=>{W.init(e,t),K(e._zod,"values",()=>{const n=t.innerType._zod.values;return n?new Set([...n].filter(r=>r!==void 0)):void 0}),e._zod.parse=(n,r)=>{const s=t.innerType._zod.run(n,r);return s instanceof Promise?s.then(i=>Ef(i,e)):Ef(s,e)}});function Ef(e,t){return!e.issues.length&&e.value===void 0&&e.issues.push({code:"invalid_type",expected:"nonoptional",input:e.value,inst:t}),e}const u0=S("$ZodCatch",(e,t)=>{W.init(e,t),K(e._zod,"optin",()=>t.innerType._zod.optin),K(e._zod,"optout",()=>t.innerType._zod.optout),K(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(n,r)=>{if(r.direction==="backward")return t.innerType._zod.run(n,r);const s=t.innerType._zod.run(n,r);return s instanceof Promise?s.then(i=>(n.value=i.value,i.issues.length&&(n.value=t.catchValue({...n,error:{issues:i.issues.map(o=>st(o,r,rt()))},input:n.value}),n.issues=[]),n)):(n.value=s.value,s.issues.length&&(n.value=t.catchValue({...n,error:{issues:s.issues.map(i=>st(i,r,rt()))},input:n.value}),n.issues=[]),n)}}),c0=S("$ZodPipe",(e,t)=>{W.init(e,t),K(e._zod,"values",()=>t.in._zod.values),K(e._zod,"optin",()=>t.in._zod.optin),K(e._zod,"optout",()=>t.out._zod.optout),K(e._zod,"propValues",()=>t.in._zod.propValues),e._zod.parse=(n,r)=>{if(r.direction==="backward"){const i=t.out._zod.run(n,r);return i instanceof Promise?i.then(o=>On(o,t.in,r)):On(i,t.in,r)}const s=t.in._zod.run(n,r);return s instanceof Promise?s.then(i=>On(i,t.out,r)):On(s,t.out,r)}});function On(e,t,n){return e.issues.length?(e.aborted=!0,e):t._zod.run({value:e.value,issues:e.issues},n)}const l0=S("$ZodReadonly",(e,t)=>{W.init(e,t),K(e._zod,"propValues",()=>t.innerType._zod.propValues),K(e._zod,"values",()=>t.innerType._zod.values),K(e._zod,"optin",()=>t.innerType?._zod?.optin),K(e._zod,"optout",()=>t.innerType?._zod?.optout),e._zod.parse=(n,r)=>{if(r.direction==="backward")return t.innerType._zod.run(n,r);const s=t.innerType._zod.run(n,r);return s instanceof Promise?s.then(Of):Of(s)}});function Of(e){return e.value=Object.freeze(e.value),e}const f0=S("$ZodLazy",(e,t)=>{W.init(e,t),K(e._zod,"innerType",()=>t.getter()),K(e._zod,"pattern",()=>e._zod.innerType?._zod?.pattern),K(e._zod,"propValues",()=>e._zod.innerType?._zod?.propValues),K(e._zod,"optin",()=>e._zod.innerType?._zod?.optin??void 0),K(e._zod,"optout",()=>e._zod.innerType?._zod?.optout??void 0),e._zod.parse=(n,r)=>e._zod.innerType._zod.run(n,r)}),d0=S("$ZodCustom",(e,t)=>{be.init(e,t),W.init(e,t),e._zod.parse=(n,r)=>n,e._zod.check=n=>{const r=n.value,s=t.fn(r);if(s instanceof Promise)return s.then(i=>Af(i,n,r,e));Af(s,n,r,e)}});function Af(e,t,n,r){if(!e){const s={code:"custom",input:n,inst:r,path:[...r._zod.def.path??[]],continue:!r._zod.def.abort};r._zod.def.params&&(s.params=r._zod.def.params),t.issues.push(cn(s))}}var Rf;class h0{constructor(){this._map=new WeakMap,this._idmap=new Map}add(t,...n){const r=n[0];return this._map.set(t,r),r&&typeof r=="object"&&"id"in r&&this._idmap.set(r.id,t),this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(t){const n=this._map.get(t);return n&&typeof n=="object"&&"id"in n&&this._idmap.delete(n.id),this._map.delete(t),this}get(t){const n=t._zod.parent;if(n){const r={...this.get(n)??{}};delete r.id;const s={...r,...this._map.get(t)};return Object.keys(s).length?s:void 0}return this._map.get(t)}has(t){return this._map.has(t)}}function p0(){return new h0}(Rf=globalThis).__zod_globalRegistry??(Rf.__zod_globalRegistry=p0());const en=globalThis.__zod_globalRegistry;function g0(e,t){return new e({type:"string",...N(t)})}function m0(e,t){return new e({type:"string",format:"email",check:"string_format",abort:!1,...N(t)})}function Tf(e,t){return new e({type:"string",format:"guid",check:"string_format",abort:!1,...N(t)})}function y0(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,...N(t)})}function b0(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...N(t)})}function v0(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...N(t)})}function w0(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...N(t)})}function _0(e,t){return new e({type:"string",format:"url",check:"string_format",abort:!1,...N(t)})}function S0(e,t){return new e({type:"string",format:"emoji",check:"string_format",abort:!1,...N(t)})}function x0(e,t){return new e({type:"string",format:"nanoid",check:"string_format",abort:!1,...N(t)})}function E0(e,t){return new e({type:"string",format:"cuid",check:"string_format",abort:!1,...N(t)})}function O0(e,t){return new e({type:"string",format:"cuid2",check:"string_format",abort:!1,...N(t)})}function A0(e,t){return new e({type:"string",format:"ulid",check:"string_format",abort:!1,...N(t)})}function R0(e,t){return new e({type:"string",format:"xid",check:"string_format",abort:!1,...N(t)})}function T0(e,t){return new e({type:"string",format:"ksuid",check:"string_format",abort:!1,...N(t)})}function P0(e,t){return new e({type:"string",format:"ipv4",check:"string_format",abort:!1,...N(t)})}function C0(e,t){return new e({type:"string",format:"ipv6",check:"string_format",abort:!1,...N(t)})}function I0(e,t){return new e({type:"string",format:"cidrv4",check:"string_format",abort:!1,...N(t)})}function k0(e,t){return new e({type:"string",format:"cidrv6",check:"string_format",abort:!1,...N(t)})}function $0(e,t){return new e({type:"string",format:"base64",check:"string_format",abort:!1,...N(t)})}function L0(e,t){return new e({type:"string",format:"base64url",check:"string_format",abort:!1,...N(t)})}function N0(e,t){return new e({type:"string",format:"e164",check:"string_format",abort:!1,...N(t)})}function z0(e,t){return new e({type:"string",format:"jwt",check:"string_format",abort:!1,...N(t)})}function j0(e,t){return new e({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...N(t)})}function F0(e,t){return new e({type:"string",format:"date",check:"string_format",...N(t)})}function q0(e,t){return new e({type:"string",format:"time",check:"string_format",precision:null,...N(t)})}function D0(e,t){return new e({type:"string",format:"duration",check:"string_format",...N(t)})}function U0(e,t){return new e({type:"number",checks:[],...N(t)})}function M0(e,t){return new e({type:"number",check:"number_format",abort:!1,format:"safeint",...N(t)})}function B0(e,t){return new e({type:"boolean",...N(t)})}function Z0(e){return new e({type:"any"})}function H0(e){return new e({type:"unknown"})}function K0(e,t){return new e({type:"never",...N(t)})}function Pf(e,t){return new kh({check:"less_than",...N(t),value:e,inclusive:!1})}function _o(e,t){return new kh({check:"less_than",...N(t),value:e,inclusive:!0})}function Cf(e,t){return new $h({check:"greater_than",...N(t),value:e,inclusive:!1})}function So(e,t){return new $h({check:"greater_than",...N(t),value:e,inclusive:!0})}function If(e,t){return new rw({check:"multiple_of",...N(t),value:e})}function qh(e,t){return new iw({check:"max_length",...N(t),maximum:e})}function Mn(e,t){return new ow({check:"min_length",...N(t),minimum:e})}function Dh(e,t){return new aw({check:"length_equals",...N(t),length:e})}function V0(e,t){return new uw({check:"string_format",format:"regex",...N(t),pattern:e})}function G0(e){return new cw({check:"string_format",format:"lowercase",...N(e)})}function W0(e){return new lw({check:"string_format",format:"uppercase",...N(e)})}function J0(e,t){return new fw({check:"string_format",format:"includes",...N(t),includes:e})}function Q0(e,t){return new dw({check:"string_format",format:"starts_with",...N(t),prefix:e})}function Y0(e,t){return new hw({check:"string_format",format:"ends_with",...N(t),suffix:e})}function Ht(e){return new pw({check:"overwrite",tx:e})}function X0(e){return Ht(t=>t.normalize(e))}function e_(){return Ht(e=>e.trim())}function t_(){return Ht(e=>e.toLowerCase())}function n_(){return Ht(e=>e.toUpperCase())}function r_(){return Ht(e=>uv(e))}function s_(e,t,n){return new e({type:"array",element:t,...N(n)})}function i_(e,t,n){return new e({type:"custom",check:"custom",fn:t,...N(n)})}function o_(e){const t=a_(n=>(n.addIssue=r=>{if(typeof r=="string")n.issues.push(cn(r,n.value,t._zod.def));else{const s=r;s.fatal&&(s.continue=!1),s.code??(s.code="custom"),s.input??(s.input=n.value),s.inst??(s.inst=t),s.continue??(s.continue=!t._zod.def.abort),n.issues.push(cn(s))}},e(n.value,n)));return t}function a_(e,t){const n=new be({check:"custom",...N(t)});return n._zod.check=e,n}function Uh(e){let t=e?.target??"draft-2020-12";return t==="draft-4"&&(t="draft-04"),t==="draft-7"&&(t="draft-07"),{processors:e.processors??{},metadataRegistry:e?.metadata??en,target:t,unrepresentable:e?.unrepresentable??"throw",override:e?.override??(()=>{}),io:e?.io??"output",counter:0,seen:new Map,cycles:e?.cycles??"ref",reused:e?.reused??"inline",external:e?.external??void 0}}function X(e,t,n={path:[],schemaPath:[]}){var r;const s=e._zod.def,i=t.seen.get(e);if(i)return i.count++,n.schemaPath.includes(e)&&(i.cycle=n.path),i.schema;const o={schema:{},count:1,cycle:void 0,path:n.path};t.seen.set(e,o);const a=e._zod.toJSONSchema?.();if(a)o.schema=a;else{const l={...n,schemaPath:[...n.schemaPath,e],path:n.path};if(e._zod.processJSONSchema)e._zod.processJSONSchema(t,o.schema,l);else{const d=o.schema,p=t.processors[s.type];if(!p)throw new Error(`[toJSONSchema]: Non-representable type encountered: ${s.type}`);p(e,t,d,l)}const f=e._zod.parent;f&&(o.ref||(o.ref=f),X(f,t,l),t.seen.get(f).isParent=!0)}const u=t.metadataRegistry.get(e);return u&&Object.assign(o.schema,u),t.io==="input"&&pe(e)&&(delete o.schema.examples,delete o.schema.default),t.io==="input"&&o.schema._prefault&&((r=o.schema).default??(r.default=o.schema._prefault)),delete o.schema._prefault,t.seen.get(e).schema}function Mh(e,t){const n=e.seen.get(t);if(!n)throw new Error("Unprocessed schema. This is a bug in Zod.");const r=new Map;for(const o of e.seen.entries()){const a=e.metadataRegistry.get(o[0])?.id;if(a){const u=r.get(a);if(u&&u!==o[0])throw new Error(`Duplicate schema id "${a}" detected during JSON Schema conversion. Two different schemas cannot share the same id when converted together.`);r.set(a,o[0])}}const s=o=>{const a=e.target==="draft-2020-12"?"$defs":"definitions";if(e.external){const f=e.external.registry.get(o[0])?.id,d=e.external.uri??(g=>g);if(f)return{ref:d(f)};const p=o[1].defId??o[1].schema.id??`schema${e.counter++}`;return o[1].defId=p,{defId:p,ref:`${d("__shared")}#/${a}/${p}`}}if(o[1]===n)return{ref:"#"};const c=`#/${a}/`,l=o[1].schema.id??`__schema${e.counter++}`;return{defId:l,ref:c+l}},i=o=>{if(o[1].schema.$ref)return;const a=o[1],{ref:u,defId:c}=s(o);a.def={...a.schema},c&&(a.defId=c);const l=a.schema;for(const f in l)delete l[f];l.$ref=u};if(e.cycles==="throw")for(const o of e.seen.entries()){const a=o[1];if(a.cycle)throw new Error(`Cycle detected: #/${a.cycle?.join("/")}/<root>

Set the \`cycles\` parameter to \`"ref"\` to resolve cyclical schemas with defs.`)}for(const o of e.seen.entries()){const a=o[1];if(t===o[0]){i(o);continue}if(e.external){const c=e.external.registry.get(o[0])?.id;if(t!==o[0]&&c){i(o);continue}}if(e.metadataRegistry.get(o[0])?.id){i(o);continue}if(a.cycle){i(o);continue}if(a.count>1&&e.reused==="ref"){i(o);continue}}}function Bh(e,t){const n=e.seen.get(t);if(!n)throw new Error("Unprocessed schema. This is a bug in Zod.");const r=o=>{const a=e.seen.get(o);if(a.ref===null)return;const u=a.def??a.schema,c={...u},l=a.ref;if(a.ref=null,l){r(l);const d=e.seen.get(l),p=d.schema;if(p.$ref&&(e.target==="draft-07"||e.target==="draft-04"||e.target==="openapi-3.0")?(u.allOf=u.allOf??[],u.allOf.push(p)):Object.assign(u,p),Object.assign(u,c),o._zod.parent===l)for(const h in u)h==="$ref"||h==="allOf"||h in c||delete u[h];if(p.$ref)for(const h in u)h==="$ref"||h==="allOf"||h in d.def&&JSON.stringify(u[h])===JSON.stringify(d.def[h])&&delete u[h]}const f=o._zod.parent;if(f&&f!==l){r(f);const d=e.seen.get(f);if(d?.schema.$ref&&(u.$ref=d.schema.$ref,d.def))for(const p in u)p==="$ref"||p==="allOf"||p in d.def&&JSON.stringify(u[p])===JSON.stringify(d.def[p])&&delete u[p]}e.override({zodSchema:o,jsonSchema:u,path:a.path??[]})};for(const o of[...e.seen.entries()].reverse())r(o[0]);const s={};if(e.target==="draft-2020-12"?s.$schema="https://json-schema.org/draft/2020-12/schema":e.target==="draft-07"?s.$schema="http://json-schema.org/draft-07/schema#":e.target==="draft-04"?s.$schema="http://json-schema.org/draft-04/schema#":e.target,e.external?.uri){const o=e.external.registry.get(t)?.id;if(!o)throw new Error("Schema is missing an `id` property");s.$id=e.external.uri(o)}Object.assign(s,n.def??n.schema);const i=e.external?.defs??{};for(const o of e.seen.entries()){const a=o[1];a.def&&a.defId&&(i[a.defId]=a.def)}e.external||Object.keys(i).length>0&&(e.target==="draft-2020-12"?s.$defs=i:s.definitions=i);try{const o=JSON.parse(JSON.stringify(s));return Object.defineProperty(o,"~standard",{value:{...t["~standard"],jsonSchema:{input:Bn(t,"input",e.processors),output:Bn(t,"output",e.processors)}},enumerable:!1,writable:!1}),o}catch{throw new Error("Error converting schema to JSON.")}}function pe(e,t){const n=t??{seen:new Set};if(n.seen.has(e))return!1;n.seen.add(e);const r=e._zod.def;if(r.type==="transform")return!0;if(r.type==="array")return pe(r.element,n);if(r.type==="set")return pe(r.valueType,n);if(r.type==="lazy")return pe(r.getter(),n);if(r.type==="promise"||r.type==="optional"||r.type==="nonoptional"||r.type==="nullable"||r.type==="readonly"||r.type==="default"||r.type==="prefault")return pe(r.innerType,n);if(r.type==="intersection")return pe(r.left,n)||pe(r.right,n);if(r.type==="record"||r.type==="map")return pe(r.keyType,n)||pe(r.valueType,n);if(r.type==="pipe")return pe(r.in,n)||pe(r.out,n);if(r.type==="object"){for(const s in r.shape)if(pe(r.shape[s],n))return!0;return!1}if(r.type==="union"){for(const s of r.options)if(pe(s,n))return!0;return!1}if(r.type==="tuple"){for(const s of r.items)if(pe(s,n))return!0;return!!(r.rest&&pe(r.rest,n))}return!1}const u_=(e,t={})=>n=>{const r=Uh({...n,processors:t});return X(e,r),Mh(r,e),Bh(r,e)},Bn=(e,t,n={})=>r=>{const{libraryOptions:s,target:i}=r??{},o=Uh({...s??{},target:i,io:t,processors:n});return X(e,o),Mh(o,e),Bh(o,e)},c_={guid:"uuid",url:"uri",datetime:"date-time",json_string:"json-string",regex:""},l_=(e,t,n,r)=>{const s=n;s.type="string";const{minimum:i,maximum:o,format:a,patterns:u,contentEncoding:c}=e._zod.bag;if(typeof i=="number"&&(s.minLength=i),typeof o=="number"&&(s.maxLength=o),a&&(s.format=c_[a]??a,s.format===""&&delete s.format,a==="time"&&delete s.format),c&&(s.contentEncoding=c),u&&u.size>0){const l=[...u];l.length===1?s.pattern=l[0].source:l.length>1&&(s.allOf=[...l.map(f=>({...t.target==="draft-07"||t.target==="draft-04"||t.target==="openapi-3.0"?{type:"string"}:{},pattern:f.source}))])}},f_=(e,t,n,r)=>{const s=n,{minimum:i,maximum:o,format:a,multipleOf:u,exclusiveMaximum:c,exclusiveMinimum:l}=e._zod.bag;typeof a=="string"&&a.includes("int")?s.type="integer":s.type="number",typeof l=="number"&&(t.target==="draft-04"||t.target==="openapi-3.0"?(s.minimum=l,s.exclusiveMinimum=!0):s.exclusiveMinimum=l),typeof i=="number"&&(s.minimum=i,typeof l=="number"&&t.target!=="draft-04"&&(l>=i?delete s.minimum:delete s.exclusiveMinimum)),typeof c=="number"&&(t.target==="draft-04"||t.target==="openapi-3.0"?(s.maximum=c,s.exclusiveMaximum=!0):s.exclusiveMaximum=c),typeof o=="number"&&(s.maximum=o,typeof c=="number"&&t.target!=="draft-04"&&(c<=o?delete s.maximum:delete s.exclusiveMaximum)),typeof u=="number"&&(s.multipleOf=u)},d_=(e,t,n,r)=>{n.type="boolean"},h_=(e,t,n,r)=>{n.not={}},p_=(e,t,n,r)=>{},g_=(e,t,n,r)=>{},m_=(e,t,n,r)=>{const s=e._zod.def,i=_h(s.entries);i.every(o=>typeof o=="number")&&(n.type="number"),i.every(o=>typeof o=="string")&&(n.type="string"),n.enum=i},y_=(e,t,n,r)=>{const s=e._zod.def,i=[];for(const o of s.values)if(o===void 0){if(t.unrepresentable==="throw")throw new Error("Literal `undefined` cannot be represented in JSON Schema")}else if(typeof o=="bigint"){if(t.unrepresentable==="throw")throw new Error("BigInt literals cannot be represented in JSON Schema");i.push(Number(o))}else i.push(o);if(i.length!==0)if(i.length===1){const o=i[0];n.type=o===null?"null":typeof o,t.target==="draft-04"||t.target==="openapi-3.0"?n.enum=[o]:n.const=o}else i.every(o=>typeof o=="number")&&(n.type="number"),i.every(o=>typeof o=="string")&&(n.type="string"),i.every(o=>typeof o=="boolean")&&(n.type="boolean"),i.every(o=>o===null)&&(n.type="null"),n.enum=i},b_=(e,t,n,r)=>{if(t.unrepresentable==="throw")throw new Error("Custom types cannot be represented in JSON Schema")},v_=(e,t,n,r)=>{if(t.unrepresentable==="throw")throw new Error("Transforms cannot be represented in JSON Schema")},w_=(e,t,n,r)=>{const s=n,i=e._zod.def,{minimum:o,maximum:a}=e._zod.bag;typeof o=="number"&&(s.minItems=o),typeof a=="number"&&(s.maxItems=a),s.type="array",s.items=X(i.element,t,{...r,path:[...r.path,"items"]})},__=(e,t,n,r)=>{const s=n,i=e._zod.def;s.type="object",s.properties={};const o=i.shape;for(const c in o)s.properties[c]=X(o[c],t,{...r,path:[...r.path,"properties",c]});const a=new Set(Object.keys(o)),u=new Set([...a].filter(c=>{const l=i.shape[c]._zod;return t.io==="input"?l.optin===void 0:l.optout===void 0}));u.size>0&&(s.required=Array.from(u)),i.catchall?._zod.def.type==="never"?s.additionalProperties=!1:i.catchall?i.catchall&&(s.additionalProperties=X(i.catchall,t,{...r,path:[...r.path,"additionalProperties"]})):t.io==="output"&&(s.additionalProperties=!1)},S_=(e,t,n,r)=>{const s=e._zod.def,i=s.inclusive===!1,o=s.options.map((a,u)=>X(a,t,{...r,path:[...r.path,i?"oneOf":"anyOf",u]}));i?n.oneOf=o:n.anyOf=o},x_=(e,t,n,r)=>{const s=e._zod.def,i=X(s.left,t,{...r,path:[...r.path,"allOf",0]}),o=X(s.right,t,{...r,path:[...r.path,"allOf",1]}),a=c=>"allOf"in c&&Object.keys(c).length===1,u=[...a(i)?i.allOf:[i],...a(o)?o.allOf:[o]];n.allOf=u},E_=(e,t,n,r)=>{const s=n,i=e._zod.def;s.type="array";const o=t.target==="draft-2020-12"?"prefixItems":"items",a=t.target==="draft-2020-12"||t.target==="openapi-3.0"?"items":"additionalItems",u=i.items.map((d,p)=>X(d,t,{...r,path:[...r.path,o,p]})),c=i.rest?X(i.rest,t,{...r,path:[...r.path,a,...t.target==="openapi-3.0"?[i.items.length]:[]]}):null;t.target==="draft-2020-12"?(s.prefixItems=u,c&&(s.items=c)):t.target==="openapi-3.0"?(s.items={anyOf:u},c&&s.items.anyOf.push(c),s.minItems=u.length,c||(s.maxItems=u.length)):(s.items=u,c&&(s.additionalItems=c));const{minimum:l,maximum:f}=e._zod.bag;typeof l=="number"&&(s.minItems=l),typeof f=="number"&&(s.maxItems=f)},O_=(e,t,n,r)=>{const s=n,i=e._zod.def;s.type="object";const o=i.keyType,u=o._zod.bag?.patterns;if(i.mode==="loose"&&u&&u.size>0){const l=X(i.valueType,t,{...r,path:[...r.path,"patternProperties","*"]});s.patternProperties={};for(const f of u)s.patternProperties[f.source]=l}else(t.target==="draft-07"||t.target==="draft-2020-12")&&(s.propertyNames=X(i.keyType,t,{...r,path:[...r.path,"propertyNames"]})),s.additionalProperties=X(i.valueType,t,{...r,path:[...r.path,"additionalProperties"]});const c=o._zod.values;if(c){const l=[...c].filter(f=>typeof f=="string"||typeof f=="number");l.length>0&&(s.required=l)}},A_=(e,t,n,r)=>{const s=e._zod.def,i=X(s.innerType,t,r),o=t.seen.get(e);t.target==="openapi-3.0"?(o.ref=s.innerType,n.nullable=!0):n.anyOf=[i,{type:"null"}]},R_=(e,t,n,r)=>{const s=e._zod.def;X(s.innerType,t,r);const i=t.seen.get(e);i.ref=s.innerType},T_=(e,t,n,r)=>{const s=e._zod.def;X(s.innerType,t,r);const i=t.seen.get(e);i.ref=s.innerType,n.default=JSON.parse(JSON.stringify(s.defaultValue))},P_=(e,t,n,r)=>{const s=e._zod.def;X(s.innerType,t,r);const i=t.seen.get(e);i.ref=s.innerType,t.io==="input"&&(n._prefault=JSON.parse(JSON.stringify(s.defaultValue)))},C_=(e,t,n,r)=>{const s=e._zod.def;X(s.innerType,t,r);const i=t.seen.get(e);i.ref=s.innerType;let o;try{o=s.catchValue(void 0)}catch{throw new Error("Dynamic catch values are not supported in JSON Schema")}n.default=o},I_=(e,t,n,r)=>{const s=e._zod.def,i=t.io==="input"?s.in._zod.def.type==="transform"?s.out:s.in:s.out;X(i,t,r);const o=t.seen.get(e);o.ref=i},k_=(e,t,n,r)=>{const s=e._zod.def;X(s.innerType,t,r);const i=t.seen.get(e);i.ref=s.innerType,n.readOnly=!0},Zh=(e,t,n,r)=>{const s=e._zod.def;X(s.innerType,t,r);const i=t.seen.get(e);i.ref=s.innerType},$_=(e,t,n,r)=>{const s=e._zod.innerType;X(s,t,r);const i=t.seen.get(e);i.ref=s},L_=S("ZodISODateTime",(e,t)=>{Tw.init(e,t),ee.init(e,t)});function N_(e){return j0(L_,e)}const z_=S("ZodISODate",(e,t)=>{Pw.init(e,t),ee.init(e,t)});function j_(e){return F0(z_,e)}const F_=S("ZodISOTime",(e,t)=>{Cw.init(e,t),ee.init(e,t)});function q_(e){return q0(F_,e)}const D_=S("ZodISODuration",(e,t)=>{Iw.init(e,t),ee.init(e,t)});function U_(e){return D0(D_,e)}const M_=(e,t)=>{Oh.init(e,t),e.name="ZodError",Object.defineProperties(e,{format:{value:n=>_v(e,n)},flatten:{value:n=>wv(e,n)},addIssue:{value:n=>{e.issues.push(n),e.message=JSON.stringify(e.issues,ra,2)}},addIssues:{value:n=>{e.issues.push(...n),e.message=JSON.stringify(e.issues,ra,2)}},isEmpty:{get(){return e.issues.length===0}}})},Oe=S("ZodError",M_,{Parent:Error}),B_=Za(Oe),Z_=Ha(Oe),H_=vr(Oe),K_=wr(Oe),V_=Ev(Oe),G_=Ov(Oe),W_=Av(Oe),J_=Rv(Oe),Q_=Tv(Oe),Y_=Pv(Oe),X_=Cv(Oe),eS=Iv(Oe),J=S("ZodType",(e,t)=>(W.init(e,t),Object.assign(e["~standard"],{jsonSchema:{input:Bn(e,"input"),output:Bn(e,"output")}}),e.toJSONSchema=u_(e,{}),e.def=t,e.type=t.type,Object.defineProperty(e,"_def",{value:t}),e.check=(...n)=>e.clone(ot(t,{checks:[...t.checks??[],...n.map(r=>typeof r=="function"?{_zod:{check:r,def:{check:"custom"},onattach:[]}}:r)]}),{parent:!0}),e.with=e.check,e.clone=(n,r)=>at(e,n,r),e.brand=()=>e,e.register=((n,r)=>(n.add(e,r),e)),e.parse=(n,r)=>B_(e,n,r,{callee:e.parse}),e.safeParse=(n,r)=>H_(e,n,r),e.parseAsync=async(n,r)=>Z_(e,n,r,{callee:e.parseAsync}),e.safeParseAsync=async(n,r)=>K_(e,n,r),e.spa=e.safeParseAsync,e.encode=(n,r)=>V_(e,n,r),e.decode=(n,r)=>G_(e,n,r),e.encodeAsync=async(n,r)=>W_(e,n,r),e.decodeAsync=async(n,r)=>J_(e,n,r),e.safeEncode=(n,r)=>Q_(e,n,r),e.safeDecode=(n,r)=>Y_(e,n,r),e.safeEncodeAsync=async(n,r)=>X_(e,n,r),e.safeDecodeAsync=async(n,r)=>eS(e,n,r),e.refine=(n,r)=>e.check(XS(n,r)),e.superRefine=n=>e.check(e1(n)),e.overwrite=n=>e.check(Ht(n)),e.optional=()=>Zn(e),e.exactOptional=()=>qS(e),e.nullable=()=>zf(e),e.nullish=()=>Zn(zf(e)),e.nonoptional=n=>HS(e,n),e.array=()=>ge(e),e.or=n=>St([e,n]),e.and=n=>PS(e,n),e.transform=n=>jf(e,jS(n)),e.default=n=>MS(e,n),e.prefault=n=>ZS(e,n),e.catch=n=>VS(e,n),e.pipe=n=>jf(e,n),e.readonly=()=>JS(e),e.describe=n=>{const r=e.clone();return en.add(r,{description:n}),r},Object.defineProperty(e,"description",{get(){return en.get(e)?.description},configurable:!0}),e.meta=(...n)=>{if(n.length===0)return en.get(e);const r=e.clone();return en.add(r,n[0]),r},e.isOptional=()=>e.safeParse(void 0).success,e.isNullable=()=>e.safeParse(null).success,e.apply=n=>n(e),e)),Hh=S("_ZodString",(e,t)=>{Ka.init(e,t),J.init(e,t),e._zod.processJSONSchema=(r,s,i)=>l_(e,r,s);const n=e._zod.bag;e.format=n.format??null,e.minLength=n.minimum??null,e.maxLength=n.maximum??null,e.regex=(...r)=>e.check(V0(...r)),e.includes=(...r)=>e.check(J0(...r)),e.startsWith=(...r)=>e.check(Q0(...r)),e.endsWith=(...r)=>e.check(Y0(...r)),e.min=(...r)=>e.check(Mn(...r)),e.max=(...r)=>e.check(qh(...r)),e.length=(...r)=>e.check(Dh(...r)),e.nonempty=(...r)=>e.check(Mn(1,...r)),e.lowercase=r=>e.check(G0(r)),e.uppercase=r=>e.check(W0(r)),e.trim=()=>e.check(e_()),e.normalize=(...r)=>e.check(X0(...r)),e.toLowerCase=()=>e.check(t_()),e.toUpperCase=()=>e.check(n_()),e.slugify=()=>e.check(r_())}),tS=S("ZodString",(e,t)=>{Ka.init(e,t),Hh.init(e,t),e.email=n=>e.check(m0(nS,n)),e.url=n=>e.check(_0(rS,n)),e.jwt=n=>e.check(z0(bS,n)),e.emoji=n=>e.check(S0(sS,n)),e.guid=n=>e.check(Tf(kf,n)),e.uuid=n=>e.check(y0(An,n)),e.uuidv4=n=>e.check(b0(An,n)),e.uuidv6=n=>e.check(v0(An,n)),e.uuidv7=n=>e.check(w0(An,n)),e.nanoid=n=>e.check(x0(iS,n)),e.guid=n=>e.check(Tf(kf,n)),e.cuid=n=>e.check(E0(oS,n)),e.cuid2=n=>e.check(O0(aS,n)),e.ulid=n=>e.check(A0(uS,n)),e.base64=n=>e.check($0(gS,n)),e.base64url=n=>e.check(L0(mS,n)),e.xid=n=>e.check(R0(cS,n)),e.ksuid=n=>e.check(T0(lS,n)),e.ipv4=n=>e.check(P0(fS,n)),e.ipv6=n=>e.check(C0(dS,n)),e.cidrv4=n=>e.check(I0(hS,n)),e.cidrv6=n=>e.check(k0(pS,n)),e.e164=n=>e.check(N0(yS,n)),e.datetime=n=>e.check(N_(n)),e.date=n=>e.check(j_(n)),e.time=n=>e.check(q_(n)),e.duration=n=>e.check(U_(n))});function H(e){return g0(tS,e)}const ee=S("ZodStringFormat",(e,t)=>{Y.init(e,t),Hh.init(e,t)}),nS=S("ZodEmail",(e,t)=>{vw.init(e,t),ee.init(e,t)}),kf=S("ZodGUID",(e,t)=>{yw.init(e,t),ee.init(e,t)}),An=S("ZodUUID",(e,t)=>{bw.init(e,t),ee.init(e,t)}),rS=S("ZodURL",(e,t)=>{ww.init(e,t),ee.init(e,t)}),sS=S("ZodEmoji",(e,t)=>{_w.init(e,t),ee.init(e,t)}),iS=S("ZodNanoID",(e,t)=>{Sw.init(e,t),ee.init(e,t)}),oS=S("ZodCUID",(e,t)=>{xw.init(e,t),ee.init(e,t)}),aS=S("ZodCUID2",(e,t)=>{Ew.init(e,t),ee.init(e,t)}),uS=S("ZodULID",(e,t)=>{Ow.init(e,t),ee.init(e,t)}),cS=S("ZodXID",(e,t)=>{Aw.init(e,t),ee.init(e,t)}),lS=S("ZodKSUID",(e,t)=>{Rw.init(e,t),ee.init(e,t)}),fS=S("ZodIPv4",(e,t)=>{kw.init(e,t),ee.init(e,t)}),dS=S("ZodIPv6",(e,t)=>{$w.init(e,t),ee.init(e,t)}),hS=S("ZodCIDRv4",(e,t)=>{Lw.init(e,t),ee.init(e,t)}),pS=S("ZodCIDRv6",(e,t)=>{Nw.init(e,t),ee.init(e,t)}),gS=S("ZodBase64",(e,t)=>{zw.init(e,t),ee.init(e,t)}),mS=S("ZodBase64URL",(e,t)=>{Fw.init(e,t),ee.init(e,t)}),yS=S("ZodE164",(e,t)=>{qw.init(e,t),ee.init(e,t)}),bS=S("ZodJWT",(e,t)=>{Uw.init(e,t),ee.init(e,t)}),Kh=S("ZodNumber",(e,t)=>{Nh.init(e,t),J.init(e,t),e._zod.processJSONSchema=(r,s,i)=>f_(e,r,s),e.gt=(r,s)=>e.check(Cf(r,s)),e.gte=(r,s)=>e.check(So(r,s)),e.min=(r,s)=>e.check(So(r,s)),e.lt=(r,s)=>e.check(Pf(r,s)),e.lte=(r,s)=>e.check(_o(r,s)),e.max=(r,s)=>e.check(_o(r,s)),e.int=r=>e.check(Lf(r)),e.safe=r=>e.check(Lf(r)),e.positive=r=>e.check(Cf(0,r)),e.nonnegative=r=>e.check(So(0,r)),e.negative=r=>e.check(Pf(0,r)),e.nonpositive=r=>e.check(_o(0,r)),e.multipleOf=(r,s)=>e.check(If(r,s)),e.step=(r,s)=>e.check(If(r,s)),e.finite=()=>e;const n=e._zod.bag;e.minValue=Math.max(n.minimum??Number.NEGATIVE_INFINITY,n.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,e.maxValue=Math.min(n.maximum??Number.POSITIVE_INFINITY,n.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,e.isInt=(n.format??"").includes("int")||Number.isSafeInteger(n.multipleOf??.5),e.isFinite=!0,e.format=n.format??null});function $f(e){return U0(Kh,e)}const vS=S("ZodNumberFormat",(e,t)=>{Mw.init(e,t),Kh.init(e,t)});function Lf(e){return M0(vS,e)}const wS=S("ZodBoolean",(e,t)=>{Bw.init(e,t),J.init(e,t),e._zod.processJSONSchema=(n,r,s)=>d_(e,n,r)});function Ge(e){return B0(wS,e)}const _S=S("ZodAny",(e,t)=>{Zw.init(e,t),J.init(e,t),e._zod.processJSONSchema=(n,r,s)=>p_()});function vA(){return Z0(_S)}const SS=S("ZodUnknown",(e,t)=>{Hw.init(e,t),J.init(e,t),e._zod.processJSONSchema=(n,r,s)=>g_()});function Nf(){return H0(SS)}const xS=S("ZodNever",(e,t)=>{Kw.init(e,t),J.init(e,t),e._zod.processJSONSchema=(n,r,s)=>h_(e,n,r)});function ES(e){return K0(xS,e)}const OS=S("ZodArray",(e,t)=>{Vw.init(e,t),J.init(e,t),e._zod.processJSONSchema=(n,r,s)=>w_(e,n,r,s),e.element=t.element,e.min=(n,r)=>e.check(Mn(n,r)),e.nonempty=n=>e.check(Mn(1,n)),e.max=(n,r)=>e.check(qh(n,r)),e.length=(n,r)=>e.check(Dh(n,r)),e.unwrap=()=>e.element});function ge(e,t){return s_(OS,e,t)}const AS=S("ZodObject",(e,t)=>{Ww.init(e,t),J.init(e,t),e._zod.processJSONSchema=(n,r,s)=>__(e,n,r,s),K(e,"shape",()=>t.shape),e.keyof=()=>LS(Object.keys(e._zod.def.shape)),e.catchall=n=>e.clone({...e._zod.def,catchall:n}),e.passthrough=()=>e.clone({...e._zod.def,catchall:Nf()}),e.loose=()=>e.clone({...e._zod.def,catchall:Nf()}),e.strict=()=>e.clone({...e._zod.def,catchall:ES()}),e.strip=()=>e.clone({...e._zod.def,catchall:void 0}),e.extend=n=>gv(e,n),e.safeExtend=n=>mv(e,n),e.merge=n=>yv(e,n),e.pick=n=>hv(e,n),e.omit=n=>pv(e,n),e.partial=(...n)=>bv(Vh,e,n[0]),e.required=(...n)=>vv(Gh,e,n[0])});function ye(e,t){const n={type:"object",shape:e??{},...N(t)};return new AS(n)}const RS=S("ZodUnion",(e,t)=>{Jw.init(e,t),J.init(e,t),e._zod.processJSONSchema=(n,r,s)=>S_(e,n,r,s),e.options=t.options});function St(e,t){return new RS({type:"union",options:e,...N(t)})}const TS=S("ZodIntersection",(e,t)=>{Qw.init(e,t),J.init(e,t),e._zod.processJSONSchema=(n,r,s)=>x_(e,n,r,s)});function PS(e,t){return new TS({type:"intersection",left:e,right:t})}const CS=S("ZodTuple",(e,t)=>{Yw.init(e,t),J.init(e,t),e._zod.processJSONSchema=(n,r,s)=>E_(e,n,r,s),e.rest=n=>e.clone({...e._zod.def,rest:n})});function IS(e,t,n){const r=t instanceof W,s=r?n:t,i=r?t:null;return new CS({type:"tuple",items:e,rest:i,...N(s)})}const kS=S("ZodRecord",(e,t)=>{Xw.init(e,t),J.init(e,t),e._zod.processJSONSchema=(n,r,s)=>O_(e,n,r,s),e.keyType=t.keyType,e.valueType=t.valueType});function $S(e,t,n){return new kS({type:"record",keyType:e,valueType:t,...N(n)})}const ia=S("ZodEnum",(e,t)=>{e0.init(e,t),J.init(e,t),e._zod.processJSONSchema=(r,s,i)=>m_(e,r,s),e.enum=t.entries,e.options=Object.values(t.entries);const n=new Set(Object.keys(t.entries));e.extract=(r,s)=>{const i={};for(const o of r)if(n.has(o))i[o]=t.entries[o];else throw new Error(`Key ${o} not found in enum`);return new ia({...t,checks:[],...N(s),entries:i})},e.exclude=(r,s)=>{const i={...t.entries};for(const o of r)if(n.has(o))delete i[o];else throw new Error(`Key ${o} not found in enum`);return new ia({...t,checks:[],...N(s),entries:i})}});function LS(e,t){const n=Array.isArray(e)?Object.fromEntries(e.map(r=>[r,r])):e;return new ia({type:"enum",entries:n,...N(t)})}const NS=S("ZodLiteral",(e,t)=>{t0.init(e,t),J.init(e,t),e._zod.processJSONSchema=(n,r,s)=>y_(e,n,r),e.values=new Set(t.values),Object.defineProperty(e,"value",{get(){if(t.values.length>1)throw new Error("This schema contains multiple valid literal values. Use `.values` instead.");return t.values[0]}})});function G(e,t){return new NS({type:"literal",values:Array.isArray(e)?e:[e],...N(t)})}const zS=S("ZodTransform",(e,t)=>{n0.init(e,t),J.init(e,t),e._zod.processJSONSchema=(n,r,s)=>v_(e,n),e._zod.parse=(n,r)=>{if(r.direction==="backward")throw new vh(e.constructor.name);n.addIssue=i=>{if(typeof i=="string")n.issues.push(cn(i,n.value,t));else{const o=i;o.fatal&&(o.continue=!1),o.code??(o.code="custom"),o.input??(o.input=n.value),o.inst??(o.inst=e),n.issues.push(cn(o))}};const s=t.transform(n.value,n);return s instanceof Promise?s.then(i=>(n.value=i,n)):(n.value=s,n)}});function jS(e){return new zS({type:"transform",transform:e})}const Vh=S("ZodOptional",(e,t)=>{Fh.init(e,t),J.init(e,t),e._zod.processJSONSchema=(n,r,s)=>Zh(e,n,r,s),e.unwrap=()=>e._zod.def.innerType});function Zn(e){return new Vh({type:"optional",innerType:e})}const FS=S("ZodExactOptional",(e,t)=>{r0.init(e,t),J.init(e,t),e._zod.processJSONSchema=(n,r,s)=>Zh(e,n,r,s),e.unwrap=()=>e._zod.def.innerType});function qS(e){return new FS({type:"optional",innerType:e})}const DS=S("ZodNullable",(e,t)=>{s0.init(e,t),J.init(e,t),e._zod.processJSONSchema=(n,r,s)=>A_(e,n,r,s),e.unwrap=()=>e._zod.def.innerType});function zf(e){return new DS({type:"nullable",innerType:e})}const US=S("ZodDefault",(e,t)=>{i0.init(e,t),J.init(e,t),e._zod.processJSONSchema=(n,r,s)=>T_(e,n,r,s),e.unwrap=()=>e._zod.def.innerType,e.removeDefault=e.unwrap});function MS(e,t){return new US({type:"default",innerType:e,get defaultValue(){return typeof t=="function"?t():xh(t)}})}const BS=S("ZodPrefault",(e,t)=>{o0.init(e,t),J.init(e,t),e._zod.processJSONSchema=(n,r,s)=>P_(e,n,r,s),e.unwrap=()=>e._zod.def.innerType});function ZS(e,t){return new BS({type:"prefault",innerType:e,get defaultValue(){return typeof t=="function"?t():xh(t)}})}const Gh=S("ZodNonOptional",(e,t)=>{a0.init(e,t),J.init(e,t),e._zod.processJSONSchema=(n,r,s)=>R_(e,n,r,s),e.unwrap=()=>e._zod.def.innerType});function HS(e,t){return new Gh({type:"nonoptional",innerType:e,...N(t)})}const KS=S("ZodCatch",(e,t)=>{u0.init(e,t),J.init(e,t),e._zod.processJSONSchema=(n,r,s)=>C_(e,n,r,s),e.unwrap=()=>e._zod.def.innerType,e.removeCatch=e.unwrap});function VS(e,t){return new KS({type:"catch",innerType:e,catchValue:typeof t=="function"?t:()=>t})}const GS=S("ZodPipe",(e,t)=>{c0.init(e,t),J.init(e,t),e._zod.processJSONSchema=(n,r,s)=>I_(e,n,r,s),e.in=t.in,e.out=t.out});function jf(e,t){return new GS({type:"pipe",in:e,out:t})}const WS=S("ZodReadonly",(e,t)=>{l0.init(e,t),J.init(e,t),e._zod.processJSONSchema=(n,r,s)=>k_(e,n,r,s),e.unwrap=()=>e._zod.def.innerType});function JS(e){return new WS({type:"readonly",innerType:e})}const QS=S("ZodLazy",(e,t)=>{f0.init(e,t),J.init(e,t),e._zod.processJSONSchema=(n,r,s)=>$_(e,n,r,s),e.unwrap=()=>e._zod.def.getter()});function Va(e){return new QS({type:"lazy",getter:e})}const YS=S("ZodCustom",(e,t)=>{d0.init(e,t),J.init(e,t),e._zod.processJSONSchema=(n,r,s)=>b_(e,n)});function XS(e,t={}){return i_(YS,e,t)}function e1(e){return o_(e)}const xo={sakura:{id:"sakura",name:"Sakura",brightness:"light",className:"theme-sakura",rabbitIconPath:"images/rabbit_app_256.png"},cinnamon:{id:"cinnamon",name:"Cinnamon",brightness:"light",className:"theme-cinnamon",rabbitIconPath:"images/rabbit_muted_256.png"},yozakura:{id:"yozakura",name:"Yozakura",brightness:"dark",className:"theme-yozakura",rabbitIconPath:"images/rabbit_256.png"},"midnight-blue":{id:"midnight-blue",name:"Midnight Blue",brightness:"dark",className:"theme-midnight-blue",rabbitIconPath:"images/rabbit_muted_256.png"},black:{id:"black",name:"Black",brightness:"dark",className:"theme-black",rabbitIconPath:"images/rabbit_muted_256.png"}},t1=ye({filterType:G("AND"),children:ge(Va(()=>Sr))}),n1=ye({filterType:G("OR"),children:ge(Va(()=>Sr))}),r1=ye({filterType:G("NOT"),child:Va(()=>Sr)}),s1=ye({filterType:G("Text"),text:H()}),i1=ye({filterType:G("Regex"),regex:H(),flag:H()}).refine(({regex:e,flag:t})=>{try{return new RegExp(e,t),!0}catch{return!1}}),Sr=St([t1,n1,r1,s1,i1]),Eo=e=>t=>{switch(e.filterType){case"AND":return e.children.every(n=>Eo(n)(t));case"OR":return e.children.some(n=>Eo(n)(t));case"NOT":return!Eo(e.child)(t);case"Text":return t.includes(e.text);case"Regex":return new RegExp(e.regex,e.flag).test(t);default:console.error("unsupported content filter type");break}return!1},o1=["wss://relay.damus.io","wss://nos.lol","wss://relay.snort.social","relay.nostr.wirednet.jp"],Wh=["wss://relay-jp.nostr.wirednet.jp","wss://r.kojira.io","wss://yabu.me"],a1=[...Wh],wA=["wss://relay.nostr.band","wss://search.nos.today"],u1=()=>{const e=[];if(window.crypto?.getRandomValues!=null){const s=crypto.getRandomValues(new Uint8Array(16));e.push(...s)}else for(let s=0;s<16;s+=1)e[s]=Math.round(Math.random()*65535)>>8;e[6]=e[6]&15|64,e[8]=e[8]&63|128;const t=String.fromCharCode(...e);return btoa(t).replaceAll("+","-").replaceAll("/","_").replaceAll("=","")},c1=e=>e.length>=2,l1=e=>{if(!c1(e))throw new Error("literals must have at least two elements");return St(e)},f1=["Replies","Repost","Reaction","Zap"],d1=l1(f1.map(e=>G(e))),h1=St([G("widest"),G("wide"),G("medium"),G("narrow")]),Ze=ye({id:H(),name:H().optional(),width:h1,contentFilter:Zn(Sr)}),p1=Ze.extend({columnType:G("Following"),pubkey:H()}),g1=Ze.extend({columnType:G("Notification"),pubkey:H(),notificationTypes:Zn(ge(d1))}),m1=Ze.extend({columnType:G("Posts"),pubkey:H()}),y1=Ze.extend({columnType:G("Reactions"),pubkey:H()}),b1=Ze.extend({columnType:G("Channel"),rootEventId:H()}),v1=Ze.extend({columnType:G("Relays"),relayUrls:ge(H())}),w1=Ze.extend({columnType:G("FollowSet"),author:H(),identifier:H()}),_1=Ze.extend({columnType:G("Search"),query:H()}),S1=Ze.extend({columnType:G("Bookmark"),pubkey:H(),identifier:H()}),x1=St([p1,g1,m1,y1,b1,v1,w1,_1,S1]),xt=()=>({id:u1(),width:"medium"}),E1=e=>({...xt(),columnType:"Following",...e}),O1=e=>({...xt(),columnType:"Notification",...e}),A1=e=>({...xt(),columnType:"Relays",...e}),_A=e=>({...xt(),columnType:"FollowSet",...e}),R1=()=>A1({name:"",relayUrls:Wh,contentFilter:{filterType:"Regex",regex:"[\\p{sc=Hiragana}\\p{sc=Katakana}]",flag:"u"}}),T1=e=>({...xt(),columnType:"Posts",...e}),P1=e=>({...xt(),columnType:"Reactions",...e}),SA=e=>({...xt(),columnType:"Search",...e}),Jh=(e,t,n)=>{const r=e();return{getItem(s){const i=r.getItem(s);return i!=null?n(i):null},setItem(s,i){const o=t(i);r.setItem(s,o)}}},Qh=(e,t,n)=>{const[r,s]=le(!1),[i,o]=Sa(t);return Mp(()=>{const a=n.getItem(e);a!=null&&o(a),s(!0)}),Mt(()=>{r()&&n.setItem(e,i)}),[i,o]},F=e=>typeof e=="string",Vt=()=>{let e,t;const n=new Promise((r,s)=>{e=r,t=s});return n.resolve=e,n.reject=t,n},Ff=e=>e==null?"":""+e,C1=(e,t,n)=>{e.forEach(r=>{t[r]&&(n[r]=t[r])})},I1=/###/g,qf=e=>e&&e.indexOf("###")>-1?e.replace(I1,"."):e,Df=e=>!e||F(e),nn=(e,t,n)=>{const r=F(t)?t.split("."):t;let s=0;for(;s<r.length-1;){if(Df(e))return{};const i=qf(r[s]);!e[i]&&n&&(e[i]=new n),Object.prototype.hasOwnProperty.call(e,i)?e=e[i]:e={},++s}return Df(e)?{}:{obj:e,k:qf(r[s])}},Uf=(e,t,n)=>{const{obj:r,k:s}=nn(e,t,Object);if(r!==void 0||t.length===1){r[s]=n;return}let i=t[t.length-1],o=t.slice(0,t.length-1),a=nn(e,o,Object);for(;a.obj===void 0&&o.length;)i=`${o[o.length-1]}.${i}`,o=o.slice(0,o.length-1),a=nn(e,o,Object),a?.obj&&typeof a.obj[`${a.k}.${i}`]<"u"&&(a.obj=void 0);a.obj[`${a.k}.${i}`]=n},k1=(e,t,n,r)=>{const{obj:s,k:i}=nn(e,t,Object);s[i]=s[i]||[],s[i].push(n)},Hn=(e,t)=>{const{obj:n,k:r}=nn(e,t);if(n&&Object.prototype.hasOwnProperty.call(n,r))return n[r]},$1=(e,t,n)=>{const r=Hn(e,n);return r!==void 0?r:Hn(t,n)},Yh=(e,t,n)=>{for(const r in t)r!=="__proto__"&&r!=="constructor"&&(r in e?F(e[r])||e[r]instanceof String||F(t[r])||t[r]instanceof String?n&&(e[r]=t[r]):Yh(e[r],t[r],n):e[r]=t[r]);return e},Rt=e=>e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var L1={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const N1=e=>F(e)?e.replace(/[&<>"'\/]/g,t=>L1[t]):e;class z1{constructor(t){this.capacity=t,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(t){const n=this.regExpMap.get(t);if(n!==void 0)return n;const r=new RegExp(t);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(t,r),this.regExpQueue.push(t),r}}const j1=[" ",",","?","!",";"],F1=new z1(20),q1=(e,t,n)=>{t=t||"",n=n||"";const r=j1.filter(o=>t.indexOf(o)<0&&n.indexOf(o)<0);if(r.length===0)return!0;const s=F1.getRegExp(`(${r.map(o=>o==="?"?"\\?":o).join("|")})`);let i=!s.test(e);if(!i){const o=e.indexOf(n);o>0&&!s.test(e.substring(0,o))&&(i=!0)}return i},oa=(e,t,n=".")=>{if(!e)return;if(e[t])return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0;const r=t.split(n);let s=e;for(let i=0;i<r.length;){if(!s||typeof s!="object")return;let o,a="";for(let u=i;u<r.length;++u)if(u!==i&&(a+=n),a+=r[u],o=s[a],o!==void 0){if(["string","number","boolean"].indexOf(typeof o)>-1&&u<r.length-1)continue;i+=u-i+1;break}s=o}return s},ln=e=>e?.replace("_","-"),D1={type:"logger",log(e){this.output("log",e)},warn(e){this.output("warn",e)},error(e){this.output("error",e)},output(e,t){console?.[e]?.apply?.(console,t)}};class Kn{constructor(t,n={}){this.init(t,n)}init(t,n={}){this.prefix=n.prefix||"i18next:",this.logger=t||D1,this.options=n,this.debug=n.debug}log(...t){return this.forward(t,"log","",!0)}warn(...t){return this.forward(t,"warn","",!0)}error(...t){return this.forward(t,"error","")}deprecate(...t){return this.forward(t,"warn","WARNING DEPRECATED: ",!0)}forward(t,n,r,s){return s&&!this.debug?null:(F(t[0])&&(t[0]=`${r}${this.prefix} ${t[0]}`),this.logger[n](t))}create(t){return new Kn(this.logger,{prefix:`${this.prefix}:${t}:`,...this.options})}clone(t){return t=t||this.options,t.prefix=t.prefix||this.prefix,new Kn(this.logger,t)}}var Le=new Kn;class xr{constructor(){this.observers={}}on(t,n){return t.split(" ").forEach(r=>{this.observers[r]||(this.observers[r]=new Map);const s=this.observers[r].get(n)||0;this.observers[r].set(n,s+1)}),this}off(t,n){if(this.observers[t]){if(!n){delete this.observers[t];return}this.observers[t].delete(n)}}emit(t,...n){this.observers[t]&&Array.from(this.observers[t].entries()).forEach(([s,i])=>{for(let o=0;o<i;o++)s(...n)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([s,i])=>{for(let o=0;o<i;o++)s.apply(s,[t,...n])})}}class Mf extends xr{constructor(t,n={ns:["translation"],defaultNS:"translation"}){super(),this.data=t||{},this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(t){this.options.ns.indexOf(t)<0&&this.options.ns.push(t)}removeNamespaces(t){const n=this.options.ns.indexOf(t);n>-1&&this.options.ns.splice(n,1)}getResource(t,n,r,s={}){const i=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator,o=s.ignoreJSONStructure!==void 0?s.ignoreJSONStructure:this.options.ignoreJSONStructure;let a;t.indexOf(".")>-1?a=t.split("."):(a=[t,n],r&&(Array.isArray(r)?a.push(...r):F(r)&&i?a.push(...r.split(i)):a.push(r)));const u=Hn(this.data,a);return!u&&!n&&!r&&t.indexOf(".")>-1&&(t=a[0],n=a[1],r=a.slice(2).join(".")),u||!o||!F(r)?u:oa(this.data?.[t]?.[n],r,i)}addResource(t,n,r,s,i={silent:!1}){const o=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator;let a=[t,n];r&&(a=a.concat(o?r.split(o):r)),t.indexOf(".")>-1&&(a=t.split("."),s=n,n=a[1]),this.addNamespaces(n),Uf(this.data,a,s),i.silent||this.emit("added",t,n,r,s)}addResources(t,n,r,s={silent:!1}){for(const i in r)(F(r[i])||Array.isArray(r[i]))&&this.addResource(t,n,i,r[i],{silent:!0});s.silent||this.emit("added",t,n,r)}addResourceBundle(t,n,r,s,i,o={silent:!1,skipCopy:!1}){let a=[t,n];t.indexOf(".")>-1&&(a=t.split("."),s=r,r=n,n=a[1]),this.addNamespaces(n);let u=Hn(this.data,a)||{};o.skipCopy||(r=JSON.parse(JSON.stringify(r))),s?Yh(u,r,i):u={...u,...r},Uf(this.data,a,u),o.silent||this.emit("added",t,n,r)}removeResourceBundle(t,n){this.hasResourceBundle(t,n)&&delete this.data[t][n],this.removeNamespaces(n),this.emit("removed",t,n)}hasResourceBundle(t,n){return this.getResource(t,n)!==void 0}getResourceBundle(t,n){return n||(n=this.options.defaultNS),this.getResource(t,n)}getDataByLanguage(t){return this.data[t]}hasLanguageSomeTranslations(t){const n=this.getDataByLanguage(t);return!!(n&&Object.keys(n)||[]).find(s=>n[s]&&Object.keys(n[s]).length>0)}toJSON(){return this.data}}var Xh={processors:{},addPostProcessor(e){this.processors[e.name]=e},handle(e,t,n,r,s){return e.forEach(i=>{t=this.processors[i]?.process(t,n,r,s)??t}),t}};const ep=Symbol("i18next/PATH_KEY");function U1(){const e=[],t=Object.create(null);let n;return t.get=(r,s)=>(n?.revoke?.(),s===ep?e:(e.push(s),n=Proxy.revocable(r,t),n.proxy)),Proxy.revocable(Object.create(null),t).proxy}function aa(e,t){const{[ep]:n}=e(U1());return n.join(t?.keySeparator??".")}const Bf={},Oo=e=>!F(e)&&typeof e!="boolean"&&typeof e!="number";class Vn extends xr{constructor(t,n={}){super(),C1(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],t,this),this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=Le.create("translator")}changeLanguage(t){t&&(this.language=t)}exists(t,n={interpolation:{}}){const r={...n};if(t==null)return!1;const s=this.resolve(t,r);if(s?.res===void 0)return!1;const i=Oo(s.res);return!(r.returnObjects===!1&&i)}extractFromKey(t,n){let r=n.nsSeparator!==void 0?n.nsSeparator:this.options.nsSeparator;r===void 0&&(r=":");const s=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator;let i=n.ns||this.options.defaultNS||[];const o=r&&t.indexOf(r)>-1,a=!this.options.userDefinedKeySeparator&&!n.keySeparator&&!this.options.userDefinedNsSeparator&&!n.nsSeparator&&!q1(t,r,s);if(o&&!a){const u=t.match(this.interpolator.nestingRegexp);if(u&&u.length>0)return{key:t,namespaces:F(i)?[i]:i};const c=t.split(r);(r!==s||r===s&&this.options.ns.indexOf(c[0])>-1)&&(i=c.shift()),t=c.join(s)}return{key:t,namespaces:F(i)?[i]:i}}translate(t,n,r){let s=typeof n=="object"?{...n}:n;if(typeof s!="object"&&this.options.overloadTranslationOptionHandler&&(s=this.options.overloadTranslationOptionHandler(arguments)),typeof s=="object"&&(s={...s}),s||(s={}),t==null)return"";typeof t=="function"&&(t=aa(t,{...this.options,...s})),Array.isArray(t)||(t=[String(t)]);const i=s.returnDetails!==void 0?s.returnDetails:this.options.returnDetails,o=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator,{key:a,namespaces:u}=this.extractFromKey(t[t.length-1],s),c=u[u.length-1];let l=s.nsSeparator!==void 0?s.nsSeparator:this.options.nsSeparator;l===void 0&&(l=":");const f=s.lng||this.language,d=s.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(f?.toLowerCase()==="cimode")return d?i?{res:`${c}${l}${a}`,usedKey:a,exactUsedKey:a,usedLng:f,usedNS:c,usedParams:this.getUsedParamsDetails(s)}:`${c}${l}${a}`:i?{res:a,usedKey:a,exactUsedKey:a,usedLng:f,usedNS:c,usedParams:this.getUsedParamsDetails(s)}:a;const p=this.resolve(t,s);let g=p?.res;const h=p?.usedKey||a,m=p?.exactUsedKey||a,y=["[object Number]","[object Function]","[object RegExp]"],b=s.joinArrays!==void 0?s.joinArrays:this.options.joinArrays,_=!this.i18nFormat||this.i18nFormat.handleAsObject,v=s.count!==void 0&&!F(s.count),w=Vn.hasDefaultValue(s),E=v?this.pluralResolver.getSuffix(f,s.count,s):"",A=s.ordinal&&v?this.pluralResolver.getSuffix(f,s.count,{ordinal:!1}):"",C=v&&!s.ordinal&&s.count===0,j=C&&s[`defaultValue${this.options.pluralSeparator}zero`]||s[`defaultValue${E}`]||s[`defaultValue${A}`]||s.defaultValue;let I=g;_&&!g&&w&&(I=j);const R=Oo(I),q=Object.prototype.toString.apply(I);if(_&&I&&R&&y.indexOf(q)<0&&!(F(b)&&Array.isArray(I))){if(!s.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const $=this.options.returnedObjectHandler?this.options.returnedObjectHandler(h,I,{...s,ns:u}):`key '${a} (${this.language})' returned an object instead of string.`;return i?(p.res=$,p.usedParams=this.getUsedParamsDetails(s),p):$}if(o){const $=Array.isArray(I),L=$?[]:{},O=$?m:h;for(const T in I)if(Object.prototype.hasOwnProperty.call(I,T)){const z=`${O}${o}${T}`;w&&!g?L[T]=this.translate(z,{...s,defaultValue:Oo(j)?j[T]:void 0,joinArrays:!1,ns:u}):L[T]=this.translate(z,{...s,joinArrays:!1,ns:u}),L[T]===z&&(L[T]=I[T])}g=L}}else if(_&&F(b)&&Array.isArray(g))g=g.join(b),g&&(g=this.extendTranslation(g,t,s,r));else{let $=!1,L=!1;!this.isValidLookup(g)&&w&&($=!0,g=j),this.isValidLookup(g)||(L=!0,g=a);const T=(s.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&L?void 0:g,z=w&&j!==g&&this.options.updateMissing;if(L||$||z){if(this.logger.log(z?"updateKey":"missingKey",f,c,a,z?j:g),o){const k=this.resolve(a,{...s,keySeparator:!1});k&&k.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let B=[];const x=this.languageUtils.getFallbackCodes(this.options.fallbackLng,s.lng||this.language);if(this.options.saveMissingTo==="fallback"&&x&&x[0])for(let k=0;k<x.length;k++)B.push(x[k]);else this.options.saveMissingTo==="all"?B=this.languageUtils.toResolveHierarchy(s.lng||this.language):B.push(s.lng||this.language);const P=(k,M,te)=>{const fe=w&&te!==g?te:T;this.options.missingKeyHandler?this.options.missingKeyHandler(k,c,M,fe,z,s):this.backendConnector?.saveMissing&&this.backendConnector.saveMissing(k,c,M,fe,z,s),this.emit("missingKey",k,c,M,g)};this.options.saveMissing&&(this.options.saveMissingPlurals&&v?B.forEach(k=>{const M=this.pluralResolver.getSuffixes(k,s);C&&s[`defaultValue${this.options.pluralSeparator}zero`]&&M.indexOf(`${this.options.pluralSeparator}zero`)<0&&M.push(`${this.options.pluralSeparator}zero`),M.forEach(te=>{P([k],a+te,s[`defaultValue${te}`]||j)})}):P(B,a,j))}g=this.extendTranslation(g,t,s,p,r),L&&g===a&&this.options.appendNamespaceToMissingKey&&(g=`${c}${l}${a}`),(L||$)&&this.options.parseMissingKeyHandler&&(g=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${c}${l}${a}`:a,$?g:void 0,s))}return i?(p.res=g,p.usedParams=this.getUsedParamsDetails(s),p):g}extendTranslation(t,n,r,s,i){if(this.i18nFormat?.parse)t=this.i18nFormat.parse(t,{...this.options.interpolation.defaultVariables,...r},r.lng||this.language||s.usedLng,s.usedNS,s.usedKey,{resolved:s});else if(!r.skipInterpolation){r.interpolation&&this.interpolator.init({...r,interpolation:{...this.options.interpolation,...r.interpolation}});const u=F(t)&&(r?.interpolation?.skipOnVariables!==void 0?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let c;if(u){const f=t.match(this.interpolator.nestingRegexp);c=f&&f.length}let l=r.replace&&!F(r.replace)?r.replace:r;if(this.options.interpolation.defaultVariables&&(l={...this.options.interpolation.defaultVariables,...l}),t=this.interpolator.interpolate(t,l,r.lng||this.language||s.usedLng,r),u){const f=t.match(this.interpolator.nestingRegexp),d=f&&f.length;c<d&&(r.nest=!1)}!r.lng&&s&&s.res&&(r.lng=this.language||s.usedLng),r.nest!==!1&&(t=this.interpolator.nest(t,(...f)=>i?.[0]===f[0]&&!r.context?(this.logger.warn(`It seems you are nesting recursively key: ${f[0]} in key: ${n[0]}`),null):this.translate(...f,n),r)),r.interpolation&&this.interpolator.reset()}const o=r.postProcess||this.options.postProcess,a=F(o)?[o]:o;return t!=null&&a?.length&&r.applyPostProcessor!==!1&&(t=Xh.handle(a,t,n,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...s,usedParams:this.getUsedParamsDetails(r)},...r}:r,this)),t}resolve(t,n={}){let r,s,i,o,a;return F(t)&&(t=[t]),t.forEach(u=>{if(this.isValidLookup(r))return;const c=this.extractFromKey(u,n),l=c.key;s=l;let f=c.namespaces;this.options.fallbackNS&&(f=f.concat(this.options.fallbackNS));const d=n.count!==void 0&&!F(n.count),p=d&&!n.ordinal&&n.count===0,g=n.context!==void 0&&(F(n.context)||typeof n.context=="number")&&n.context!=="",h=n.lngs?n.lngs:this.languageUtils.toResolveHierarchy(n.lng||this.language,n.fallbackLng);f.forEach(m=>{this.isValidLookup(r)||(a=m,!Bf[`${h[0]}-${m}`]&&this.utils?.hasLoadedNamespace&&!this.utils?.hasLoadedNamespace(a)&&(Bf[`${h[0]}-${m}`]=!0,this.logger.warn(`key "${s}" for languages "${h.join(", ")}" won't get resolved as namespace "${a}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),h.forEach(y=>{if(this.isValidLookup(r))return;o=y;const b=[l];if(this.i18nFormat?.addLookupKeys)this.i18nFormat.addLookupKeys(b,l,y,m,n);else{let v;d&&(v=this.pluralResolver.getSuffix(y,n.count,n));const w=`${this.options.pluralSeparator}zero`,E=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(d&&(n.ordinal&&v.indexOf(E)===0&&b.push(l+v.replace(E,this.options.pluralSeparator)),b.push(l+v),p&&b.push(l+w)),g){const A=`${l}${this.options.contextSeparator||"_"}${n.context}`;b.push(A),d&&(n.ordinal&&v.indexOf(E)===0&&b.push(A+v.replace(E,this.options.pluralSeparator)),b.push(A+v),p&&b.push(A+w))}}let _;for(;_=b.pop();)this.isValidLookup(r)||(i=_,r=this.getResource(y,m,_,n))}))})}),{res:r,usedKey:s,exactUsedKey:i,usedLng:o,usedNS:a}}isValidLookup(t){return t!==void 0&&!(!this.options.returnNull&&t===null)&&!(!this.options.returnEmptyString&&t==="")}getResource(t,n,r,s={}){return this.i18nFormat?.getResource?this.i18nFormat.getResource(t,n,r,s):this.resourceStore.getResource(t,n,r,s)}getUsedParamsDetails(t={}){const n=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],r=t.replace&&!F(t.replace);let s=r?t.replace:t;if(r&&typeof t.count<"u"&&(s.count=t.count),this.options.interpolation.defaultVariables&&(s={...this.options.interpolation.defaultVariables,...s}),!r){s={...s};for(const i of n)delete s[i]}return s}static hasDefaultValue(t){const n="defaultValue";for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&n===r.substring(0,n.length)&&t[r]!==void 0)return!0;return!1}}class Zf{constructor(t){this.options=t,this.supportedLngs=this.options.supportedLngs||!1,this.logger=Le.create("languageUtils")}getScriptPartFromCode(t){if(t=ln(t),!t||t.indexOf("-")<0)return null;const n=t.split("-");return n.length===2||(n.pop(),n[n.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(n.join("-"))}getLanguagePartFromCode(t){if(t=ln(t),!t||t.indexOf("-")<0)return t;const n=t.split("-");return this.formatLanguageCode(n[0])}formatLanguageCode(t){if(F(t)&&t.indexOf("-")>-1){let n;try{n=Intl.getCanonicalLocales(t)[0]}catch{}return n&&this.options.lowerCaseLng&&(n=n.toLowerCase()),n||(this.options.lowerCaseLng?t.toLowerCase():t)}return this.options.cleanCode||this.options.lowerCaseLng?t.toLowerCase():t}isSupportedCode(t){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(t=this.getLanguagePartFromCode(t)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(t)>-1}getBestMatchFromCodes(t){if(!t)return null;let n;return t.forEach(r=>{if(n)return;const s=this.formatLanguageCode(r);(!this.options.supportedLngs||this.isSupportedCode(s))&&(n=s)}),!n&&this.options.supportedLngs&&t.forEach(r=>{if(n)return;const s=this.getScriptPartFromCode(r);if(this.isSupportedCode(s))return n=s;const i=this.getLanguagePartFromCode(r);if(this.isSupportedCode(i))return n=i;n=this.options.supportedLngs.find(o=>{if(o===i)return o;if(!(o.indexOf("-")<0&&i.indexOf("-")<0)&&(o.indexOf("-")>0&&i.indexOf("-")<0&&o.substring(0,o.indexOf("-"))===i||o.indexOf(i)===0&&i.length>1))return o})}),n||(n=this.getFallbackCodes(this.options.fallbackLng)[0]),n}getFallbackCodes(t,n){if(!t)return[];if(typeof t=="function"&&(t=t(n)),F(t)&&(t=[t]),Array.isArray(t))return t;if(!n)return t.default||[];let r=t[n];return r||(r=t[this.getScriptPartFromCode(n)]),r||(r=t[this.formatLanguageCode(n)]),r||(r=t[this.getLanguagePartFromCode(n)]),r||(r=t.default),r||[]}toResolveHierarchy(t,n){const r=this.getFallbackCodes((n===!1?[]:n)||this.options.fallbackLng||[],t),s=[],i=o=>{o&&(this.isSupportedCode(o)?s.push(o):this.logger.warn(`rejecting language code not found in supportedLngs: ${o}`))};return F(t)&&(t.indexOf("-")>-1||t.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&i(this.formatLanguageCode(t)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&i(this.getScriptPartFromCode(t)),this.options.load!=="currentOnly"&&i(this.getLanguagePartFromCode(t))):F(t)&&i(this.formatLanguageCode(t)),r.forEach(o=>{s.indexOf(o)<0&&i(this.formatLanguageCode(o))}),s}}const Hf={zero:0,one:1,two:2,few:3,many:4,other:5},Kf={select:e=>e===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class M1{constructor(t,n={}){this.languageUtils=t,this.options=n,this.logger=Le.create("pluralResolver"),this.pluralRulesCache={}}clearCache(){this.pluralRulesCache={}}getRule(t,n={}){const r=ln(t==="dev"?"en":t),s=n.ordinal?"ordinal":"cardinal",i=JSON.stringify({cleanedCode:r,type:s});if(i in this.pluralRulesCache)return this.pluralRulesCache[i];let o;try{o=new Intl.PluralRules(r,{type:s})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),Kf;if(!t.match(/-|_/))return Kf;const u=this.languageUtils.getLanguagePartFromCode(t);o=this.getRule(u,n)}return this.pluralRulesCache[i]=o,o}needsPlural(t,n={}){let r=this.getRule(t,n);return r||(r=this.getRule("dev",n)),r?.resolvedOptions().pluralCategories.length>1}getPluralFormsOfKey(t,n,r={}){return this.getSuffixes(t,r).map(s=>`${n}${s}`)}getSuffixes(t,n={}){let r=this.getRule(t,n);return r||(r=this.getRule("dev",n)),r?r.resolvedOptions().pluralCategories.sort((s,i)=>Hf[s]-Hf[i]).map(s=>`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${s}`):[]}getSuffix(t,n,r={}){const s=this.getRule(t,r);return s?`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${s.select(n)}`:(this.logger.warn(`no plural rule found for: ${t}`),this.getSuffix("dev",n,r))}}const Vf=(e,t,n,r=".",s=!0)=>{let i=$1(e,t,n);return!i&&s&&F(n)&&(i=oa(e,n,r),i===void 0&&(i=oa(t,n,r))),i},Ao=e=>e.replace(/\$/g,"$$$$");class Gf{constructor(t={}){this.logger=Le.create("interpolator"),this.options=t,this.format=t?.interpolation?.format||(n=>n),this.init(t)}init(t={}){t.interpolation||(t.interpolation={escapeValue:!0});const{escape:n,escapeValue:r,useRawValueToEscape:s,prefix:i,prefixEscaped:o,suffix:a,suffixEscaped:u,formatSeparator:c,unescapeSuffix:l,unescapePrefix:f,nestingPrefix:d,nestingPrefixEscaped:p,nestingSuffix:g,nestingSuffixEscaped:h,nestingOptionsSeparator:m,maxReplaces:y,alwaysFormat:b}=t.interpolation;this.escape=n!==void 0?n:N1,this.escapeValue=r!==void 0?r:!0,this.useRawValueToEscape=s!==void 0?s:!1,this.prefix=i?Rt(i):o||"{{",this.suffix=a?Rt(a):u||"}}",this.formatSeparator=c||",",this.unescapePrefix=l?"":f||"-",this.unescapeSuffix=this.unescapePrefix?"":l||"",this.nestingPrefix=d?Rt(d):p||Rt("$t("),this.nestingSuffix=g?Rt(g):h||Rt(")"),this.nestingOptionsSeparator=m||",",this.maxReplaces=y||1e3,this.alwaysFormat=b!==void 0?b:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const t=(n,r)=>n?.source===r?(n.lastIndex=0,n):new RegExp(r,"g");this.regexp=t(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=t(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=t(this.nestingRegexp,`${this.nestingPrefix}((?:[^()"']+|"[^"]*"|'[^']*'|\\((?:[^()]|"[^"]*"|'[^']*')*\\))*?)${this.nestingSuffix}`)}interpolate(t,n,r,s){let i,o,a;const u=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},c=p=>{if(p.indexOf(this.formatSeparator)<0){const y=Vf(n,u,p,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(y,void 0,r,{...s,...n,interpolationkey:p}):y}const g=p.split(this.formatSeparator),h=g.shift().trim(),m=g.join(this.formatSeparator).trim();return this.format(Vf(n,u,h,this.options.keySeparator,this.options.ignoreJSONStructure),m,r,{...s,...n,interpolationkey:h})};this.resetRegExp();const l=s?.missingInterpolationHandler||this.options.missingInterpolationHandler,f=s?.interpolation?.skipOnVariables!==void 0?s.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:p=>Ao(p)},{regex:this.regexp,safeValue:p=>this.escapeValue?Ao(this.escape(p)):Ao(p)}].forEach(p=>{for(a=0;i=p.regex.exec(t);){const g=i[1].trim();if(o=c(g),o===void 0)if(typeof l=="function"){const m=l(t,i,s);o=F(m)?m:""}else if(s&&Object.prototype.hasOwnProperty.call(s,g))o="";else if(f){o=i[0];continue}else this.logger.warn(`missed to pass in variable ${g} for interpolating ${t}`),o="";else!F(o)&&!this.useRawValueToEscape&&(o=Ff(o));const h=p.safeValue(o);if(t=t.replace(i[0],h),f?(p.regex.lastIndex+=o.length,p.regex.lastIndex-=i[0].length):p.regex.lastIndex=0,a++,a>=this.maxReplaces)break}}),t}nest(t,n,r={}){let s,i,o;const a=(u,c)=>{const l=this.nestingOptionsSeparator;if(u.indexOf(l)<0)return u;const f=u.split(new RegExp(`${l}[ ]*{`));let d=`{${f[1]}`;u=f[0],d=this.interpolate(d,o);const p=d.match(/'/g),g=d.match(/"/g);((p?.length??0)%2===0&&!g||g.length%2!==0)&&(d=d.replace(/'/g,'"'));try{o=JSON.parse(d),c&&(o={...c,...o})}catch(h){return this.logger.warn(`failed parsing options string in nesting for key ${u}`,h),`${u}${l}${d}`}return o.defaultValue&&o.defaultValue.indexOf(this.prefix)>-1&&delete o.defaultValue,u};for(;s=this.nestingRegexp.exec(t);){let u=[];o={...r},o=o.replace&&!F(o.replace)?o.replace:o,o.applyPostProcessor=!1,delete o.defaultValue;const c=/{.*}/.test(s[1])?s[1].lastIndexOf("}")+1:s[1].indexOf(this.formatSeparator);if(c!==-1&&(u=s[1].slice(c).split(this.formatSeparator).map(l=>l.trim()).filter(Boolean),s[1]=s[1].slice(0,c)),i=n(a.call(this,s[1].trim(),o),o),i&&s[0]===t&&!F(i))return i;F(i)||(i=Ff(i)),i||(this.logger.warn(`missed to resolve ${s[1]} for nesting ${t}`),i=""),u.length&&(i=u.reduce((l,f)=>this.format(l,f,r.lng,{...r,interpolationkey:s[1].trim()}),i.trim())),t=t.replace(s[0],i),this.regexp.lastIndex=0}return t}}const B1=e=>{let t=e.toLowerCase().trim();const n={};if(e.indexOf("(")>-1){const r=e.split("(");t=r[0].toLowerCase().trim();const s=r[1].substring(0,r[1].length-1);t==="currency"&&s.indexOf(":")<0?n.currency||(n.currency=s.trim()):t==="relativetime"&&s.indexOf(":")<0?n.range||(n.range=s.trim()):s.split(";").forEach(o=>{if(o){const[a,...u]=o.split(":"),c=u.join(":").trim().replace(/^'+|'+$/g,""),l=a.trim();n[l]||(n[l]=c),c==="false"&&(n[l]=!1),c==="true"&&(n[l]=!0),isNaN(c)||(n[l]=parseInt(c,10))}})}return{formatName:t,formatOptions:n}},Wf=e=>{const t={};return(n,r,s)=>{let i=s;s&&s.interpolationkey&&s.formatParams&&s.formatParams[s.interpolationkey]&&s[s.interpolationkey]&&(i={...i,[s.interpolationkey]:void 0});const o=r+JSON.stringify(i);let a=t[o];return a||(a=e(ln(r),s),t[o]=a),a(n)}},Z1=e=>(t,n,r)=>e(ln(n),r)(t);class H1{constructor(t={}){this.logger=Le.create("formatter"),this.options=t,this.init(t)}init(t,n={interpolation:{}}){this.formatSeparator=n.interpolation.formatSeparator||",";const r=n.cacheInBuiltFormats?Wf:Z1;this.formats={number:r((s,i)=>{const o=new Intl.NumberFormat(s,{...i});return a=>o.format(a)}),currency:r((s,i)=>{const o=new Intl.NumberFormat(s,{...i,style:"currency"});return a=>o.format(a)}),datetime:r((s,i)=>{const o=new Intl.DateTimeFormat(s,{...i});return a=>o.format(a)}),relativetime:r((s,i)=>{const o=new Intl.RelativeTimeFormat(s,{...i});return a=>o.format(a,i.range||"day")}),list:r((s,i)=>{const o=new Intl.ListFormat(s,{...i});return a=>o.format(a)})}}add(t,n){this.formats[t.toLowerCase().trim()]=n}addCached(t,n){this.formats[t.toLowerCase().trim()]=Wf(n)}format(t,n,r,s={}){const i=n.split(this.formatSeparator);if(i.length>1&&i[0].indexOf("(")>1&&i[0].indexOf(")")<0&&i.find(a=>a.indexOf(")")>-1)){const a=i.findIndex(u=>u.indexOf(")")>-1);i[0]=[i[0],...i.splice(1,a)].join(this.formatSeparator)}return i.reduce((a,u)=>{const{formatName:c,formatOptions:l}=B1(u);if(this.formats[c]){let f=a;try{const d=s?.formatParams?.[s.interpolationkey]||{},p=d.locale||d.lng||s.locale||s.lng||r;f=this.formats[c](a,p,{...l,...s,...d})}catch(d){this.logger.warn(d)}return f}else this.logger.warn(`there was no format function for ${c}`);return a},t)}}const K1=(e,t)=>{e.pending[t]!==void 0&&(delete e.pending[t],e.pendingCount--)};class V1 extends xr{constructor(t,n,r,s={}){super(),this.backend=t,this.store=n,this.services=r,this.languageUtils=r.languageUtils,this.options=s,this.logger=Le.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=s.maxParallelReads||10,this.readingCalls=0,this.maxRetries=s.maxRetries>=0?s.maxRetries:5,this.retryTimeout=s.retryTimeout>=1?s.retryTimeout:350,this.state={},this.queue=[],this.backend?.init?.(r,s.backend,s)}queueLoad(t,n,r,s){const i={},o={},a={},u={};return t.forEach(c=>{let l=!0;n.forEach(f=>{const d=`${c}|${f}`;!r.reload&&this.store.hasResourceBundle(c,f)?this.state[d]=2:this.state[d]<0||(this.state[d]===1?o[d]===void 0&&(o[d]=!0):(this.state[d]=1,l=!1,o[d]===void 0&&(o[d]=!0),i[d]===void 0&&(i[d]=!0),u[f]===void 0&&(u[f]=!0)))}),l||(a[c]=!0)}),(Object.keys(i).length||Object.keys(o).length)&&this.queue.push({pending:o,pendingCount:Object.keys(o).length,loaded:{},errors:[],callback:s}),{toLoad:Object.keys(i),pending:Object.keys(o),toLoadLanguages:Object.keys(a),toLoadNamespaces:Object.keys(u)}}loaded(t,n,r){const s=t.split("|"),i=s[0],o=s[1];n&&this.emit("failedLoading",i,o,n),!n&&r&&this.store.addResourceBundle(i,o,r,void 0,void 0,{skipCopy:!0}),this.state[t]=n?-1:2,n&&r&&(this.state[t]=0);const a={};this.queue.forEach(u=>{k1(u.loaded,[i],o),K1(u,t),n&&u.errors.push(n),u.pendingCount===0&&!u.done&&(Object.keys(u.loaded).forEach(c=>{a[c]||(a[c]={});const l=u.loaded[c];l.length&&l.forEach(f=>{a[c][f]===void 0&&(a[c][f]=!0)})}),u.done=!0,u.errors.length?u.callback(u.errors):u.callback())}),this.emit("loaded",a),this.queue=this.queue.filter(u=>!u.done)}read(t,n,r,s=0,i=this.retryTimeout,o){if(!t.length)return o(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:t,ns:n,fcName:r,tried:s,wait:i,callback:o});return}this.readingCalls++;const a=(c,l)=>{if(this.readingCalls--,this.waitingReads.length>0){const f=this.waitingReads.shift();this.read(f.lng,f.ns,f.fcName,f.tried,f.wait,f.callback)}if(c&&l&&s<this.maxRetries){setTimeout(()=>{this.read.call(this,t,n,r,s+1,i*2,o)},i);return}o(c,l)},u=this.backend[r].bind(this.backend);if(u.length===2){try{const c=u(t,n);c&&typeof c.then=="function"?c.then(l=>a(null,l)).catch(a):a(null,c)}catch(c){a(c)}return}return u(t,n,a)}prepareLoading(t,n,r={},s){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),s&&s();F(t)&&(t=this.languageUtils.toResolveHierarchy(t)),F(n)&&(n=[n]);const i=this.queueLoad(t,n,r,s);if(!i.toLoad.length)return i.pending.length||s(),null;i.toLoad.forEach(o=>{this.loadOne(o)})}load(t,n,r){this.prepareLoading(t,n,{},r)}reload(t,n,r){this.prepareLoading(t,n,{reload:!0},r)}loadOne(t,n=""){const r=t.split("|"),s=r[0],i=r[1];this.read(s,i,"read",void 0,void 0,(o,a)=>{o&&this.logger.warn(`${n}loading namespace ${i} for language ${s} failed`,o),!o&&a&&this.logger.log(`${n}loaded namespace ${i} for language ${s}`,a),this.loaded(t,o,a)})}saveMissing(t,n,r,s,i,o={},a=()=>{}){if(this.services?.utils?.hasLoadedNamespace&&!this.services?.utils?.hasLoadedNamespace(n)){this.logger.warn(`did not save key "${r}" as the namespace "${n}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(r==null||r==="")){if(this.backend?.create){const u={...o,isUpdate:i},c=this.backend.create.bind(this.backend);if(c.length<6)try{let l;c.length===5?l=c(t,n,r,s,u):l=c(t,n,r,s),l&&typeof l.then=="function"?l.then(f=>a(null,f)).catch(a):a(null,l)}catch(l){a(l)}else c(t,n,r,s,a,u)}!t||!t[0]||this.store.addResource(t[0],n,r,s)}}}const Ro=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:e=>{let t={};if(typeof e[1]=="object"&&(t=e[1]),F(e[1])&&(t.defaultValue=e[1]),F(e[2])&&(t.tDescription=e[2]),typeof e[2]=="object"||typeof e[3]=="object"){const n=e[3]||e[2];Object.keys(n).forEach(r=>{t[r]=n[r]})}return t},interpolation:{escapeValue:!0,format:e=>e,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),Jf=e=>(F(e.ns)&&(e.ns=[e.ns]),F(e.fallbackLng)&&(e.fallbackLng=[e.fallbackLng]),F(e.fallbackNS)&&(e.fallbackNS=[e.fallbackNS]),e.supportedLngs?.indexOf?.("cimode")<0&&(e.supportedLngs=e.supportedLngs.concat(["cimode"])),typeof e.initImmediate=="boolean"&&(e.initAsync=e.initImmediate),e),Rn=()=>{},G1=e=>{Object.getOwnPropertyNames(Object.getPrototypeOf(e)).forEach(n=>{typeof e[n]=="function"&&(e[n]=e[n].bind(e))})};class rn extends xr{constructor(t={},n){if(super(),this.options=Jf(t),this.services={},this.logger=Le,this.modules={external:[]},G1(this),n&&!this.isInitialized&&!t.isClone){if(!this.options.initAsync)return this.init(t,n),this;setTimeout(()=>{this.init(t,n)},0)}}init(t={},n){this.isInitializing=!0,typeof t=="function"&&(n=t,t={}),t.defaultNS==null&&t.ns&&(F(t.ns)?t.defaultNS=t.ns:t.ns.indexOf("translation")<0&&(t.defaultNS=t.ns[0]));const r=Ro();this.options={...r,...this.options,...Jf(t)},this.options.interpolation={...r.interpolation,...this.options.interpolation},t.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=t.keySeparator),t.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=t.nsSeparator),typeof this.options.overloadTranslationOptionHandler!="function"&&(this.options.overloadTranslationOptionHandler=r.overloadTranslationOptionHandler),this.options.debug===!0&&typeof console<"u"&&console.warn("i18next is maintained with support from locize.com  consider powering your project with managed localization (AI, CDN, integrations): https://locize.com");const s=c=>c?typeof c=="function"?new c:c:null;if(!this.options.isClone){this.modules.logger?Le.init(s(this.modules.logger),this.options):Le.init(null,this.options);let c;this.modules.formatter?c=this.modules.formatter:c=H1;const l=new Zf(this.options);this.store=new Mf(this.options.resources,this.options);const f=this.services;f.logger=Le,f.resourceStore=this.store,f.languageUtils=l,f.pluralResolver=new M1(l,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),this.options.interpolation.format&&this.options.interpolation.format!==r.interpolation.format&&this.logger.deprecate("init: you are still using the legacy format function, please use the new approach: https://www.i18next.com/translation-function/formatting"),c&&(!this.options.interpolation.format||this.options.interpolation.format===r.interpolation.format)&&(f.formatter=s(c),f.formatter.init&&f.formatter.init(f,this.options),this.options.interpolation.format=f.formatter.format.bind(f.formatter)),f.interpolator=new Gf(this.options),f.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},f.backendConnector=new V1(s(this.modules.backend),f.resourceStore,f,this.options),f.backendConnector.on("*",(p,...g)=>{this.emit(p,...g)}),this.modules.languageDetector&&(f.languageDetector=s(this.modules.languageDetector),f.languageDetector.init&&f.languageDetector.init(f,this.options.detection,this.options)),this.modules.i18nFormat&&(f.i18nFormat=s(this.modules.i18nFormat),f.i18nFormat.init&&f.i18nFormat.init(this)),this.translator=new Vn(this.services,this.options),this.translator.on("*",(p,...g)=>{this.emit(p,...g)}),this.modules.external.forEach(p=>{p.init&&p.init(this)})}if(this.format=this.options.interpolation.format,n||(n=Rn),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const c=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);c.length>0&&c[0]!=="dev"&&(this.options.lng=c[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(c=>{this[c]=(...l)=>this.store[c](...l)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(c=>{this[c]=(...l)=>(this.store[c](...l),this)});const a=Vt(),u=()=>{const c=(l,f)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),a.resolve(f),n(l,f)};if(this.languages&&!this.isInitialized)return c(null,this.t.bind(this));this.changeLanguage(this.options.lng,c)};return this.options.resources||!this.options.initAsync?u():setTimeout(u,0),a}loadResources(t,n=Rn){let r=n;const s=F(t)?t:this.language;if(typeof t=="function"&&(r=t),!this.options.resources||this.options.partialBundledLanguages){if(s?.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return r();const i=[],o=a=>{if(!a||a==="cimode")return;this.services.languageUtils.toResolveHierarchy(a).forEach(c=>{c!=="cimode"&&i.indexOf(c)<0&&i.push(c)})};s?o(s):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(u=>o(u)),this.options.preload?.forEach?.(a=>o(a)),this.services.backendConnector.load(i,this.options.ns,a=>{!a&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),r(a)})}else r(null)}reloadResources(t,n,r){const s=Vt();return typeof t=="function"&&(r=t,t=void 0),typeof n=="function"&&(r=n,n=void 0),t||(t=this.languages),n||(n=this.options.ns),r||(r=Rn),this.services.backendConnector.reload(t,n,i=>{s.resolve(),r(i)}),s}use(t){if(!t)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!t.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return t.type==="backend"&&(this.modules.backend=t),(t.type==="logger"||t.log&&t.warn&&t.error)&&(this.modules.logger=t),t.type==="languageDetector"&&(this.modules.languageDetector=t),t.type==="i18nFormat"&&(this.modules.i18nFormat=t),t.type==="postProcessor"&&Xh.addPostProcessor(t),t.type==="formatter"&&(this.modules.formatter=t),t.type==="3rdParty"&&this.modules.external.push(t),this}setResolvedLanguage(t){if(!(!t||!this.languages)&&!(["cimode","dev"].indexOf(t)>-1)){for(let n=0;n<this.languages.length;n++){const r=this.languages[n];if(!(["cimode","dev"].indexOf(r)>-1)&&this.store.hasLanguageSomeTranslations(r)){this.resolvedLanguage=r;break}}!this.resolvedLanguage&&this.languages.indexOf(t)<0&&this.store.hasLanguageSomeTranslations(t)&&(this.resolvedLanguage=t,this.languages.unshift(t))}}changeLanguage(t,n){this.isLanguageChangingTo=t;const r=Vt();this.emit("languageChanging",t);const s=a=>{this.language=a,this.languages=this.services.languageUtils.toResolveHierarchy(a),this.resolvedLanguage=void 0,this.setResolvedLanguage(a)},i=(a,u)=>{u?this.isLanguageChangingTo===t&&(s(u),this.translator.changeLanguage(u),this.isLanguageChangingTo=void 0,this.emit("languageChanged",u),this.logger.log("languageChanged",u)):this.isLanguageChangingTo=void 0,r.resolve((...c)=>this.t(...c)),n&&n(a,(...c)=>this.t(...c))},o=a=>{!t&&!a&&this.services.languageDetector&&(a=[]);const u=F(a)?a:a&&a[0],c=this.store.hasLanguageSomeTranslations(u)?u:this.services.languageUtils.getBestMatchFromCodes(F(a)?[a]:a);c&&(this.language||s(c),this.translator.language||this.translator.changeLanguage(c),this.services.languageDetector?.cacheUserLanguage?.(c)),this.loadResources(c,l=>{i(l,c)})};return!t&&this.services.languageDetector&&!this.services.languageDetector.async?o(this.services.languageDetector.detect()):!t&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(o):this.services.languageDetector.detect(o):o(t),r}getFixedT(t,n,r){const s=(i,o,...a)=>{let u;typeof o!="object"?u=this.options.overloadTranslationOptionHandler([i,o].concat(a)):u={...o},u.lng=u.lng||s.lng,u.lngs=u.lngs||s.lngs,u.ns=u.ns||s.ns,u.keyPrefix!==""&&(u.keyPrefix=u.keyPrefix||r||s.keyPrefix);const c=this.options.keySeparator||".";let l;return u.keyPrefix&&Array.isArray(i)?l=i.map(f=>(typeof f=="function"&&(f=aa(f,{...this.options,...o})),`${u.keyPrefix}${c}${f}`)):(typeof i=="function"&&(i=aa(i,{...this.options,...o})),l=u.keyPrefix?`${u.keyPrefix}${c}${i}`:i),this.t(l,u)};return F(t)?s.lng=t:s.lngs=t,s.ns=n,s.keyPrefix=r,s}t(...t){return this.translator?.translate(...t)}exists(...t){return this.translator?.exists(...t)}setDefaultNamespace(t){this.options.defaultNS=t}hasLoadedNamespace(t,n={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const r=n.lng||this.resolvedLanguage||this.languages[0],s=this.options?this.options.fallbackLng:!1,i=this.languages[this.languages.length-1];if(r.toLowerCase()==="cimode")return!0;const o=(a,u)=>{const c=this.services.backendConnector.state[`${a}|${u}`];return c===-1||c===0||c===2};if(n.precheck){const a=n.precheck(this,o);if(a!==void 0)return a}return!!(this.hasResourceBundle(r,t)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||o(r,t)&&(!s||o(i,t)))}loadNamespaces(t,n){const r=Vt();return this.options.ns?(F(t)&&(t=[t]),t.forEach(s=>{this.options.ns.indexOf(s)<0&&this.options.ns.push(s)}),this.loadResources(s=>{r.resolve(),n&&n(s)}),r):(n&&n(),Promise.resolve())}loadLanguages(t,n){const r=Vt();F(t)&&(t=[t]);const s=this.options.preload||[],i=t.filter(o=>s.indexOf(o)<0&&this.services.languageUtils.isSupportedCode(o));return i.length?(this.options.preload=s.concat(i),this.loadResources(o=>{r.resolve(),n&&n(o)}),r):(n&&n(),Promise.resolve())}dir(t){if(t||(t=this.resolvedLanguage||(this.languages?.length>0?this.languages[0]:this.language)),!t)return"rtl";try{const s=new Intl.Locale(t);if(s&&s.getTextInfo){const i=s.getTextInfo();if(i&&i.direction)return i.direction}}catch{}const n=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],r=this.services?.languageUtils||new Zf(Ro());return t.toLowerCase().indexOf("-latn")>1?"ltr":n.indexOf(r.getLanguagePartFromCode(t))>-1||t.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(t={},n){const r=new rn(t,n);return r.createInstance=rn.createInstance,r}cloneInstance(t={},n=Rn){const r=t.forkResourceStore;r&&delete t.forkResourceStore;const s={...this.options,...t,isClone:!0},i=new rn(s);if((t.debug!==void 0||t.prefix!==void 0)&&(i.logger=i.logger.clone(t)),["store","services","language"].forEach(a=>{i[a]=this[a]}),i.services={...this.services},i.services.utils={hasLoadedNamespace:i.hasLoadedNamespace.bind(i)},r){const a=Object.keys(this.store.data).reduce((u,c)=>(u[c]={...this.store.data[c]},u[c]=Object.keys(u[c]).reduce((l,f)=>(l[f]={...u[c][f]},l),u[c]),u),{});i.store=new Mf(a,s),i.services.resourceStore=i.store}if(t.interpolation){const u={...Ro().interpolation,...this.options.interpolation,...t.interpolation},c={...s,interpolation:u};i.services.interpolator=new Gf(c)}return i.translator=new Vn(i.services,s),i.translator.on("*",(a,...u)=>{i.emit(a,...u)}),i.init(s,n),i.translator.options=s,i.translator.backendConnector.services.utils={hasLoadedNamespace:i.hasLoadedNamespace.bind(i)},i}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const oe=rn.createInstance();oe.createInstance;oe.dir;oe.init;oe.loadResources;oe.reloadResources;oe.use;oe.changeLanguage;oe.getFixedT;oe.t;oe.exists;oe.setDefaultNamespace;oe.hasLoadedNamespace;oe.loadNamespaces;oe.loadLanguages;const tp=dn(oe),W1=()=>hn(tp),J1=e=>{const[t,n]=le(oe);return Mt(()=>{e.i18next instanceof Promise?e.i18next.then(r=>{r!=null&&n(r)}).catch(r=>{console.error("failed to initialize i18n.text",r)}):e.i18next!=null&&n(e.i18next)}),Q(tp.Provider,{get value(){return t()},get children(){return e.children}})},Q1=/^[0-9a-f]{64}$/,Ee=e=>{const t=typeof e=="string"&&e.length===64&&Q1.test(e);return t||console.warn("invalid id is ignored: ",e),t},Y1=e=>(t=>e.safeParse(t).success),X1=ge(ge(H())),ex=IS([G("emoji"),H().regex(/^\w+$/,{message:"shortcode can includes only alpahnumeric characters and underscore"}),H().url()]);class tx{findTagsByName(t){return this.tags.filter(([n])=>n===t)}findFirstTagByName(t){return this.tags.find(([n])=>n===t)}findLastTagByName(t){return this.tags.findLast(([n])=>n===t)}pTags(){return this.tags.filter(([t,n])=>t==="p"&&Ee(n))}eTags(){return this.tags.filter(([t,n])=>t==="e"&&Ee(n))}emojiTags(){return this.tags.filter(Y1(ex))}taggedPubkeys(){return kt(this.pTags().map(([,t])=>t))}taggedEventIds(){return this.eTags().map(([,t])=>t)}lastTaggedEventId(){const t=this.taggedEventIds();if(t.length!==0)return t[t.length-1]}getEmojiUrl(t){const n=this.emojiTags().find(([,s])=>s===t);if(n==null)return;const[,,r]=n;return r}}const nx=/^[0-9a-f]{128}$/,rx=e=>typeof e=="string"&&e.length===128&&nx.test(e),xA=ye({id:H().refine(Ee),pubkey:H().refine(Ee),created_at:$f().int(),kind:$f().int(),tags:X1,content:H(),sig:H().refine(rx)});class Ga extends tx{constructor(t){super(),this.rawEvent=t}get id(){return this.rawEvent.id}get sig(){return this.rawEvent.sig}get kind(){return this.rawEvent.kind}get pubkey(){return this.rawEvent.pubkey}get createdAt(){return this.rawEvent.created_at}get content(){return this.rawEvent.content}get tags(){return this.rawEvent.tags}createdAtAsDate(){return new Date(this.rawEvent.created_at*1e3)}}const sx=/^\p{Emoji}[\p{Emoji_Component}\p{Emoji_Modifier}\p{Emoji_Presentation}]*$/u,Qf=/^:(\w+):$/,ix=e=>{if(e.isLikeOrDislike())return{type:"LikeDislike",content:e.content};if(e.isEmoji())return{type:"Emoji",content:e.content};if(e.isCustomEmoji()){const t=e.getShortcode(),n=e.getUrl();if(t!=null&&n!=null)return{type:"CustomEmoji",content:e.content,shortcode:t,url:n}}return{type:"Unknown",content:e.content}};class np extends Ga{constructor(t){if(t.kind!==na)throw new TypeError("kind should be 7");super(t)}isLike(){return this.content==="+"||this.content.length===0}isDislike(){return this.content==="-"}isLikeOrDislike(){return this.isLike()||this.isDislike()}isEmoji(){return sx.test(this.content)}isCustomEmoji(){return Qf.test(this.content)}getShortcode(){return this.content.match(Qf)?.[1]}getUrl(){const t=this.getShortcode();if(t!=null)return this.getEmojiUrl(t)}toReactionTypes(){return ix(this)}}const Wa=e=>e instanceof Uint8Array,To=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),ke=(e,t)=>e<<32-t|e>>>t,ox=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!ox)throw new Error("Non little-endian hardware is not supported");const ax=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function Ae(e){if(!Wa(e))throw new Error("Uint8Array expected");let t="";for(let n=0;n<e.length;n++)t+=ax[e[n]];return t}function Gn(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);const t=e.length;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);const n=new Uint8Array(t/2);for(let r=0;r<n.length;r++){const s=r*2,i=e.slice(s,s+2),o=Number.parseInt(i,16);if(Number.isNaN(o)||o<0)throw new Error("Invalid byte sequence");n[r]=o}return n}function ux(e){if(typeof e!="string")throw new Error(`utf8ToBytes expected string, got ${typeof e}`);return new Uint8Array(new TextEncoder().encode(e))}function rp(e){if(typeof e=="string"&&(e=ux(e)),!Wa(e))throw new Error(`expected Uint8Array, got ${typeof e}`);return e}function cx(...e){const t=new Uint8Array(e.reduce((r,s)=>r+s.length,0));let n=0;return e.forEach(r=>{if(!Wa(r))throw new Error("Uint8Array expected");t.set(r,n),n+=r.length}),t}let lx=class{clone(){return this._cloneInto()}};function sp(e){const t=r=>e().update(rp(r)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}function Kt(e){if(!Number.isSafeInteger(e))throw new Error(`Wrong integer: ${e}`)}function He(...e){const t=(s,i)=>o=>s(i(o)),n=Array.from(e).reverse().reduce((s,i)=>s?t(s,i.encode):i.encode,void 0),r=e.reduce((s,i)=>s?t(s,i.decode):i.decode,void 0);return{encode:n,decode:r}}function Ke(e){return{encode:t=>{if(!Array.isArray(t)||t.length&&typeof t[0]!="number")throw new Error("alphabet.encode input should be an array of numbers");return t.map(n=>{if(Kt(n),n<0||n>=e.length)throw new Error(`Digit index outside alphabet: ${n} (alphabet: ${e.length})`);return e[n]})},decode:t=>{if(!Array.isArray(t)||t.length&&typeof t[0]!="string")throw new Error("alphabet.decode input should be array of strings");return t.map(n=>{if(typeof n!="string")throw new Error(`alphabet.decode: not string element=${n}`);const r=e.indexOf(n);if(r===-1)throw new Error(`Unknown letter: "${n}". Allowed: ${e}`);return r})}}}function Ve(e=""){if(typeof e!="string")throw new Error("join separator should be string");return{encode:t=>{if(!Array.isArray(t)||t.length&&typeof t[0]!="string")throw new Error("join.encode input should be array of strings");for(let n of t)if(typeof n!="string")throw new Error(`join.encode: non-string input=${n}`);return t.join(e)},decode:t=>{if(typeof t!="string")throw new Error("join.decode input should be string");return t.split(e)}}}function Er(e,t="="){if(Kt(e),typeof t!="string")throw new Error("padding chr should be string");return{encode(n){if(!Array.isArray(n)||n.length&&typeof n[0]!="string")throw new Error("padding.encode input should be array of strings");for(let r of n)if(typeof r!="string")throw new Error(`padding.encode: non-string input=${r}`);for(;n.length*e%8;)n.push(t);return n},decode(n){if(!Array.isArray(n)||n.length&&typeof n[0]!="string")throw new Error("padding.encode input should be array of strings");for(let s of n)if(typeof s!="string")throw new Error(`padding.decode: non-string input=${s}`);let r=n.length;if(r*e%8)throw new Error("Invalid padding: string should have whole number of bytes");for(;r>0&&n[r-1]===t;r--)if(!((r-1)*e%8))throw new Error("Invalid padding: string has too much padding");return n.slice(0,r)}}}function ip(e){if(typeof e!="function")throw new Error("normalize fn should be function");return{encode:t=>t,decode:t=>e(t)}}function Yf(e,t,n){if(t<2)throw new Error(`convertRadix: wrong from=${t}, base cannot be less than 2`);if(n<2)throw new Error(`convertRadix: wrong to=${n}, base cannot be less than 2`);if(!Array.isArray(e))throw new Error("convertRadix: data should be array");if(!e.length)return[];let r=0;const s=[],i=Array.from(e);for(i.forEach(o=>{if(Kt(o),o<0||o>=t)throw new Error(`Wrong integer: ${o}`)});;){let o=0,a=!0;for(let u=r;u<i.length;u++){const c=i[u],l=t*o+c;if(!Number.isSafeInteger(l)||t*o/t!==o||l-c!==t*o)throw new Error("convertRadix: carry overflow");if(o=l%n,i[u]=Math.floor(l/n),!Number.isSafeInteger(i[u])||i[u]*n+o!==l)throw new Error("convertRadix: carry overflow");if(a)i[u]?a=!1:r=u;else continue}if(s.push(o),a)break}for(let o=0;o<e.length-1&&e[o]===0;o++)s.push(0);return s.reverse()}const op=(e,t)=>t?op(t,e%t):e,Wn=(e,t)=>e+(t-op(e,t));function ua(e,t,n,r){if(!Array.isArray(e))throw new Error("convertRadix2: data should be array");if(t<=0||t>32)throw new Error(`convertRadix2: wrong from=${t}`);if(n<=0||n>32)throw new Error(`convertRadix2: wrong to=${n}`);if(Wn(t,n)>32)throw new Error(`convertRadix2: carry overflow from=${t} to=${n} carryBits=${Wn(t,n)}`);let s=0,i=0;const o=2**n-1,a=[];for(const u of e){if(Kt(u),u>=2**t)throw new Error(`convertRadix2: invalid data word=${u} from=${t}`);if(s=s<<t|u,i+t>32)throw new Error(`convertRadix2: carry overflow pos=${i} from=${t}`);for(i+=t;i>=n;i-=n)a.push((s>>i-n&o)>>>0);s&=2**i-1}if(s=s<<n-i&o,!r&&i>=t)throw new Error("Excess padding");if(!r&&s)throw new Error(`Non-zero padding: ${s}`);return r&&i>0&&a.push(s>>>0),a}function fx(e){return Kt(e),{encode:t=>{if(!(t instanceof Uint8Array))throw new Error("radix.encode input should be Uint8Array");return Yf(Array.from(t),2**8,e)},decode:t=>{if(!Array.isArray(t)||t.length&&typeof t[0]!="number")throw new Error("radix.decode input should be array of strings");return Uint8Array.from(Yf(t,e,2**8))}}}function ut(e,t=!1){if(Kt(e),e<=0||e>32)throw new Error("radix2: bits should be in (0..32]");if(Wn(8,e)>32||Wn(e,8)>32)throw new Error("radix2: carry overflow");return{encode:n=>{if(!(n instanceof Uint8Array))throw new Error("radix2.encode input should be Uint8Array");return ua(Array.from(n),8,e,!t)},decode:n=>{if(!Array.isArray(n)||n.length&&typeof n[0]!="number")throw new Error("radix2.decode input should be array of strings");return Uint8Array.from(ua(n,e,8,t))}}}function Xf(e){if(typeof e!="function")throw new Error("unsafeWrapper fn should be function");return function(...t){try{return e.apply(null,t)}catch{}}}const dx=He(ut(4),Ke("0123456789ABCDEF"),Ve("")),hx=He(ut(5),Ke("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),Er(5),Ve(""));He(ut(5),Ke("0123456789ABCDEFGHIJKLMNOPQRSTUV"),Er(5),Ve(""));He(ut(5),Ke("0123456789ABCDEFGHJKMNPQRSTVWXYZ"),Ve(""),ip(e=>e.toUpperCase().replace(/O/g,"0").replace(/[IL]/g,"1")));const ap=He(ut(6),Ke("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),Er(6),Ve("")),px=He(ut(6),Ke("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),Er(6),Ve("")),Ja=e=>He(fx(58),Ke(e),Ve("")),ca=Ja("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz");Ja("123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ");Ja("rpshnaf39wBUDNEGHJKLM4PQRST7VWXYZ2bcdeCg65jkm8oFqi1tuvAxyz");const ed=[0,2,3,5,6,7,9,10,11],gx={encode(e){let t="";for(let n=0;n<e.length;n+=8){const r=e.subarray(n,n+8);t+=ca.encode(r).padStart(ed[r.length],"1")}return t},decode(e){let t=[];for(let n=0;n<e.length;n+=11){const r=e.slice(n,n+11),s=ed.indexOf(r.length),i=ca.decode(r);for(let o=0;o<i.length-s;o++)if(i[o]!==0)throw new Error("base58xmr: wrong padding");t=t.concat(Array.from(i.slice(i.length-s)))}return Uint8Array.from(t)}},la=He(Ke("qpzry9x8gf2tvdw0s3jn54khce6mua7l"),Ve("")),td=[996825010,642813549,513874426,1027748829,705979059];function Gt(e){const t=e>>25;let n=(e&33554431)<<5;for(let r=0;r<td.length;r++)(t>>r&1)===1&&(n^=td[r]);return n}function nd(e,t,n=1){const r=e.length;let s=1;for(let i=0;i<r;i++){const o=e.charCodeAt(i);if(o<33||o>126)throw new Error(`Invalid prefix (${e})`);s=Gt(s)^o>>5}s=Gt(s);for(let i=0;i<r;i++)s=Gt(s)^e.charCodeAt(i)&31;for(let i of t)s=Gt(s)^i;for(let i=0;i<6;i++)s=Gt(s);return s^=n,la.encode(ua([s%2**30],30,5,!1))}function up(e){const t=e==="bech32"?1:734539939,n=ut(5),r=n.decode,s=n.encode,i=Xf(r);function o(l,f,d=90){if(typeof l!="string")throw new Error(`bech32.encode prefix should be string, not ${typeof l}`);if(!Array.isArray(f)||f.length&&typeof f[0]!="number")throw new Error(`bech32.encode words should be array of numbers, not ${typeof f}`);const p=l.length+7+f.length;if(d!==!1&&p>d)throw new TypeError(`Length ${p} exceeds limit ${d}`);return l=l.toLowerCase(),`${l}1${la.encode(f)}${nd(l,f,t)}`}function a(l,f=90){if(typeof l!="string")throw new Error(`bech32.decode input should be string, not ${typeof l}`);if(l.length<8||f!==!1&&l.length>f)throw new TypeError(`Wrong string length: ${l.length} (${l}). Expected (8..${f})`);const d=l.toLowerCase();if(l!==d&&l!==l.toUpperCase())throw new Error("String must be lowercase or uppercase");l=d;const p=l.lastIndexOf("1");if(p===0||p===-1)throw new Error('Letter "1" must be present between prefix and data only');const g=l.slice(0,p),h=l.slice(p+1);if(h.length<6)throw new Error("Data must be at least 6 characters long");const m=la.decode(h).slice(0,-6),y=nd(g,m,t);if(!h.endsWith(y))throw new Error(`Invalid checksum in ${l}: expected "${y}"`);return{prefix:g,words:m}}const u=Xf(a);function c(l){const{prefix:f,words:d}=a(l,!1);return{prefix:f,words:d,bytes:r(d)}}return{encode:o,decode:a,decodeToBytes:c,decodeUnsafe:u,fromWords:r,fromWordsUnsafe:i,toWords:s}}const Jn=up("bech32");up("bech32m");const mx={encode:e=>new TextDecoder().decode(e),decode:e=>new TextEncoder().encode(e)},yx=He(ut(4),Ke("0123456789abcdef"),Ve(""),ip(e=>{if(typeof e!="string"||e.length%2)throw new TypeError(`hex.decode: expected string, got ${typeof e} with length ${e.length}`);return e.toLowerCase()})),bx={utf8:mx,hex:yx,base16:dx,base32:hx,base64:ap,base64url:px,base58:ca,base58xmr:gx};`${Object.keys(bx).join(", ")}`;var Tn=new TextDecoder("utf-8"),fa=new TextEncoder,cp=5e3;function vx(e){const t=new Uint8Array(4);return t[0]=e>>24&255,t[1]=e>>16&255,t[2]=e>>8&255,t[3]=e&255,t}function wx(e){let{prefix:t,words:n}=Jn.decode(e,cp),r=new Uint8Array(Jn.fromWords(n));switch(t){case"nprofile":{let s=Po(r);if(!s[0]?.[0])throw new Error("missing TLV 0 for nprofile");if(s[0][0].length!==32)throw new Error("TLV 0 should be 32 bytes");return{type:"nprofile",data:{pubkey:Ae(s[0][0]),relays:s[1]?s[1].map(i=>Tn.decode(i)):[]}}}case"nevent":{let s=Po(r);if(!s[0]?.[0])throw new Error("missing TLV 0 for nevent");if(s[0][0].length!==32)throw new Error("TLV 0 should be 32 bytes");if(s[2]&&s[2][0].length!==32)throw new Error("TLV 2 should be 32 bytes");if(s[3]&&s[3][0].length!==4)throw new Error("TLV 3 should be 4 bytes");return{type:"nevent",data:{id:Ae(s[0][0]),relays:s[1]?s[1].map(i=>Tn.decode(i)):[],author:s[2]?.[0]?Ae(s[2][0]):void 0,kind:s[3]?.[0]?parseInt(Ae(s[3][0]),16):void 0}}}case"naddr":{let s=Po(r);if(!s[0]?.[0])throw new Error("missing TLV 0 for naddr");if(!s[2]?.[0])throw new Error("missing TLV 2 for naddr");if(s[2][0].length!==32)throw new Error("TLV 2 should be 32 bytes");if(!s[3]?.[0])throw new Error("missing TLV 3 for naddr");if(s[3][0].length!==4)throw new Error("TLV 3 should be 4 bytes");return{type:"naddr",data:{identifier:Tn.decode(s[0][0]),pubkey:Ae(s[2][0]),kind:parseInt(Ae(s[3][0]),16),relays:s[1]?s[1].map(i=>Tn.decode(i)):[]}}}case"nsec":return{type:t,data:r};case"npub":case"note":return{type:t,data:Ae(r)};default:throw new Error(`unknown prefix ${t}`)}}function Po(e){let t={},n=e;for(;n.length>0;){let r=n[0],s=n[1],i=n.slice(2,2+s);if(n=n.slice(2+s),i.length<s)throw new Error(`not enough data to read on TLV ${r}`);t[r]=t[r]||[],t[r].push(i)}return t}function OA(e){return _x("npub",Gn(e))}function Qa(e,t){let n=Jn.toWords(t);return Jn.encode(e,n,cp)}function _x(e,t){return Qa(e,t)}function AA(e){let t;e.kind!==void 0&&(t=vx(e.kind));let n=lp({0:[Gn(e.id)],1:(e.relays||[]).map(r=>fa.encode(r)),2:e.author?[Gn(e.author)]:[],3:t?[new Uint8Array(t)]:[]});return Qa("nevent",n)}function RA(e){let t=new ArrayBuffer(4);new DataView(t).setUint32(0,e.kind,!1);let n=lp({0:[fa.encode(e.identifier)],1:(e.relays||[]).map(r=>fa.encode(r)),2:[Gn(e.pubkey)],3:[new Uint8Array(t)]});return Qa("naddr",n)}function lp(e){let t=[];return Object.entries(e).reverse().forEach(([n,r])=>{r.forEach(s=>{let i=new Uint8Array(s.length+2);i.set([parseInt(n)],0),i.set([s.length],1),i.set(s,2),t.push(i)})}),cx(...t)}const Sx=["reply","root","mention"],xx=/(?<url>(?:https?|wss?):\/\/[-a-zA-Z0-9.]+(:\d{1,5})?(?:\/[-[\]~!$&'()*+.,:;@&=%\w]+|\/)*(?:\?[-[\]~!$&'()*+.,/:;%@&=\w?]+)?(?:#[-[\]~!$&'()*+.,/:;%@\w&=?#]+)?)/g,Ex=/(?:#\[(?<idx>\d+)\])/g,Ox=/(?<mention>(?<nip19>nostr:)?(?<bech32>(?:npub|note|nprofile|nevent|naddr)1[ac-hj-np-z02-9]+))/gi,Ax=/#(?<hashtag>[\p{Letter}\p{Number}_]+)/gu,Rx=/:(?<emoji>\w+):/gu,Tx=e=>{const t=[...e.matchAll(xx),...e.matchAll(Ex),...e.matchAll(Ox),...e.matchAll(Ax),...e.matchAll(Rx)].sort((i,o)=>i.index-o.index);let n=0;const r=[],s=i=>{if(i!=null&&i>n){const o=e.slice(n,i),a=r[r.length-1];if(a?.type==="PlainText")a.content+=o;else{const u={type:"PlainText",content:o};r.push(u)}n=i}};return t.forEach(i=>{const{index:o}=i;if(!(o<n)){if(i.groups?.url){s(o);const a={type:"URL",content:i.groups?.url};r.push(a)}else if(i.groups?.idx){const a=parseInt(i.groups.idx,10);s(o),r.push({type:"TagReference",tagIndex:a,content:i[0]})}else if(i.groups?.mention){s(o);try{const a=wx(i.groups.bech32),u={type:"Bech32Entity",content:i[0],data:a,isNIP19:i.groups.nip19==="nostr:"};if((a.type==="npub"||a.type==="note")&&!Ee(a.data)||a.type==="nprofile"&&!Ee(a.data.pubkey)||a.type==="nevent"&&!(Ee(a.data.id)&&(a.data.author==null||Ee(a.data.author)))||a.type==="naddr"&&!Ee(a.data.pubkey)||a.type==="nsec"&&a.data.length!==32)throw new Error("Invalid ID");r.push(u)}catch(a){console.warn(`ignored invalid bech32 entity: ${i[0]}`,a),s(o+i[0].length)}}else if(i.groups?.hashtag){s(o);const a=i.groups?.hashtag,u={type:"HashTag",content:i[0],tagName:a};r.push(u)}else if(i.groups?.emoji){s(o);const a=i.groups?.emoji,u={type:"CustomEmoji",content:i[0],shortcode:a};r.push(u)}n=o+i[0].length}}),n<e.length&&s(e.length),r},Px=e=>e==null?!1:Sx.includes(e),Cx=(e,{tagIndex:t,content:n})=>{const r=e.tags[t];if(r==null)return;const s=r[0];if(s==="p"&&Ee(r[1]))return{type:"MentionedUser",tagIndex:t,content:n,pubkey:r[1]};if(s==="e"&&Ee(r[1])){const i=Px(r[3])?r[3]:void 0;return{type:"MentionedEvent",tagIndex:t,content:n,eventId:r[1],marker:i}}},Ix=(e,t)=>e.map(n=>{if(n.type==="TagReference"){const r=Cx(t,n);return{...n,type:"TagReferenceResolved",reference:r}}if(n.type==="CustomEmoji"){const r=t.getEmojiUrl(n.shortcode);return{...n,type:"CustomEmojiResolved",url:r}}return n}),kx=e=>{const t=e.map((r,s)=>[r,s]).filter(([[r,s]])=>r==="e"&&Ee(s)),n=(r,s)=>r==="root"||r==="reply"||r==="mention"?r:t.length===1?"reply":s===0?"root":t.length===2||s===t.length-1?"reply":"mention";return t.map(([[,r,s,i],o],a)=>({id:r,relayUrl:(s?.length??0)>0?s:null,marker:n(i,a),index:o}))};class $x extends Ga{#e;#t;parsed(){if(this.#t!=null)return this.#t;const t=Tx(this.content),n=Ix(t,this);return this.#t=n,n}markedEventTags(){return this.#e!=null?this.#e:(this.#e=kx(this.tags),this.#e)}replyingToEvent(){return this.markedEventTags().find(({marker:t})=>t==="reply")}rootEvent(){return this.markedEventTags().find(({marker:t})=>t==="root")}mentionedEvents(){return this.markedEventTags().filter(({marker:t})=>t==="mention")}contentWarning(){const t=this.findLastTagByName("content-warning");return t==null?{contentWarning:!1}:{contentWarning:!0,reason:(t[1]?.length??0)>0?t[1]:void 0}}containsEventMention(t){const n=this.rawEvent.tags.findIndex(([r,s])=>r==="e"&&s===t);return this.containsEventNote(t)||this.containsEventMentionIndex(n)}containsEventMentionIndex(t){return t<0||t>=this.rawEvent.tags.length?!1:this.parsed().some(n=>n.type==="TagReferenceResolved"&&n.tagIndex===t)}containsEventNote(t){return this.parsed().some(n=>n.type==="Bech32Entity"&&(n.data.type==="nevent"&&n.data.data.id===t||n.data.type==="note"&&n.data.data===t))}}class Lx extends $x{constructor(t){if(t.kind!==ta)throw new TypeError(`kind should be 1 but it was ${t.kind}`);super(t)}}const Nx=e=>new Ga(e),TA=e=>new Lx(e),PA=e=>new np(e);function da(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`Wrong positive integer: ${e}`)}function zx(e){if(typeof e!="boolean")throw new Error(`Expected boolean, not ${e}`)}function fp(e,...t){if(!(e instanceof Uint8Array))throw new Error("Expected Uint8Array");if(t.length>0&&!t.includes(e.length))throw new Error(`Expected Uint8Array of length ${t}, not of length=${e.length}`)}function jx(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");da(e.outputLen),da(e.blockLen)}function Fx(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function qx(e,t){fp(e);const n=t.outputLen;if(e.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}const Co={number:da,bool:zx,bytes:fp,hash:jx,exists:Fx,output:qx};function Dx(e,t,n,r){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,n,r);const s=BigInt(32),i=BigInt(4294967295),o=Number(n>>s&i),a=Number(n&i),u=r?4:0,c=r?0:4;e.setUint32(t+u,o,r),e.setUint32(t+c,a,r)}let Ux=class extends lx{constructor(t,n,r,s){super(),this.blockLen=t,this.outputLen=n,this.padOffset=r,this.isLE=s,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=To(this.buffer)}update(t){Co.exists(this);const{view:n,buffer:r,blockLen:s}=this;t=rp(t);const i=t.length;for(let o=0;o<i;){const a=Math.min(s-this.pos,i-o);if(a===s){const u=To(t);for(;s<=i-o;o+=s)this.process(u,o);continue}r.set(t.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===s&&(this.process(n,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){Co.exists(this),Co.output(t,this),this.finished=!0;const{buffer:n,view:r,blockLen:s,isLE:i}=this;let{pos:o}=this;n[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>s-o&&(this.process(r,0),o=0);for(let f=o;f<s;f++)n[f]=0;Dx(r,s-8,BigInt(this.length*8),i),this.process(r,0);const a=To(t),u=this.outputLen;if(u%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const c=u/4,l=this.get();if(c>l.length)throw new Error("_sha2: outputLen bigger than state");for(let f=0;f<c;f++)a.setUint32(4*f,l[f],i)}digest(){const{buffer:t,outputLen:n}=this;this.digestInto(t);const r=t.slice(0,n);return this.destroy(),r}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:n,buffer:r,length:s,finished:i,destroyed:o,pos:a}=this;return t.length=s,t.pos=a,t.finished=i,t.destroyed=o,s%n&&t.buffer.set(r),t}};const Mx=(e,t,n)=>e&t^~e&n,Bx=(e,t,n)=>e&t^e&n^t&n,Zx=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),We=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Je=new Uint32Array(64);let dp=class extends Ux{constructor(){super(64,32,8,!1),this.A=We[0]|0,this.B=We[1]|0,this.C=We[2]|0,this.D=We[3]|0,this.E=We[4]|0,this.F=We[5]|0,this.G=We[6]|0,this.H=We[7]|0}get(){const{A:t,B:n,C:r,D:s,E:i,F:o,G:a,H:u}=this;return[t,n,r,s,i,o,a,u]}set(t,n,r,s,i,o,a,u){this.A=t|0,this.B=n|0,this.C=r|0,this.D=s|0,this.E=i|0,this.F=o|0,this.G=a|0,this.H=u|0}process(t,n){for(let f=0;f<16;f++,n+=4)Je[f]=t.getUint32(n,!1);for(let f=16;f<64;f++){const d=Je[f-15],p=Je[f-2],g=ke(d,7)^ke(d,18)^d>>>3,h=ke(p,17)^ke(p,19)^p>>>10;Je[f]=h+Je[f-7]+g+Je[f-16]|0}let{A:r,B:s,C:i,D:o,E:a,F:u,G:c,H:l}=this;for(let f=0;f<64;f++){const d=ke(a,6)^ke(a,11)^ke(a,25),p=l+d+Mx(a,u,c)+Zx[f]+Je[f]|0,h=(ke(r,2)^ke(r,13)^ke(r,22))+Bx(r,s,i)|0;l=c,c=u,u=a,a=o+p|0,o=i,i=s,s=r,r=p+h|0}r=r+this.A|0,s=s+this.B|0,i=i+this.C|0,o=o+this.D|0,a=a+this.E|0,u=u+this.F|0,c=c+this.G|0,l=l+this.H|0,this.set(r,s,i,o,a,u,c,l)}roundClean(){Je.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}};class Hx extends dp{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}}const Kx=sp(()=>new dp);sp(()=>new Hx);function Vx(e){return!(!e.api_url||e.delegated_to_url&&e.api_url)}async function Gx(e){const t="/.well-known/nostr/nip96.json";let n="";try{const{origin:r}=new URL(e);n=r+t}catch{throw new Error("Invalid URL")}try{const r=await fetch(n);if(!r.ok)throw new Error(`Error fetching ${n}: ${r.statusText}`);const s=await r.json();if(!s)throw new Error("No data");if(!Vx(s))throw new Error("Invalid configuration data");return s}catch{throw new Error("Error fetching.")}}function Wx(e){if(typeof e!="object"||e===null||!e.status||!e.message||e.status!=="success"&&e.status!=="error"&&e.status!=="processing"||typeof e.message!="string"||e.status==="processing"&&!e.processing_url||e.processing_url&&typeof e.processing_url!="string"||e.status==="success"&&!e.nip94_event)return!1;if(e.nip94_event){if(!e.nip94_event.tags||!Array.isArray(e.nip94_event.tags)||e.nip94_event.tags.length===0)return!1;for(const t of e.nip94_event.tags)if(!Array.isArray(t)||t.length!==2||typeof t[0]!="string"||typeof t[1]!="string")return!1;if(!e.nip94_event.tags.find(t=>t[0]==="url")||!e.nip94_event.tags.find(t=>t[0]==="ox"))return!1}return!0}function Jx(e){return!(typeof e!="object"||e===null||!e.status||!e.message||!e.percentage||e.status!=="processing"&&e.status!=="error"||typeof e.message!="string"||typeof e.percentage!="number"||Number(e.percentage)<0||Number(e.percentage)>100)}async function Qx(e){const t=await fetch(e);if(!t.ok)throw new Error(`Failed to retrieve processing status. Server responded with status: ${t.status}`);try{const n=await t.json();if(t.status===201){if(!Wx(n))throw new Error("Invalid response from the server!");return n}if(t.status===200){if(!Jx(n))throw new Error("Invalid response from the server!");return n}throw new Error("Invalid response from the server!")}catch{throw new Error("Error parsing JSON response!")}}function rd(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`Wrong positive integer: ${e}`)}function hp(e,...t){if(!(e instanceof Uint8Array))throw new Error("Expected Uint8Array");if(t.length>0&&!t.includes(e.length))throw new Error(`Expected Uint8Array of length ${t}, not of length=${e.length}`)}function Yx(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");rd(e.outputLen),rd(e.blockLen)}function Qn(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function Xx(e,t){hp(e);const n=t.outputLen;if(e.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}const Io=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;const pp=e=>e instanceof Uint8Array,ko=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),$e=(e,t)=>e<<32-t|e>>>t,eE=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!eE)throw new Error("Non little-endian hardware is not supported");function tE(e){if(typeof e!="string")throw new Error(`utf8ToBytes expected string, got ${typeof e}`);return new Uint8Array(new TextEncoder().encode(e))}function Ya(e){if(typeof e=="string"&&(e=tE(e)),!pp(e))throw new Error(`expected Uint8Array, got ${typeof e}`);return e}function nE(...e){const t=new Uint8Array(e.reduce((r,s)=>r+s.length,0));let n=0;return e.forEach(r=>{if(!pp(r))throw new Error("Uint8Array expected");t.set(r,n),n+=r.length}),t}class gp{clone(){return this._cloneInto()}}function rE(e){const t=r=>e().update(Ya(r)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}function mp(e=32){if(Io&&typeof Io.getRandomValues=="function")return Io.getRandomValues(new Uint8Array(e));throw new Error("crypto.getRandomValues must be defined")}function sE(e,t,n,r){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,n,r);const s=BigInt(32),i=BigInt(4294967295),o=Number(n>>s&i),a=Number(n&i),u=r?4:0,c=r?0:4;e.setUint32(t+u,o,r),e.setUint32(t+c,a,r)}class iE extends gp{constructor(t,n,r,s){super(),this.blockLen=t,this.outputLen=n,this.padOffset=r,this.isLE=s,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=ko(this.buffer)}update(t){Qn(this);const{view:n,buffer:r,blockLen:s}=this;t=Ya(t);const i=t.length;for(let o=0;o<i;){const a=Math.min(s-this.pos,i-o);if(a===s){const u=ko(t);for(;s<=i-o;o+=s)this.process(u,o);continue}r.set(t.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===s&&(this.process(n,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){Qn(this),Xx(t,this),this.finished=!0;const{buffer:n,view:r,blockLen:s,isLE:i}=this;let{pos:o}=this;n[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>s-o&&(this.process(r,0),o=0);for(let f=o;f<s;f++)n[f]=0;sE(r,s-8,BigInt(this.length*8),i),this.process(r,0);const a=ko(t),u=this.outputLen;if(u%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const c=u/4,l=this.get();if(c>l.length)throw new Error("_sha2: outputLen bigger than state");for(let f=0;f<c;f++)a.setUint32(4*f,l[f],i)}digest(){const{buffer:t,outputLen:n}=this;this.digestInto(t);const r=t.slice(0,n);return this.destroy(),r}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:n,buffer:r,length:s,finished:i,destroyed:o,pos:a}=this;return t.length=s,t.pos=a,t.finished=i,t.destroyed=o,s%n&&t.buffer.set(r),t}}const oE=(e,t,n)=>e&t^~e&n,aE=(e,t,n)=>e&t^e&n^t&n,uE=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Qe=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Ye=new Uint32Array(64);class cE extends iE{constructor(){super(64,32,8,!1),this.A=Qe[0]|0,this.B=Qe[1]|0,this.C=Qe[2]|0,this.D=Qe[3]|0,this.E=Qe[4]|0,this.F=Qe[5]|0,this.G=Qe[6]|0,this.H=Qe[7]|0}get(){const{A:t,B:n,C:r,D:s,E:i,F:o,G:a,H:u}=this;return[t,n,r,s,i,o,a,u]}set(t,n,r,s,i,o,a,u){this.A=t|0,this.B=n|0,this.C=r|0,this.D=s|0,this.E=i|0,this.F=o|0,this.G=a|0,this.H=u|0}process(t,n){for(let f=0;f<16;f++,n+=4)Ye[f]=t.getUint32(n,!1);for(let f=16;f<64;f++){const d=Ye[f-15],p=Ye[f-2],g=$e(d,7)^$e(d,18)^d>>>3,h=$e(p,17)^$e(p,19)^p>>>10;Ye[f]=h+Ye[f-7]+g+Ye[f-16]|0}let{A:r,B:s,C:i,D:o,E:a,F:u,G:c,H:l}=this;for(let f=0;f<64;f++){const d=$e(a,6)^$e(a,11)^$e(a,25),p=l+d+oE(a,u,c)+uE[f]+Ye[f]|0,h=($e(r,2)^$e(r,13)^$e(r,22))+aE(r,s,i)|0;l=c,c=u,u=a,a=o+p|0,o=i,i=s,s=r,r=p+h|0}r=r+this.A|0,s=s+this.B|0,i=i+this.C|0,o=o+this.D|0,a=a+this.E|0,u=u+this.F|0,c=c+this.G|0,l=l+this.H|0,this.set(r,s,i,o,a,u,c,l)}roundClean(){Ye.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const ha=rE(()=>new cE);const yp=BigInt(0),Or=BigInt(1),lE=BigInt(2),Ar=e=>e instanceof Uint8Array,fE=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function Dt(e){if(!Ar(e))throw new Error("Uint8Array expected");let t="";for(let n=0;n<e.length;n++)t+=fE[e[n]];return t}function bp(e){const t=e.toString(16);return t.length&1?`0${t}`:t}function Xa(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);return BigInt(e===""?"0":`0x${e}`)}function Ut(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);const t=e.length;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);const n=new Uint8Array(t/2);for(let r=0;r<n.length;r++){const s=r*2,i=e.slice(s,s+2),o=Number.parseInt(i,16);if(Number.isNaN(o)||o<0)throw new Error("Invalid byte sequence");n[r]=o}return n}function me(e){return Xa(Dt(e))}function eu(e){if(!Ar(e))throw new Error("Uint8Array expected");return Xa(Dt(Uint8Array.from(e).reverse()))}function it(e,t){return Ut(e.toString(16).padStart(t*2,"0"))}function tu(e,t){return it(e,t).reverse()}function dE(e){return Ut(bp(e))}function de(e,t,n){let r;if(typeof t=="string")try{r=Ut(t)}catch(i){throw new Error(`${e} must be valid hex string, got "${t}". Cause: ${i}`)}else if(Ar(t))r=Uint8Array.from(t);else throw new Error(`${e} must be hex string or Uint8Array`);const s=r.length;if(typeof n=="number"&&s!==n)throw new Error(`${e} expected ${n} bytes, got ${s}`);return r}function bt(...e){const t=new Uint8Array(e.reduce((r,s)=>r+s.length,0));let n=0;return e.forEach(r=>{if(!Ar(r))throw new Error("Uint8Array expected");t.set(r,n),n+=r.length}),t}function hE(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function pE(e){if(typeof e!="string")throw new Error(`utf8ToBytes expected string, got ${typeof e}`);return new Uint8Array(new TextEncoder().encode(e))}function gE(e){let t;for(t=0;e>yp;e>>=Or,t+=1);return t}function mE(e,t){return e>>BigInt(t)&Or}const yE=(e,t,n)=>e|(n?Or:yp)<<BigInt(t),nu=e=>(lE<<BigInt(e-1))-Or,$o=e=>new Uint8Array(e),sd=e=>Uint8Array.from(e);function vp(e,t,n){if(typeof e!="number"||e<2)throw new Error("hashLen must be a number");if(typeof t!="number"||t<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");let r=$o(e),s=$o(e),i=0;const o=()=>{r.fill(1),s.fill(0),i=0},a=(...f)=>n(s,r,...f),u=(f=$o())=>{s=a(sd([0]),f),r=a(),f.length!==0&&(s=a(sd([1]),f),r=a())},c=()=>{if(i++>=1e3)throw new Error("drbg: tried 1000 values");let f=0;const d=[];for(;f<t;){r=a();const p=r.slice();d.push(p),f+=r.length}return bt(...d)};return(f,d)=>{o(),u(f);let p;for(;!(p=d(c()));)u();return o(),p}}const bE={bigint:e=>typeof e=="bigint",function:e=>typeof e=="function",boolean:e=>typeof e=="boolean",string:e=>typeof e=="string",stringOrUint8Array:e=>typeof e=="string"||e instanceof Uint8Array,isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>typeof e=="function"&&Number.isSafeInteger(e.outputLen)};function yn(e,t,n={}){const r=(s,i,o)=>{const a=bE[i];if(typeof a!="function")throw new Error(`Invalid validator "${i}", expected function`);const u=e[s];if(!(o&&u===void 0)&&!a(u,e))throw new Error(`Invalid param ${String(s)}=${u} (${typeof u}), expected ${i}`)};for(const[s,i]of Object.entries(t))r(s,i,!1);for(const[s,i]of Object.entries(n))r(s,i,!0);return e}const vE=Object.freeze(Object.defineProperty({__proto__:null,bitGet:mE,bitLen:gE,bitMask:nu,bitSet:yE,bytesToHex:Dt,bytesToNumberBE:me,bytesToNumberLE:eu,concatBytes:bt,createHmacDrbg:vp,ensureBytes:de,equalBytes:hE,hexToBytes:Ut,hexToNumber:Xa,numberToBytesBE:it,numberToBytesLE:tu,numberToHexUnpadded:bp,numberToVarBytesBE:dE,utf8ToBytes:pE,validateObject:yn},Symbol.toStringTag,{value:"Module"}));const ie=BigInt(0),re=BigInt(1),dt=BigInt(2),wE=BigInt(3),pa=BigInt(4),id=BigInt(5),od=BigInt(8);BigInt(9);BigInt(16);function ue(e,t){const n=e%t;return n>=ie?n:t+n}function _E(e,t,n){if(n<=ie||t<ie)throw new Error("Expected power/modulo > 0");if(n===re)return ie;let r=re;for(;t>ie;)t&re&&(r=r*e%n),e=e*e%n,t>>=re;return r}function ve(e,t,n){let r=e;for(;t-- >ie;)r*=r,r%=n;return r}function ga(e,t){if(e===ie||t<=ie)throw new Error(`invert: expected positive integers, got n=${e} mod=${t}`);let n=ue(e,t),r=t,s=ie,i=re;for(;n!==ie;){const a=r/n,u=r%n,c=s-i*a;r=n,n=u,s=i,i=c}if(r!==re)throw new Error("invert: does not exist");return ue(s,t)}function SE(e){const t=(e-re)/dt;let n,r,s;for(n=e-re,r=0;n%dt===ie;n/=dt,r++);for(s=dt;s<e&&_E(s,t,e)!==e-re;s++);if(r===1){const o=(e+re)/pa;return function(u,c){const l=u.pow(c,o);if(!u.eql(u.sqr(l),c))throw new Error("Cannot find square root");return l}}const i=(n+re)/dt;return function(a,u){if(a.pow(u,t)===a.neg(a.ONE))throw new Error("Cannot find square root");let c=r,l=a.pow(a.mul(a.ONE,s),n),f=a.pow(u,i),d=a.pow(u,n);for(;!a.eql(d,a.ONE);){if(a.eql(d,a.ZERO))return a.ZERO;let p=1;for(let h=a.sqr(d);p<c&&!a.eql(h,a.ONE);p++)h=a.sqr(h);const g=a.pow(l,re<<BigInt(c-p-1));l=a.sqr(g),f=a.mul(f,g),d=a.mul(d,l),c=p}return f}}function xE(e){if(e%pa===wE){const t=(e+re)/pa;return function(r,s){const i=r.pow(s,t);if(!r.eql(r.sqr(i),s))throw new Error("Cannot find square root");return i}}if(e%od===id){const t=(e-id)/od;return function(r,s){const i=r.mul(s,dt),o=r.pow(i,t),a=r.mul(s,o),u=r.mul(r.mul(a,dt),o),c=r.mul(a,r.sub(u,r.ONE));if(!r.eql(r.sqr(c),s))throw new Error("Cannot find square root");return c}}return SE(e)}const EE=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function OE(e){const t={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=EE.reduce((r,s)=>(r[s]="function",r),t);return yn(e,n)}function AE(e,t,n){if(n<ie)throw new Error("Expected power > 0");if(n===ie)return e.ONE;if(n===re)return t;let r=e.ONE,s=t;for(;n>ie;)n&re&&(r=e.mul(r,s)),s=e.sqr(s),n>>=re;return r}function RE(e,t){const n=new Array(t.length),r=t.reduce((i,o,a)=>e.is0(o)?i:(n[a]=i,e.mul(i,o)),e.ONE),s=e.inv(r);return t.reduceRight((i,o,a)=>e.is0(o)?i:(n[a]=e.mul(i,n[a]),e.mul(i,o)),s),n}function wp(e,t){const n=t!==void 0?t:e.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function TE(e,t,n=!1,r={}){if(e<=ie)throw new Error(`Expected Field ORDER > 0, got ${e}`);const{nBitLength:s,nByteLength:i}=wp(e,t);if(i>2048)throw new Error("Field lengths over 2048 bytes are not supported");const o=xE(e),a=Object.freeze({ORDER:e,BITS:s,BYTES:i,MASK:nu(s),ZERO:ie,ONE:re,create:u=>ue(u,e),isValid:u=>{if(typeof u!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof u}`);return ie<=u&&u<e},is0:u=>u===ie,isOdd:u=>(u&re)===re,neg:u=>ue(-u,e),eql:(u,c)=>u===c,sqr:u=>ue(u*u,e),add:(u,c)=>ue(u+c,e),sub:(u,c)=>ue(u-c,e),mul:(u,c)=>ue(u*c,e),pow:(u,c)=>AE(a,u,c),div:(u,c)=>ue(u*ga(c,e),e),sqrN:u=>u*u,addN:(u,c)=>u+c,subN:(u,c)=>u-c,mulN:(u,c)=>u*c,inv:u=>ga(u,e),sqrt:r.sqrt||(u=>o(a,u)),invertBatch:u=>RE(a,u),cmov:(u,c,l)=>l?c:u,toBytes:u=>n?tu(u,i):it(u,i),fromBytes:u=>{if(u.length!==i)throw new Error(`Fp.fromBytes: expected ${i}, got ${u.length}`);return n?eu(u):me(u)}});return Object.freeze(a)}function _p(e){if(typeof e!="bigint")throw new Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}function Sp(e){const t=_p(e);return t+Math.ceil(t/2)}function PE(e,t,n=!1){const r=e.length,s=_p(t),i=Sp(t);if(r<16||r<i||r>1024)throw new Error(`expected ${i}-1024 bytes of input, got ${r}`);const o=n?me(e):eu(e),a=ue(o,t-re)+re;return n?tu(a,s):it(a,s)}const CE=BigInt(0),Lo=BigInt(1);function IE(e,t){const n=(s,i)=>{const o=i.negate();return s?o:i},r=s=>{const i=Math.ceil(t/s)+1,o=2**(s-1);return{windows:i,windowSize:o}};return{constTimeNegate:n,unsafeLadder(s,i){let o=e.ZERO,a=s;for(;i>CE;)i&Lo&&(o=o.add(a)),a=a.double(),i>>=Lo;return o},precomputeWindow(s,i){const{windows:o,windowSize:a}=r(i),u=[];let c=s,l=c;for(let f=0;f<o;f++){l=c,u.push(l);for(let d=1;d<a;d++)l=l.add(c),u.push(l);c=l.double()}return u},wNAF(s,i,o){const{windows:a,windowSize:u}=r(s);let c=e.ZERO,l=e.BASE;const f=BigInt(2**s-1),d=2**s,p=BigInt(s);for(let g=0;g<a;g++){const h=g*u;let m=Number(o&f);o>>=p,m>u&&(m-=d,o+=Lo);const y=h,b=h+Math.abs(m)-1,_=g%2!==0,v=m<0;m===0?l=l.add(n(_,i[y])):c=c.add(n(v,i[b]))}return{p:c,f:l}},wNAFCached(s,i,o,a){const u=s._WINDOW_SIZE||1;let c=i.get(s);return c||(c=this.precomputeWindow(s,u),u!==1&&i.set(s,a(c))),this.wNAF(u,c,o)}}}function xp(e){return OE(e.Fp),yn(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...wp(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}function kE(e){const t=xp(e);yn(t,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:n,Fp:r,a:s}=t;if(n){if(!r.eql(s,r.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof n!="object"||typeof n.beta!="bigint"||typeof n.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...t})}const{bytesToNumberBE:$E,hexToBytes:LE}=vE,pt={Err:class extends Error{constructor(t=""){super(t)}},_parseInt(e){const{Err:t}=pt;if(e.length<2||e[0]!==2)throw new t("Invalid signature integer tag");const n=e[1],r=e.subarray(2,n+2);if(!n||r.length!==n)throw new t("Invalid signature integer: wrong length");if(r[0]&128)throw new t("Invalid signature integer: negative");if(r[0]===0&&!(r[1]&128))throw new t("Invalid signature integer: unnecessary leading zero");return{d:$E(r),l:e.subarray(n+2)}},toSig(e){const{Err:t}=pt,n=typeof e=="string"?LE(e):e;if(!(n instanceof Uint8Array))throw new Error("ui8a expected");let r=n.length;if(r<2||n[0]!=48)throw new t("Invalid signature tag");if(n[1]!==r-2)throw new t("Invalid signature: incorrect length");const{d:s,l:i}=pt._parseInt(n.subarray(2)),{d:o,l:a}=pt._parseInt(i);if(a.length)throw new t("Invalid signature: left bytes after parsing");return{r:s,s:o}},hexFromSig(e){const t=c=>Number.parseInt(c[0],16)&8?"00"+c:c,n=c=>{const l=c.toString(16);return l.length&1?`0${l}`:l},r=t(n(e.s)),s=t(n(e.r)),i=r.length/2,o=s.length/2,a=n(i),u=n(o);return`30${n(o+i+4)}02${u}${s}02${a}${r}`}},De=BigInt(0),Se=BigInt(1);BigInt(2);const ad=BigInt(3);BigInt(4);function NE(e){const t=kE(e),{Fp:n}=t,r=t.toBytes||((g,h,m)=>{const y=h.toAffine();return bt(Uint8Array.from([4]),n.toBytes(y.x),n.toBytes(y.y))}),s=t.fromBytes||(g=>{const h=g.subarray(1),m=n.fromBytes(h.subarray(0,n.BYTES)),y=n.fromBytes(h.subarray(n.BYTES,2*n.BYTES));return{x:m,y}});function i(g){const{a:h,b:m}=t,y=n.sqr(g),b=n.mul(y,g);return n.add(n.add(b,n.mul(g,h)),m)}if(!n.eql(n.sqr(t.Gy),i(t.Gx)))throw new Error("bad generator point: equation left != right");function o(g){return typeof g=="bigint"&&De<g&&g<t.n}function a(g){if(!o(g))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function u(g){const{allowedPrivateKeyLengths:h,nByteLength:m,wrapPrivateKey:y,n:b}=t;if(h&&typeof g!="bigint"){if(g instanceof Uint8Array&&(g=Dt(g)),typeof g!="string"||!h.includes(g.length))throw new Error("Invalid key");g=g.padStart(m*2,"0")}let _;try{_=typeof g=="bigint"?g:me(de("private key",g,m))}catch{throw new Error(`private key must be ${m} bytes, hex or bigint, not ${typeof g}`)}return y&&(_=ue(_,b)),a(_),_}const c=new Map;function l(g){if(!(g instanceof f))throw new Error("ProjectivePoint expected")}class f{constructor(h,m,y){if(this.px=h,this.py=m,this.pz=y,h==null||!n.isValid(h))throw new Error("x required");if(m==null||!n.isValid(m))throw new Error("y required");if(y==null||!n.isValid(y))throw new Error("z required")}static fromAffine(h){const{x:m,y}=h||{};if(!h||!n.isValid(m)||!n.isValid(y))throw new Error("invalid affine point");if(h instanceof f)throw new Error("projective point not allowed");const b=_=>n.eql(_,n.ZERO);return b(m)&&b(y)?f.ZERO:new f(m,y,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(h){const m=n.invertBatch(h.map(y=>y.pz));return h.map((y,b)=>y.toAffine(m[b])).map(f.fromAffine)}static fromHex(h){const m=f.fromAffine(s(de("pointHex",h)));return m.assertValidity(),m}static fromPrivateKey(h){return f.BASE.multiply(u(h))}_setWindowSize(h){this._WINDOW_SIZE=h,c.delete(this)}assertValidity(){if(this.is0()){if(t.allowInfinityPoint&&!n.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:h,y:m}=this.toAffine();if(!n.isValid(h)||!n.isValid(m))throw new Error("bad point: x or y not FE");const y=n.sqr(m),b=i(h);if(!n.eql(y,b))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:h}=this.toAffine();if(n.isOdd)return!n.isOdd(h);throw new Error("Field doesn't support isOdd")}equals(h){l(h);const{px:m,py:y,pz:b}=this,{px:_,py:v,pz:w}=h,E=n.eql(n.mul(m,w),n.mul(_,b)),A=n.eql(n.mul(y,w),n.mul(v,b));return E&&A}negate(){return new f(this.px,n.neg(this.py),this.pz)}double(){const{a:h,b:m}=t,y=n.mul(m,ad),{px:b,py:_,pz:v}=this;let w=n.ZERO,E=n.ZERO,A=n.ZERO,C=n.mul(b,b),j=n.mul(_,_),I=n.mul(v,v),R=n.mul(b,_);return R=n.add(R,R),A=n.mul(b,v),A=n.add(A,A),w=n.mul(h,A),E=n.mul(y,I),E=n.add(w,E),w=n.sub(j,E),E=n.add(j,E),E=n.mul(w,E),w=n.mul(R,w),A=n.mul(y,A),I=n.mul(h,I),R=n.sub(C,I),R=n.mul(h,R),R=n.add(R,A),A=n.add(C,C),C=n.add(A,C),C=n.add(C,I),C=n.mul(C,R),E=n.add(E,C),I=n.mul(_,v),I=n.add(I,I),C=n.mul(I,R),w=n.sub(w,C),A=n.mul(I,j),A=n.add(A,A),A=n.add(A,A),new f(w,E,A)}add(h){l(h);const{px:m,py:y,pz:b}=this,{px:_,py:v,pz:w}=h;let E=n.ZERO,A=n.ZERO,C=n.ZERO;const j=t.a,I=n.mul(t.b,ad);let R=n.mul(m,_),q=n.mul(y,v),$=n.mul(b,w),L=n.add(m,y),O=n.add(_,v);L=n.mul(L,O),O=n.add(R,q),L=n.sub(L,O),O=n.add(m,b);let T=n.add(_,w);return O=n.mul(O,T),T=n.add(R,$),O=n.sub(O,T),T=n.add(y,b),E=n.add(v,w),T=n.mul(T,E),E=n.add(q,$),T=n.sub(T,E),C=n.mul(j,O),E=n.mul(I,$),C=n.add(E,C),E=n.sub(q,C),C=n.add(q,C),A=n.mul(E,C),q=n.add(R,R),q=n.add(q,R),$=n.mul(j,$),O=n.mul(I,O),q=n.add(q,$),$=n.sub(R,$),$=n.mul(j,$),O=n.add(O,$),R=n.mul(q,O),A=n.add(A,R),R=n.mul(T,O),E=n.mul(L,E),E=n.sub(E,R),R=n.mul(L,q),C=n.mul(T,C),C=n.add(C,R),new f(E,A,C)}subtract(h){return this.add(h.negate())}is0(){return this.equals(f.ZERO)}wNAF(h){return p.wNAFCached(this,c,h,m=>{const y=n.invertBatch(m.map(b=>b.pz));return m.map((b,_)=>b.toAffine(y[_])).map(f.fromAffine)})}multiplyUnsafe(h){const m=f.ZERO;if(h===De)return m;if(a(h),h===Se)return this;const{endo:y}=t;if(!y)return p.unsafeLadder(this,h);let{k1neg:b,k1:_,k2neg:v,k2:w}=y.splitScalar(h),E=m,A=m,C=this;for(;_>De||w>De;)_&Se&&(E=E.add(C)),w&Se&&(A=A.add(C)),C=C.double(),_>>=Se,w>>=Se;return b&&(E=E.negate()),v&&(A=A.negate()),A=new f(n.mul(A.px,y.beta),A.py,A.pz),E.add(A)}multiply(h){a(h);let m=h,y,b;const{endo:_}=t;if(_){const{k1neg:v,k1:w,k2neg:E,k2:A}=_.splitScalar(m);let{p:C,f:j}=this.wNAF(w),{p:I,f:R}=this.wNAF(A);C=p.constTimeNegate(v,C),I=p.constTimeNegate(E,I),I=new f(n.mul(I.px,_.beta),I.py,I.pz),y=C.add(I),b=j.add(R)}else{const{p:v,f:w}=this.wNAF(m);y=v,b=w}return f.normalizeZ([y,b])[0]}multiplyAndAddUnsafe(h,m,y){const b=f.BASE,_=(w,E)=>E===De||E===Se||!w.equals(b)?w.multiplyUnsafe(E):w.multiply(E),v=_(this,m).add(_(h,y));return v.is0()?void 0:v}toAffine(h){const{px:m,py:y,pz:b}=this,_=this.is0();h==null&&(h=_?n.ONE:n.inv(b));const v=n.mul(m,h),w=n.mul(y,h),E=n.mul(b,h);if(_)return{x:n.ZERO,y:n.ZERO};if(!n.eql(E,n.ONE))throw new Error("invZ was invalid");return{x:v,y:w}}isTorsionFree(){const{h,isTorsionFree:m}=t;if(h===Se)return!0;if(m)return m(f,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h,clearCofactor:m}=t;return h===Se?this:m?m(f,this):this.multiplyUnsafe(t.h)}toRawBytes(h=!0){return this.assertValidity(),r(f,this,h)}toHex(h=!0){return Dt(this.toRawBytes(h))}}f.BASE=new f(t.Gx,t.Gy,n.ONE),f.ZERO=new f(n.ZERO,n.ONE,n.ZERO);const d=t.nBitLength,p=IE(f,t.endo?Math.ceil(d/2):d);return{CURVE:t,ProjectivePoint:f,normPrivateKeyToScalar:u,weierstrassEquation:i,isWithinCurveOrder:o}}function zE(e){const t=xp(e);return yn(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}function jE(e){const t=zE(e),{Fp:n,n:r}=t,s=n.BYTES+1,i=2*n.BYTES+1;function o(O){return De<O&&O<n.ORDER}function a(O){return ue(O,r)}function u(O){return ga(O,r)}const{ProjectivePoint:c,normPrivateKeyToScalar:l,weierstrassEquation:f,isWithinCurveOrder:d}=NE({...t,toBytes(O,T,z){const B=T.toAffine(),x=n.toBytes(B.x),P=bt;return z?P(Uint8Array.from([T.hasEvenY()?2:3]),x):P(Uint8Array.from([4]),x,n.toBytes(B.y))},fromBytes(O){const T=O.length,z=O[0],B=O.subarray(1);if(T===s&&(z===2||z===3)){const x=me(B);if(!o(x))throw new Error("Point is not on curve");const P=f(x);let k=n.sqrt(P);const M=(k&Se)===Se;return(z&1)===1!==M&&(k=n.neg(k)),{x,y:k}}else if(T===i&&z===4){const x=n.fromBytes(B.subarray(0,n.BYTES)),P=n.fromBytes(B.subarray(n.BYTES,2*n.BYTES));return{x,y:P}}else throw new Error(`Point of length ${T} was invalid. Expected ${s} compressed bytes or ${i} uncompressed bytes`)}}),p=O=>Dt(it(O,t.nByteLength));function g(O){const T=r>>Se;return O>T}function h(O){return g(O)?a(-O):O}const m=(O,T,z)=>me(O.slice(T,z));class y{constructor(T,z,B){this.r=T,this.s=z,this.recovery=B,this.assertValidity()}static fromCompact(T){const z=t.nByteLength;return T=de("compactSignature",T,z*2),new y(m(T,0,z),m(T,z,2*z))}static fromDER(T){const{r:z,s:B}=pt.toSig(de("DER",T));return new y(z,B)}assertValidity(){if(!d(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!d(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(T){return new y(this.r,this.s,T)}recoverPublicKey(T){const{r:z,s:B,recovery:x}=this,P=A(de("msgHash",T));if(x==null||![0,1,2,3].includes(x))throw new Error("recovery id invalid");const k=x===2||x===3?z+t.n:z;if(k>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const M=(x&1)===0?"02":"03",te=c.fromHex(M+p(k)),fe=u(k),Pe=a(-P*fe),ct=a(B*fe),Ce=c.BASE.multiplyAndAddUnsafe(te,Pe,ct);if(!Ce)throw new Error("point at infinify");return Ce.assertValidity(),Ce}hasHighS(){return g(this.s)}normalizeS(){return this.hasHighS()?new y(this.r,a(-this.s),this.recovery):this}toDERRawBytes(){return Ut(this.toDERHex())}toDERHex(){return pt.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return Ut(this.toCompactHex())}toCompactHex(){return p(this.r)+p(this.s)}}const b={isValidPrivateKey(O){try{return l(O),!0}catch{return!1}},normPrivateKeyToScalar:l,randomPrivateKey:()=>{const O=Sp(t.n);return PE(t.randomBytes(O),t.n)},precompute(O=8,T=c.BASE){return T._setWindowSize(O),T.multiply(BigInt(3)),T}};function _(O,T=!0){return c.fromPrivateKey(O).toRawBytes(T)}function v(O){const T=O instanceof Uint8Array,z=typeof O=="string",B=(T||z)&&O.length;return T?B===s||B===i:z?B===2*s||B===2*i:O instanceof c}function w(O,T,z=!0){if(v(O))throw new Error("first arg must be private key");if(!v(T))throw new Error("second arg must be public key");return c.fromHex(T).multiply(l(O)).toRawBytes(z)}const E=t.bits2int||function(O){const T=me(O),z=O.length*8-t.nBitLength;return z>0?T>>BigInt(z):T},A=t.bits2int_modN||function(O){return a(E(O))},C=nu(t.nBitLength);function j(O){if(typeof O!="bigint")throw new Error("bigint expected");if(!(De<=O&&O<C))throw new Error(`bigint expected < 2^${t.nBitLength}`);return it(O,t.nByteLength)}function I(O,T,z=R){if(["recovered","canonical"].some(lt=>lt in z))throw new Error("sign() legacy options not supported");const{hash:B,randomBytes:x}=t;let{lowS:P,prehash:k,extraEntropy:M}=z;P==null&&(P=!0),O=de("msgHash",O),k&&(O=de("prehashed msgHash",B(O)));const te=A(O),fe=l(T),Pe=[j(fe),j(te)];if(M!=null){const lt=M===!0?x(n.BYTES):M;Pe.push(de("extraEntropy",lt))}const ct=bt(...Pe),Ce=te;function Cr(lt){const Et=E(lt);if(!d(Et))return;const ou=u(Et),Ie=c.BASE.multiply(Et).toAffine(),Ot=a(Ie.x);if(Ot===De)return;const bn=a(ou*a(Ce+Ot*fe));if(bn===De)return;let au=(Ie.x===Ot?0:2)|Number(Ie.y&Se),uu=bn;return P&&g(bn)&&(uu=h(bn),au^=1),new y(Ot,uu,au)}return{seed:ct,k2sig:Cr}}const R={lowS:t.lowS,prehash:!1},q={lowS:t.lowS,prehash:!1};function $(O,T,z=R){const{seed:B,k2sig:x}=I(O,T,z),P=t;return vp(P.hash.outputLen,P.nByteLength,P.hmac)(B,x)}c.BASE._setWindowSize(8);function L(O,T,z,B=q){const x=O;if(T=de("msgHash",T),z=de("publicKey",z),"strict"in B)throw new Error("options.strict was renamed to lowS");const{lowS:P,prehash:k}=B;let M,te;try{if(typeof x=="string"||x instanceof Uint8Array)try{M=y.fromDER(x)}catch(Ie){if(!(Ie instanceof pt.Err))throw Ie;M=y.fromCompact(x)}else if(typeof x=="object"&&typeof x.r=="bigint"&&typeof x.s=="bigint"){const{r:Ie,s:Ot}=x;M=new y(Ie,Ot)}else throw new Error("PARSE");te=c.fromHex(z)}catch(Ie){if(Ie.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(P&&M.hasHighS())return!1;k&&(T=t.hash(T));const{r:fe,s:Pe}=M,ct=A(T),Ce=u(Pe),Cr=a(ct*Ce),lt=a(fe*Ce),Et=c.BASE.multiplyAndAddUnsafe(te,Cr,lt)?.toAffine();return Et?a(Et.x)===fe:!1}return{CURVE:t,getPublicKey:_,getSharedSecret:w,sign:$,verify:L,ProjectivePoint:c,Signature:y,utils:b}}class Ep extends gp{constructor(t,n){super(),this.finished=!1,this.destroyed=!1,Yx(t);const r=Ya(n);if(this.iHash=t.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const s=this.blockLen,i=new Uint8Array(s);i.set(r.length>s?t.create().update(r).digest():r);for(let o=0;o<i.length;o++)i[o]^=54;this.iHash.update(i),this.oHash=t.create();for(let o=0;o<i.length;o++)i[o]^=106;this.oHash.update(i),i.fill(0)}update(t){return Qn(this),this.iHash.update(t),this}digestInto(t){Qn(this),hp(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){const t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:s,destroyed:i,blockLen:o,outputLen:a}=this;return t=t,t.finished=s,t.destroyed=i,t.blockLen=o,t.outputLen=a,t.oHash=n._cloneInto(t.oHash),t.iHash=r._cloneInto(t.iHash),t}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const Op=(e,t,n)=>new Ep(e,t).update(n).digest();Op.create=(e,t)=>new Ep(e,t);function FE(e){return{hash:e,hmac:(t,...n)=>Op(e,t,nE(...n)),randomBytes:mp}}function qE(e,t){const n=r=>jE({...e,...FE(r)});return Object.freeze({...n(t),create:n})}const Rr=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),Yn=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),Ap=BigInt(1),Xn=BigInt(2),ud=(e,t)=>(e+t/Xn)/t;function Rp(e){const t=Rr,n=BigInt(3),r=BigInt(6),s=BigInt(11),i=BigInt(22),o=BigInt(23),a=BigInt(44),u=BigInt(88),c=e*e*e%t,l=c*c*e%t,f=ve(l,n,t)*l%t,d=ve(f,n,t)*l%t,p=ve(d,Xn,t)*c%t,g=ve(p,s,t)*p%t,h=ve(g,i,t)*g%t,m=ve(h,a,t)*h%t,y=ve(m,u,t)*m%t,b=ve(y,a,t)*h%t,_=ve(b,n,t)*l%t,v=ve(_,o,t)*g%t,w=ve(v,r,t)*c%t,E=ve(w,Xn,t);if(!ma.eql(ma.sqr(E),e))throw new Error("Cannot find square root");return E}const ma=TE(Rr,void 0,void 0,{sqrt:Rp}),ru=qE({a:BigInt(0),b:BigInt(7),Fp:ma,n:Yn,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{const t=Yn,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-Ap*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),s=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),i=n,o=BigInt("0x100000000000000000000000000000000"),a=ud(i*e,t),u=ud(-r*e,t);let c=ue(e-a*n-u*s,t),l=ue(-a*r-u*i,t);const f=c>o,d=l>o;if(f&&(c=t-c),d&&(l=t-l),c>o||l>o)throw new Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:f,k1:c,k2neg:d,k2:l}}}},ha),Tr=BigInt(0),Tp=e=>typeof e=="bigint"&&Tr<e&&e<Rr,DE=e=>typeof e=="bigint"&&Tr<e&&e<Yn,cd={};function er(e,...t){let n=cd[e];if(n===void 0){const r=ha(Uint8Array.from(e,s=>s.charCodeAt(0)));n=bt(r,r),cd[e]=n}return ha(bt(n,...t))}const su=e=>e.toRawBytes(!0).slice(1),ya=e=>it(e,32),No=e=>ue(e,Rr),fn=e=>ue(e,Yn),iu=ru.ProjectivePoint,UE=(e,t,n)=>iu.BASE.multiplyAndAddUnsafe(e,t,n);function ba(e){let t=ru.utils.normPrivateKeyToScalar(e),n=iu.fromPrivateKey(t);return{scalar:n.hasEvenY()?t:fn(-t),bytes:su(n)}}function Pp(e){if(!Tp(e))throw new Error("bad x: need 0 < x < p");const t=No(e*e),n=No(t*e+BigInt(7));let r=Rp(n);r%Xn!==Tr&&(r=No(-r));const s=new iu(e,r,Ap);return s.assertValidity(),s}function Cp(...e){return fn(me(er("BIP0340/challenge",...e)))}function ME(e){return ba(e).bytes}function BE(e,t,n=mp(32)){const r=de("message",e),{bytes:s,scalar:i}=ba(t),o=de("auxRand",n,32),a=ya(i^me(er("BIP0340/aux",o))),u=er("BIP0340/nonce",a,s,r),c=fn(me(u));if(c===Tr)throw new Error("sign failed: k is zero");const{bytes:l,scalar:f}=ba(c),d=Cp(l,s,r),p=new Uint8Array(64);if(p.set(l,0),p.set(ya(fn(f+d*i)),32),!Ip(p,r,s))throw new Error("sign: Invalid signature produced");return p}function Ip(e,t,n){const r=de("signature",e,64),s=de("message",t),i=de("publicKey",n,32);try{const o=Pp(me(i)),a=me(r.subarray(0,32));if(!Tp(a))return!1;const u=me(r.subarray(32,64));if(!DE(u))return!1;const c=Cp(ya(a),su(o),s),l=UE(o,u,fn(-c));return!(!l||!l.hasEvenY()||l.toAffine().x!==a)}catch{return!1}}const Wt={getPublicKey:ME,sign:BE,verify:Ip,utils:{randomPrivateKey:ru.utils.randomPrivateKey,lift_x:Pp,pointToBytes:su,numberToBytesBE:it,bytesToNumberBE:me,taggedHash:er,mod:ue}};var Tt=Symbol("verified"),ZE=e=>e instanceof Object;function HE(e){if(!ZE(e)||typeof e.kind!="number"||typeof e.content!="string"||typeof e.created_at!="number"||typeof e.pubkey!="string"||!e.pubkey.match(/^[a-f0-9]{64}$/)||!Array.isArray(e.tags))return!1;for(let t=0;t<e.tags.length;t++){let n=e.tags[t];if(!Array.isArray(n))return!1;for(let r=0;r<n.length;r++)if(typeof n[r]=="object")return!1}return!0}new TextDecoder("utf-8");var kp=new TextEncoder,KE=class{generateSecretKey(){return Wt.utils.randomPrivateKey()}getPublicKey(e){return Ae(Wt.getPublicKey(e))}finalizeEvent(e,t){const n=e;return n.pubkey=Ae(Wt.getPublicKey(t)),n.id=zo(n),n.sig=Ae(Wt.sign(zo(n),t)),n[Tt]=!0,n}verifyEvent(e){if(typeof e[Tt]=="boolean")return e[Tt];const t=zo(e);if(t!==e.id)return e[Tt]=!1,!1;try{const n=Wt.verify(e.sig,t,e.pubkey);return e[Tt]=n,n}catch{return e[Tt]=!1,!1}}};function VE(e){if(!HE(e))throw new Error("can't serialize event with wrong or missing properties");return JSON.stringify([0,e.pubkey,e.created_at,e.kind,e.tags,e.content])}function zo(e){let t=Kx(kp.encode(VE(e)));return Ae(t)}var Pr=new KE;Pr.generateSecretKey;Pr.getPublicKey;Pr.finalizeEvent;Pr.verifyEvent;var GE=27235,WE="Nostr ";async function JE(e,t,n,r=!1,s){const i={kind:GE,tags:[["u",e],["method",t]],created_at:Math.round(new Date().getTime()/1e3),content:""},o=await n(i);return(r?WE:"")+ap.encode(kp.encode(JSON.stringify(o)))}const QE=e=>new Promise(t=>{setTimeout(t,e)}),ld=ye({type:G("nip96"),name:H(),serverUrl:H().url()}),YE=[{type:"nip96",name:"nostr.build",serverUrl:"https://nostr.build/"},{type:"nip96",name:"nostrcheck.me",serverUrl:"https://nostrcheck.me/"},{type:"nip96",name:"files.sovbit.host",serverUrl:"https://files.sovbit.host/"},{type:"nip96",name:"nostpic.com",serverUrl:"https://nostpic.com/"},{type:"nip96",name:"void.cat",serverUrl:"https://void.cat/"},{type:"nip96",name:"yabu.me",serverUrl:"https://yabu.me/"}],$A=e=>{const t=e.nip94_event?.tags;return t==null||t.length===0?null:["imeta",...t.map(([r,s])=>`${r} ${s}`)]},XE=e=>{const t=window.nostr;if(t==null)throw new Error("NIP-07 implementation not found");return JE(e,"POST",i=>t.signEvent(i),!0)},eO=async e=>{const s=async(i,o)=>{if(o<=0)throw new Error("Upload timeout");const a=await Qx(e);return a.status!=="processing"?a:(await QE(i),s(i*1.7,o-1))};return s(1e3,5)},tO=async(e,t)=>{const n=new FormData;n.set("file",t.file),n.set("content_type",t.file.type),n.set("size",t.file.size.toString(10));const r=new Headers;t.authorizationHeader!=null&&r.set("Authorization",t.authorizationHeader);const i=await(await fetch(e,{method:"POST",headers:r,body:n})).json();if(i.status==="processing"){if(i.processing_url==null)throw new Error("processing url is not specified");await eO(i.processing_url)}if(i.status==="error")throw new Error(`failed to upload: ${i.message}`);return i},nO=5,rO=async e=>{const t=async(n,r=nO)=>{if(r<=0)throw new Error("Max redirect");const s=await Gx(n);if(s.api_url==null||s.api_url.length===0){if(s.delegated_to_url==null)throw new Error("api_url is blank and delegated_to_url is not specified");return t(s.delegated_to_url,r-1)}return s};return t(e)},sO=(e,t)=>e.startsWith("/")?new URL(e,t).toString():e,iO=async({serverUrl:e,files:t})=>{const n=await rO(e),r=sO(n.api_url,e),s=await XE(r),i=Array.from(t).map(async o=>tO(r,{authorizationHeader:s,file:o}));return Promise.allSettled(i)},LA=e=>t=>iO({files:t,serverUrl:e.serverUrl}),$p=e=>`^(?:${e}):\\/\\/[\\-a-zA-Z0-9.]+(:\\d{1,5})?(?:\\/[\\-\\[\\]~!$&'\\(\\)*+.,:;@&=%\\w]+|\\/)*(?:\\?[\\-\\[\\]~!$&'\\(\\)*+.,\\/:;%@&=\\w?]+)?(?:#[\\-\\[\\]~!$&'\\(\\)*+.,\\/:;%@\\w&=?#]+)?$`,NA=$p("https?"),zA=$p("wss?"),oO=e=>e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),aO=e=>new RegExp(e.map(oO).join("|")),uO=e=>e.flags.indexOf("i")>=0?e:new RegExp(e.source,`${e.flags}i`),cO=ye({shortcode:H(),url:H()}),lO=ye({type:G("specific"),id:H()}),fO=St([ye({type:G("emoji"),emoji:H()}),ye({type:G("url"),url:H()})]),jA=ye({relayUrls:ge(H()),columns:ge(x1),fileServer:ld,customFileServers:ge(ld),customEmojis:$S(H(),cO),colorTheme:lO,dateFormat:St([G("relative"),G("absolute-long"),G("absolute-short")]),keepOpenPostForm:Ge(),useEmojiReaction:Ge(),showEmojiReaction:Ge(),showMedia:Ge(),embedding:ye({twitter:Ge(),youtube:Ge(),ogp:Ge()}),hideCount:Ge(),mutedPubkeys:ge(H()),mutedKeywords:ge(H()),mutedReactions:ge(fO),mutedThreads:ge(H())}),dO=()=>{const e=[...o1];return window.navigator.language.includes("ja")&&e.push(...a1),e},Lp=()=>({relayUrls:dO(),columns:[],fileServer:YE[0],customFileServers:[],customEmojis:{},colorTheme:{type:"specific",id:"sakura"},dateFormat:"relative",keepOpenPostForm:!1,useEmojiReaction:!0,showEmojiReaction:!0,showMedia:!0,embedding:{twitter:!0,youtube:!0,ogp:!0},hideCount:!1,mutedPubkeys:[],mutedKeywords:[],mutedReactions:[],mutedThreads:[]}),hO=e=>JSON.stringify(e),pO=e=>({...Lp(),...JSON.parse(e)}),gO=Jh(()=>window.localStorage,hO,pO),[we,ne]=et(()=>Qh("RabbitConfig",Lp(),gO)),mO=()=>{const e=W1(),t=()=>{const x=we.colorTheme;return x.type==="specific"&&xo[x.id]!=null?xo[x.id]:xo.sakura},n=x=>{ne("relayUrls",P=>kt([...P,x]))},r=x=>{ne("relayUrls",P=>P.filter(k=>k!==x))},s=x=>{ne("mutedPubkeys",P=>kt([...P,x]))},i=x=>{ne("mutedPubkeys",P=>P.filter(k=>k!==x))},o=x=>{ne("mutedKeywords",P=>kt([...P,x]))},a=x=>{ne("mutedKeywords",P=>P.filter(k=>k!==x))},u=x=>{ne("mutedReactions",P=>kt([...P,x]))},c=x=>{ne("mutedReactions",P=>P.filter(k=>!ub(k,x)))},l=x=>{ne("mutedThreads",P=>kt([...P,x]))},f=x=>{ne("mutedThreads",P=>P.filter(k=>k!==x))},d=x=>{ne("columns",P=>{const k=P.findIndex(M=>M.id===x.id);if(k>=0){const M=[...P];return M.splice(k,1,x),M}return[...P,x]})},p=(x,P)=>{ne("columns",k=>{const M=P-1,te=Math.max(Math.min(M,k.length),0),fe=k.findIndex(Ce=>Ce.id===x);if(fe<0||te===fe)return k;console.log(fe,te);const Pe=[...k],[ct]=Pe.splice(fe,1);return Pe.splice(te,0,ct),Pe})},g=(x,P)=>{const k=we.columns.findIndex(M=>M.id===P);p(x,k+1)},h=x=>{ne("columns",P=>P.filter(k=>k.id!==x))},m=x=>{ne("fileServer",x)},y=x=>{ne("customFileServers",P=>[...P,x])},b=x=>{ne("customFileServers",P=>P.filter(({name:k})=>k!==x))},_=x=>{ne("customEmojis",P=>({...P,[x.shortcode]:x}))},v=x=>{ne("customEmojis",P=>{const k=Object.fromEntries(x.map(M=>[M.shortcode,M]));return{...P,...k}})},w=x=>{ne("customEmojis",P=>({...P,[x]:void 0}))},E=x=>we.customEmojis[x],A=x=>Wb(Object.values(we.customEmojis).filter(({shortcode:P})=>P.includes(x)),[P=>P.shortcode.length]),C=Z(()=>new Set(we.mutedPubkeys)),j=x=>C().has(x),I=Z(()=>we.mutedKeywords.length===0?null:uO(aO(we.mutedKeywords))),R=x=>{if(x.kind===ta){const P=I();return P==null?!1:P.test(x.content)}return!1},q=Z(()=>{const x=we.mutedReactions.filter(P=>P.type==="emoji").map(P=>P.emoji);return new Set(x)}),$=Z(()=>{const x=we.mutedReactions.filter(P=>P.type==="url").map(P=>P.url);return new Set(x)}),L=x=>{if(x.kind===na){if(q().has(x.content))return!0;const k=new np(x).getUrl();return k==null?!1:$().has(k)}return!1},O=Z(()=>new Set(we.mutedThreads)),T=x=>O().has(x);return{config:()=>we,setConfig:ne,getColorTheme:t,addRelay:n,removeRelay:r,saveColumn:d,moveColumn:p,moveColumnById:g,removeColumn:h,initializeColumns:({pubkey:x})=>{if((we.columns?.length??0)>0)return;const P=[E1({width:"widest",pubkey:x}),O1({pubkey:x,notificationTypes:["Replies","Repost","Reaction","Zap"]}),T1({name:e.t("column.myPosts"),pubkey:x}),P1({name:e.t("column.myReactions"),pubkey:x})];navigator.language.includes("ja")&&P.splice(2,0,R1()),ne("columns",()=>[...P])},setFileServer:m,addCustomFileServer:y,removeCustomFileServer:b,saveEmoji:_,saveEmojis:v,removeEmoji:w,getEmoji:E,searchEmojis:A,addMutedPubkey:s,removeMutedPubkey:i,addMutedKeyword:o,removeMutedKeyword:a,addMutedReaction:u,removeMutedReaction:c,addMutedThread:l,removeMutedThread:f,isPubkeyMuted:j,shouldMuteEvent:x=>{const P=Nx(x);return j(x.pubkey)||T(x.id)||P.taggedPubkeys().some(j)||x.kind===ta&&R(x)||x.kind===na&&L(x)||P.taggedEventIds().some(k=>T(k))}}},yO=e=>{const{getColorTheme:t}=mO();Mt(()=>{const n=t(),{className:r}=n;r!=null&&(e.classList.add(r),Ne(()=>{e.classList.remove(r)}))})},Np={loggedIn:!1,agreements:{nostrBuild:!1}},bO=e=>JSON.stringify(e),vO=e=>JSON.parse(e),wO=Jh(()=>window.localStorage,bO,vO),[fd,dd]=et(()=>Qh("RabbitPersistStatus",Np,wO)),_O=()=>({persistStatus:()=>({...Np,...fd}),loggedIn:()=>{dd(r=>({...r,loggedIn:!0}))},agreeToToS:r=>{dd("agreements",s=>({...s,[r]:!0}))},didAgreeToToS:r=>fd.agreements[r]??!1}),{slice:SO,forEach:xO}=[];function EO(e){return xO.call(SO.call(arguments,1),t=>{if(t)for(const n in t)e[n]===void 0&&(e[n]=t[n])}),e}function OO(e){return typeof e!="string"?!1:[/<\s*script.*?>/i,/<\s*\/\s*script\s*>/i,/<\s*img.*?on\w+\s*=/i,/<\s*\w+\s*on\w+\s*=.*?>/i,/javascript\s*:/i,/vbscript\s*:/i,/expression\s*\(/i,/eval\s*\(/i,/alert\s*\(/i,/document\.cookie/i,/document\.write\s*\(/i,/window\.location/i,/innerHTML/i].some(n=>n.test(e))}const hd=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,AO=function(e,t){const r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{path:"/"},s=encodeURIComponent(t);let i=`${e}=${s}`;if(r.maxAge>0){const o=r.maxAge-0;if(Number.isNaN(o))throw new Error("maxAge should be a Number");i+=`; Max-Age=${Math.floor(o)}`}if(r.domain){if(!hd.test(r.domain))throw new TypeError("option domain is invalid");i+=`; Domain=${r.domain}`}if(r.path){if(!hd.test(r.path))throw new TypeError("option path is invalid");i+=`; Path=${r.path}`}if(r.expires){if(typeof r.expires.toUTCString!="function")throw new TypeError("option expires is invalid");i+=`; Expires=${r.expires.toUTCString()}`}if(r.httpOnly&&(i+="; HttpOnly"),r.secure&&(i+="; Secure"),r.sameSite)switch(typeof r.sameSite=="string"?r.sameSite.toLowerCase():r.sameSite){case!0:i+="; SameSite=Strict";break;case"lax":i+="; SameSite=Lax";break;case"strict":i+="; SameSite=Strict";break;case"none":i+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return r.partitioned&&(i+="; Partitioned"),i},pd={create(e,t,n,r){let s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};n&&(s.expires=new Date,s.expires.setTime(s.expires.getTime()+n*60*1e3)),r&&(s.domain=r),document.cookie=AO(e,t,s)},read(e){const t=`${e}=`,n=document.cookie.split(";");for(let r=0;r<n.length;r++){let s=n[r];for(;s.charAt(0)===" ";)s=s.substring(1,s.length);if(s.indexOf(t)===0)return s.substring(t.length,s.length)}return null},remove(e,t){this.create(e,"",-1,t)}};var RO={name:"cookie",lookup(e){let{lookupCookie:t}=e;if(t&&typeof document<"u")return pd.read(t)||void 0},cacheUserLanguage(e,t){let{lookupCookie:n,cookieMinutes:r,cookieDomain:s,cookieOptions:i}=t;n&&typeof document<"u"&&pd.create(n,e,r,s,i)}},TO={name:"querystring",lookup(e){let{lookupQuerystring:t}=e,n;if(typeof window<"u"){let{search:r}=window.location;!window.location.search&&window.location.hash?.indexOf("?")>-1&&(r=window.location.hash.substring(window.location.hash.indexOf("?")));const i=r.substring(1).split("&");for(let o=0;o<i.length;o++){const a=i[o].indexOf("=");a>0&&i[o].substring(0,a)===t&&(n=i[o].substring(a+1))}}return n}},PO={name:"hash",lookup(e){let{lookupHash:t,lookupFromHashIndex:n}=e,r;if(typeof window<"u"){const{hash:s}=window.location;if(s&&s.length>2){const i=s.substring(1);if(t){const o=i.split("&");for(let a=0;a<o.length;a++){const u=o[a].indexOf("=");u>0&&o[a].substring(0,u)===t&&(r=o[a].substring(u+1))}}if(r)return r;if(!r&&n>-1){const o=s.match(/\/([a-zA-Z-]*)/g);return Array.isArray(o)?o[typeof n=="number"?n:0]?.replace("/",""):void 0}}}return r}};let Pt=null;const gd=()=>{if(Pt!==null)return Pt;try{if(Pt=typeof window<"u"&&window.localStorage!==null,!Pt)return!1;const e="i18next.translate.boo";window.localStorage.setItem(e,"foo"),window.localStorage.removeItem(e)}catch{Pt=!1}return Pt};var CO={name:"localStorage",lookup(e){let{lookupLocalStorage:t}=e;if(t&&gd())return window.localStorage.getItem(t)||void 0},cacheUserLanguage(e,t){let{lookupLocalStorage:n}=t;n&&gd()&&window.localStorage.setItem(n,e)}};let Ct=null;const md=()=>{if(Ct!==null)return Ct;try{if(Ct=typeof window<"u"&&window.sessionStorage!==null,!Ct)return!1;const e="i18next.translate.boo";window.sessionStorage.setItem(e,"foo"),window.sessionStorage.removeItem(e)}catch{Ct=!1}return Ct};var IO={name:"sessionStorage",lookup(e){let{lookupSessionStorage:t}=e;if(t&&md())return window.sessionStorage.getItem(t)||void 0},cacheUserLanguage(e,t){let{lookupSessionStorage:n}=t;n&&md()&&window.sessionStorage.setItem(n,e)}},kO={name:"navigator",lookup(e){const t=[];if(typeof navigator<"u"){const{languages:n,userLanguage:r,language:s}=navigator;if(n)for(let i=0;i<n.length;i++)t.push(n[i]);r&&t.push(r),s&&t.push(s)}return t.length>0?t:void 0}},$O={name:"htmlTag",lookup(e){let{htmlTag:t}=e,n;const r=t||(typeof document<"u"?document.documentElement:null);return r&&typeof r.getAttribute=="function"&&(n=r.getAttribute("lang")),n}},LO={name:"path",lookup(e){let{lookupFromPathIndex:t}=e;if(typeof window>"u")return;const n=window.location.pathname.match(/\/([a-zA-Z-]*)/g);return Array.isArray(n)?n[typeof t=="number"?t:0]?.replace("/",""):void 0}},NO={name:"subdomain",lookup(e){let{lookupFromSubdomainIndex:t}=e;const n=typeof t=="number"?t+1:1,r=typeof window<"u"&&window.location?.hostname?.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i);if(r)return r[n]}};let zp=!1;try{document.cookie,zp=!0}catch{}const jp=["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"];zp||jp.splice(1,1);const zO=()=>({order:jp,lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:e=>e});class Fp{constructor(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.type="languageDetector",this.detectors={},this.init(t,n)}init(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{languageUtils:{}},n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=t,this.options=EO(n,this.options||{},zO()),typeof this.options.convertDetectedLanguage=="string"&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=s=>s.replace("-","_")),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=r,this.addDetector(RO),this.addDetector(TO),this.addDetector(CO),this.addDetector(IO),this.addDetector(kO),this.addDetector($O),this.addDetector(LO),this.addDetector(NO),this.addDetector(PO)}addDetector(t){return this.detectors[t.name]=t,this}detect(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.order,n=[];return t.forEach(r=>{if(this.detectors[r]){let s=this.detectors[r].lookup(this.options);s&&typeof s=="string"&&(s=[s]),s&&(n=n.concat(s))}}),n=n.filter(r=>r!=null&&!OO(r)).map(r=>this.options.convertDetectedLanguage(r)),this.services&&this.services.languageUtils&&this.services.languageUtils.getBestMatchFromCodes?n:n.length>0?n[0]:null}cacheUserLanguage(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.caches;n&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(t)>-1||n.forEach(r=>{this.detectors[r]&&this.detectors[r].cacheUserLanguage(t,this.options)}))}}Fp.type="languageDetector";const tr=(e,...t)=>{const n=String.raw(e,t),r=[],s=n.split(`
`);for(let i=0;i<s.length;i+=1){const a=s[i].trimStart();(r.length>0||a.length>0)&&r.push(a)}for(;r.length>0&&!(r[r.length-1].length>0);)r.pop();return r.join(`
`)},jO={general:{loading:"Loading",updating:"Updating"},notFound:{title:"Not found",back:"Back"},posting:{placeholder:"What's happening?",placeholderReply:"Post a reply",emojiPicker:"Emoji",contentWarning:"Content warning",contentWarningReason:"Reason of warning",uploadImage:"Upload image",submit:"Submit",close:"Close",forbiddenToIncludeNsec:"You cannot include private key (nsec).",failedToUploadFile:"Failed to upload files: {{filenames}}",replyToPre:"Reply to",replyToAnd:" and ",replyToPost:""},column:{home:"Home",notification:"Notification",relay:"Relay",followSet:"Follow set",japanese:"Japanese",posts:"User",reactions:"Reactions",channel:"Channel",bookmark:"Bookmark",search:"Search",myPosts:"My posts",myReactions:"My reactions",back:"Back",loadLatest:"Load latest posts",loadOld:"Load old posts",addRelayColumn:{add:"Add"},addFollowSetColumn:{numberOfFollowSets:"{{count}} followsets"},columnInfoCommon:{copyId:"Copy ID"},config:{columnWidth:"Column width",widest:"Widest",wide:"Wide",medium:"Medium",narrow:"Narrow",moveLeft:"Move left",moveRight:"Move right",removeColumn:"Remove"},notificationSettings:{notificationTypes:"Notification types",types:{replies:"Replies",reposts:"Reposts",reactions:"Reactions",zap:"Zap"}}},profile:{following:"Following",followers:"Followers",loadFollowers:"Load",editProfile:"Edit",follow:"Follow",unfollow:"Unfollow",followingCurrently:"Following",followsYou:"follows you",copyPubkey:"Copy ID",showJSON:"Show JSON",mute:"Mute",unmute:"Unmute",followMyself:"Follow myself",unfollowMyself:"Unfollow myself",addColumn:"Add column",addUserColumn:"Add user column",addUserHomeColumn:"Add home column",confirmUnfollow:"Do you really want to unfollow?",confirmUpdateEvenIfEmpty:tr`
      Your follow list appears to be empty.

      There is no problem if you are trying to follow for the first time.
      Otherwise, it may be caused by poor connections to relays.
      You should reload this page to reconnect to relays.
      You also should make sure you have configured the same relay list as the other clients.

      Do you want to continue?
    `,failedToUpdateFollowList:"Failed to update the follow list",failedToFetchLatestFollowList:"Failed to fetch the latest follow list. It may be disconnected from some relays.",edit:{icon:"Icon",banner:"Banner image",name:"Username",displayName:"Display Name",about:"About",website:"Website",nip05:"Domain verification (NIP-05)",lightningAddress:"LNURL address / lightning address",lightningAddressDescription:"Only one side will be saved.",otherProperties:"Other properties",save:"Save",cancel:"Cancel",updating:"updating...",updateSucceeded:"Updated successfully",failedToUpdatePartially:"Failed to update on {{count}} relays",failedToUpdate:"Failed to update on all relays"}},post:{replyToPre:"Replying to ",replyToPost:"",copyEventId:"Copy ID",showJSON:"Show JSON",muteThread:"Mute this thread",showReposts:"Show reposts",showReactions:"Show reactions",deletePost:"Delete",confirmDelete:"Do you really want to delete?",deletedSuccessfully:"Deleted successfully (reload to reflect)",failedToDeletePartially:"Failed to delete on {{count}} relays",failedToDelete:"Failed to delete",showImage:"Show image",showVideo:"Show video",showAudio:"Show audio player",showPreview:"Show preview",showOverflow:"Read more",hideOverflow:"Hide",download:"Download",contentWarning:{show:"Click to display",reason:"Reason",hide:"Hide"},failedToFetchEvent:"Failed to fetch event",unexpectedKind:"Unexpected eventkind:{{kind}}",unsupportedKind:"Unsupported eventkind:{{kind}}"},notification:{reposted:" reposted",reacted:" reacted",zapped:" zapped"},zap:{lud06:"LNURL address",lud16:"Lightning Address",fetchingLnUrlEndpoint:"Fetching LNURL endpoint...",fetchingLnUrlEndpointError:"Failed to fetch LNURL endpoint.",lnUrlEndpointError:"LNURL returned an error: ",fetchingLnUrlInvoice:"Fetching Lightning invoice...",fetchingLnUrlInvoiceError:"Failed to fetch Lightning invoice.",userDidNotConfigureZap:"You cannot Zap because the user did't configure Zap.",lnurlServiceDoesNotAllowNostr:"The LNURL service doesn't support Zap. This will be normal lightning payment.",zapSplitIsNotSupported:"Zap split is not supported yet. You'll zap to the author only.",comment:"Comment (optional)",sendViaWallet:"Send via wallet",sendViaWebLN:"Send via extension",completed:"Completed"},config:{config:"Settings",confirmImport:"Import? (The config will be overwritten)",copyToClipboard:"Copy to clipboard",importFromClipboard:"Import from clipboard",account:{profile:"Profile",openProfile:"Open",editProfile:"Edit",backupConfig:"Backup configuration",save:"Save",restore:"Restore",restored:"Successfully restored.",failedToRestore:"Failed to restore"},relays:{relays:"Relays",numOfRelays_one:"{{count}} relay is configured.",numOfRelays_other:"{{count}} relays are configured.",addRelay:"Add",importRelays:"Import",importFromExtension:"Import from browser extension",notConfigured:"No relays are configured.",askImport:"Do you want to import these relays?",failedToImport:"Failed to import.",imported_one:"Imported {{count}} relay.",imported_other:"Imported {{count}} relays"},posting:{posting:"Posting",fileServer:"File server",addCustomFileServer:"Add"},display:{display:"Display",colorTheme:"Color theme",timeNotation:"Time notation",relativeTimeNotation:"Relative",relativeTimeNotationExample:"7s",absoluteTimeNotationShort:"Absolute (short)",absoluteTimeNotationShortExample:"Yesterday 23:55",absoluteTimeNotationLong:"Absolute (long)",absoluteTimeNotationLongExample:"2020/11/8 21:02:53",reaction:"Reaction",enableEmojiReaction:"Enable emoji reaction",showEmojiReaction:"Show emoji reactions on posts",embedding:"Embedded contents",embeddingDescription:"Enable/disable embedding",others:"Others",keepOpenPostForm:"Remain the input field open after posting",showMediaByDefault:"Load media by default",hideNumbers:"Hide the numbers of reactions, reposts and followers"},customEmoji:{customEmoji:"Custom emojis",shortcode:"Name",url:"URL",addEmoji:"Add",removeEmoji:"Remove",emojiImport:"Emoji import",emojiImportDescription:"Paste a JSON where the keys are names and the values are image URLs",importEmoji:"Import"},mute:{mute:"Mute",mutedUsers:"Muted users",mutedKeywords:"Muted keywords",mutedReactions:{mutedReactions:"Muted reactions",emoji:"Emoji",url:"URL"},mutedThreads:"Muted threads",add:"Add"}},relayInfo:{administrator:"Administrator",contact:"Contact",software:"Software",version:"Version",supportedNips:"Supported NIPs",showJSON:"Show JSON",unknown:"Unknown"},hello:{signerChecking:"Checking that signer extension is installed...",signerUnavailable:"Please install a signer extension.",loginWithSigner:"Login with signer extension",signerUnavailableMessage:"You need to install a signer browser extension.",reloadAfterInstall:"Please reload after the installation is complete.",reload:"Reload"},about:{bugReport:"Report bug",sourceCode:"Source code",termOfService:"License",agplText:tr`
      This program is free software:

      you can redistribute it and/or modify it under the terms of
      the GNU Affero General Public License as published by
      the Free Software Foundation, either version 3 of the License,
      or (at your option) any later version.

      This program is distributed in the hope that it will be useful,
      but WITHOUT ANY WARRANTY; without even the implied warranty of
      MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
      GNU Affero General Public License for more details.
    `,agplTranslationJa:"Japanese translation as a reference",usingLibraries:"Using libraries"},domainTransfer:{announcementHead:"Rabbit has moved to the new domain",announcementDescription:"Please update your bookmark and links",howToMigrateSettings:"How to migrate settings",close:"Close"}},FO={general:{loading:"",updating:""},notFound:{title:"",back:""},posting:{placeholder:"",placeholderReply:"",emojiPicker:"",contentWarning:"",contentWarningReason:"",uploadImage:"",submit:"",close:"",forbiddenToIncludeNsec:"(nsec)",failedToUploadFile:": {{filenames}}",replyToPre:"",replyToAnd:"  ",replyToPost:""},column:{home:"",notification:"",relay:"",followSet:"",japanese:"",posts:"",reactions:"",channel:"",bookmark:"",search:"",myPosts:"",myReactions:"",back:"",loadLatest:"",loadOld:"",addRelayColumn:{add:""},addFollowSetColumn:{numberOfFollowSets:"{{count}} "},columnInfoCommon:{copyId:"ID"},config:{columnWidth:"",widest:"",wide:"",medium:"",narrow:"",moveLeft:"",moveRight:"",removeColumn:""},notificationSettings:{notificationTypes:"",types:{replies:"",reposts:"",reactions:"",zap:"Zap"}}},profile:{following:"",followers:"",loadFollowers:"",editProfile:"",follow:"",unfollow:"",followingCurrently:"",followsYou:"",copyPubkey:"ID",showJSON:"JSON",mute:"",unmute:"",followMyself:"",unfollowMyself:"",addColumn:"",addUserColumn:"",addUserHomeColumn:"",confirmUnfollow:"",confirmUpdateEvenIfEmpty:tr`
      
      
      

      
    `,failedToUpdateFollowList:"",failedToFetchLatestFollowList:"",edit:{icon:"",banner:"",name:"",displayName:"",about:"",website:"",nip05:"NIP-05",lightningAddress:"LNURL / ",lightningAddressDescription:"",otherProperties:"",save:"",cancel:"",updating:"...",updateSucceeded:"",failedToUpdatePartially:"{{count}}",failedToUpdate:""}},post:{replyToPre:"",replyToPost:"",copyEventId:"ID",showJSON:"JSON",muteThread:"",showReposts:"",showReactions:"",deletePost:"",confirmDelete:"",deletedSuccessfully:"",failedToDeletePartially:"{{count}}",failedToDelete:"",showImage:"",showVideo:"",showAudio:"",showPreview:"",showOverflow:"",hideOverflow:"",download:"",contentWarning:{show:"",reason:"",hide:""},failedToFetchEvent:"",unexpectedKind:"kind:{{kind}}",unsupportedKind:"kind:{{kind}}"},notification:{reposted:"",reacted:"",zapped:"Zap"},zap:{lud06:"LNURL",lud16:"",fetchingLnUrlEndpoint:"LNURL...",fetchingLnUrlEndpointError:"LNURL",lnUrlEndpointError:"LNURL: ",fetchingLnUrlInvoice:"...",fetchingLnUrlInvoiceError:"",userDidNotConfigureZap:"ZapZap",lnurlServiceDoesNotAllowNostr:"LNURLZap",zapSplitIsNotSupported:"Zap",comment:" ()",sendViaWallet:"",sendViaWebLN:"",completed:""},config:{config:"",confirmImport:"",copyToClipboard:"",importFromClipboard:"",account:{profile:"",openProfile:"",editProfile:"",backupConfig:"",save:"",restore:"",restored:"",failedToRestore:""},relays:{relays:"",numOfRelays_one:"{{count}}",numOfRelays_other:"{{count}}",addRelay:"",importRelays:"",importFromExtension:"",notConfigured:"",askImport:"",failedToImport:"",imported_one:"{{count}}",imported_other:"{{count}}"},posting:{posting:"",fileServer:"",addCustomFileServer:""},display:{display:"",colorTheme:"",timeNotation:"",relativeTimeNotation:"",relativeTimeNotationExample:"7",absoluteTimeNotationShort:" ()",absoluteTimeNotationShortExample:" 23:55",absoluteTimeNotationLong:" ()",absoluteTimeNotationLongExample:"2020/11/8 21:02:53",reaction:"",enableEmojiReaction:"",showEmojiReaction:"",embedding:"",embeddingDescription:"",others:"",keepOpenPostForm:"",showMediaByDefault:"",hideNumbers:""},customEmoji:{customEmoji:"",shortcode:"",url:"URL",addEmoji:"",removeEmoji:"",emojiImport:"",emojiImportDescription:"URLJSON",importEmoji:""},mute:{mute:"",mutedUsers:"",mutedKeywords:"",mutedReactions:{mutedReactions:"",emoji:"",url:"URL"},mutedThreads:"",add:""}},relayInfo:{administrator:"",contact:"",software:"",version:"",supportedNips:"NIP",showJSON:"JSON",unknown:""},hello:{signerChecking:"...",signerUnavailable:"",loginWithSigner:"",signerUnavailableMessage:"",reloadAfterInstall:"",reload:""},about:{bugReport:"",sourceCode:"",termOfService:"",agplText:tr`
      

       GNU
      3()
      

      
      ****

      ____ 
      GNU
    `,agplTranslationJa:"",usingLibraries:""},domainTransfer:{announcementHead:"Rabbit",announcementDescription:"",howToMigrateSettings:"",close:""}},qO=async()=>{try{return await oe.use(Fp).init({fallbackLng:"en",debug:!1,resources:{ja:{translation:FO},en:{translation:jO}}}),oe}catch(e){throw console.error("failed to setup i18next",e),e}},DO=ar(()=>ur(()=>import("./Hello-DFSlACoz.js"),__vite__mapDeps([0,1,2]))),UO=ar(()=>ur(()=>import("./Home-CXVCKyhf.js").then(e=>e.H),__vite__mapDeps([3,4,1,5,6,7,2,8,9,10]))),MO=ar(()=>ur(()=>import("./Permalink-BUQwqAiC.js"),__vite__mapDeps([11,4,1]))),BO=ar(()=>ur(()=>import("./NotFound-DYSMzI3p.js"),[])),yd=new ey({}),ZO=qO(),HO=Um({storage:{getItem(e){return ny(e).then(t=>t??null)},setItem(e,t){return ry(e,t)},removeItem(e){return sy(e)}}}),KO=()=>{const{persistStatus:e}=_O();return Q(va,{get when(){return e().loggedIn},get fallback(){return Q(DO,{})},get children(){return Q(UO,{})}})},VO=()=>(Mt(()=>{const[e]=Hm({queryClient:yd,persister:HO});Ne(()=>e())}),yO(document.body),Q(J1,{i18next:ZO,get children(){return Q(Km,{client:yd,get children(){return Q(nm,{get children(){return[Q(wn,{path:"/hello",component:()=>Q(rm,{href:"/"})}),Q(wn,{path:"/",component:()=>Q(KO,{})}),Q(wn,{path:"/:id",component:()=>Q(MO,{}),matchFilters:{id:/^(npub|nprofile)1[ac-hj-np-z02-9]+$/}}),Q(wn,{path:"/*",component:()=>Q(BO,{})})]}})}})}}));fg(()=>Q(VO,{}),document.getElementById("root"));export{sv as $,oA as A,Ne as B,Eo as C,cg as D,bA as E,QO as F,RA as G,PA as H,pA as I,ar as J,wA as K,JO as L,XO as M,f1 as N,rA as O,wx as P,Ae as Q,na as R,YO as S,Sa as T,fA as U,dA as V,cA as W,lA as X,Rb as Y,yA as Z,ur as _,Q as a,nA as a$,Ta as a0,OA as a1,tA as a2,yg as a3,Kx as a4,Wt as a5,aA as a6,uA as a7,tx as a8,X1 as a9,lb as aA,qb as aB,Zb as aC,gh as aD,La as aE,xo as aF,$S as aG,H as aH,ye as aI,Zn as aJ,ge as aK,G as aL,NA as aM,YE as aN,jA as aO,Y1 as aP,$f as aQ,Ee as aR,zf as aS,St as aT,Ge as aU,zA as aV,AA as aW,Xp as aX,hA as aY,gA as aZ,Lx as a_,LA as aa,$A as ab,Tx as ac,Be as ad,dr as ae,mr as af,dn as ag,Yp as ah,hn as ai,SA as aj,Sd as ak,gg as al,A1 as am,_A as an,E1 as ao,O1 as ap,R1 as aq,T1 as ar,P1 as as,Ga as at,Ix as au,qa as av,mh as aw,yr as ax,gn as ay,mn as az,Me as b,pg as b0,mA as b1,vA as b2,gt as b3,Sn as b4,IS as b5,xA as b6,Ub as b7,Pa as b8,za as b9,Wy as ba,Gy as bb,gr as bc,My as bd,Jy as be,lh as bf,Uy as bg,qy as bh,zy as bi,pn as bj,sb as bk,dh as bl,Vy as bm,oh as bn,Xy as bo,Fe as bp,fh as bq,le as c,Pd as d,Fg as e,_O as f,Uo as g,va as h,Mo as i,mO as j,TA as k,kt as l,Mt as m,vg as n,Mp as o,mg as p,se as q,et as r,bg as s,eA as t,W1 as u,xd as v,Z as w,Nx as x,ta as y,nh as z};
//# sourceMappingURL=index-CIeGPu9p.js.map
