{"version":3,"file":"Home-cd04038f.js","sources":["../../node_modules/heroicons/24/outline/bookmark.svg","../../node_modules/heroicons/24/outline/ellipsis-vertical.svg","../../src/components/column/BasicColumnHeader.tsx","../../src/components/timeline/TimelineContentDisplay.tsx","../../src/components/column/Column.tsx","../../node_modules/heroicons/24/outline/chevron-left.svg","../../node_modules/heroicons/24/outline/chevron-right.svg","../../node_modules/heroicons/24/outline/trash.svg","../../src/components/column/ColumnSettings.tsx","../../src/nostr/event/Tags.ts","../../src/nostr/useDecrypt.ts","../../src/components/timeline/Bookmark.tsx","../../src/nostr/useParameterizedReplaceableEvent.ts","../../src/components/column/BookmarkColumn.tsx","../../src/core/contentFilter.ts","../../src/components/column/FollwingColumn.tsx","../../src/components/event/Reaction.tsx","../../src/components/timeline/Notification.tsx","../../src/components/column/NotificationColumn.tsx","../../src/components/column/PostsColumn.tsx","../../src/components/column/ReactionsColumn.tsx","../../src/components/column/RelaysColumn.tsx","../../src/components/column/SearchColumn.tsx","../../src/components/column/Columns.tsx","../../node_modules/lodash/now.js","../../node_modules/lodash/_trimmedEndIndex.js","../../node_modules/lodash/_baseTrim.js","../../node_modules/lodash/toNumber.js","../../node_modules/lodash/debounce.js","../../node_modules/lodash/throttle.js","../../src/hooks/useShortcutKeys.ts","../../src/pages/Home.tsx"],"sourcesContent":["export default (props = {}) => <svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke-width=\"1.5\" stroke=\"currentColor\" aria-hidden=\"true\"{...props}><path stroke-linecap=\"round\" stroke-linejoin=\"round\" d=\"M17.593 3.322c1.1.128 1.907 1.077 1.907 2.185V21L12 17.25 4.5 21V5.507c0-1.108.806-2.057 1.907-2.185a48.507 48.507 0 0 1 11.186 0z\"/></svg>","export default (props = {}) => <svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke-width=\"1.5\" stroke=\"currentColor\" aria-hidden=\"true\"{...props}><path stroke-linecap=\"round\" stroke-linejoin=\"round\" d=\"M12 6.75a.75.75 0 1 1 0-1.5.75.75 0 0 1 0 1.5zm0 6a.75.75 0 1 1 0-1.5.75.75 0 0 1 0 1.5zm0 6a.75.75 0 1 1 0-1.5.75.75 0 0 1 0 1.5z\"/></svg>","import { Component, JSX, Show, createSignal } from 'solid-js';\n\nimport EllipsisVertical from 'heroicons/24/outline/ellipsis-vertical.svg';\n\nexport type BasicColumnHeaderProps = {\n  name: string;\n  icon?: JSX.Element;\n  settings: () => JSX.Element;\n  onClose?: () => void;\n};\n\nconst BasicColumnHeader: Component<BasicColumnHeaderProps> = (props) => {\n  const [isSettingsOpened, setIsSettingOpened] = createSignal(false);\n\n  const toggleSettingsOpened = () => setIsSettingOpened((current) => !current);\n\n  return (\n    <div class=\"flex flex-col\">\n      <div class=\"flex h-8 items-center gap-1 px-2\">\n        <h2 class=\"flex flex-1 items-center gap-1\">\n          <Show when={props.icon} keyed>\n            {(icon) => <span class=\"inline-block h-4 w-4 text-gray-700\">{icon}</span>}\n          </Show>\n          <span class=\"column-name\">{props.name}</span>\n        </h2>\n        <button class=\"h-4 w-4\" onClick={() => toggleSettingsOpened()}>\n          <EllipsisVertical />\n        </button>\n      </div>\n      <Show when={isSettingsOpened()}>{props.settings()}</Show>\n    </div>\n  );\n};\n\nexport default BasicColumnHeader;\n","import { Switch, Match, type Component } from 'solid-js';\n\nimport uniq from 'lodash/uniq';\nimport { Filter, Event as NostrEvent } from 'nostr-tools';\n\nimport Timeline from '@/components/timeline/Timeline';\nimport { type TimelineContent } from '@/components/timeline/TimelineContext';\nimport useConfig from '@/core/useConfig';\nimport { textNote } from '@/nostr/event';\nimport TextNote from '@/nostr/event/TextNote';\nimport useSubscription from '@/nostr/useSubscription';\n\nconst relatedEvents = (event: TextNote) => {\n  const ids = [event.id];\n\n  const rootId = event.rootEvent()?.id;\n  if (rootId != null) ids.push(rootId);\n\n  const replyId = event.replyingToEvent()?.id;\n  if (replyId != null) ids.push(replyId);\n\n  return uniq(ids);\n};\n\nconst RepliesDisplay: Component<{ event: NostrEvent }> = (props) => {\n  const { config } = useConfig();\n\n  const event = () => textNote(props.event);\n\n  const { events } = useSubscription(() => ({\n    relayUrls: config().relayUrls,\n    filters: [\n      { kinds: [1], ids: relatedEvents(event()), limit: 25 },\n      { kinds: [1], '#e': [props.event.id], limit: 25 } as Filter,\n    ],\n    limit: 200,\n  }));\n\n  return <Timeline events={[...events()].reverse()} />;\n};\n\nconst TimelineContentDisplay: Component<{ timelineContent: TimelineContent }> = (props) => (\n  <Switch>\n    <Match when={props.timelineContent.type === 'Replies' && props.timelineContent} keyed>\n      {(replies) => <RepliesDisplay event={replies.event} />}\n    </Match>\n  </Switch>\n);\n\nexport default TimelineContentDisplay;\n","import { Show, type JSX, type Component } from 'solid-js';\n\nimport ArrowLeft from 'heroicons/24/outline/arrow-left.svg';\n\nimport TimelineContentDisplay from '@/components/timeline/TimelineContentDisplay';\nimport { TimelineContext, useTimelineState } from '@/components/timeline/TimelineContext';\nimport { useHandleCommand } from '@/hooks/useCommandBus';\nimport { useTranslation } from '@/i18n/useTranslation';\n\nexport type ColumnProps = {\n  columnIndex: number;\n  lastColumn: boolean;\n  width: 'widest' | 'wide' | 'medium' | 'narrow' | null | undefined;\n  header: JSX.Element;\n  children: JSX.Element;\n};\n\nconst Column: Component<ColumnProps> = (props) => {\n  let columnDivRef: HTMLDivElement | undefined;\n\n  const timelineState = useTimelineState();\n  const i18n = useTranslation();\n\n  const width = () => props.width ?? 'medium';\n\n  useHandleCommand(() => ({\n    commandType: 'moveToColumn',\n    handler: (command) => {\n      if (command.command === 'moveToColumn' && command.columnIndex === props.columnIndex) {\n        columnDivRef?.scrollIntoView({ behavior: 'smooth', inline: 'center' });\n      }\n    },\n  }));\n\n  useHandleCommand(() => ({\n    commandType: 'moveToLastColumn',\n    handler: () => {\n      if (props.lastColumn) {\n        columnDivRef?.scrollIntoView({ behavior: 'smooth' });\n      }\n    },\n  }));\n\n  return (\n    <TimelineContext.Provider value={timelineState}>\n      <div\n        ref={columnDivRef}\n        class=\"flex w-[80vw] shrink-0 snap-center snap-always flex-col border-r sm:snap-align-none\"\n        classList={{\n          'sm:w-[500px]': width() === 'widest',\n          'sm:w-[360px]': width() === 'wide',\n          'sm:w-[320px]': width() === 'medium',\n          'sm:w-[280px]': width() === 'narrow',\n        }}\n      >\n        <Show\n          when={timelineState.timelineState.content}\n          keyed\n          fallback={\n            <>\n              <div class=\"shrink-0 border-b\">{props.header}</div>\n              <div class=\"scrollbar flex flex-col overflow-y-scroll scroll-smooth\">\n                {props.children}\n              </div>\n            </>\n          }\n        >\n          {(timeline) => (\n            <div class=\"h-full w-full bg-white\">\n              <div class=\"flex shrink-0 items-center border-b bg-white px-2\">\n                <button\n                  class=\"flex w-full items-center gap-1\"\n                  onClick={() => timelineState?.clearTimeline()}\n                >\n                  <div class=\"inline-block h-4 w-4\">\n                    <ArrowLeft />\n                  </div>\n                  <div>{i18n()('column.back')}</div>\n                </button>\n              </div>\n              <ul class=\"scrollbar flex h-full flex-col overflow-y-scroll scroll-smooth pb-8\">\n                <TimelineContentDisplay timelineContent={timeline} />\n              </ul>\n            </div>\n          )}\n        </Show>\n      </div>\n    </TimelineContext.Provider>\n  );\n};\n\nexport default Column;\n","export default (props = {}) => <svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke-width=\"1.5\" stroke=\"currentColor\" aria-hidden=\"true\"{...props}><path stroke-linecap=\"round\" stroke-linejoin=\"round\" d=\"M15.75 19.5 8.25 12l7.5-7.5\"/></svg>","export default (props = {}) => <svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke-width=\"1.5\" stroke=\"currentColor\" aria-hidden=\"true\"{...props}><path stroke-linecap=\"round\" stroke-linejoin=\"round\" d=\"m8.25 4.5 7.5 7.5-7.5 7.5\"/></svg>","export default (props = {}) => <svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke-width=\"1.5\" stroke=\"currentColor\" aria-hidden=\"true\"{...props}><path stroke-linecap=\"round\" stroke-linejoin=\"round\" d=\"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0\"/></svg>","import { Component, JSX } from 'solid-js';\n\nimport ChevronLeft from 'heroicons/24/outline/chevron-left.svg';\nimport ChevronRight from 'heroicons/24/outline/chevron-right.svg';\nimport Trash from 'heroicons/24/outline/trash.svg';\n\nimport { ColumnType } from '@/core/column';\nimport useConfig from '@/core/useConfig';\nimport { useRequestCommand } from '@/hooks/useCommandBus';\nimport { useTranslation } from '@/i18n/useTranslation';\n\ntype ColumnSettingsProps = {\n  column: ColumnType;\n  columnIndex: number;\n};\n\ntype ColumnSettingsSectionProps = {\n  title: string;\n  children: JSX.Element;\n};\n\nconst ColumnSettingsSection: Component<ColumnSettingsSectionProps> = (props) => (\n  <div class=\"flex flex-col gap-2 border-b p-2\">\n    <div>{props.title}</div>\n    <div>{props.children}</div>\n  </div>\n);\n\nconst ColumnSettings: Component<ColumnSettingsProps> = (props) => {\n  const i18n = useTranslation();\n  const { saveColumn, removeColumn, moveColumn } = useConfig();\n  const request = useRequestCommand();\n\n  const setColumnWidth = (width: ColumnType['width']) => {\n    saveColumn({ ...props.column, width });\n  };\n\n  const move = (index: number) => {\n    moveColumn(props.column.id, index);\n    request({ command: 'moveToColumn', columnIndex: index }).catch((err) => console.error(err));\n  };\n\n  return (\n    <div class=\"flex flex-col border-t\">\n      <ColumnSettingsSection title={i18n()('column.config.columnWidth')}>\n        <div class=\"scrollbar flex h-9 gap-2 overflow-x-scroll\">\n          <button\n            class=\"rounded-md border px-4 hover:bg-stone-100\"\n            onClick={() => setColumnWidth('widest')}\n          >\n            {i18n()('column.config.widest')}\n          </button>\n          <button\n            class=\"rounded-md border px-4 hover:bg-stone-100\"\n            onClick={() => setColumnWidth('wide')}\n          >\n            {i18n()('column.config.wide')}\n          </button>\n          <button\n            class=\"rounded-md border px-4 hover:bg-stone-100\"\n            onClick={() => setColumnWidth('medium')}\n          >\n            {i18n()('column.config.medium')}\n          </button>\n          <button\n            class=\"rounded-md border px-4 hover:bg-stone-100\"\n            onClick={() => setColumnWidth('narrow')}\n          >\n            {i18n()('column.config.narrow')}\n          </button>\n        </div>\n      </ColumnSettingsSection>\n      <div class=\"flex h-10 items-center gap-2\">\n        <button\n          class=\"py-4 pl-2\"\n          title={i18n()('column.config.moveLeft')}\n          onClick={() => move(props.columnIndex - 1)}\n        >\n          <span class=\"inline-block h-4 w-4\">\n            <ChevronLeft />\n          </span>\n        </button>\n        <button\n          class=\"py-4 pr-2\"\n          title={i18n()('column.config.moveRight')}\n          onClick={() => move(props.columnIndex + 1)}\n        >\n          <span class=\"inline-block h-4 w-4\">\n            <ChevronRight />\n          </span>\n        </button>\n        <div class=\"flex-1\" />\n        <button\n          class=\"px-2 py-4 text-rose-500 hover:text-rose-600\"\n          title={i18n()('column.config.removeColumn')}\n          onClick={() => removeColumn(props.column.id)}\n        >\n          <span class=\"inline-block h-4 w-4\" aria-label={i18n()('column.config.removeColumn')}>\n            <Trash />\n          </span>\n        </button>\n      </div>\n    </div>\n  );\n};\n\nexport default ColumnSettings;\n","import { z } from 'zod';\n\nimport TagsBase from '@/nostr/event/TagsBase';\n\nexport const TagsSchema = z.array(z.array(z.string()));\n\nexport default class Tags extends TagsBase {\n  constructor(readonly tags: string[][]) {\n    super();\n  }\n}\n\nexport const parseTags = (content: string): Tags => {\n  try {\n    const tags = TagsSchema.parse(JSON.parse(content));\n    return new Tags(tags);\n  } catch (err) {\n    throw new TypeError('failed to parse tags schema: ', { cause: err });\n  }\n};\n","import { createEffect, createRoot, createSignal } from 'solid-js';\n\nimport usePubkey from '@/nostr/usePubkey';\n\ntype UseDecryptProps = {\n  encrypted: string;\n};\n\n// eslint-disable-next-line solid/reactivity\nconst [memo, setMemo] = createRoot(() => createSignal<Record<string, string>>({}));\n// eslint-disable-next-line solid/reactivity\nconst [decrypting, setDecrypting] = createRoot(() => createSignal<Record<string, boolean>>({}));\n\nconst useDecrypt = (propsProvider: () => UseDecryptProps | null) => {\n  const pubkey = usePubkey();\n  const [decrypted, setDecrypted] = createSignal<string | null>(null);\n\n  createEffect(() => {\n    const props = propsProvider();\n    if (props == null) return;\n\n    const { encrypted } = props;\n    if (encrypted in memo()) {\n      setDecrypted(memo()[encrypted]);\n      return;\n    }\n\n    const p = pubkey();\n    if (p == null) return;\n\n    if (decrypting()[encrypted]) {\n      return;\n    }\n\n    setDecrypting((current) => ({ ...current, [encrypted]: true }));\n\n    window.nostr?.nip04\n      ?.decrypt?.(p, encrypted)\n      ?.then((result) => {\n        setMemo((current) => ({ ...current, [encrypted]: result }));\n        setDecrypted(result);\n      })\n      .catch((err) => {\n        console.error(`failed to decrypt \"${encrypted}\"`, err);\n      });\n  });\n\n  return decrypted;\n};\n\nexport default useDecrypt;\n","import { For, type Component, createMemo } from 'solid-js';\n\nimport { Kind, type Event as NostrEvent } from 'nostr-tools';\n\nimport ColumnItem from '@/components/ColumnItem';\nimport EventDisplayById from '@/components/event/EventDisplayById';\nimport { genericEvent } from '@/nostr/event';\nimport { parseTags } from '@/nostr/event/Tags';\nimport useDecrypt from '@/nostr/useDecrypt';\n\nexport type BookmarkProps = {\n  event: NostrEvent;\n};\n\nconst Bookmark: Component<BookmarkProps> = (props) => {\n  const bookmark = createMemo(() => genericEvent(props.event));\n\n  const decrypted = useDecrypt(() => {\n    const { content } = bookmark();\n    if (content == null || content.length === 0) return null;\n    return { id: bookmark().id, encrypted: content };\n  });\n\n  const bookmarkedEventIdsPrivate = () => {\n    const json = decrypted();\n    if (json == null) return [];\n    console.log(json);\n\n    try {\n      return parseTags(json).taggedEventIds();\n    } catch (err) {\n      console.warn(err);\n      return [];\n    }\n  };\n\n  const bookmarkedEventIds = () => bookmark().taggedEventIds();\n\n  return (\n    <For each={[...bookmarkedEventIds(), ...bookmarkedEventIdsPrivate()]}>\n      {(eventId) => (\n        <ColumnItem>\n          <EventDisplayById eventId={eventId} ensureKinds={[Kind.Text]} />\n        </ColumnItem>\n      )}\n    </For>\n  );\n};\n\nexport default Bookmark;\n","import { createMemo } from 'solid-js';\n\nimport { createQuery, useQueryClient, type CreateQueryResult } from '@tanstack/solid-query';\nimport { Event as NostrEvent } from 'nostr-tools';\n\nimport { pickLatestEvent } from '@/nostr/event/comparator';\nimport {\n  registerTask,\n  BatchedEventsTask,\n  ParameterizedReplaceableEventTask,\n} from '@/nostr/useBatchedEvents';\nimport timeout from '@/utils/timeout';\n\n// Parameterized Replaceable Event\nexport type UseParameterizedReplaceableEventProps = {\n  kind: number;\n  author: string;\n  identifier: string;\n};\n\nexport type UseParameterizedReplaceableEvent = {\n  event: () => NostrEvent | null;\n  query: CreateQueryResult<NostrEvent | null>;\n};\n\nconst useParameterizedReplaceableEvent = (\n  propsProvider: () => UseParameterizedReplaceableEventProps | null,\n): UseParameterizedReplaceableEvent => {\n  const queryClient = useQueryClient();\n  const props = createMemo(propsProvider);\n  const genQueryKey = () => ['useFollowings', props()] as const;\n\n  const query = createQuery(\n    genQueryKey,\n    ({ queryKey, signal }) => {\n      console.debug('useFollowings');\n      const [, currentProps] = queryKey;\n      if (currentProps == null) return Promise.resolve(null);\n\n      const { kind, author, identifier } = currentProps;\n      const task = new BatchedEventsTask<ParameterizedReplaceableEventTask>({\n        type: 'ParameterizedReplaceableEvent',\n        kind,\n        author,\n        identifier,\n      });\n      const promise = task.firstEventPromise().catch(() => {\n        throw new Error(\n          `parameterized replaceable event not found: ${kind}:${author}:${identifier}`,\n        );\n      });\n      task.onUpdate((events) => {\n        const latest = pickLatestEvent(events);\n        queryClient.setQueryData(queryKey, latest);\n      });\n      registerTask({ task, signal });\n      return timeout(\n        15000,\n        `useParameterizedReplaceableEvent: ${kind}:${author}:${identifier}`,\n      )(promise);\n    },\n    {\n      staleTime: 5 * 60 * 1000, // 5 min\n      cacheTime: 4 * 60 * 60 * 1000, // 4 hour\n    },\n  );\n\n  const event = () => query.data ?? null;\n\n  return { event, query };\n};\n\nexport default useParameterizedReplaceableEvent;\n","import { Component, Show } from 'solid-js';\n\nimport BookmarkIcon from 'heroicons/24/outline/bookmark.svg';\n\nimport BasicColumnHeader from '@/components/column/BasicColumnHeader';\nimport Column from '@/components/column/Column';\nimport ColumnSettings from '@/components/column/ColumnSettings';\nimport Bookmark from '@/components/timeline/Bookmark';\nimport { BookmarkColumnType } from '@/core/column';\nimport useConfig from '@/core/useConfig';\nimport { useTranslation } from '@/i18n/useTranslation';\nimport useParameterizedReplaceableEvent from '@/nostr/useParameterizedReplaceableEvent';\n\ntype BookmarkColumnDisplayProps = {\n  columnIndex: number;\n  lastColumn: boolean;\n  column: BookmarkColumnType;\n};\n\nconst BookmarkColumn: Component<BookmarkColumnDisplayProps> = (props) => {\n  const i18n = useTranslation();\n  const { removeColumn } = useConfig();\n\n  const { event } = useParameterizedReplaceableEvent(() => ({\n    kind: 30001,\n    author: props.column.pubkey,\n    identifier: props.column.identifier,\n  }));\n\n  // TODO 暗号化されたデータがある場合は復号する\n\n  return (\n    <Column\n      header={\n        <BasicColumnHeader\n          name={props.column.name ?? i18n()('column.bookmark')}\n          icon={<BookmarkIcon />}\n          settings={() => <ColumnSettings column={props.column} columnIndex={props.columnIndex} />}\n          onClose={() => removeColumn(props.column.id)}\n        />\n      }\n      width={props.column.width}\n      columnIndex={props.columnIndex}\n      lastColumn={props.lastColumn}\n    >\n      <Show when={event()} keyed>\n        {(ev) => <Bookmark event={ev} />}\n      </Show>\n    </Column>\n  );\n};\n\nexport default BookmarkColumn;\n","/**\n * Content filter is a text which expresses the filter.\n *\n * - And condition\n *     - The text \"AND\" (upper case) or white space means an \"and\" condition (&&).\n *     - Examples:\n *         hello AND world\n *         hello world\n * - Or condition\n *     - OR (upper case) means an \"or\" condition (&&).\n *     - Examples:\n *         hello OR world\n * - Grouping\n *     ()\n * - Normal text\n *     Case-insensitive\n *     helloworld,\n * - Double quotes\n *     Case-sensitive\n *     \"Hello World\"\n */\nexport type ContentFilterAnd = { filterType: 'AND'; children: ContentFilter[] };\nexport type ContentFilterOr = { filterType: 'OR'; children: ContentFilter[] };\nexport type ContentFilterNot = { filterType: 'NOT'; child: ContentFilter };\nexport type ContentFilterTextInclude = { filterType: 'Text'; text: string };\nexport type ContentFilterRegex = { filterType: 'Regex'; regex: string; flag: string };\n\nexport type ContentFilter =\n  | ContentFilterAnd\n  | ContentFilterOr\n  | ContentFilterNot\n  | ContentFilterTextInclude\n  | ContentFilterRegex;\n\nexport const applyContentFilter =\n  (filter: ContentFilter) =>\n  (content: string): boolean => {\n    switch (filter.filterType) {\n      case 'AND':\n        return filter.children.every((child) => applyContentFilter(child)(content));\n      case 'OR':\n        return filter.children.some((child) => applyContentFilter(child)(content));\n      case 'NOT':\n        return !applyContentFilter(filter.child)(content);\n      case 'Text':\n        return content.includes(filter.text);\n      case 'Regex':\n        return new RegExp(filter.regex, filter.flag).test(content);\n      default:\n        console.error('unsupported content filter type');\n        break;\n    }\n    return false;\n  };\n","import { Component, createEffect, onCleanup, onMount } from 'solid-js';\n\nimport Home from 'heroicons/24/outline/home.svg';\nimport { uniq } from 'lodash';\n\nimport BasicColumnHeader from '@/components/column/BasicColumnHeader';\nimport Column from '@/components/column/Column';\nimport ColumnSettings from '@/components/column/ColumnSettings';\nimport Timeline from '@/components/timeline/Timeline';\nimport { FollowingColumnType } from '@/core/column';\nimport { applyContentFilter } from '@/core/contentFilter';\nimport useConfig from '@/core/useConfig';\nimport { useTranslation } from '@/i18n/useTranslation';\nimport useFollowings from '@/nostr/useFollowings';\nimport useSubscription from '@/nostr/useSubscription';\nimport epoch from '@/utils/epoch';\n\ntype FollowingColumnDisplayProps = {\n  columnIndex: number;\n  lastColumn: boolean;\n  column: FollowingColumnType;\n};\n\nconst FollowingColumn: Component<FollowingColumnDisplayProps> = (props) => {\n  const i18n = useTranslation();\n  const { config, removeColumn } = useConfig();\n\n  const { followingPubkeys } = useFollowings(() => ({ pubkey: props.column.pubkey }));\n\n  const { events } = useSubscription(() => {\n    const authors = uniq([...followingPubkeys()]);\n    if (authors.length === 0) return null;\n    return {\n      debugId: 'following',\n      relayUrls: config().relayUrls,\n      filters: [\n        {\n          kinds: [1, 6],\n          authors,\n          limit: 10,\n          since: epoch() - 4 * 60 * 60,\n        },\n      ],\n      clientEventFilter: (event) => {\n        if (props.column.contentFilter == null) return true;\n        return applyContentFilter(props.column.contentFilter)(event.content);\n      },\n    };\n  });\n\n  createEffect(() => {\n    console.log('home', events());\n  });\n\n  onMount(() => console.log('home timeline mounted'));\n  onCleanup(() => console.log('home timeline unmounted'));\n\n  return (\n    <Column\n      header={\n        <BasicColumnHeader\n          name={props.column.name ?? i18n()('column.home')}\n          icon={<Home />}\n          settings={() => <ColumnSettings column={props.column} columnIndex={props.columnIndex} />}\n          onClose={() => removeColumn(props.column.id)}\n        />\n      }\n      width={props.column.width}\n      columnIndex={props.columnIndex}\n      lastColumn={props.lastColumn}\n    >\n      <Timeline events={events()} />\n    </Column>\n  );\n};\n\nexport default FollowingColumn;\n","import { type Component, Show } from 'solid-js';\n\nimport { type Event as NostrEvent } from 'nostr-tools';\n\nimport EmojiDisplay from '@/components/EmojiDisplay';\nimport TextNote from '@/components/event/TextNote';\nimport UserDisplayName from '@/components/UserDisplayName';\nimport useConfig from '@/core/useConfig';\nimport useModalState from '@/hooks/useModalState';\nimport { useTranslation } from '@/i18n/useTranslation';\nimport { reaction } from '@/nostr/event';\nimport useEvent from '@/nostr/useEvent';\nimport useProfile from '@/nostr/useProfile';\nimport ensureNonNull from '@/utils/ensureNonNull';\n\ntype ReactionDisplayProps = {\n  event: NostrEvent;\n};\n\nconst ReactionDisplay: Component<ReactionDisplayProps> = (props) => {\n  const i18n = useTranslation();\n  const { shouldMuteEvent } = useConfig();\n  const { showProfile } = useModalState();\n  const event = () => reaction(props.event);\n  const eventId = () => event().lastTaggedEventId();\n\n  const { profile } = useProfile(() => ({\n    pubkey: props.event.pubkey,\n  }));\n\n  const { event: reactedEvent, query: reactedEventQuery } = useEvent(() =>\n    ensureNonNull([eventId()] as const)(([eventIdNonNull]) => ({\n      eventId: eventIdNonNull,\n    })),\n  );\n\n  const isRemoved = () => reactedEventQuery.isSuccess && reactedEvent() == null;\n\n  return (\n    // if the reacted event is not found, it should be a removed event\n    <Show when={!isRemoved() || shouldMuteEvent(props.event)}>\n      <div class=\"flex gap-1 px-1 text-sm\">\n        <div class=\"notification-icon flex max-w-[64px] place-items-center\">\n          <EmojiDisplay reactionTypes={event().toReactionTypes()} />\n        </div>\n        <div class=\"notification-user flex gap-1 overflow-hidden\">\n          <div class=\"author-icon h-5 w-5 shrink-0 overflow-hidden object-cover\">\n            <Show when={profile()?.picture != null}>\n              <img\n                src={profile()?.picture}\n                alt=\"icon\"\n                // TODO autofit\n                class=\"rounded\"\n              />\n            </Show>\n          </div>\n          <div class=\"flex-1 overflow-hidden\">\n            <button\n              class=\"select-text truncate font-bold hover:text-blue-500 hover:underline\"\n              onClick={() => showProfile(props.event.pubkey)}\n            >\n              <UserDisplayName pubkey={props.event.pubkey} />\n            </button>\n            {i18n()('notification.reacted')}\n          </div>\n        </div>\n      </div>\n      <div class=\"notification-event py-1\">\n        <Show\n          when={reactedEvent()}\n          fallback={\n            <div class=\"truncate\">\n              {i18n()('general.loading')} {eventId()}\n            </div>\n          }\n          keyed\n        >\n          {(ev) => <TextNote event={ev} />}\n        </Show>\n      </div>\n    </Show>\n  );\n};\n\nexport default ReactionDisplay;\n","import { For, Switch, Match, type Component, Show } from 'solid-js';\n\nimport { Kind, type Event as NostrEvent } from 'nostr-tools';\n\nimport ColumnItem from '@/components/ColumnItem';\nimport Reaction from '@/components/event/Reaction';\nimport Repost from '@/components/event/Repost';\nimport TextNote from '@/components/event/TextNote';\nimport useConfig from '@/core/useConfig';\n\nexport type NotificationProps = {\n  events: NostrEvent[];\n};\n\nconst Notification: Component<NotificationProps> = (props) => {\n  const { shouldMuteEvent } = useConfig();\n\n  return (\n    <For each={props.events}>\n      {(event) => (\n        <Show when={!shouldMuteEvent(event)}>\n          <Switch fallback={<div>unknown event</div>}>\n            <Match when={event.kind === (Kind.Text as number)}>\n              <ColumnItem>\n                <TextNote event={event} />\n              </ColumnItem>\n            </Match>\n            <Match when={event.kind === (Kind.Reaction as number)}>\n              <ColumnItem>\n                <Reaction event={event} />\n              </ColumnItem>\n            </Match>\n            {/* TODO ちゃんとnotification用のコンポーネント使う */}\n            <Match when={event.kind === (Kind.Repost as number)}>\n              <ColumnItem>\n                <Repost event={event} />\n              </ColumnItem>\n            </Match>\n          </Switch>\n        </Show>\n      )}\n    </For>\n  );\n};\n\nexport default Notification;\n","import { Component } from 'solid-js';\n\nimport Bell from 'heroicons/24/outline/bell.svg';\n\nimport BasicColumnHeader from '@/components/column/BasicColumnHeader';\nimport Column from '@/components/column/Column';\nimport ColumnSettings from '@/components/column/ColumnSettings';\nimport Notification from '@/components/timeline/Notification';\nimport { NotificationColumnType } from '@/core/column';\nimport { applyContentFilter } from '@/core/contentFilter';\nimport useConfig from '@/core/useConfig';\nimport { useTranslation } from '@/i18n/useTranslation';\nimport useSubscription from '@/nostr/useSubscription';\n\ntype NotificationColumnDisplayProps = {\n  columnIndex: number;\n  lastColumn: boolean;\n  column: NotificationColumnType;\n};\n\nconst NotificationColumn: Component<NotificationColumnDisplayProps> = (props) => {\n  const i18n = useTranslation();\n  const { config, removeColumn } = useConfig();\n\n  const { events: notifications } = useSubscription(() => ({\n    relayUrls: config().relayUrls,\n    filters: [\n      {\n        kinds: [1, 6, 7],\n        '#p': [props.column.pubkey],\n        limit: 10,\n      },\n    ],\n    clientEventFilter: (event) => {\n      if (props.column.contentFilter == null) return true;\n      return applyContentFilter(props.column.contentFilter)(event.content);\n    },\n  }));\n\n  return (\n    <Column\n      header={\n        <BasicColumnHeader\n          name={props.column.name ?? i18n()('column.notification')}\n          icon={<Bell />}\n          settings={() => <ColumnSettings column={props.column} columnIndex={props.columnIndex} />}\n          onClose={() => removeColumn(props.column.id)}\n        />\n      }\n      width={props.column.width}\n      columnIndex={props.columnIndex}\n      lastColumn={props.lastColumn}\n    >\n      <Notification events={notifications()} />\n    </Column>\n  );\n};\n\nexport default NotificationColumn;\n","import { Component } from 'solid-js';\n\nimport User from 'heroicons/24/outline/user.svg';\n\nimport BasicColumnHeader from '@/components/column/BasicColumnHeader';\nimport Column from '@/components/column/Column';\nimport ColumnSettings from '@/components/column/ColumnSettings';\nimport Timeline from '@/components/timeline/Timeline';\nimport { PostsColumnType } from '@/core/column';\nimport { applyContentFilter } from '@/core/contentFilter';\nimport useConfig from '@/core/useConfig';\nimport { useTranslation } from '@/i18n/useTranslation';\nimport useSubscription from '@/nostr/useSubscription';\n\ntype PostsColumnDisplayProps = {\n  columnIndex: number;\n  lastColumn: boolean;\n  column: PostsColumnType;\n};\n\nconst PostsColumn: Component<PostsColumnDisplayProps> = (props) => {\n  const i18n = useTranslation();\n  const { config, removeColumn } = useConfig();\n\n  const { events } = useSubscription(() => ({\n    relayUrls: config().relayUrls,\n    filters: [\n      {\n        kinds: [1, 6],\n        authors: [props.column.pubkey],\n        limit: 10,\n      },\n    ],\n    clientEventFilter: (event) => {\n      if (props.column.contentFilter == null) return true;\n      return applyContentFilter(props.column.contentFilter)(event.content);\n    },\n  }));\n\n  return (\n    <Column\n      header={\n        <BasicColumnHeader\n          name={props.column.name ?? i18n()('column.posts')}\n          icon={<User />}\n          settings={() => <ColumnSettings column={props.column} columnIndex={props.columnIndex} />}\n          onClose={() => removeColumn(props.column.id)}\n        />\n      }\n      width={props.column.width}\n      columnIndex={props.columnIndex}\n      lastColumn={props.lastColumn}\n    >\n      <Timeline events={events()} />\n    </Column>\n  );\n};\n\nexport default PostsColumn;\n","import { Component } from 'solid-js';\n\nimport Heart from 'heroicons/24/outline/heart.svg';\n\nimport BasicColumnHeader from '@/components/column/BasicColumnHeader';\nimport Column from '@/components/column/Column';\nimport ColumnSettings from '@/components/column/ColumnSettings';\nimport Notification from '@/components/timeline/Notification';\nimport { ReactionsColumnType } from '@/core/column';\nimport { applyContentFilter } from '@/core/contentFilter';\nimport useConfig from '@/core/useConfig';\nimport { useTranslation } from '@/i18n/useTranslation';\nimport useSubscription from '@/nostr/useSubscription';\n\ntype ReactionsColumnDisplayProps = {\n  columnIndex: number;\n  lastColumn: boolean;\n  column: ReactionsColumnType;\n};\n\nconst ReactionsColumn: Component<ReactionsColumnDisplayProps> = (props) => {\n  const i18n = useTranslation();\n  const { config, removeColumn } = useConfig();\n\n  const { events: reactions } = useSubscription(() => ({\n    relayUrls: config().relayUrls,\n    filters: [\n      {\n        kinds: [7],\n        authors: [props.column.pubkey],\n        limit: 10,\n      },\n    ],\n    clientEventFilter: (event) => {\n      if (props.column.contentFilter == null) return true;\n      return applyContentFilter(props.column.contentFilter)(event.content);\n    },\n  }));\n\n  return (\n    <Column\n      header={\n        <BasicColumnHeader\n          name={props.column.name ?? i18n()('column.reactions')}\n          icon={<Heart />}\n          settings={() => <ColumnSettings column={props.column} columnIndex={props.columnIndex} />}\n          onClose={() => removeColumn(props.column.id)}\n        />\n      }\n      width={props.column.width}\n      columnIndex={props.columnIndex}\n      lastColumn={props.lastColumn}\n    >\n      <Notification events={reactions()} />\n    </Column>\n  );\n};\n\nexport default ReactionsColumn;\n","import { Component } from 'solid-js';\n\nimport GlobeAlt from 'heroicons/24/outline/globe-alt.svg';\n\nimport BasicColumnHeader from '@/components/column/BasicColumnHeader';\nimport Column from '@/components/column/Column';\nimport ColumnSettings from '@/components/column/ColumnSettings';\nimport Timeline from '@/components/timeline/Timeline';\nimport { RelaysColumnType } from '@/core/column';\nimport { applyContentFilter } from '@/core/contentFilter';\nimport useConfig from '@/core/useConfig';\nimport { useTranslation } from '@/i18n/useTranslation';\nimport useSubscription from '@/nostr/useSubscription';\nimport epoch from '@/utils/epoch';\n\ntype RelaysColumnDisplayProps = {\n  columnIndex: number;\n  lastColumn: boolean;\n  column: RelaysColumnType;\n};\n\nconst RelaysColumn: Component<RelaysColumnDisplayProps> = (props) => {\n  const i18n = useTranslation();\n  const { removeColumn } = useConfig();\n\n  const { events } = useSubscription(() => ({\n    relayUrls: props.column.relayUrls,\n    filters: [\n      {\n        kinds: [1],\n        limit: 25,\n        since: epoch() - 4 * 60 * 60,\n      },\n    ],\n    clientEventFilter: (event) => {\n      if (props.column.contentFilter == null) return true;\n      return applyContentFilter(props.column.contentFilter)(event.content);\n    },\n  }));\n\n  return (\n    <Column\n      header={\n        <BasicColumnHeader\n          name={props.column.name ?? i18n()('column.relay')}\n          icon={<GlobeAlt />}\n          settings={() => <ColumnSettings column={props.column} columnIndex={props.columnIndex} />}\n          onClose={() => removeColumn(props.column.id)}\n        />\n      }\n      width={props.column.width}\n      columnIndex={props.columnIndex}\n      lastColumn={props.lastColumn}\n    >\n      <Timeline events={events()} />\n    </Column>\n  );\n};\n\nexport default RelaysColumn;\n","import { Component, createSignal, Show, JSX, onMount } from 'solid-js';\n\nimport EllipsisVertical from 'heroicons/24/outline/ellipsis-vertical.svg';\nimport MagnifyingGlass from 'heroicons/24/outline/magnifying-glass.svg';\n\nimport Column from '@/components/column/Column';\nimport ColumnSettings from '@/components/column/ColumnSettings';\nimport Timeline from '@/components/timeline/Timeline';\nimport { SearchColumnType } from '@/core/column';\nimport { applyContentFilter } from '@/core/contentFilter';\nimport { relaysForSearching } from '@/core/relayUrls';\nimport useConfig from '@/core/useConfig';\nimport useSubscription from '@/nostr/useSubscription';\n\nexport type SearchColumnHeaderProps = {\n  column: SearchColumnType;\n  settings: () => JSX.Element;\n  onClose?: () => void;\n};\n\nconst SearchColumnHeader: Component<SearchColumnHeaderProps> = (props) => {\n  const [isSettingsOpened, setIsSettingOpened] = createSignal(false);\n  const [query, setQuery] = createSignal('');\n\n  const { saveColumn } = useConfig();\n\n  const toggleSettingsOpened = () => setIsSettingOpened((current) => !current);\n\n  const updateQuery = () => {\n    if (query() === props.column.query) return;\n    saveColumn({ ...props.column, query: query() });\n  };\n\n  const handleBlur: JSX.EventHandler<HTMLInputElement, Event> = () => {\n    updateQuery();\n  };\n\n  const handleChange: JSX.EventHandler<HTMLInputElement, Event> = (ev) => {\n    setQuery(ev.currentTarget.value);\n  };\n\n  const handleSubmit: JSX.EventHandler<HTMLFormElement, SubmitEvent> = (ev) => {\n    ev.preventDefault();\n    updateQuery();\n  };\n\n  onMount(() => {\n    setQuery(props.column.query);\n  });\n\n  return (\n    <div class=\"flex flex-col\">\n      <div class=\"flex h-8 items-center gap-1 px-2\">\n        <h2 class=\"flex items-center gap-1\">\n          <span class=\"inline-block h-4 w-4 text-gray-700\">\n            <MagnifyingGlass />\n          </span>\n        </h2>\n        <form class=\"flex-1\" onSubmit={handleSubmit}>\n          <input\n            class=\"w-full rounded border border-stone-300 px-1 py-0 focus:border-rose-100 focus:ring-rose-300\"\n            type=\"text\"\n            name=\"query\"\n            value={query()}\n            onChange={handleChange}\n            onBlur={handleBlur}\n          />\n        </form>\n        <button class=\"h-4 w-4\" onClick={() => toggleSettingsOpened()}>\n          <EllipsisVertical />\n        </button>\n      </div>\n      <Show when={isSettingsOpened()}>{props.settings()}</Show>\n    </div>\n  );\n};\n\nexport type SearchColumnDisplayProps = {\n  columnIndex: number;\n  lastColumn: boolean;\n  column: SearchColumnType;\n};\n\nconst SearchColumn: Component<SearchColumnDisplayProps> = (props) => {\n  const { removeColumn } = useConfig();\n\n  const { events } = useSubscription(() => {\n    const { query } = props.column;\n\n    if (query.length === 0) return null;\n\n    return {\n      relayUrls: relaysForSearching,\n      filters: [\n        {\n          kinds: [1, 6],\n          search: query,\n          limit: 25,\n        },\n      ],\n      clientEventFilter: (event) => {\n        if (event.tags.findIndex(([tagName]) => tagName === 'mostr' || tagName === 'proxy') >= 0)\n          return false;\n        if (props.column.contentFilter == null) return true;\n        return applyContentFilter(props.column.contentFilter)(event.content);\n      },\n    };\n  });\n\n  return (\n    <Column\n      header={\n        <SearchColumnHeader\n          column={props.column}\n          settings={() => <ColumnSettings column={props.column} columnIndex={props.columnIndex} />}\n          onClose={() => removeColumn(props.column.id)}\n        />\n      }\n      width={props.column.width}\n      columnIndex={props.columnIndex}\n      lastColumn={props.lastColumn}\n    >\n      <Timeline events={events()} />\n    </Column>\n  );\n};\n\nexport default SearchColumn;\n","import { For, Switch, Match } from 'solid-js';\n\nimport BookmarkColumn from '@/components/column/BookmarkColumn';\nimport FollowingColumn from '@/components/column/FollwingColumn';\nimport NotificationColumn from '@/components/column/NotificationColumn';\nimport PostsColumn from '@/components/column/PostsColumn';\nimport ReactionsColumn from '@/components/column/ReactionsColumn';\nimport RelaysColumn from '@/components/column/RelaysColumn';\nimport SearchColumn from '@/components/column/SearchColumn';\nimport useConfig from '@/core/useConfig';\n\nconst Columns = () => {\n  const { config } = useConfig();\n\n  return (\n    <div class=\"scrollbar flex h-full snap-x snap-mandatory flex-row overflow-x-scroll scroll-smooth\">\n      <For each={config().columns}>\n        {(column, index) => {\n          const columnIndex = () => index() + 1;\n          const lastColumn = () => columnIndex() === config().columns.length;\n          return (\n            <Switch>\n              <Match when={column.columnType === 'Following' && column} keyed>\n                {(followingColumn) => (\n                  <FollowingColumn\n                    column={followingColumn}\n                    columnIndex={columnIndex()}\n                    lastColumn={lastColumn()}\n                  />\n                )}\n              </Match>\n              <Match when={column.columnType === 'Notification' && column} keyed>\n                {(notificationColumn) => (\n                  <NotificationColumn\n                    column={notificationColumn}\n                    columnIndex={columnIndex()}\n                    lastColumn={lastColumn()}\n                  />\n                )}\n              </Match>\n              <Match when={column.columnType === 'Posts' && column} keyed>\n                {(postsColumn) => (\n                  <PostsColumn\n                    column={postsColumn}\n                    columnIndex={columnIndex()}\n                    lastColumn={lastColumn()}\n                  />\n                )}\n              </Match>\n              <Match when={column.columnType === 'Reactions' && column} keyed>\n                {(reactionsColumn) => (\n                  <ReactionsColumn\n                    column={reactionsColumn}\n                    columnIndex={columnIndex()}\n                    lastColumn={lastColumn()}\n                  />\n                )}\n              </Match>\n              <Match when={column.columnType === 'Relays' && column} keyed>\n                {(reactionsColumn) => (\n                  <RelaysColumn\n                    column={reactionsColumn}\n                    columnIndex={columnIndex()}\n                    lastColumn={lastColumn()}\n                  />\n                )}\n              </Match>\n              <Match when={column.columnType === 'Bookmark' && column} keyed>\n                {(bookmarkColumn) => (\n                  <BookmarkColumn\n                    column={bookmarkColumn}\n                    columnIndex={columnIndex()}\n                    lastColumn={lastColumn()}\n                  />\n                )}\n              </Match>\n              <Match when={column.columnType === 'Search' && column} keyed>\n                {(reactionsColumn) => (\n                  <SearchColumn\n                    column={reactionsColumn}\n                    columnIndex={columnIndex()}\n                    lastColumn={lastColumn()}\n                  />\n                )}\n              </Match>\n            </Switch>\n          );\n        }}\n      </For>\n    </div>\n  );\n};\n\nexport default Columns;\n","var root = require('./_root');\n\n/**\n * Gets the timestamp of the number of milliseconds that have elapsed since\n * the Unix epoch (1 January 1970 00:00:00 UTC).\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Date\n * @returns {number} Returns the timestamp.\n * @example\n *\n * _.defer(function(stamp) {\n *   console.log(_.now() - stamp);\n * }, _.now());\n * // => Logs the number of milliseconds it took for the deferred invocation.\n */\nvar now = function() {\n  return root.Date.now();\n};\n\nmodule.exports = now;\n","/** Used to match a single whitespace character. */\nvar reWhitespace = /\\s/;\n\n/**\n * Used by `_.trim` and `_.trimEnd` to get the index of the last non-whitespace\n * character of `string`.\n *\n * @private\n * @param {string} string The string to inspect.\n * @returns {number} Returns the index of the last non-whitespace character.\n */\nfunction trimmedEndIndex(string) {\n  var index = string.length;\n\n  while (index-- && reWhitespace.test(string.charAt(index))) {}\n  return index;\n}\n\nmodule.exports = trimmedEndIndex;\n","var trimmedEndIndex = require('./_trimmedEndIndex');\n\n/** Used to match leading whitespace. */\nvar reTrimStart = /^\\s+/;\n\n/**\n * The base implementation of `_.trim`.\n *\n * @private\n * @param {string} string The string to trim.\n * @returns {string} Returns the trimmed string.\n */\nfunction baseTrim(string) {\n  return string\n    ? string.slice(0, trimmedEndIndex(string) + 1).replace(reTrimStart, '')\n    : string;\n}\n\nmodule.exports = baseTrim;\n","var baseTrim = require('./_baseTrim'),\n    isObject = require('./isObject'),\n    isSymbol = require('./isSymbol');\n\n/** Used as references for various `Number` constants. */\nvar NAN = 0 / 0;\n\n/** Used to detect bad signed hexadecimal string values. */\nvar reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\n\n/** Used to detect binary string values. */\nvar reIsBinary = /^0b[01]+$/i;\n\n/** Used to detect octal string values. */\nvar reIsOctal = /^0o[0-7]+$/i;\n\n/** Built-in method references without a dependency on `root`. */\nvar freeParseInt = parseInt;\n\n/**\n * Converts `value` to a number.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to process.\n * @returns {number} Returns the number.\n * @example\n *\n * _.toNumber(3.2);\n * // => 3.2\n *\n * _.toNumber(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toNumber(Infinity);\n * // => Infinity\n *\n * _.toNumber('3.2');\n * // => 3.2\n */\nfunction toNumber(value) {\n  if (typeof value == 'number') {\n    return value;\n  }\n  if (isSymbol(value)) {\n    return NAN;\n  }\n  if (isObject(value)) {\n    var other = typeof value.valueOf == 'function' ? value.valueOf() : value;\n    value = isObject(other) ? (other + '') : other;\n  }\n  if (typeof value != 'string') {\n    return value === 0 ? value : +value;\n  }\n  value = baseTrim(value);\n  var isBinary = reIsBinary.test(value);\n  return (isBinary || reIsOctal.test(value))\n    ? freeParseInt(value.slice(2), isBinary ? 2 : 8)\n    : (reIsBadHex.test(value) ? NAN : +value);\n}\n\nmodule.exports = toNumber;\n","var isObject = require('./isObject'),\n    now = require('./now'),\n    toNumber = require('./toNumber');\n\n/** Error message constants. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max,\n    nativeMin = Math.min;\n\n/**\n * Creates a debounced function that delays invoking `func` until after `wait`\n * milliseconds have elapsed since the last time the debounced function was\n * invoked. The debounced function comes with a `cancel` method to cancel\n * delayed `func` invocations and a `flush` method to immediately invoke them.\n * Provide `options` to indicate whether `func` should be invoked on the\n * leading and/or trailing edge of the `wait` timeout. The `func` is invoked\n * with the last arguments provided to the debounced function. Subsequent\n * calls to the debounced function return the result of the last `func`\n * invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the debounced function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.debounce` and `_.throttle`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to debounce.\n * @param {number} [wait=0] The number of milliseconds to delay.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=false]\n *  Specify invoking on the leading edge of the timeout.\n * @param {number} [options.maxWait]\n *  The maximum time `func` is allowed to be delayed before it's invoked.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new debounced function.\n * @example\n *\n * // Avoid costly calculations while the window size is in flux.\n * jQuery(window).on('resize', _.debounce(calculateLayout, 150));\n *\n * // Invoke `sendMail` when clicked, debouncing subsequent calls.\n * jQuery(element).on('click', _.debounce(sendMail, 300, {\n *   'leading': true,\n *   'trailing': false\n * }));\n *\n * // Ensure `batchLog` is invoked once after 1 second of debounced calls.\n * var debounced = _.debounce(batchLog, 250, { 'maxWait': 1000 });\n * var source = new EventSource('/stream');\n * jQuery(source).on('message', debounced);\n *\n * // Cancel the trailing debounced invocation.\n * jQuery(window).on('popstate', debounced.cancel);\n */\nfunction debounce(func, wait, options) {\n  var lastArgs,\n      lastThis,\n      maxWait,\n      result,\n      timerId,\n      lastCallTime,\n      lastInvokeTime = 0,\n      leading = false,\n      maxing = false,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  wait = toNumber(wait) || 0;\n  if (isObject(options)) {\n    leading = !!options.leading;\n    maxing = 'maxWait' in options;\n    maxWait = maxing ? nativeMax(toNumber(options.maxWait) || 0, wait) : maxWait;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n\n  function invokeFunc(time) {\n    var args = lastArgs,\n        thisArg = lastThis;\n\n    lastArgs = lastThis = undefined;\n    lastInvokeTime = time;\n    result = func.apply(thisArg, args);\n    return result;\n  }\n\n  function leadingEdge(time) {\n    // Reset any `maxWait` timer.\n    lastInvokeTime = time;\n    // Start the timer for the trailing edge.\n    timerId = setTimeout(timerExpired, wait);\n    // Invoke the leading edge.\n    return leading ? invokeFunc(time) : result;\n  }\n\n  function remainingWait(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime,\n        timeWaiting = wait - timeSinceLastCall;\n\n    return maxing\n      ? nativeMin(timeWaiting, maxWait - timeSinceLastInvoke)\n      : timeWaiting;\n  }\n\n  function shouldInvoke(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime;\n\n    // Either this is the first call, activity has stopped and we're at the\n    // trailing edge, the system time has gone backwards and we're treating\n    // it as the trailing edge, or we've hit the `maxWait` limit.\n    return (lastCallTime === undefined || (timeSinceLastCall >= wait) ||\n      (timeSinceLastCall < 0) || (maxing && timeSinceLastInvoke >= maxWait));\n  }\n\n  function timerExpired() {\n    var time = now();\n    if (shouldInvoke(time)) {\n      return trailingEdge(time);\n    }\n    // Restart the timer.\n    timerId = setTimeout(timerExpired, remainingWait(time));\n  }\n\n  function trailingEdge(time) {\n    timerId = undefined;\n\n    // Only invoke if we have `lastArgs` which means `func` has been\n    // debounced at least once.\n    if (trailing && lastArgs) {\n      return invokeFunc(time);\n    }\n    lastArgs = lastThis = undefined;\n    return result;\n  }\n\n  function cancel() {\n    if (timerId !== undefined) {\n      clearTimeout(timerId);\n    }\n    lastInvokeTime = 0;\n    lastArgs = lastCallTime = lastThis = timerId = undefined;\n  }\n\n  function flush() {\n    return timerId === undefined ? result : trailingEdge(now());\n  }\n\n  function debounced() {\n    var time = now(),\n        isInvoking = shouldInvoke(time);\n\n    lastArgs = arguments;\n    lastThis = this;\n    lastCallTime = time;\n\n    if (isInvoking) {\n      if (timerId === undefined) {\n        return leadingEdge(lastCallTime);\n      }\n      if (maxing) {\n        // Handle invocations in a tight loop.\n        clearTimeout(timerId);\n        timerId = setTimeout(timerExpired, wait);\n        return invokeFunc(lastCallTime);\n      }\n    }\n    if (timerId === undefined) {\n      timerId = setTimeout(timerExpired, wait);\n    }\n    return result;\n  }\n  debounced.cancel = cancel;\n  debounced.flush = flush;\n  return debounced;\n}\n\nmodule.exports = debounce;\n","var debounce = require('./debounce'),\n    isObject = require('./isObject');\n\n/** Error message constants. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/**\n * Creates a throttled function that only invokes `func` at most once per\n * every `wait` milliseconds. The throttled function comes with a `cancel`\n * method to cancel delayed `func` invocations and a `flush` method to\n * immediately invoke them. Provide `options` to indicate whether `func`\n * should be invoked on the leading and/or trailing edge of the `wait`\n * timeout. The `func` is invoked with the last arguments provided to the\n * throttled function. Subsequent calls to the throttled function return the\n * result of the last `func` invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the throttled function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.throttle` and `_.debounce`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to throttle.\n * @param {number} [wait=0] The number of milliseconds to throttle invocations to.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=true]\n *  Specify invoking on the leading edge of the timeout.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new throttled function.\n * @example\n *\n * // Avoid excessively updating the position while scrolling.\n * jQuery(window).on('scroll', _.throttle(updatePosition, 100));\n *\n * // Invoke `renewToken` when the click event is fired, but not more than once every 5 minutes.\n * var throttled = _.throttle(renewToken, 300000, { 'trailing': false });\n * jQuery(element).on('click', throttled);\n *\n * // Cancel the trailing throttled invocation.\n * jQuery(window).on('popstate', throttled.cancel);\n */\nfunction throttle(func, wait, options) {\n  var leading = true,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  if (isObject(options)) {\n    leading = 'leading' in options ? !!options.leading : leading;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n  return debounce(func, wait, {\n    'leading': leading,\n    'maxWait': wait,\n    'trailing': trailing\n  });\n}\n\nmodule.exports = throttle;\n","import { onMount, onCleanup } from 'solid-js';\n\nimport throttle from 'lodash/throttle';\n\nimport { useRequestCommand, type Command } from '@/hooks/useCommandBus';\n\ntype Shortcut = { key: string; command: Command };\n\nconst defaultShortcut: Shortcut[] = [\n  { key: 'n', command: { command: 'openPostForm' } },\n  { key: 'h', command: { command: 'moveToPrevColumn' } },\n  { key: 'j', command: { command: 'moveToNextItem' } },\n  { key: 'k', command: { command: 'moveToPrevItem' } },\n  { key: 'l', command: { command: 'moveToNextColumn' } },\n  { key: '1', command: { command: 'moveToColumn', columnIndex: 1 } },\n  { key: '2', command: { command: 'moveToColumn', columnIndex: 2 } },\n  { key: '3', command: { command: 'moveToColumn', columnIndex: 3 } },\n  { key: '4', command: { command: 'moveToColumn', columnIndex: 4 } },\n  { key: '5', command: { command: 'moveToColumn', columnIndex: 5 } },\n  { key: '6', command: { command: 'moveToColumn', columnIndex: 6 } },\n  { key: '7', command: { command: 'moveToColumn', columnIndex: 7 } },\n  { key: '8', command: { command: 'moveToColumn', columnIndex: 8 } },\n  { key: '9', command: { command: 'moveToColumn', columnIndex: 9 } },\n  { key: '0', command: { command: 'moveToLastColumn' } },\n  { key: 'ArrowLeft', command: { command: 'moveToPrevColumn' } },\n  { key: 'ArrowDown', command: { command: 'moveToNextItem' } },\n  { key: 'ArrowUp', command: { command: 'moveToPrevItem' } },\n  { key: 'ArrowRight', command: { command: 'moveToNextColumn' } },\n  { key: 'f', command: { command: 'like' } },\n  { key: 't', command: { command: 'repost' } },\n  { key: 'r', command: { command: 'openReplyForm' } },\n  { key: '?', command: { command: 'openHelp' } },\n  { key: 'Enter', command: { command: 'openItemDetail' } },\n  { key: 'Backspace', command: { command: 'closeItemDetail' } },\n];\n\ntype UseShortcutKeysProps = {\n  shortcuts?: Shortcut[];\n  onShortcut: (shortcut: Shortcut) => void;\n};\n\nconst createShortcutsMap = (shortcuts: Shortcut[]) => {\n  const map = new Map<string, Shortcut>();\n  shortcuts.forEach((shortcut) => {\n    map.set(shortcut.key, shortcut);\n  });\n  return map;\n};\n\nconst useShortcutKeys = ({ shortcuts = defaultShortcut, onShortcut }: UseShortcutKeysProps) => {\n  const shortcutsMap = createShortcutsMap(shortcuts);\n\n  onMount(() => {\n    const handleKeydown = throttle((ev: KeyboardEvent) => {\n      if (ev.type !== 'keydown') return;\n      if (ev.ctrlKey || ev.altKey || ev.metaKey) return;\n      if (ev.target instanceof HTMLTextAreaElement || ev.target instanceof HTMLInputElement) return;\n\n      const shortcut = shortcutsMap.get(ev.key);\n\n      if (shortcut == null) return;\n\n      onShortcut(shortcut);\n    }, 50);\n\n    window.addEventListener('keydown', handleKeydown);\n\n    onCleanup(() => {\n      window.removeEventListener('keydown', handleKeydown);\n    });\n  });\n};\n\nexport const useMountShortcutKeys = () => {\n  const request = useRequestCommand();\n\n  useShortcutKeys({\n    onShortcut: (shortcut) => {\n      request(shortcut.command).then(\n        () => console.debug(`shortcut key '${shortcut.key}' was processed successfully`),\n        (err) => console.error(err),\n      );\n    },\n  });\n};\n\nexport default useShortcutKeys;\n","import { createEffect, onMount, type Component, onError } from 'solid-js';\n\nimport { useNavigate } from '@solidjs/router';\n\nimport Columns from '@/components/column/Columns';\nimport GlobalModal from '@/components/modal/GlobalModal';\nimport SideBar from '@/components/SideBar';\nimport useConfig from '@/core/useConfig';\nimport usePersistStatus from '@/hooks/usePersistStatus';\nimport { useMountShortcutKeys } from '@/hooks/useShortcutKeys';\nimport usePool from '@/nostr/usePool';\nimport usePubkey from '@/nostr/usePubkey';\n\nconst Home: Component = () => {\n  useMountShortcutKeys();\n\n  const navigate = useNavigate();\n  const { persistStatus } = usePersistStatus();\n\n  const pool = usePool();\n  const { config, initializeColumns } = useConfig();\n  const pubkey = usePubkey();\n\n  createEffect(() => {\n    config().relayUrls.map(async (relayUrl) => {\n      try {\n        const relay = await pool().ensureRelay(relayUrl);\n        relay.on('notice', (msg: string) => {\n          console.error(`NOTICE: ${relayUrl}: ${msg}`);\n        });\n      } catch (err) {\n        console.error('ensureRelay failed', err);\n      }\n    });\n  });\n\n  createEffect(() => {\n    // pubkeyが得られてはじめてカラムを初期化できる\n    const p = pubkey();\n    if (p != null) {\n      initializeColumns({ pubkey: p });\n    }\n  });\n\n  onMount(() => {\n    if (!persistStatus().loggedIn) {\n      navigate('/hello');\n    }\n  });\n\n  onError((err) => {\n    console.error('uncaught error: ', err);\n  });\n\n  return (\n    <div class=\"absolute inset-0 flex w-screen touch-manipulation flex-row overflow-hidden\">\n      <SideBar />\n      <Columns />\n      <GlobalModal />\n    </div>\n  );\n};\n\nexport default Home;\n"],"names":["BookmarkIcon","props","_el$","_tmpl$","_$spread","EllipsisVertical","BasicColumnHeader","isSettingsOpened","setIsSettingOpened","createSignal","toggleSettingsOpened","current","_el$2","firstChild","_el$3","_el$4","_el$5","nextSibling","_$insert","_$createComponent","Show","when","icon","keyed","children","_el$6","_tmpl$2","name","$$click","settings","_$delegateEvents","relatedEvents","event","ids","id","rootId","rootEvent","push","replyId","replyingToEvent","uniq","RepliesDisplay","config","useConfig","textNote","events","useSubscription","relayUrls","filters","kinds","limit","Timeline","reverse","TimelineContentDisplay","Switch","Match","timelineContent","type","replies","Column","columnDivRef","timelineState","useTimelineState","i18n","useTranslation","width","useHandleCommand","commandType","handler","command","columnIndex","scrollIntoView","behavior","inline","lastColumn","TimelineContext","Provider","value","_ref$","_$use","content","fallback","header","_tmpl$3","timeline","_tmpl$4","_el$7","_el$8","_el$9","clearTimeline","ArrowLeft","_$effect","_$p","_$classList","ChevronLeft","ChevronRight","Trash","ColumnSettingsSection","title","ColumnSettings","saveColumn","removeColumn","moveColumn","request","useRequestCommand","setColumnWidth","column","move","index","catch","err","console","error","_el$10","_el$11","_el$12","_el$13","_el$14","_el$15","_el$16","_el$17","_p$","_v$","_v$2","_v$3","_v$4","_$setAttribute","undefined","TagsSchema","z","Tags","TagsBase","tags","parseTags","memo","setMemo","createRoot","decrypting","setDecrypting","useDecrypt","propsProvider","pubkey","usePubkey","decrypted","setDecrypted","createEffect","encrypted","p","result","Bookmark","bookmark","createMemo","genericEvent","length","bookmarkedEventIdsPrivate","json","log","taggedEventIds","warn","bookmarkedEventIds","For","each","eventId","ColumnItem","EventDisplayById","ensureKinds","Kind","Text","useParameterizedReplaceableEvent","queryClient","useQueryClient","query","createQuery","queryKey","signal","currentProps","kind","author","identifier","task","BatchedEventsTask","promise","latest","pickLatestEvent","registerTask","timeout","BookmarkColumn","onClose","ev","applyContentFilter","filter","child","FollowingColumn","followingPubkeys","useFollowings","authors","debugId","since","epoch","clientEventFilter","contentFilter","onMount","onCleanup","Home","ReactionDisplay","shouldMuteEvent","showProfile","useModalState","reaction","lastTaggedEventId","profile","useProfile","reactedEvent","reactedEventQuery","useEvent","ensureNonNull","eventIdNonNull","isRemoved","isSuccess","EmojiDisplay","reactionTypes","toReactionTypes","picture","UserDisplayName","TextNote","Notification","Reaction","Repost","NotificationColumn","notifications","Bell","PostsColumn","User","ReactionsColumn","reactions","Heart","RelaysColumn","GlobeAlt","SearchColumnHeader","setQuery","updateQuery","handleBlur","handleChange","currentTarget","handleSubmit","preventDefault","MagnifyingGlass","addEventListener","SearchColumn","relaysForSearching","search","findIndex","tagName","Columns","columns","columnType","followingColumn","notificationColumn","postsColumn","reactionsColumn","bookmarkColumn","root","require$$0","now","now_1","reWhitespace","trimmedEndIndex","string","_trimmedEndIndex","reTrimStart","baseTrim","_baseTrim","isObject","require$$1","isSymbol","require$$2","NAN","reIsBadHex","reIsBinary","reIsOctal","freeParseInt","toNumber","other","isBinary","toNumber_1","FUNC_ERROR_TEXT","nativeMax","nativeMin","debounce","func","wait","options","lastArgs","lastThis","maxWait","timerId","lastCallTime","lastInvokeTime","leading","maxing","trailing","invokeFunc","time","args","thisArg","leadingEdge","timerExpired","remainingWait","timeSinceLastCall","timeSinceLastInvoke","timeWaiting","shouldInvoke","trailingEdge","cancel","flush","debounced","isInvoking","debounce_1","throttle","throttle_1","defaultShortcut","createShortcutsMap","shortcuts","map","shortcut","useShortcutKeys","onShortcut","shortcutsMap","handleKeydown","useMountShortcutKeys","navigate","useNavigate","persistStatus","usePersistStatus","pool","usePool","initializeColumns","relayUrl","ensureRelay","on","msg","loggedIn","onError","SideBar","GlobalModal"],"mappings":"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","x_google_ignoreList":[0,1,5,6,7,24,25,26,27,28,29]}