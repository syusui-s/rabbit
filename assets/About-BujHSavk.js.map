{"version":3,"file":"About-BujHSavk.js","sources":["../../src/components/modal/About.tsx"],"sourcesContent":["import { Component, createResource, For, Show } from 'solid-js';\n\nimport BasicModal from '@/components/modal/BasicModal';\nimport SafeLink from '@/components/utils/SafeLink';\nimport { useTranslation } from '@/i18n/useTranslation';\nimport resolveAsset from '@/utils/resolveAsset';\n\ntype AboutProps = {\n  onClose: () => void;\n};\n\ntype PackageInfo = {\n  self: {\n    name: string;\n    author: string;\n    version: string;\n    homepage: string;\n    licenseSpdx: string;\n    licenseText: string;\n  };\n  packages: {\n    name: string;\n    version: string;\n    licenseSpdx: string;\n    licenseText: string;\n  }[];\n};\n\nconst fetchPackageInfo = async (): Promise<PackageInfo> => {\n  const res = await fetch(resolveAsset('packageInfo.json'));\n  const body = await res.text();\n  return JSON.parse(body) as PackageInfo;\n};\n\nconst commit = import.meta.env.VITE_COMMIT as string | null;\n\nconst About: Component<AboutProps> = (props) => {\n  const i18n = useTranslation();\n\n  const [packageInfo] = createResource(fetchPackageInfo);\n\n  return (\n    <BasicModal onClose={props.onClose}>\n      <div class=\"p-8\">\n        <div class=\"flex flex-col items-center pt-8\">\n          <img src={resolveAsset('images/rabbit_app_256.png')} alt=\"Logo\" width=\"64\" height=\"64\" />\n\n          <h1 class=\"my-4\">\n            Rabbit{' '}\n            <span id=\"app-version\">\n              <Show when={commit} fallback=\"(dev)\">\n                {' '}\n                ({commit})\n              </Show>\n            </span>\n          </h1>\n        </div>\n\n        <div class=\"my-4 flex justify-center gap-3\">\n          <SafeLink\n            class=\"rounded border-2 border-primary px-4 py-2 font-bold text-primary hover:border-primary-hover hover:text-primary-hover\"\n            href=\"https://github.com/syusui-s/rabbit/issues/new/choose\"\n          >\n            {i18n.t('about.bugReport')}\n          </SafeLink>\n          <SafeLink\n            class=\"rounded border-2 border-primary px-4 py-2 font-bold text-primary hover:border-primary-hover hover:text-primary-hover\"\n            href=\"https://github.com/syusui-s/rabbit\"\n          >\n            {i18n.t('about.sourceCode')}\n          </SafeLink>\n        </div>\n\n        <h2 class=\"my-4 text-xl font-bold\">{i18n.t('about.termOfService')}</h2>\n\n        <p class=\"my-4\">\n          Copyright (C) 2023 Shusui Moyatani and{' '}\n          <SafeLink\n            class=\"text-link underline\"\n            href=\"https://github.com/syusui-s/rabbit/graphs/contributors\"\n          >\n            Rabbit contributors\n          </SafeLink>\n        </p>\n\n        <pre class=\" max-h-96 overflow-auto rounded bg-bg-tertiary p-2 text-sm\">\n          {i18n.t('about.agplText')}\n        </pre>\n\n        <p>\n          <SafeLink class=\"text-link underline\" href=\"https://gpl.mhatta.org/agpl.ja.html\">\n            {i18n.t('about.agplTranslationJa')}\n          </SafeLink>\n        </p>\n\n        <pre class=\"scrollbar max-h-96 overflow-auto rounded bg-bg-tertiary p-4 text-xs\">\n          {packageInfo()?.self.licenseText}\n        </pre>\n\n        <h2 class=\"my-4 text-xl font-bold\">{i18n.t('about.usingLibraries')}</h2>\n\n        <For each={packageInfo()?.packages ?? []}>\n          {(p) => (\n            <>\n              <h3 class=\"mb-2 mt-4 font-mono\">\n                {p.name}@{p.version} ({p.licenseSpdx})\n              </h3>\n              <pre class=\"scrollbar max-h-96 overflow-auto rounded bg-bg-tertiary p-4 text-xs\">\n                {p.licenseText}\n              </pre>\n            </>\n          )}\n        </For>\n      </div>\n    </BasicModal>\n  );\n};\n\nexport default About;\n"],"names":["fetchPackageInfo","body","fetch","resolveAsset","text","JSON","parse","commit","import","About","props","i18n","useTranslation","packageInfo","createResource","_$createComponent","BasicModal","onClose","children","_el$","_tmpl$","_el$2","firstChild","_el$3","_el$4","nextSibling","_el$5","_el$7","_el$8","_el$9","_el$10","_el$13","_el$14","_el$15","_el$16","Show","when","fallback","SafeLink","href","t","_$insert","self","licenseText","For","each","packages","p","_el$17","_tmpl$2","_el$18","_el$21","_el$19","_el$22","name","version","licenseSpdx","_el$23","_tmpl$3","_$effect","_$setAttribute"],"mappings":"25BA4BMA,EAAmB,SAAkC,CAEnDC,MAAAA,EAAO,MADD,MAAMC,MAAMC,EAAa,kBAAkB,CAAC,GACjCC,OAChBC,OAAAA,KAAKC,MAAML,CAAI,CACxB,EAEMM,EAASC,UAETC,EAA0CC,GAAA,CAC9C,MAAMC,EAAOC,IAEP,CAACC,CAAW,EAAIC,EAAed,CAAgB,EAErD,OAAAe,EACGC,EAAU,CAAA,IAACC,SAAO,CAAA,OAAEP,EAAMO,OAAO,EAAA,IAAAC,UAAA,CAAA,MAAAC,EAAAC,IAAAC,EAAAF,EAAAG,WAAAC,EAAAF,EAAAC,WAAAE,EAAAD,EAAAE,YAAAC,EAAAF,EAAAF,WAAAK,EAAAD,EAAAD,YAAAG,EAAAP,EAAAI,YAAAI,EAAAD,EAAAH,YAAAK,EAAAD,EAAAJ,YAAAK,EAAAR,iBAAAS,EAAAD,EAAAL,YAAAO,EAAAD,EAAAN,YAAAQ,EAAAD,EAAAP,YAAAS,EAAAD,EAAAR,YAAAE,OAAAA,EAAAA,EAAAZ,EAQvBoB,EAAI,CAACC,KAAM7B,EAAQ8B,SAAQ,QAAA,IAAAnB,UAAA,CAAA,MACzB,CAAA,QACCX,EAAM,GAAA,CAAA,CAAA,CAAA,CAAA,EAAAqB,EAAAA,EAAAb,EAObuB,EAAQ,CAAA,MAAA,uHAEPC,KAAI,uDAAA,IAAArB,UAAA,CAEHP,OAAAA,EAAK6B,EAAE,iBAAiB,CAAC,CAAA,CAAA,EAAA,IAAA,EAAAZ,EAAAA,EAAAb,EAE3BuB,EAAQ,CAAA,MAAA,uHAEPC,KAAI,qCAAA,IAAArB,UAAA,CAEHP,OAAAA,EAAK6B,EAAE,kBAAkB,CAAC,CAAA,CAAA,EAAA,IAAA,EAAAC,EAAAZ,EAIKlB,IAAAA,EAAK6B,EAAE,qBAAqB,CAAC,EAAAV,EAAAA,EAAAf,EAI9DuB,EAAQ,CAAA,MAAA,sBAEPC,KAAI,yDAAArB,SAAA,qBAAA,CAAA,EAAA,IAAA,EAAAuB,EAAAV,EAOLpB,IAAAA,EAAK6B,EAAE,gBAAgB,CAAC,EAAAR,EAAAA,EAAAjB,EAIxBuB,EAAQ,CAAA,MAAA,sBAA6BC,KAAI,sCAAA,IAAArB,UAAA,CACvCP,OAAAA,EAAK6B,EAAE,yBAAyB,CAAC,CAAA,CAAA,CAAA,EAAAC,EAAAR,EAKnCpB,IAAAA,EAAY,GAAG6B,KAAKC,WAAW,EAAAF,EAAAP,EAGEvB,IAAAA,EAAK6B,EAAE,sBAAsB,CAAC,EAAArB,EAAAA,EAAAJ,EAEjE6B,EAAG,CAAA,IAACC,MAAI,CAAEhC,OAAAA,EAAAA,GAAeiC,UAAY,EAAE,EAAA5B,SACnC6B,GAAA,EAAA,IAAA,CAAA,MAAAC,EAAAC,EAAA,EAAAC,EAAAF,EAAA1B,WAAA6B,EAAAD,EAAAzB,YAAA2B,EAAAD,EAAA1B,YAAA4B,EAAAD,EAAA3B,YAAA4B,OAAAA,EAAA5B,YAAAgB,EAAAO,EAAA,IAGID,EAAEO,KAAIJ,CAAA,EAAAT,EAAAO,EAAA,IAAGD,EAAEQ,QAAOJ,CAAA,EAAAV,EAAAO,EAAA,IAAID,EAAES,YAAWH,CAAA,EAAAL,CAAA,GAAA,GAAA,IAAA,CAAA,MAAAS,EAAAC,IAAAD,OAAAA,EAAAA,EAGnCV,IAAAA,EAAEJ,WAAW,EAAAc,CAAAA,IAAA,CAAA,CAGnB,EAAA,IAAA,EAAAE,EAAA,IAAAC,EAAArC,QAlESpB,EAAa,2BAA2B,CAAC,CAAA,EAAAgB,CAAA,CAAA,CAAA,CAuE7D"}