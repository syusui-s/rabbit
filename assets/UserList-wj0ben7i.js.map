{"version":3,"file":"UserList-wj0ben7i.js","sources":["../../src/components/event/ProfileListItem.tsx","../../src/components/modal/UserList.tsx"],"sourcesContent":["import { Component, Show } from 'solid-js';\n\nimport useProfile from '@/nostr/useProfile';\nimport npubEncodeFallback from '@/utils/npubEncodeFallback';\nimport { thumbnailUrl } from '@/utils/url';\n\nexport type ProfileListItemProps = {\n  pubkey: string;\n  onShowProfile?: () => void;\n};\n\nconst ProfileListItem: Component<ProfileListItemProps> = (props) => {\n  const { profile } = useProfile(() => ({\n    pubkey: props.pubkey,\n  }));\n\n  return (\n    <div class=\"flex w-full items-center gap-1\">\n      <button\n        type=\"button\"\n        class=\"profile-icon size-6 shrink-0 overflow-hidden\"\n        onClick={(ev) => {\n          ev.preventDefault();\n          props.onShowProfile?.();\n        }}\n      >\n        <Show when={profile()?.picture} keyed>\n          {(url) => (\n            <img src={thumbnailUrl(url)} alt=\"icon\" class=\"size-full rounded object-cover\" />\n          )}\n        </Show>\n      </button>\n      <div class=\"min-w-0 flex-auto\">\n        <div class=\"flex justify-between gap-1 text-xs\">\n          <button\n            type=\"button\"\n            class=\"profile flex min-w-0 select-text truncate hover:text-link\"\n            onClick={(ev) => {\n              ev.preventDefault();\n              props?.onShowProfile?.();\n            }}\n          >\n            <span class=\"profile flex min-w-0 truncate hover:text-link\">\n              <Show when={(profile()?.display_name?.length ?? 0) > 0}>\n                <div class=\"profile-name truncate pr-1 font-bold hover:underline\">\n                  {profile()?.display_name}\n                </div>\n              </Show>\n              <div class=\"profile-username truncate text-fg-secondary\">\n                <Show\n                  when={profile()?.name}\n                  fallback={`@${npubEncodeFallback(props.pubkey)}`}\n                  keyed\n                >\n                  {(name) => `@${name}`}\n                </Show>\n                {/* TODO <Match when={profile()?.nip05 != null}>@{author()?.nip05}</Match> */}\n              </div>\n            </span>\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default ProfileListItem;\n","import { For, JSX, Show } from 'solid-js';\n\nimport ProfileListItem from '@/components/event/ProfileListItem';\nimport BasicModal from '@/components/modal/BasicModal';\nimport LazyLoad from '@/components/utils/LazyLoad';\nimport useModalState from '@/hooks/useModalState';\n\nexport type UserListProps<T> = {\n  data: T[];\n  pubkeyExtractor: (e: T) => string;\n  renderInfo?: (e: T) => JSX.Element;\n  onClose: () => void;\n};\n\nconst UserList = <T,>(props: UserListProps<T>): JSX.Element => {\n  const { showProfile } = useModalState();\n\n  return (\n    <BasicModal onClose={props.onClose}>\n      <div class=\"px-4 py-2\">\n        <div>{props.data.length} ä»¶</div>\n        <div>\n          <For each={props.data}>\n            {(e) => {\n              const pubkey = () => props.pubkeyExtractor(e);\n              return (\n                <div class=\"flex border-t border-border py-1\">\n                  <Show when={props.renderInfo} keyed>\n                    {(render) => render(e)}\n                  </Show>\n                  <LazyLoad fallback={<div class=\"h-6\" />}>\n                    {() => (\n                      <ProfileListItem\n                        pubkey={pubkey()}\n                        onShowProfile={() => showProfile(pubkey())}\n                      />\n                    )}\n                  </LazyLoad>\n                </div>\n              );\n            }}\n          </For>\n        </div>\n      </div>\n    </BasicModal>\n  );\n};\n\nexport default UserList;\n"],"names":["ProfileListItem","props","profile","useProfile","pubkey","_el$","_tmpl$2","_el$2","firstChild","_el$3","nextSibling","_el$4","_el$5","_el$6","_el$8","$$click","ev","preventDefault","onShowProfile","_$createComponent","Show","when","picture","keyed","children","_el$9","_tmpl$3","_$effect","_$setAttribute","thumbnailUrl","url","display_name","length","_el$7","_tmpl$","_$insert","name","fallback","npubEncodeFallback","_$delegateEvents","UserList","showProfile","useModalState","BasicModal","onClose","data","For","each","e","pubkeyExtractor","renderInfo","render","LazyLoad"],"mappings":"k4BAWMA,EAA8DC,GAAA,CAC5D,KAAA,CAAEC,QAAAA,CAAQ,EAAIC,EAAW,KAAO,CACpCC,OAAQH,EAAMG,MACd,EAAA,EAEF,OAAA,IAAA,CAAA,MAAAC,EAAAC,EAAA,EAAAC,EAAAF,EAAAG,WAAAC,EAAAF,EAAAG,YAAAC,EAAAF,EAAAD,WAAAI,EAAAD,EAAAH,WAAAK,EAAAD,EAAAJ,WAAAM,EAAAD,EAAAL,WAAAD,OAAAA,EAAAQ,QAKuBC,GAAA,CACfA,EAAGC,eAAe,EAClBhB,EAAMiB,gBAAgB,CAAA,EACvBX,EAAAA,EAAAY,EAEAC,EAAI,CAAA,IAACC,MAAI,CAAA,OAAEnB,EAAWoB,GAAAA,OAAO,EAAEC,MAAK,GAAAC,aAC9B,IAAA,CAAA,MAAAC,EAAAC,IAAAC,OAAAA,EAAA,IAAAC,EAAAH,QACOI,EAAaC,CAAG,CAAC,CAAA,EAAAL,CAAAA,GAAA,CAC5B,CAAA,CAAA,EAAAb,EAAAG,QAQkBC,GAAA,CACfA,EAAGC,eAAe,EAClBhB,GAAOiB,gBAAgB,CAAA,EACxBL,EAAAA,EAAAM,EAGEC,EAAI,CAAA,IAACC,MAAI,CAAA,OAAGnB,EAAQ,GAAG6B,cAAcC,QAAU,GAAK,CAAC,EAAA,IAAAR,UAAA,CAAA,MAAAS,EAAAC,IAAAC,OAAAA,EAAAF,EAAA,IAEjD/B,EAAQ,GAAG6B,YAAY,EAAAE,CAAA,CAAA,CAAA,EAAAnB,CAAA,EAAAA,EAAAA,EAAAK,EAIzBC,EAAI,CAAA,IACHC,MAAI,CAAA,OAAEnB,EAAWkC,GAAAA,IAAI,EAAA,IACrBC,UAAQ,CAAA,MAAG,IAAGC,EAAmBrC,EAAMG,MAAM,CAAE,EAAC,EAChDmB,MAAK,GAAAC,SAEOY,GAAA,IAAGA,CAAK,EAAC,CAAA,CAAA,EAAA/B,CAAAA,IAUvC,EAE+BkC,EAAA,CAAA,OAAA,CAAA,sICpDzBC,EAAgBvC,GAAyC,CACvD,KAAA,CAAEwC,YAAAA,GAAgBC,EAAc,EAEtC,OAAAvB,EACGwB,EAAU,CAAA,IAACC,SAAO,CAAA,OAAE3C,EAAM2C,OAAO,EAAA,IAAApB,UAAA,CAAAnB,MAAAA,EAAA6B,IAAA3B,EAAAF,EAAAG,WAAAC,EAAAF,EAAAC,WAAAG,EAAAJ,EAAAG,YAAAyB,OAAAA,EAAA5B,EAExBN,IAAAA,EAAM4C,KAAKb,OAAMvB,CAAA,EAAAE,EAAAA,EAAAQ,EAEpB2B,EAAG,CAAA,IAACC,MAAI,CAAA,OAAE9C,EAAM4C,IAAI,EAAArB,SACXwB,GAAA,CACN,MAAM5C,EAASA,IAAMH,EAAMgD,gBAAgBD,CAAC,EAC5C,OAAA,IAAA,CAAA,MAAApC,EAAAN,IAAAM,OAAAA,EAAAA,EAAAO,EAEKC,EAAI,CAAA,IAACC,MAAI,CAAA,OAAEpB,EAAMiD,UAAU,EAAE3B,MAAK,GAAAC,SACpB2B,GAAAA,EAAOH,CAAC,CAAA,CAAC,EAAA,IAAA,EAAApC,EAAAA,EAAAO,EAEvBiC,EAAQ,CAAA,IAACf,UAAQ,CAAA,OAAAX,EAAA,CAAA,EAAAF,SACfA,IAAAL,EACEnB,EAAe,CAAA,IACdI,QAAM,CAAA,OAAEA,EAAO,CAAC,EAChBc,cAAeA,IAAMuB,EAAYrC,GAAQ,CAAA,CAAC,CAAA,CAE7C,EAAA,IAAA,EAAAQ,CAAAA,IAIT,CAAC,CAAA,CAAA,EAAAP,CAAA,CAAA,CAAA,CAMb"}