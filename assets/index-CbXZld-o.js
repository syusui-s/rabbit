const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Hello-D1C1P35N.js","assets/resolveAsset-0WSS-QY2.js","assets/SafeLink-DlGj2HXs.js","assets/Home-BImcmmnx.js","assets/SideBar-QP03rlVs.js","assets/arrow-left-PF39QuaU.js","assets/useFollowings-Cn7byUmF.js","assets/EventDisplay-B_C4ZLJn.js","assets/url-DPIb-kBm.js","assets/useSubscription-CPqs05Fd.js","assets/Permalink-C-hBy4y9.js"])))=>i.map(i=>d[i]);
(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();const V={context:void 0,registry:void 0,effects:void 0,done:!1,getContextId(){return Ji(this.context.count)},getNextContextId(){return Ji(this.context.count++)}};function Ji(t){const e=String(t),n=e.length-1;return V.context.id+(n?String.fromCharCode(96+n):"")+e}function dn(t){V.context=t}const Ml=(t,e)=>t===e,Ae=Symbol("solid-proxy"),Po=typeof Proxy=="function",ks=Symbol("solid-track"),tr={equals:Ml};let nt=null,Io=Mo;const Fe=1,nr=2,Lo={owned:null,cleanups:null,context:null,owner:null},ss={};var z=null;let is=null,Fl=null,G=null,de=null,Te=null,Pr=0;function st(t,e){const n=G,r=z,s=t.length===0,i=e===void 0?r:e,a=s?Lo:{owned:null,cleanups:null,context:i?i.context:null,owner:i},o=s?t:()=>t(()=>le(()=>vn(a)));z=a,G=null;try{return Ue(o,!0)}finally{G=n,z=r}}function fe(t,e){e=e?Object.assign({},tr,e):tr;const n={value:t,observers:null,observerSlots:null,comparator:e.equals||void 0},r=s=>(typeof s=="function"&&(s=s(n.value)),Do(n,s));return[Uo.bind(n),r]}function vt(t,e,n){const r=Lr(t,e,!0,Fe);Gt(r)}function it(t,e,n){const r=Lr(t,e,!1,Fe);Gt(r)}function qt(t,e,n){Io=ql;const r=Lr(t,e,!1,Fe);(!n||!n.render)&&(r.user=!0),Te?Te.push(r):Gt(r)}function W(t,e,n){n=n?Object.assign({},tr,n):tr;const r=Lr(t,e,!0,0);return r.observers=null,r.observerSlots=null,r.comparator=n.equals||void 0,Gt(r),Uo.bind(r)}function Bl(t){return t&&typeof t=="object"&&"then"in t}function No(t,e,n){let r,s,i;arguments.length===2&&typeof e=="object"||arguments.length===1?(r=!0,s=t,i=e||{}):(r=t,s=e,i={});let a=null,o=ss,u=null,l=!1,c="initialValue"in i,f=typeof r=="function"&&W(r);const d=new Set,[p,m]=(i.storage||fe)(i.initialValue),[h,g]=fe(void 0),[b,v]=fe(void 0,{equals:!1}),[A,w]=fe(c?"ready":"unresolved");V.context&&(u=V.getNextContextId(),i.ssrLoadFrom==="initial"?o=i.initialValue:V.load&&V.has(u)&&(o=V.load(u)));function _(F,N,R,Y){return a===F&&(a=null,Y!==void 0&&(c=!0),(F===o||N===o)&&i.onHydrated&&queueMicrotask(()=>i.onHydrated(Y,{value:N})),o=ss,O(N,R)),N}function O(F,N){Ue(()=>{N===void 0&&m(()=>F),w(N!==void 0?"errored":c?"ready":"unresolved"),g(N);for(const R of d.keys())R.decrement();d.clear()},!1)}function C(){const F=Vl,N=p(),R=h();if(R!==void 0&&!a)throw R;return G&&!G.user&&F&&vt(()=>{b(),a&&(F.resolved||d.has(F)||(F.increment(),d.add(F)))}),N}function L(F=!0){if(F!==!1&&l)return;l=!1;const N=f?f():r;if(N==null||N===!1){_(a,le(p));return}const R=o!==ss?o:le(()=>s(N,{value:p(),refetching:F}));return Bl(R)?(a=R,"value"in R?(R.status==="success"?_(a,R.value,void 0,N):_(a,void 0,Ps(R.value),N),R):(l=!0,queueMicrotask(()=>l=!1),Ue(()=>{w(c?"refreshing":"pending"),v()},!1),R.then(Y=>_(R,Y,void 0,N),Y=>_(R,void 0,Ps(Y),N)))):(_(a,R,void 0,N),R)}return Object.defineProperties(C,{state:{get:()=>A()},error:{get:()=>h()},loading:{get(){const F=A();return F==="pending"||F==="refreshing"}},latest:{get(){if(!c)return C();const F=h();if(F&&!a)throw F;return p()}}}),f?vt(()=>L(!1)):L(!1),[C,{refetch:L,mutate:m}]}function jo(t){return Ue(t,!1)}function le(t){if(G===null)return t();const e=G;G=null;try{return t()}finally{G=e}}function wt(t,e,n){const r=Array.isArray(t);let s,i=n&&n.defer;return a=>{let o;if(r){o=Array(t.length);for(let l=0;l<t.length;l++)o[l]=t[l]()}else o=t();if(i)return i=!1,a;const u=le(()=>e(o,s,a));return s=o,u}}function Hl(t){qt(()=>le(t))}function je(t){return z===null||(z.cleanups===null?z.cleanups=[t]:z.cleanups.push(t)),t}function Rs(){return G}function rr(){return z}function gi(t,e){const n=z,r=G;z=t,G=null;try{return Ue(e,!0)}catch(s){Nr(s)}finally{z=n,G=r}}function Zl(t){const e=G,n=z;return Promise.resolve().then(()=>{G=e,z=n;let r;return Ue(t,!1),G=z=null,r?r.done:void 0})}function Dn(t,e){const n=Symbol("context");return{id:n,Provider:Gl(n),defaultValue:t}}function Mn(t){let e;return z&&z.context&&(e=z.context[t.id])!==void 0?e:t.defaultValue}function Ir(t){const e=W(t),n=W(()=>Is(e()));return n.toArray=()=>{const r=n();return Array.isArray(r)?r:r!=null?[r]:[]},n}let Vl;function Uo(){if(this.sources&&this.state)if(this.state===Fe)Gt(this);else{const t=de;de=null,Ue(()=>ir(this),!1),de=t}if(G){const t=this.observers?this.observers.length:0;G.sources?(G.sources.push(this),G.sourceSlots.push(t)):(G.sources=[this],G.sourceSlots=[t]),this.observers?(this.observers.push(G),this.observerSlots.push(G.sources.length-1)):(this.observers=[G],this.observerSlots=[G.sources.length-1])}return this.value}function Do(t,e,n){let r=t.value;return(!t.comparator||!t.comparator(r,e))&&(t.value=e,t.observers&&t.observers.length&&Ue(()=>{for(let s=0;s<t.observers.length;s+=1){const i=t.observers[s],a=is&&is.running;a&&is.disposed.has(i),(a?!i.tState:!i.state)&&(i.pure?de.push(i):Te.push(i),i.observers&&Fo(i)),a||(i.state=Fe)}if(de.length>1e6)throw de=[],new Error},!1)),e}function Gt(t){if(!t.fn)return;vn(t);const e=Pr;zl(t,t.value,e)}function zl(t,e,n){let r;const s=z,i=G;G=z=t;try{r=t.fn(e)}catch(a){return t.pure&&(t.state=Fe,t.owned&&t.owned.forEach(vn),t.owned=null),t.updatedAt=n+1,Nr(a)}finally{G=i,z=s}(!t.updatedAt||t.updatedAt<=n)&&(t.updatedAt!=null&&"observers"in t?Do(t,r):t.value=r,t.updatedAt=n)}function Lr(t,e,n,r=Fe,s){const i={fn:t,state:r,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:e,owner:z,context:z?z.context:null,pure:n};return z===null||z!==Lo&&(z.owned?z.owned.push(i):z.owned=[i]),i}function sr(t){if(t.state===0)return;if(t.state===nr)return ir(t);if(t.suspense&&le(t.suspense.inFallback))return t.suspense.effects.push(t);const e=[t];for(;(t=t.owner)&&(!t.updatedAt||t.updatedAt<Pr);)t.state&&e.push(t);for(let n=e.length-1;n>=0;n--)if(t=e[n],t.state===Fe)Gt(t);else if(t.state===nr){const r=de;de=null,Ue(()=>ir(t,e[0]),!1),de=r}}function Ue(t,e){if(de)return t();let n=!1;e||(de=[]),Te?n=!0:Te=[],Pr++;try{const r=t();return Kl(n),r}catch(r){n||(Te=null),de=null,Nr(r)}}function Kl(t){if(de&&(Mo(de),de=null),t)return;const e=Te;Te=null,e.length&&Ue(()=>Io(e),!1)}function Mo(t){for(let e=0;e<t.length;e++)sr(t[e])}function ql(t){let e,n=0;for(e=0;e<t.length;e++){const r=t[e];r.user?t[n++]=r:sr(r)}if(V.context){if(V.count){V.effects||(V.effects=[]),V.effects.push(...t.slice(0,n));return}dn()}for(V.effects&&(V.done||!V.count)&&(t=[...V.effects,...t],n+=V.effects.length,delete V.effects),e=0;e<n;e++)sr(t[e])}function ir(t,e){t.state=0;for(let n=0;n<t.sources.length;n+=1){const r=t.sources[n];if(r.sources){const s=r.state;s===Fe?r!==e&&(!r.updatedAt||r.updatedAt<Pr)&&sr(r):s===nr&&ir(r,e)}}}function Fo(t){for(let e=0;e<t.observers.length;e+=1){const n=t.observers[e];n.state||(n.state=nr,n.pure?de.push(n):Te.push(n),n.observers&&Fo(n))}}function vn(t){let e;if(t.sources)for(;t.sources.length;){const n=t.sources.pop(),r=t.sourceSlots.pop(),s=n.observers;if(s&&s.length){const i=s.pop(),a=n.observerSlots.pop();r<s.length&&(i.sourceSlots[a]=r,s[r]=i,n.observerSlots[r]=a)}}if(t.tOwned){for(e=t.tOwned.length-1;e>=0;e--)vn(t.tOwned[e]);delete t.tOwned}if(t.owned){for(e=t.owned.length-1;e>=0;e--)vn(t.owned[e]);t.owned=null}if(t.cleanups){for(e=t.cleanups.length-1;e>=0;e--)t.cleanups[e]();t.cleanups=null}t.state=0}function Ps(t){return t instanceof Error?t:new Error(typeof t=="string"?t:"Unknown error",{cause:t})}function Yi(t,e,n){try{for(const r of e)r(t)}catch(r){Nr(r,n&&n.owner||null)}}function Nr(t,e=z){const n=nt&&e&&e.context&&e.context[nt],r=Ps(t);if(!n)throw r;Te?Te.push({fn(){Yi(r,n,e)},state:Fe}):Yi(r,n,e)}function Is(t){if(typeof t=="function"&&!t.length)return Is(t());if(Array.isArray(t)){const e=[];for(let n=0;n<t.length;n++){const r=Is(t[n]);Array.isArray(r)?e.push.apply(e,r):e.push(r)}return e}return t}function Gl(t,e){return function(r){let s;return it(()=>s=le(()=>(z.context={...z.context,[t]:r.value},Ir(()=>r.children))),void 0),s}}function aO(t){nt||(nt=Symbol("error")),z===null||(z.context===null||!z.context[nt]?(z.context={...z.context,[nt]:[t]},Xn(z,nt,[t])):z.context[nt].push(t))}function Xn(t,e,n){if(t.owned)for(let r=0;r<t.owned.length;r++)t.owned[r].context===t.context&&Xn(t.owned[r],e,n),t.owned[r].context?t.owned[r].context[e]||(t.owned[r].context[e]=n,Xn(t.owned[r],e,n)):(t.owned[r].context=t.context,Xn(t.owned[r],e,n))}const Wl=Symbol("fallback");function Xi(t){for(let e=0;e<t.length;e++)t[e]()}function Ql(t,e,n={}){let r=[],s=[],i=[],a=0,o=e.length>1?[]:null;return je(()=>Xi(i)),()=>{let u=t()||[],l=u.length,c,f;return u[ks],le(()=>{let p,m,h,g,b,v,A,w,_;if(l===0)a!==0&&(Xi(i),i=[],r=[],s=[],a=0,o&&(o=[])),n.fallback&&(r=[Wl],s[0]=st(O=>(i[0]=O,n.fallback())),a=1);else if(a===0){for(s=new Array(l),f=0;f<l;f++)r[f]=u[f],s[f]=st(d);a=l}else{for(h=new Array(l),g=new Array(l),o&&(b=new Array(l)),v=0,A=Math.min(a,l);v<A&&r[v]===u[v];v++);for(A=a-1,w=l-1;A>=v&&w>=v&&r[A]===u[w];A--,w--)h[w]=s[A],g[w]=i[A],o&&(b[w]=o[A]);for(p=new Map,m=new Array(w+1),f=w;f>=v;f--)_=u[f],c=p.get(_),m[f]=c===void 0?-1:c,p.set(_,f);for(c=v;c<=A;c++)_=r[c],f=p.get(_),f!==void 0&&f!==-1?(h[f]=s[c],g[f]=i[c],o&&(b[f]=o[c]),f=m[f],p.set(_,f)):i[c]();for(f=v;f<l;f++)f in h?(s[f]=h[f],i[f]=g[f],o&&(o[f]=b[f],o[f](f))):s[f]=st(d);s=s.slice(0,a=l),r=u.slice(0)}return s});function d(p){if(i[f]=p,o){const[m,h]=fe(f);return o[f]=h,e(u[f],m)}return e(u[f])}}}function J(t,e){return le(()=>t(e||{}))}function Kn(){return!0}const Ls={get(t,e,n){return e===Ae?n:t.get(e)},has(t,e){return e===Ae?!0:t.has(e)},set:Kn,deleteProperty:Kn,getOwnPropertyDescriptor(t,e){return{configurable:!0,enumerable:!0,get(){return t.get(e)},set:Kn,deleteProperty:Kn}},ownKeys(t){return t.keys()}};function as(t){return(t=typeof t=="function"?t():t)?t:{}}function Jl(){for(let t=0,e=this.length;t<e;++t){const n=this[t]();if(n!==void 0)return n}}function Yl(...t){let e=!1;for(let a=0;a<t.length;a++){const o=t[a];e=e||!!o&&Ae in o,t[a]=typeof o=="function"?(e=!0,W(o)):o}if(Po&&e)return new Proxy({get(a){for(let o=t.length-1;o>=0;o--){const u=as(t[o])[a];if(u!==void 0)return u}},has(a){for(let o=t.length-1;o>=0;o--)if(a in as(t[o]))return!0;return!1},keys(){const a=[];for(let o=0;o<t.length;o++)a.push(...Object.keys(as(t[o])));return[...new Set(a)]}},Ls);const n={},r=Object.create(null);for(let a=t.length-1;a>=0;a--){const o=t[a];if(!o)continue;const u=Object.getOwnPropertyNames(o);for(let l=u.length-1;l>=0;l--){const c=u[l];if(c==="__proto__"||c==="constructor")continue;const f=Object.getOwnPropertyDescriptor(o,c);if(!r[c])r[c]=f.get?{enumerable:!0,configurable:!0,get:Jl.bind(n[c]=[f.get.bind(o)])}:f.value!==void 0?f:void 0;else{const d=n[c];d&&(f.get?d.push(f.get.bind(o)):f.value!==void 0&&d.push(()=>f.value))}}}const s={},i=Object.keys(r);for(let a=i.length-1;a>=0;a--){const o=i[a],u=r[o];u&&u.get?Object.defineProperty(s,o,u):s[o]=u?u.value:void 0}return s}function oO(t,...e){if(Po&&Ae in t){const s=new Set(e.length>1?e.flat():e[0]),i=e.map(a=>new Proxy({get(o){return a.includes(o)?t[o]:void 0},has(o){return a.includes(o)&&o in t},keys(){return a.filter(o=>o in t)}},Ls));return i.push(new Proxy({get(a){return s.has(a)?void 0:t[a]},has(a){return s.has(a)?!1:a in t},keys(){return Object.keys(t).filter(a=>!s.has(a))}},Ls)),i}const n={},r=e.map(()=>({}));for(const s of Object.getOwnPropertyNames(t)){const i=Object.getOwnPropertyDescriptor(t,s),a=!i.get&&!i.set&&i.enumerable&&i.writable&&i.configurable;let o=!1,u=0;for(const l of e)l.includes(s)&&(o=!0,a?r[u][s]=i.value:Object.defineProperty(r[u],s,i)),++u;o||(a?n[s]=i.value:Object.defineProperty(n,s,i))}return[...r,n]}function jr(t){let e,n;const r=s=>{const i=V.context;if(i){const[o,u]=fe();V.count||(V.count=0),V.count++,(n||(n=t())).then(l=>{!V.done&&dn(i),V.count--,u(()=>l.default),dn()}),e=o}else if(!e){const[o]=No(()=>(n||(n=t())).then(u=>u.default));e=o}let a;return W(()=>(a=e())?le(()=>{if(!i||V.done)return a(s);const o=V.context;dn(i);const u=a(s);return dn(o),u}):"")};return r.preload=()=>n||((n=t()).then(s=>e=()=>s.default),n),r}const Bo=t=>`Stale read from <${t}>.`;function uO(t){const e="fallback"in t&&{fallback:()=>t.fallback};return W(Ql(()=>t.each,t.children,e||void 0))}function mi(t){const e=t.keyed,n=W(()=>t.when,void 0,{equals:(r,s)=>e?r===s:!r==!s});return W(()=>{const r=n();if(r){const s=t.children;return typeof s=="function"&&s.length>0?le(()=>s(e?r:()=>{if(!le(n))throw Bo("Show");return t.when})):s}return t.fallback},void 0,void 0)}function lO(t){let e=!1;const n=(i,a)=>(e?i[1]===a[1]:!i[1]==!a[1])&&i[2]===a[2],r=Ir(()=>t.children),s=W(()=>{let i=r();Array.isArray(i)||(i=[i]);for(let a=0;a<i.length;a++){const o=i[a].when;if(o)return e=!!i[a].keyed,[a,o,i[a]]}return[-1]},void 0,{equals:n});return W(()=>{const[i,a,o]=s();if(i<0)return t.fallback;const u=o.children;return typeof u=="function"&&u.length>0?le(()=>u(e?a:()=>{if(le(s)[0]!==i)throw Bo("Match");return o.when})):u},void 0,void 0)}function cO(t){return t}const Xl=new Set(["innerHTML","textContent","innerText","children"]),ec=Object.assign(Object.create(null),{className:"class",htmlFor:"for"}),tc=new Set(["beforeinput","click","dblclick","contextmenu","focusin","focusout","input","keydown","keyup","mousedown","mousemove","mouseout","mouseover","mouseup","pointerdown","pointermove","pointerout","pointerover","pointerup","touchend","touchmove","touchstart"]),nc={xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace"};function rc(t,e,n){let r=n.length,s=e.length,i=r,a=0,o=0,u=e[s-1].nextSibling,l=null;for(;a<s||o<i;){if(e[a]===n[o]){a++,o++;continue}for(;e[s-1]===n[i-1];)s--,i--;if(s===a){const c=i<r?o?n[o-1].nextSibling:n[i-o]:u;for(;o<i;)t.insertBefore(n[o++],c)}else if(i===o)for(;a<s;)(!l||!l.has(e[a]))&&e[a].remove(),a++;else if(e[a]===n[i-1]&&n[o]===e[s-1]){const c=e[--s].nextSibling;t.insertBefore(n[o++],e[a++].nextSibling),t.insertBefore(n[--i],c),e[s]=n[i]}else{if(!l){l=new Map;let f=o;for(;f<i;)l.set(n[f],f++)}const c=l.get(e[a]);if(c!=null)if(o<c&&c<i){let f=a,d=1,p;for(;++f<s&&f<i&&!((p=l.get(e[f]))==null||p!==c+d);)d++;if(d>c-o){const m=e[a];for(;o<c;)t.insertBefore(n[o++],m)}else t.replaceChild(n[o++],e[a++])}else a++;else e[a++].remove()}}}const ea="_$DX_DELEGATE";function sc(t,e,n,r={}){let s;return st(i=>{s=i,e===document?t():js(e,t(),e.firstChild?null:void 0,n)},r.owner),()=>{s(),e.textContent=""}}function fO(t,e,n){let r;const s=()=>{const a=document.createElement("template");return a.innerHTML=t,a.content.firstChild},i=()=>(r||(r=s())).cloneNode(!0);return i.cloneNode=i,i}function Ho(t,e=window.document){const n=e[ea]||(e[ea]=new Set);for(let r=0,s=t.length;r<s;r++){const i=t[r];n.has(i)||(n.add(i),e.addEventListener(i,pc))}}function Ns(t,e,n){Wt(t)||(n==null?t.removeAttribute(e):t.setAttribute(e,n))}function ic(t,e,n,r){Wt(t)||(r==null?t.removeAttributeNS(e,n):t.setAttributeNS(e,n,r))}function ac(t,e,n){Wt(t)||(n?t.setAttribute(e,""):t.removeAttribute(e))}function oc(t,e){Wt(t)||(e==null?t.removeAttribute("class"):t.className=e)}function uc(t,e,n,r){if(r)Array.isArray(n)?(t[`$$${e}`]=n[0],t[`$$${e}Data`]=n[1]):t[`$$${e}`]=n;else if(Array.isArray(n)){const s=n[0];t.addEventListener(e,n[0]=i=>s.call(t,n[1],i))}else t.addEventListener(e,n,typeof n!="function"&&n)}function lc(t,e,n={}){const r=Object.keys(e||{}),s=Object.keys(n);let i,a;for(i=0,a=s.length;i<a;i++){const o=s[i];!o||o==="undefined"||e[o]||(ta(t,o,!1),delete n[o])}for(i=0,a=r.length;i<a;i++){const o=r[i],u=!!e[o];!o||o==="undefined"||n[o]===u||!u||(ta(t,o,!0),n[o]=u)}return n}function cc(t,e,n){if(!e)return n?Ns(t,"style"):e;const r=t.style;if(typeof e=="string")return r.cssText=e;typeof n=="string"&&(r.cssText=n=void 0),n||(n={}),e||(e={});let s,i;for(i in n)e[i]==null&&r.removeProperty(i),delete n[i];for(i in e)s=e[i],s!==n[i]&&(r.setProperty(i,s),n[i]=s);return n}function dO(t,e={},n,r){const s={};return it(()=>typeof e.ref=="function"&&fc(e.ref,t)),it(()=>dc(t,e,n,!0,s,!0)),s}function fc(t,e,n){return le(()=>t(e,n))}function js(t,e,n,r){if(n!==void 0&&!r&&(r=[]),typeof e!="function")return ar(t,e,r,n);it(s=>ar(t,e(),s,n),r)}function dc(t,e,n,r,s={},i=!1){e||(e={});for(const a in s)if(!(a in e)){if(a==="children")continue;s[a]=na(t,a,null,s[a],n,i,e)}for(const a in e){if(a==="children")continue;const o=e[a];s[a]=na(t,a,o,s[a],n,i,e)}}function Wt(t){return!!V.context&&!V.done&&(!t||t.isConnected)}function hc(t){return t.toLowerCase().replace(/-([a-z])/g,(e,n)=>n.toUpperCase())}function ta(t,e,n){const r=e.trim().split(/\s+/);for(let s=0,i=r.length;s<i;s++)t.classList.toggle(r[s],n)}function na(t,e,n,r,s,i,a){let o,u,l,c;if(e==="style")return cc(t,n,r);if(e==="classList")return lc(t,n,r);if(n===r)return r;if(e==="ref")i||n(t);else if(e.slice(0,3)==="on:"){const f=e.slice(3);r&&t.removeEventListener(f,r,typeof r!="function"&&r),n&&t.addEventListener(f,n,typeof n!="function"&&n)}else if(e.slice(0,10)==="oncapture:"){const f=e.slice(10);r&&t.removeEventListener(f,r,!0),n&&t.addEventListener(f,n,!0)}else if(e.slice(0,2)==="on"){const f=e.slice(2).toLowerCase(),d=tc.has(f);if(!d&&r){const p=Array.isArray(r)?r[0]:r;t.removeEventListener(f,p)}(d||n)&&(uc(t,f,n,d),d&&Ho([f]))}else if(e.slice(0,5)==="attr:")Ns(t,e.slice(5),n);else if(e.slice(0,5)==="bool:")ac(t,e.slice(5),n);else if((c=e.slice(0,5)==="prop:")||(l=Xl.has(e))||!s||(o=t.nodeName.includes("-")||"is"in a)){if(c)e=e.slice(5),u=!0;else if(Wt(t))return n;e==="class"||e==="className"?oc(t,n):o&&!u&&!l?t[hc(e)]=n:t[e]=n}else{const f=e.indexOf(":")>-1&&nc[e.split(":")[0]];f?ic(t,f,e,n):Ns(t,ec[e]||e,n)}return n}function pc(t){if(V.registry&&V.events&&V.events.find(([u,l])=>l===t))return;let e=t.target;const n=`$$${t.type}`,r=t.target,s=t.currentTarget,i=u=>Object.defineProperty(t,"target",{configurable:!0,value:u}),a=()=>{const u=e[n];if(u&&!e.disabled){const l=e[`${n}Data`];if(l!==void 0?u.call(e,l,t):u.call(e,t),t.cancelBubble)return}return e.host&&typeof e.host!="string"&&!e.host._$host&&e.contains(t.target)&&i(e.host),!0},o=()=>{for(;a()&&(e=e._$host||e.parentNode||e.host););};if(Object.defineProperty(t,"currentTarget",{configurable:!0,get(){return e||document}}),V.registry&&!V.done&&(V.done=_$HY.done=!0),t.composedPath){const u=t.composedPath();i(u[0]);for(let l=0;l<u.length-2&&(e=u[l],!!a());l++){if(e._$host){e=e._$host,o();break}if(e.parentNode===s)break}}else o();i(r)}function ar(t,e,n,r,s){const i=Wt(t);if(i){!n&&(n=[...t.childNodes]);let u=[];for(let l=0;l<n.length;l++){const c=n[l];c.nodeType===8&&c.data.slice(0,2)==="!$"?c.remove():u.push(c)}n=u}for(;typeof n=="function";)n=n();if(e===n)return n;const a=typeof e,o=r!==void 0;if(t=o&&n[0]&&n[0].parentNode||t,a==="string"||a==="number"){if(i||a==="number"&&(e=e.toString(),e===n))return n;if(o){let u=n[0];u&&u.nodeType===3?u.data!==e&&(u.data=e):u=document.createTextNode(e),n=Rt(t,n,r,u)}else n!==""&&typeof n=="string"?n=t.firstChild.data=e:n=t.textContent=e}else if(e==null||a==="boolean"){if(i)return n;n=Rt(t,n,r)}else{if(a==="function")return it(()=>{let u=e();for(;typeof u=="function";)u=u();n=ar(t,u,n,r)}),()=>n;if(Array.isArray(e)){const u=[],l=n&&Array.isArray(n);if(Us(u,e,n,s))return it(()=>n=ar(t,u,n,r,!0)),()=>n;if(i){if(!u.length)return n;if(r===void 0)return n=[...t.childNodes];let c=u[0];if(c.parentNode!==t)return n;const f=[c];for(;(c=c.nextSibling)!==r;)f.push(c);return n=f}if(u.length===0){if(n=Rt(t,n,r),o)return n}else l?n.length===0?ra(t,u,r):rc(t,n,u):(n&&Rt(t),ra(t,u));n=u}else if(e.nodeType){if(i&&e.parentNode)return n=o?[e]:e;if(Array.isArray(n)){if(o)return n=Rt(t,n,r,e);Rt(t,n,null,e)}else n==null||n===""||!t.firstChild?t.appendChild(e):t.replaceChild(e,t.firstChild);n=e}}return n}function Us(t,e,n,r){let s=!1;for(let i=0,a=e.length;i<a;i++){let o=e[i],u=n&&n[t.length],l;if(!(o==null||o===!0||o===!1))if((l=typeof o)=="object"&&o.nodeType)t.push(o);else if(Array.isArray(o))s=Us(t,o,u)||s;else if(l==="function")if(r){for(;typeof o=="function";)o=o();s=Us(t,Array.isArray(o)?o:[o],Array.isArray(u)?u:[u])||s}else t.push(o),s=!0;else{const c=String(o);u&&u.nodeType===3&&u.data===c?t.push(u):t.push(document.createTextNode(c))}}return s}function ra(t,e,n=null){for(let r=0,s=e.length;r<s;r++)t.insertBefore(e[r],n)}function Rt(t,e,n,r){if(n===void 0)return t.textContent="";const s=r||document.createTextNode("");if(e.length){let i=!1;for(let a=e.length-1;a>=0;a--){const o=e[a];if(s!==o){const u=o.parentNode===t;!i&&!a?u?t.replaceChild(s,o):t.insertBefore(s,n):u&&o.remove()}else i=!0}}else t.insertBefore(s,n);return[s]}const Ds=!1,gc="http://www.w3.org/2000/svg";function mc(t,e=!1){return e?document.createElementNS(gc,t):document.createElement(t)}function hO(t){const{useShadow:e}=t,n=document.createTextNode(""),r=()=>t.mount||document.body,s=rr();let i,a=!!V.context;return qt(()=>{a&&(rr().user=a=!1),i||(i=gi(s,()=>W(()=>t.children)));const o=r();if(o instanceof HTMLHeadElement){const[u,l]=fe(!1),c=()=>l(!0);st(f=>js(o,()=>u()?f():i(),null)),je(c)}else{const u=mc(t.isSVG?"g":"div",t.isSVG),l=e&&u.attachShadow?u.attachShadow({mode:"open"}):u;Object.defineProperty(u,"_$host",{get(){return n.parentNode},configurable:!0}),js(l,i),o.appendChild(u),t.ref&&t.ref(u),je(()=>o.removeChild(u))}},void 0,{render:!a}),n}const yc="modulepreload",bc=function(t){return"/"+t},sa={},Ur=function(e,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),o=a?.nonce||a?.getAttribute("nonce");s=Promise.allSettled(n.map(u=>{if(u=bc(u),u in sa)return;sa[u]=!0;const l=u.endsWith(".css"),c=l?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${c}`))return;const f=document.createElement("link");if(f.rel=l?"stylesheet":yc,l||(f.as="script"),f.crossOrigin="",f.href=u,o&&f.setAttribute("nonce",o),document.head.appendChild(f),l)return new Promise((d,p)=>{f.addEventListener("load",d),f.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${u}`)))})}))}function i(a){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=a,window.dispatchEvent(o),!o.defaultPrevented)throw a}return s.then(a=>{for(const o of a||[])o.status==="rejected"&&i(o.reason);return e().catch(i)})};function Zo(){let t=new Set;function e(s){return t.add(s),()=>t.delete(s)}let n=!1;function r(s,i){if(n)return!(n=!1);const a={to:s,options:i,defaultPrevented:!1,preventDefault:()=>a.defaultPrevented=!0};for(const o of t)o.listener({...a,from:o.location,retry:u=>{u&&(n=!0),o.navigate(s,{...i,resolve:!1})}});return!a.defaultPrevented}return{subscribe:e,confirm:r}}let Ms;function yi(){(!window.history.state||window.history.state._depth==null)&&window.history.replaceState({...window.history.state,_depth:window.history.length-1},""),Ms=window.history.state._depth}yi();function vc(t){return{...t,_depth:window.history.state&&window.history.state._depth}}function wc(t,e){let n=!1;return()=>{const r=Ms;yi();const s=r==null?null:Ms-r;if(n){n=!1;return}s&&e(s)?(n=!0,window.history.go(-s)):t()}}const xc=/^(?:[a-z0-9]+:)?\/\//i,_c=/^\/+|(\/)\/+$/g,Vo="http://sr";function yn(t,e=!1){const n=t.replace(_c,"$1");return n?e||/^[?#]/.test(n)?n:"/"+n:""}function er(t,e,n){if(xc.test(e))return;const r=yn(t),s=n&&yn(n);let i="";return!s||e.startsWith("/")?i=r:s.toLowerCase().indexOf(r.toLowerCase())!==0?i=r+s:i=s,(i||"/")+yn(e,!i)}function Sc(t,e){if(t==null)throw new Error(e);return t}function Ec(t,e){return yn(t).replace(/\/*(\*.*)?$/g,"")+yn(e)}function zo(t){const e={};return t.searchParams.forEach((n,r)=>{r in e?Array.isArray(e[r])?e[r].push(n):e[r]=[e[r],n]:e[r]=n}),e}function Oc(t,e,n){const[r,s]=t.split("/*",2),i=r.split("/").filter(Boolean),a=i.length;return o=>{const u=o.split("/").filter(Boolean),l=u.length-a;if(l<0||l>0&&s===void 0&&!e)return null;const c={path:a?"":"/",params:{}},f=d=>n===void 0?void 0:n[d];for(let d=0;d<a;d++){const p=i[d],m=p[0]===":",h=m?u[d]:u[d].toLowerCase(),g=m?p.slice(1):p.toLowerCase();if(m&&os(h,f(g)))c.params[g]=h;else if(m||!os(h,g))return null;c.path+=`/${h}`}if(s){const d=l?u.slice(-l).join("/"):"";if(os(d,f(s)))c.params[s]=d;else return null}return c}}function os(t,e){const n=r=>r===t;return e===void 0?!0:typeof e=="string"?n(e):typeof e=="function"?e(t):Array.isArray(e)?e.some(n):e instanceof RegExp?e.test(t):!1}function Tc(t){const[e,n]=t.pattern.split("/*",2),r=e.split("/").filter(Boolean);return r.reduce((s,i)=>s+(i.startsWith(":")?2:3),r.length-(n===void 0?0:1))}function Ko(t){const e=new Map,n=rr();return new Proxy({},{get(r,s){return e.has(s)||gi(n,()=>e.set(s,W(()=>t()[s]))),e.get(s)()},getOwnPropertyDescriptor(){return{enumerable:!0,configurable:!0}},ownKeys(){return Reflect.ownKeys(t())}})}function qo(t){let e=/(\/?\:[^\/]+)\?/.exec(t);if(!e)return[t];let n=t.slice(0,e.index),r=t.slice(e.index+e[0].length);const s=[n,n+=e[1]];for(;e=/^(\/\:[^\/]+)\?/.exec(r);)s.push(n+=e[1]),r=r.slice(e[0].length);return qo(r).reduce((i,a)=>[...i,...s.map(o=>o+a)],[])}const Cc=100,Go=Dn(),Wo=Dn(),bi=()=>Sc(Mn(Go),"<A> and 'use' router primitives can be only used inside a Route."),Ac=()=>bi().navigatorFactory(),$c=()=>bi().location,pO=()=>bi().params;function kc(t,e=""){const{component:n,preload:r,load:s,children:i,info:a}=t,o=!i||Array.isArray(i)&&!i.length,u={key:t,component:n,preload:r||s,info:a};return Qo(t.path).reduce((l,c)=>{for(const f of qo(c)){const d=Ec(e,f);let p=o?d:d.split("/*",1)[0];p=p.split("/").map(m=>m.startsWith(":")||m.startsWith("*")?m:encodeURIComponent(m)).join("/"),l.push({...u,originalPath:c,pattern:p,matcher:Oc(p,!o,t.matchFilters)})}return l},[])}function Rc(t,e=0){return{routes:t,score:Tc(t[t.length-1])*1e4-e,matcher(n){const r=[];for(let s=t.length-1;s>=0;s--){const i=t[s],a=i.matcher(n);if(!a)return null;r.unshift({...a,route:i})}return r}}}function Qo(t){return Array.isArray(t)?t:[t]}function Jo(t,e="",n=[],r=[]){const s=Qo(t);for(let i=0,a=s.length;i<a;i++){const o=s[i];if(o&&typeof o=="object"){o.hasOwnProperty("path")||(o.path="");const u=kc(o,e);for(const l of u){n.push(l);const c=Array.isArray(o.children)&&o.children.length===0;if(o.children&&!c)Jo(o.children,l.pattern,n,r);else{const f=Rc([...n],r.length);r.push(f)}n.pop()}}}return n.length?r:r.sort((i,a)=>a.score-i.score)}function us(t,e){for(let n=0,r=t.length;n<r;n++){const s=t[n].matcher(e);if(s)return s}return[]}function Pc(t,e,n){const r=new URL(Vo),s=W(c=>{const f=t();try{return new URL(f,r)}catch{return console.error(`Invalid path ${f}`),c}},r,{equals:(c,f)=>c.href===f.href}),i=W(()=>s().pathname),a=W(()=>s().search,!0),o=W(()=>s().hash),u=()=>"",l=wt(a,()=>zo(s()));return{get pathname(){return i()},get search(){return a()},get hash(){return o()},get state(){return e()},get key(){return u()},query:n?n(l):Ko(l)}}let mt;function Ic(){return mt}function Lc(t,e,n,r={}){const{signal:[s,i],utils:a={}}=t,o=a.parsePath||(x=>x),u=a.renderPath||(x=>x),l=a.beforeLeave||Zo(),c=er("",r.base||"");if(c===void 0)throw new Error(`${c} is not a valid base path`);c&&!s().value&&i({value:c,replace:!0,scroll:!1});const[f,d]=fe(!1);let p;const m=(x,y)=>{y.value===h()&&y.state===b()||(p===void 0&&d(!0),mt=x,p=y,Zl(()=>{p===y&&(g(p.value),v(p.state),_[1]([]))}).finally(()=>{p===y&&jo(()=>{mt=void 0,x==="navigate"&&Y(p),d(!1),p=void 0})}))},[h,g]=fe(s().value),[b,v]=fe(s().state),A=Pc(h,b,a.queryWrapper),w=[],_=fe([]),O=W(()=>typeof r.transformUrl=="function"?us(e(),r.transformUrl(A.pathname)):us(e(),A.pathname)),C=()=>{const x=O(),y={};for(let S=0;S<x.length;S++)Object.assign(y,x[S].params);return y},L=a.paramsWrapper?a.paramsWrapper(C,e):Ko(C),F={pattern:c,path:()=>c,outlet:()=>null,resolvePath(x){return er(c,x)}};return it(wt(s,x=>m("native",x),{defer:!0})),{base:F,location:A,params:L,isRouting:f,renderPath:u,parsePath:o,navigatorFactory:R,matches:O,beforeLeave:l,preloadRoute:ie,singleFlight:r.singleFlight===void 0?!0:r.singleFlight,submissions:_};function N(x,y,S){le(()=>{if(typeof y=="number"){y&&(a.go?a.go(y):console.warn("Router integration does not support relative routing"));return}const P=!y||y[0]==="?",{replace:D,resolve:M,scroll:q,state:X}={replace:!1,resolve:!P,scroll:!0,...S},ne=M?x.resolvePath(y):er(P&&A.pathname||"",y);if(ne===void 0)throw new Error(`Path '${y}' is not a routable path`);if(w.length>=Cc)throw new Error("Too many redirects");const _e=h();(ne!==_e||X!==b())&&(Ds||l.confirm(ne,S)&&(w.push({value:_e,replace:D,scroll:q,state:b()}),m("navigate",{value:ne,state:X})))})}function R(x){return x=x||Mn(Wo)||F,(y,S)=>N(x,y,S)}function Y(x){const y=w[0];y&&(i({...x,replace:y.replace,scroll:y.scroll}),w.length=0)}function ie(x,y){const S=us(e(),x.pathname),P=mt;mt="preload";for(let D in S){const{route:M,params:q}=S[D];M.component&&M.component.preload&&M.component.preload();const{preload:X}=M;y&&X&&gi(n(),()=>X({params:q,location:{pathname:x.pathname,search:x.search,hash:x.hash,query:zo(x),state:null,key:""},intent:"preload"}))}mt=P}}function Nc(t,e,n,r){const{base:s,location:i,params:a}=t,{pattern:o,component:u,preload:l}=r().route,c=W(()=>r().path);u&&u.preload&&u.preload();const f=l?l({params:a,location:i,intent:mt||"initial"}):void 0;return{parent:e,pattern:o,path:c,outlet:()=>u?J(u,{params:a,location:i,data:f,get children(){return n()}}):n(),resolvePath(p){return er(s.path(),p,c())}}}const jc=t=>e=>{const{base:n}=e,r=Ir(()=>e.children),s=W(()=>Jo(r(),e.base||""));let i;const a=Lc(t,s,()=>i,{base:n,singleFlight:e.singleFlight,transformUrl:e.transformUrl});return t.create&&t.create(a),J(Go.Provider,{value:a,get children(){return J(Uc,{routerState:a,get root(){return e.root},get preload(){return e.rootPreload||e.rootLoad},get children(){return[W(()=>(i=rr())&&null),J(Dc,{routerState:a,get branches(){return s()}})]}})}})};function Uc(t){const e=t.routerState.location,n=t.routerState.params,r=W(()=>t.preload&&le(()=>{t.preload({params:n,location:e,intent:Ic()||"initial"})}));return J(mi,{get when(){return t.root},keyed:!0,get fallback(){return t.children},children:s=>J(s,{params:n,location:e,get data(){return r()},get children(){return t.children}})})}function Dc(t){const e=[];let n;const r=W(wt(t.routerState.matches,(s,i,a)=>{let o=i&&s.length===i.length;const u=[];for(let l=0,c=s.length;l<c;l++){const f=i&&i[l],d=s[l];a&&f&&d.route.key===f.route.key?u[l]=a[l]:(o=!1,e[l]&&e[l](),st(p=>{e[l]=p,u[l]=Nc(t.routerState,u[l-1]||t.routerState.base,ia(()=>r()[l+1]),()=>t.routerState.matches()[l])}))}return e.splice(s.length).forEach(l=>l()),a&&o?a:(n=u[0],u)}));return ia(()=>r()&&n)()}const ia=t=>()=>J(mi,{get when(){return t()},keyed:!0,children:e=>J(Wo.Provider,{value:e,get children(){return e.outlet()}})}),qn=t=>{const e=Ir(()=>t.children);return Yl(t,{get children(){return e()}})};function Mc([t,e],n,r){return[t,r?s=>e(r(s)):e]}function Fc(t){let e=!1;const n=s=>typeof s=="string"?{value:s}:s,r=Mc(fe(n(t.get()),{equals:(s,i)=>s.value===i.value&&s.state===i.state}),void 0,s=>(!e&&t.set(s),V.registry&&!V.done&&(V.done=!0),s));return t.init&&je(t.init((s=t.get())=>{e=!0,r[1](n(s)),e=!1})),jc({signal:r,create:t.create,utils:t.utils})}function Bc(t,e,n){return t.addEventListener(e,n),()=>t.removeEventListener(e,n)}function Hc(t,e){const n=t&&document.getElementById(t);n?n.scrollIntoView():e&&window.scrollTo(0,0)}const Zc=new Map;function Vc(t=!0,e=!1,n="/_server",r){return s=>{const i=s.base.path(),a=s.navigatorFactory(s.base);let o,u;function l(h){return h.namespaceURI==="http://www.w3.org/2000/svg"}function c(h){if(h.defaultPrevented||h.button!==0||h.metaKey||h.altKey||h.ctrlKey||h.shiftKey)return;const g=h.composedPath().find(O=>O instanceof Node&&O.nodeName.toUpperCase()==="A");if(!g||e&&!g.hasAttribute("link"))return;const b=l(g),v=b?g.href.baseVal:g.href;if((b?g.target.baseVal:g.target)||!v&&!g.hasAttribute("state"))return;const w=(g.getAttribute("rel")||"").split(/\s+/);if(g.hasAttribute("download")||w&&w.includes("external"))return;const _=b?new URL(v,document.baseURI):new URL(v);if(!(_.origin!==window.location.origin||i&&_.pathname&&!_.pathname.toLowerCase().startsWith(i.toLowerCase())))return[g,_]}function f(h){const g=c(h);if(!g)return;const[b,v]=g,A=s.parsePath(v.pathname+v.search+v.hash),w=b.getAttribute("state");h.preventDefault(),a(A,{resolve:!1,replace:b.hasAttribute("replace"),scroll:!b.hasAttribute("noscroll"),state:w?JSON.parse(w):void 0})}function d(h){const g=c(h);if(!g)return;const[b,v]=g;s.preloadRoute(v,b.getAttribute("preload")!=="false")}function p(h){clearTimeout(o);const g=c(h);if(!g)return u=null;const[b,v]=g;u!==b&&(o=setTimeout(()=>{s.preloadRoute(v,b.getAttribute("preload")!=="false"),u=b},20))}function m(h){if(h.defaultPrevented)return;let g=h.submitter&&h.submitter.hasAttribute("formaction")?h.submitter.getAttribute("formaction"):h.target.getAttribute("action");if(!g)return;if(!g.startsWith("https://action/")){const v=new URL(g,Vo);if(g=s.parsePath(v.pathname+v.search),!g.startsWith(n))return}if(h.target.method.toUpperCase()!=="POST")throw new Error("Only POST forms are supported for Actions");const b=Zc.get(g);if(b){h.preventDefault();const v=new FormData(h.target,h.submitter);b.call({r:s,f:h.target},h.target.enctype==="multipart/form-data"?v:new URLSearchParams(v))}}Ho(["click","submit"]),document.addEventListener("click",f),t&&(document.addEventListener("mousemove",p,{passive:!0}),document.addEventListener("focusin",d,{passive:!0}),document.addEventListener("touchstart",d,{passive:!0})),document.addEventListener("submit",m),je(()=>{document.removeEventListener("click",f),t&&(document.removeEventListener("mousemove",p),document.removeEventListener("focusin",d),document.removeEventListener("touchstart",d)),document.removeEventListener("submit",m)})}}function zc(t){const e=t.replace(/^.*?#/,"");if(!e.startsWith("/")){const[,n="/"]=window.location.hash.split("#",2);return`${n}#${e}`}return e}function Kc(t){const e=()=>window.location.hash.slice(1),n=Zo();return Fc({get:e,set({value:r,replace:s,scroll:i,state:a}){s?window.history.replaceState(vc(a),"","#"+r):window.history.pushState(a,"","#"+r);const o=r.indexOf("#"),u=o>=0?r.slice(o+1):"";Hc(u,i),yi()},init:r=>Bc(window,"hashchange",wc(r,s=>!n.confirm(s&&s<0?s:e()))),create:Vc(t.preload,t.explicitLinks,t.actionBase),utils:{go:r=>window.history.go(r),renderPath:r=>`#${r}`,parsePath:zc,beforeLeave:n}})(t)}function qc(t){const e=Ac(),n=$c(),{href:r,state:s}=t,i=typeof r=="function"?r({navigate:e,location:n}):r;return e(i,{replace:!0,state:s}),null}const Fs=Symbol("store-raw"),Dt=Symbol("store-node"),Ze=Symbol("store-has"),Yo=Symbol("store-self");function Xo(t){let e=t[Ae];if(!e&&(Object.defineProperty(t,Ae,{value:e=new Proxy(t,Qc)}),!Array.isArray(t))){const n=Object.keys(t),r=Object.getOwnPropertyDescriptors(t);for(let s=0,i=n.length;s<i;s++){const a=n[s];r[a].get&&Object.defineProperty(t,a,{enumerable:r[a].enumerable,get:r[a].get.bind(e)})}}return e}function at(t){let e;return t!=null&&typeof t=="object"&&(t[Ae]||!(e=Object.getPrototypeOf(t))||e===Object.prototype||Array.isArray(t))}function _t(t,e=new Set){let n,r,s,i;if(n=t!=null&&t[Fs])return n;if(!at(t)||e.has(t))return t;if(Array.isArray(t)){Object.isFrozen(t)?t=t.slice(0):e.add(t);for(let a=0,o=t.length;a<o;a++)s=t[a],(r=_t(s,e))!==s&&(t[a]=r)}else{Object.isFrozen(t)?t=Object.assign({},t):e.add(t);const a=Object.keys(t),o=Object.getOwnPropertyDescriptors(t);for(let u=0,l=a.length;u<l;u++)i=a[u],!o[i].get&&(s=t[i],(r=_t(s,e))!==s&&(t[i]=r))}return t}function or(t,e){let n=t[e];return n||Object.defineProperty(t,e,{value:n=Object.create(null)}),n}function wn(t,e,n){if(t[e])return t[e];const[r,s]=fe(n,{equals:!1,internal:!0});return r.$=s,t[e]=r}function Gc(t,e){const n=Reflect.getOwnPropertyDescriptor(t,e);return!n||n.get||!n.configurable||e===Ae||e===Dt||(delete n.value,delete n.writable,n.get=()=>t[Ae][e]),n}function eu(t){Rs()&&wn(or(t,Dt),Yo)()}function Wc(t){return eu(t),Reflect.ownKeys(t)}const Qc={get(t,e,n){if(e===Fs)return t;if(e===Ae)return n;if(e===ks)return eu(t),n;const r=or(t,Dt),s=r[e];let i=s?s():t[e];if(e===Dt||e===Ze||e==="__proto__")return i;if(!s){const a=Object.getOwnPropertyDescriptor(t,e);Rs()&&(typeof i!="function"||t.hasOwnProperty(e))&&!(a&&a.get)&&(i=wn(r,e,i)())}return at(i)?Xo(i):i},has(t,e){return e===Fs||e===Ae||e===ks||e===Dt||e===Ze||e==="__proto__"?!0:(Rs()&&wn(or(t,Ze),e)(),e in t)},set(){return!0},deleteProperty(){return!0},ownKeys:Wc,getOwnPropertyDescriptor:Gc};function be(t,e,n,r=!1){if(!r&&t[e]===n)return;const s=t[e],i=t.length;n===void 0?(delete t[e],t[Ze]&&t[Ze][e]&&s!==void 0&&t[Ze][e].$()):(t[e]=n,t[Ze]&&t[Ze][e]&&s===void 0&&t[Ze][e].$());let a=or(t,Dt),o;if((o=wn(a,e,s))&&o.$(()=>n),Array.isArray(t)&&t.length!==i){for(let u=t.length;u<i;u++)(o=a[u])&&o.$();(o=wn(a,"length",i))&&o.$(t.length)}(o=a[Yo])&&o.$()}function tu(t,e){const n=Object.keys(e);for(let r=0;r<n.length;r+=1){const s=n[r];be(t,s,e[s])}}function Jc(t,e){if(typeof e=="function"&&(e=e(t)),e=_t(e),Array.isArray(e)){if(t===e)return;let n=0,r=e.length;for(;n<r;n++){const s=e[n];t[n]!==s&&be(t,n,s)}be(t,"length",r)}else tu(t,e)}function hn(t,e,n=[]){let r,s=t;if(e.length>1){r=e.shift();const a=typeof r,o=Array.isArray(t);if(Array.isArray(r)){for(let u=0;u<r.length;u++)hn(t,[r[u]].concat(e),n);return}else if(o&&a==="function"){for(let u=0;u<t.length;u++)r(t[u],u)&&hn(t,[u].concat(e),n);return}else if(o&&a==="object"){const{from:u=0,to:l=t.length-1,by:c=1}=r;for(let f=u;f<=l;f+=c)hn(t,[f].concat(e),n);return}else if(e.length>1){hn(t[r],e,[r].concat(n));return}s=t[r],n=[r].concat(n)}let i=e[0];typeof i=="function"&&(i=i(s,n),i===s)||r===void 0&&i==null||(i=_t(i),r===void 0||at(s)&&at(i)&&!Array.isArray(i)?tu(s,i):be(t,r,i))}function vi(...[t,e]){const n=_t(t||{}),r=Array.isArray(n),s=Xo(n);function i(...a){jo(()=>{r&&a.length===1?Jc(n,a[0]):hn(n,a)})}return[s,i]}const Bs=Symbol("store-root");function Nt(t,e,n,r,s){const i=e[n];if(t===i)return;const a=Array.isArray(t);if(n!==Bs&&(!at(t)||!at(i)||a!==Array.isArray(i)||s&&t[s]!==i[s])){be(e,n,t);return}if(a){if(t.length&&i.length&&(!r||s&&t[0]&&t[0][s]!=null)){let l,c,f,d,p,m,h,g;for(f=0,d=Math.min(i.length,t.length);f<d&&(i[f]===t[f]||s&&i[f]&&t[f]&&i[f][s]===t[f][s]);f++)Nt(t[f],i,f,r,s);const b=new Array(t.length),v=new Map;for(d=i.length-1,p=t.length-1;d>=f&&p>=f&&(i[d]===t[p]||s&&i[f]&&t[f]&&i[d][s]===t[p][s]);d--,p--)b[p]=i[d];if(f>p||f>d){for(c=f;c<=p;c++)be(i,c,t[c]);for(;c<t.length;c++)be(i,c,b[c]),Nt(t[c],i,c,r,s);i.length>t.length&&be(i,"length",t.length);return}for(h=new Array(p+1),c=p;c>=f;c--)m=t[c],g=s&&m?m[s]:m,l=v.get(g),h[c]=l===void 0?-1:l,v.set(g,c);for(l=f;l<=d;l++)m=i[l],g=s&&m?m[s]:m,c=v.get(g),c!==void 0&&c!==-1&&(b[c]=i[l],c=h[c],v.set(g,c));for(c=f;c<t.length;c++)c in b?(be(i,c,b[c]),Nt(t[c],i,c,r,s)):be(i,c,t[c])}else for(let l=0,c=t.length;l<c;l++)Nt(t[l],i,l,r,s);i.length>t.length&&be(i,"length",t.length);return}const o=Object.keys(t);for(let l=0,c=o.length;l<c;l++)Nt(t[o[l]],i,o[l],r,s);const u=Object.keys(i);for(let l=0,c=u.length;l<c;l++)t[u[l]]===void 0&&be(i,u[l],void 0)}function Yc(t,e={}){const{merge:n,key:r="id"}=e,s=_t(t);return i=>{if(!at(i)||!at(s))return s;const a=Nt(s,{[Bs]:i},Bs,n,r);return a===void 0?i:a}}function Hs(){}function Xc(t,{interval:e=1e3,onError:n=Hs}={}){if(typeof t!="function")throw new Error("argument is not function.");let r=0,s=null,i=!1,a=!1;return async(...o)=>{if(s=o,!a){for(a=!0;i;)await new Promise(u=>setTimeout(u,e));for(;Date.now()<r;)await new Promise(u=>setTimeout(u,r-Date.now()));a=!1,i=!0;try{await t(...s)}catch(u){try{n(u)}catch{}}r=Date.now()+e,i=!1}}}var ef=({storage:t,key:e="REACT_QUERY_OFFLINE_CACHE",throttleTime:n=1e3,serialize:r=JSON.stringify,deserialize:s=JSON.parse,retry:i})=>{if(t){const a=async o=>{try{const u=await r(o);await t.setItem(e,u);return}catch(u){return u}};return{persistClient:Xc(async o=>{let u=o,l=await a(u),c=0;for(;l&&u;)c++,u=await i?.({persistedClient:u,error:l,errorCount:c}),u&&(l=await a(u))},{interval:n}),restoreClient:async()=>{const o=await t.getItem(e);if(o)return await s(o)},removeClient:()=>t.removeItem(e)}}return{persistClient:Hs,restoreClient:()=>Promise.resolve(void 0),removeClient:Hs}},Qt=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Bt=typeof window>"u"||"Deno"in globalThis;function ve(){}function tf(t,e){return typeof t=="function"?t(e):t}function Zs(t){return typeof t=="number"&&t>=0&&t!==1/0}function nu(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Mt(t,e){return typeof t=="function"?t(e):t}function Ee(t,e){return typeof t=="function"?t(e):t}function aa(t,e){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:a,stale:o}=t;if(a){if(r){if(e.queryHash!==wi(a,e.options))return!1}else if(!xn(e.queryKey,a))return!1}if(n!=="all"){const u=e.isActive();if(n==="active"&&!u||n==="inactive"&&u)return!1}return!(typeof o=="boolean"&&e.isStale()!==o||s&&s!==e.state.fetchStatus||i&&!i(e))}function oa(t,e){const{exact:n,status:r,predicate:s,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(n){if(St(e.options.mutationKey)!==St(i))return!1}else if(!xn(e.options.mutationKey,i))return!1}return!(r&&e.state.status!==r||s&&!s(e))}function wi(t,e){return(e?.queryKeyHashFn||St)(t)}function St(t){return JSON.stringify(t,(e,n)=>Vs(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function xn(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(n=>!xn(t[n],e[n])):!1}function ru(t,e){if(t===e)return t;const n=ua(t)&&ua(e);if(n||Vs(t)&&Vs(e)){const r=n?t:Object.keys(t),s=r.length,i=n?e:Object.keys(e),a=i.length,o=n?[]:{};let u=0;for(let l=0;l<a;l++){const c=n?l:i[l];(!n&&r.includes(c)||n)&&t[c]===void 0&&e[c]===void 0?(o[c]=void 0,u++):(o[c]=ru(t[c],e[c]),o[c]===t[c]&&t[c]!==void 0&&u++)}return s===a&&u===s?t:o}return e}function ur(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function ua(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Vs(t){if(!la(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!la(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function la(t){return Object.prototype.toString.call(t)==="[object Object]"}function nf(t){return new Promise(e=>{setTimeout(e,t)})}function zs(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?ru(t,e):e}function rf(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function sf(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var xi=Symbol();function su(t,e){return!t.queryFn&&e?.initialPromise?()=>e.initialPromise:!t.queryFn||t.queryFn===xi?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var af=class extends Qt{#e;#t;#r;constructor(){super(),this.#r=t=>{if(!Bt&&window.addEventListener){const e=()=>t();return window.addEventListener("visibilitychange",e,!1),()=>{window.removeEventListener("visibilitychange",e)}}}}onSubscribe(){this.#t||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#r=t,this.#t?.(),this.#t=t(e=>{typeof e=="boolean"?this.setFocused(e):this.onFocus()})}setFocused(t){this.#e!==t&&(this.#e=t,this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(e=>{e(t)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},_i=new af,of=class extends Qt{#e=!0;#t;#r;constructor(){super(),this.#r=t=>{if(!Bt&&window.addEventListener){const e=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",e,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",n)}}}}onSubscribe(){this.#t||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#r=t,this.#t?.(),this.#t=t(this.setOnline.bind(this))}setOnline(t){this.#e!==t&&(this.#e=t,this.listeners.forEach(n=>{n(t)}))}isOnline(){return this.#e}},lr=new of;function Ks(){let t,e;const n=new Promise((s,i)=>{t=s,e=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),t(s)},n.reject=s=>{r({status:"rejected",reason:s}),e(s)},n}function uf(t){return Math.min(1e3*2**t,3e4)}function iu(t){return(t??"online")==="online"?lr.isOnline():!0}var au=class extends Error{constructor(t){super("CancelledError"),this.revert=t?.revert,this.silent=t?.silent}};function ls(t){return t instanceof au}function ou(t){let e=!1,n=0,r=!1,s;const i=Ks(),a=h=>{r||(d(new au(h)),t.abort?.())},o=()=>{e=!0},u=()=>{e=!1},l=()=>_i.isFocused()&&(t.networkMode==="always"||lr.isOnline())&&t.canRun(),c=()=>iu(t.networkMode)&&t.canRun(),f=h=>{r||(r=!0,t.onSuccess?.(h),s?.(),i.resolve(h))},d=h=>{r||(r=!0,t.onError?.(h),s?.(),i.reject(h))},p=()=>new Promise(h=>{s=g=>{(r||l())&&h(g)},t.onPause?.()}).then(()=>{s=void 0,r||t.onContinue?.()}),m=()=>{if(r)return;let h;const g=n===0?t.initialPromise:void 0;try{h=g??t.fn()}catch(b){h=Promise.reject(b)}Promise.resolve(h).then(f).catch(b=>{if(r)return;const v=t.retry??(Bt?0:3),A=t.retryDelay??uf,w=typeof A=="function"?A(n,b):A,_=v===!0||typeof v=="number"&&n<v||typeof v=="function"&&v(n,b);if(e||!_){d(b);return}n++,t.onFail?.(n,b),nf(w).then(()=>l()?void 0:p()).then(()=>{e?d(b):m()})})};return{promise:i,cancel:a,continue:()=>(s?.(),i),cancelRetry:o,continueRetry:u,canStart:c,start:()=>(c()?m():p().then(m),i)}}function lf(){let t=[],e=0,n=o=>{o()},r=o=>{o()},s=o=>setTimeout(o,0);const i=o=>{e?t.push(o):s(()=>{n(o)})},a=()=>{const o=t;t=[],o.length&&s(()=>{r(()=>{o.forEach(u=>{n(u)})})})};return{batch:o=>{let u;e++;try{u=o()}finally{e--,e||a()}return u},batchCalls:o=>(...u)=>{i(()=>{o(...u)})},schedule:i,setNotifyFunction:o=>{n=o},setBatchNotifyFunction:o=>{r=o},setScheduler:o=>{s=o}}}var ue=lf(),uu=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Zs(this.gcTime)&&(this.#e=setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Bt?1/0:5*60*1e3))}clearGcTimeout(){this.#e&&(clearTimeout(this.#e),this.#e=void 0)}},cf=class extends uu{#e;#t;#r;#n;#a;#i;constructor(t){super(),this.#i=!1,this.#a=t.defaultOptions,this.setOptions(t.options),this.observers=[],this.#r=t.cache,this.queryKey=t.queryKey,this.queryHash=t.queryHash,this.#e=ff(this.options),this.state=t.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#n?.promise}setOptions(t){this.options={...this.#a,...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#r.remove(this)}setData(t,e){const n=zs(this.state.data,t,this.options);return this.#s({data:n,type:"success",dataUpdatedAt:e?.updatedAt,manual:e?.manual}),n}setState(t,e){this.#s({type:"setState",state:t,setStateOptions:e})}cancel(t){const e=this.#n?.promise;return this.#n?.cancel(t),e?e.then(ve).catch(ve):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(t=>Ee(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===xi||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!nu(this.state.dataUpdatedAt,t)}onFocus(){this.observers.find(e=>e.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#n?.continue()}onOnline(){this.observers.find(e=>e.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#n?.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),this.#r.notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(e=>e!==t),this.observers.length||(this.#n&&(this.#i?this.#n.cancel({revert:!0}):this.#n.cancelRetry()),this.scheduleGc()),this.#r.notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#s({type:"invalidate"})}fetch(t,e){if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&e?.cancelRefetch)this.cancel({silent:!0});else if(this.#n)return this.#n.continueRetry(),this.#n.promise}if(t&&this.setOptions(t),!this.options.queryFn){const o=this.observers.find(u=>u.options.queryFn);o&&this.setOptions(o.options)}const n=new AbortController,r=o=>{Object.defineProperty(o,"signal",{enumerable:!0,get:()=>(this.#i=!0,n.signal)})},s=()=>{const o=su(this.options,e),u={queryKey:this.queryKey,meta:this.meta};return r(u),this.#i=!1,this.options.persister?this.options.persister(o,u,this):o(u)},i={fetchOptions:e,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:s};r(i),this.options.behavior?.onFetch(i,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==i.fetchOptions?.meta)&&this.#s({type:"fetch",meta:i.fetchOptions?.meta});const a=o=>{ls(o)&&o.silent||this.#s({type:"error",error:o}),ls(o)||(this.#r.config.onError?.(o,this),this.#r.config.onSettled?.(this.state.data,o,this)),this.scheduleGc()};return this.#n=ou({initialPromise:e?.initialPromise,fn:i.fetchFn,abort:n.abort.bind(n),onSuccess:o=>{if(o===void 0){a(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(o)}catch(u){a(u);return}this.#r.config.onSuccess?.(o,this),this.#r.config.onSettled?.(o,this.state.error,this),this.scheduleGc()},onError:a,onFail:(o,u)=>{this.#s({type:"failed",failureCount:o,error:u})},onPause:()=>{this.#s({type:"pause"})},onContinue:()=>{this.#s({type:"continue"})},retry:i.options.retry,retryDelay:i.options.retryDelay,networkMode:i.options.networkMode,canRun:()=>!0}),this.#n.start()}#s(t){const e=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...lu(n.data,this.options),fetchMeta:t.meta??null};case"success":return{...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const r=t.error;return ls(r)&&r.revert&&this.#t?{...this.#t,fetchStatus:"idle"}:{...n,error:r,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:r,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=e(this.state),ue.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),this.#r.notify({query:this,type:"updated",action:t})})}};function lu(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:iu(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function ff(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var df=class extends Qt{constructor(t={}){super(),this.config=t,this.#e=new Map}#e;build(t,e,n){const r=e.queryKey,s=e.queryHash??wi(r,e);let i=this.get(s);return i||(i=new cf({cache:this,queryKey:r,queryHash:s,options:t.defaultQueryOptions(e),state:n,defaultOptions:t.getQueryDefaults(r)}),this.add(i)),i}add(t){this.#e.has(t.queryHash)||(this.#e.set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const e=this.#e.get(t.queryHash);e&&(t.destroy(),e===t&&this.#e.delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){ue.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return this.#e.get(t)}getAll(){return[...this.#e.values()]}find(t){const e={exact:!0,...t};return this.getAll().find(n=>aa(e,n))}findAll(t={}){const e=this.getAll();return Object.keys(t).length>0?e.filter(n=>aa(t,n)):e}notify(t){ue.batch(()=>{this.listeners.forEach(e=>{e(t)})})}onFocus(){ue.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){ue.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},hf=class extends uu{#e;#t;#r;constructor(t){super(),this.mutationId=t.mutationId,this.#t=t.mutationCache,this.#e=[],this.state=t.state||cu(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){this.#e.includes(t)||(this.#e.push(t),this.clearGcTimeout(),this.#t.notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){this.#e=this.#e.filter(e=>e!==t),this.scheduleGc(),this.#t.notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){this.#e.length||(this.state.status==="pending"?this.scheduleGc():this.#t.remove(this))}continue(){return this.#r?.continue()??this.execute(this.state.variables)}async execute(t){this.#r=ou({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(r,s)=>{this.#n({type:"failed",failureCount:r,error:s})},onPause:()=>{this.#n({type:"pause"})},onContinue:()=>{this.#n({type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#t.canRun(this)});const e=this.state.status==="pending",n=!this.#r.canStart();try{if(!e){this.#n({type:"pending",variables:t,isPaused:n}),await this.#t.config.onMutate?.(t,this);const s=await this.options.onMutate?.(t);s!==this.state.context&&this.#n({type:"pending",context:s,variables:t,isPaused:n})}const r=await this.#r.start();return await this.#t.config.onSuccess?.(r,t,this.state.context,this),await this.options.onSuccess?.(r,t,this.state.context),await this.#t.config.onSettled?.(r,null,this.state.variables,this.state.context,this),await this.options.onSettled?.(r,null,t,this.state.context),this.#n({type:"success",data:r}),r}catch(r){try{throw await this.#t.config.onError?.(r,t,this.state.context,this),await this.options.onError?.(r,t,this.state.context),await this.#t.config.onSettled?.(void 0,r,this.state.variables,this.state.context,this),await this.options.onSettled?.(void 0,r,t,this.state.context),r}finally{this.#n({type:"error",error:r})}}finally{this.#t.runNext(this)}}#n(t){const e=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=e(this.state),ue.batch(()=>{this.#e.forEach(n=>{n.onMutationUpdate(t)}),this.#t.notify({mutation:this,type:"updated",action:t})})}};function cu(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var pf=class extends Qt{constructor(t={}){super(),this.config=t,this.#e=new Map,this.#t=Date.now()}#e;#t;build(t,e,n){const r=new hf({mutationCache:this,mutationId:++this.#t,options:t.defaultMutationOptions(e),state:n});return this.add(r),r}add(t){const e=Gn(t),n=this.#e.get(e)??[];n.push(t),this.#e.set(e,n),this.notify({type:"added",mutation:t})}remove(t){const e=Gn(t);if(this.#e.has(e)){const n=this.#e.get(e)?.filter(r=>r!==t);n&&(n.length===0?this.#e.delete(e):this.#e.set(e,n))}this.notify({type:"removed",mutation:t})}canRun(t){const e=this.#e.get(Gn(t))?.find(n=>n.state.status==="pending");return!e||e===t}runNext(t){return this.#e.get(Gn(t))?.find(n=>n!==t&&n.state.isPaused)?.continue()??Promise.resolve()}clear(){ue.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}getAll(){return[...this.#e.values()].flat()}find(t){const e={exact:!0,...t};return this.getAll().find(n=>oa(e,n))}findAll(t={}){return this.getAll().filter(e=>oa(t,e))}notify(t){ue.batch(()=>{this.listeners.forEach(e=>{e(t)})})}resumePausedMutations(){const t=this.getAll().filter(e=>e.state.isPaused);return ue.batch(()=>Promise.all(t.map(e=>e.continue().catch(ve))))}};function Gn(t){return t.options.scope?.id??String(t.mutationId)}function ca(t){return{onFetch:(e,n)=>{const r=e.options,s=e.fetchOptions?.meta?.fetchMore?.direction,i=e.state.data?.pages||[],a=e.state.data?.pageParams||[];let o={pages:[],pageParams:[]},u=0;const l=async()=>{let c=!1;const f=m=>{Object.defineProperty(m,"signal",{enumerable:!0,get:()=>(e.signal.aborted?c=!0:e.signal.addEventListener("abort",()=>{c=!0}),e.signal)})},d=su(e.options,e.fetchOptions),p=async(m,h,g)=>{if(c)return Promise.reject();if(h==null&&m.pages.length)return Promise.resolve(m);const b={queryKey:e.queryKey,pageParam:h,direction:g?"backward":"forward",meta:e.options.meta};f(b);const v=await d(b),{maxPages:A}=e.options,w=g?sf:rf;return{pages:w(m.pages,v,A),pageParams:w(m.pageParams,h,A)}};if(s&&i.length){const m=s==="backward",h=m?gf:fa,g={pages:i,pageParams:a},b=h(r,g);o=await p(g,b,m)}else{const m=t??i.length;do{const h=u===0?a[0]??r.initialPageParam:fa(r,o);if(u>0&&h==null)break;o=await p(o,h),u++}while(u<m)}return o};e.options.persister?e.fetchFn=()=>e.options.persister?.(l,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n):e.fetchFn=l}}}function fa(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function gf(t,{pages:e,pageParams:n}){return e.length>0?t.getPreviousPageParam?.(e[0],e,n[0],n):void 0}var mf=class{#e;#t;#r;#n;#a;#i;#s;#o;constructor(e={}){this.#e=e.queryCache||new df,this.#t=e.mutationCache||new pf,this.#r=e.defaultOptions||{},this.#n=new Map,this.#a=new Map,this.#i=0}mount(){this.#i++,this.#i===1&&(this.#s=_i.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#o=lr.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#i--,this.#i===0&&(this.#s?.(),this.#s=void 0,this.#o?.(),this.#o=void 0)}isFetching(e){return this.#e.findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return this.#t.findAll({...e,status:"pending"}).length}getQueryData(e){const n=this.defaultQueryOptions({queryKey:e});return this.#e.get(n.queryHash)?.state.data}ensureQueryData(e){const n=this.getQueryData(e.queryKey);if(n===void 0)return this.fetchQuery(e);{const r=this.defaultQueryOptions(e),s=this.#e.build(this,r);return e.revalidateIfStale&&s.isStaleByTime(Mt(r.staleTime,s))&&this.prefetchQuery(r),Promise.resolve(n)}}getQueriesData(e){return this.#e.findAll(e).map(({queryKey:n,state:r})=>{const s=r.data;return[n,s]})}setQueryData(e,n,r){const s=this.defaultQueryOptions({queryKey:e}),a=this.#e.get(s.queryHash)?.state.data,o=tf(n,a);if(o!==void 0)return this.#e.build(this,s).setData(o,{...r,manual:!0})}setQueriesData(e,n,r){return ue.batch(()=>this.#e.findAll(e).map(({queryKey:s})=>[s,this.setQueryData(s,n,r)]))}getQueryState(e){const n=this.defaultQueryOptions({queryKey:e});return this.#e.get(n.queryHash)?.state}removeQueries(e){const n=this.#e;ue.batch(()=>{n.findAll(e).forEach(r=>{n.remove(r)})})}resetQueries(e,n){const r=this.#e,s={type:"active",...e};return ue.batch(()=>(r.findAll(e).forEach(i=>{i.reset()}),this.refetchQueries(s,n)))}cancelQueries(e={},n={}){const r={revert:!0,...n},s=ue.batch(()=>this.#e.findAll(e).map(i=>i.cancel(r)));return Promise.all(s).then(ve).catch(ve)}invalidateQueries(e={},n={}){return ue.batch(()=>{if(this.#e.findAll(e).forEach(s=>{s.invalidate()}),e.refetchType==="none")return Promise.resolve();const r={...e,type:e.refetchType??e.type??"active"};return this.refetchQueries(r,n)})}refetchQueries(e={},n){const r={...n,cancelRefetch:n?.cancelRefetch??!0},s=ue.batch(()=>this.#e.findAll(e).filter(i=>!i.isDisabled()).map(i=>{let a=i.fetch(void 0,r);return r.throwOnError||(a=a.catch(ve)),i.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(s).then(ve)}fetchQuery(e){const n=this.defaultQueryOptions(e);n.retry===void 0&&(n.retry=!1);const r=this.#e.build(this,n);return r.isStaleByTime(Mt(n.staleTime,r))?r.fetch(n):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(ve).catch(ve)}fetchInfiniteQuery(e){return e.behavior=ca(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(ve).catch(ve)}ensureInfiniteQueryData(e){return e.behavior=ca(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return lr.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#r}setDefaultOptions(e){this.#r=e}setQueryDefaults(e,n){this.#n.set(St(e),{queryKey:e,defaultOptions:n})}getQueryDefaults(e){const n=[...this.#n.values()];let r={};return n.forEach(s=>{xn(e,s.queryKey)&&(r={...r,...s.defaultOptions})}),r}setMutationDefaults(e,n){this.#a.set(St(e),{mutationKey:e,defaultOptions:n})}getMutationDefaults(e){const n=[...this.#a.values()];let r={};return n.forEach(s=>{xn(e,s.mutationKey)&&(r={...r,...s.defaultOptions})}),r}defaultQueryOptions(e){if(e._defaulted)return e;const n={...this.#r.queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return n.queryHash||(n.queryHash=wi(n.queryKey,n)),n.refetchOnReconnect===void 0&&(n.refetchOnReconnect=n.networkMode!=="always"),n.throwOnError===void 0&&(n.throwOnError=!!n.suspense),!n.networkMode&&n.persister&&(n.networkMode="offlineFirst"),n.enabled!==!0&&n.queryFn===xi&&(n.enabled=!1),n}defaultMutationOptions(e){return e?._defaulted?e:{...this.#r.mutations,...e?.mutationKey&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},yf=class extends Qt{constructor(t,e){super(),this.options=e,this.#e=t,this.#o=null,this.#s=Ks(),this.options.experimental_prefetchInRender||this.#s.reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(e)}#e;#t=void 0;#r=void 0;#n=void 0;#a;#i;#s;#o;#g;#d;#h;#l;#c;#u;#p=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#t.addObserver(this),da(this.#t,this.options)?this.#f():this.updateResult(),this.#v())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return qs(this.#t,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return qs(this.#t,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#w(),this.#x(),this.#t.removeObserver(this)}setOptions(t,e){const n=this.options,r=this.#t;if(this.options=this.#e.defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Ee(this.options.enabled,this.#t)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#_(),this.#t.setOptions(this.options),n._defaulted&&!ur(this.options,n)&&this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#t,observer:this});const s=this.hasListeners();s&&ha(this.#t,r,this.options,n)&&this.#f(),this.updateResult(e),s&&(this.#t!==r||Ee(this.options.enabled,this.#t)!==Ee(n.enabled,this.#t)||Mt(this.options.staleTime,this.#t)!==Mt(n.staleTime,this.#t))&&this.#m();const i=this.#y();s&&(this.#t!==r||Ee(this.options.enabled,this.#t)!==Ee(n.enabled,this.#t)||i!==this.#u)&&this.#b(i)}getOptimisticResult(t){const e=this.#e.getQueryCache().build(this.#e,t),n=this.createResult(e,t);return vf(this,n)&&(this.#n=n,this.#i=this.options,this.#a=this.#t.state),n}getCurrentResult(){return this.#n}trackResult(t,e){const n={};return Object.keys(t).forEach(r=>{Object.defineProperty(n,r,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(r),e?.(r),t[r])})}),n}trackProp(t){this.#p.add(t)}getCurrentQuery(){return this.#t}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const e=this.#e.defaultQueryOptions(t),n=this.#e.getQueryCache().build(this.#e,e);return n.fetch().then(()=>this.createResult(n,e))}fetch(t){return this.#f({...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#n))}#f(t){this.#_();let e=this.#t.fetch(this.options,t);return t?.throwOnError||(e=e.catch(ve)),e}#m(){this.#w();const t=Mt(this.options.staleTime,this.#t);if(Bt||this.#n.isStale||!Zs(t))return;const n=nu(this.#n.dataUpdatedAt,t)+1;this.#l=setTimeout(()=>{this.#n.isStale||this.updateResult()},n)}#y(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#t):this.options.refetchInterval)??!1}#b(t){this.#x(),this.#u=t,!(Bt||Ee(this.options.enabled,this.#t)===!1||!Zs(this.#u)||this.#u===0)&&(this.#c=setInterval(()=>{(this.options.refetchIntervalInBackground||_i.isFocused())&&this.#f()},this.#u))}#v(){this.#m(),this.#b(this.#y())}#w(){this.#l&&(clearTimeout(this.#l),this.#l=void 0)}#x(){this.#c&&(clearInterval(this.#c),this.#c=void 0)}createResult(t,e){const n=this.#t,r=this.options,s=this.#n,i=this.#a,a=this.#i,u=t!==n?t.state:this.#r,{state:l}=t;let c={...l},f=!1,d;if(e._optimisticResults){const C=this.hasListeners(),L=!C&&da(t,e),F=C&&ha(t,n,e,r);(L||F)&&(c={...c,...lu(l.data,t.options)}),e._optimisticResults==="isRestoring"&&(c.fetchStatus="idle")}let{error:p,errorUpdatedAt:m,status:h}=c;if(e.select&&c.data!==void 0)if(s&&c.data===i?.data&&e.select===this.#g)d=this.#d;else try{this.#g=e.select,d=e.select(c.data),d=zs(s?.data,d,e),this.#d=d,this.#o=null}catch(C){this.#o=C}else d=c.data;if(e.placeholderData!==void 0&&d===void 0&&h==="pending"){let C;if(s?.isPlaceholderData&&e.placeholderData===a?.placeholderData)C=s.data;else if(C=typeof e.placeholderData=="function"?e.placeholderData(this.#h?.state.data,this.#h):e.placeholderData,e.select&&C!==void 0)try{C=e.select(C),this.#o=null}catch(L){this.#o=L}C!==void 0&&(h="success",d=zs(s?.data,C,e),f=!0)}this.#o&&(p=this.#o,d=this.#d,m=Date.now(),h="error");const g=c.fetchStatus==="fetching",b=h==="pending",v=h==="error",A=b&&g,w=d!==void 0,O={status:h,fetchStatus:c.fetchStatus,isPending:b,isSuccess:h==="success",isError:v,isInitialLoading:A,isLoading:A,data:d,dataUpdatedAt:c.dataUpdatedAt,error:p,errorUpdatedAt:m,failureCount:c.fetchFailureCount,failureReason:c.fetchFailureReason,errorUpdateCount:c.errorUpdateCount,isFetched:c.dataUpdateCount>0||c.errorUpdateCount>0,isFetchedAfterMount:c.dataUpdateCount>u.dataUpdateCount||c.errorUpdateCount>u.errorUpdateCount,isFetching:g,isRefetching:g&&!b,isLoadingError:v&&!w,isPaused:c.fetchStatus==="paused",isPlaceholderData:f,isRefetchError:v&&w,isStale:Si(t,e),refetch:this.refetch,promise:this.#s};if(this.options.experimental_prefetchInRender){const C=N=>{O.status==="error"?N.reject(O.error):O.data!==void 0&&N.resolve(O.data)},L=()=>{const N=this.#s=O.promise=Ks();C(N)},F=this.#s;switch(F.status){case"pending":t.queryHash===n.queryHash&&C(F);break;case"fulfilled":(O.status==="error"||O.data!==F.value)&&L();break;case"rejected":(O.status!=="error"||O.error!==F.reason)&&L();break}}return O}updateResult(t){const e=this.#n,n=this.createResult(this.#t,this.options);if(this.#a=this.#t.state,this.#i=this.options,this.#a.data!==void 0&&(this.#h=this.#t),ur(n,e))return;this.#n=n;const r={},s=()=>{if(!e)return!0;const{notifyOnChangeProps:i}=this.options,a=typeof i=="function"?i():i;if(a==="all"||!a&&!this.#p.size)return!0;const o=new Set(a??this.#p);return this.options.throwOnError&&o.add("error"),Object.keys(this.#n).some(u=>{const l=u;return this.#n[l]!==e[l]&&o.has(l)})};t?.listeners!==!1&&s()&&(r.listeners=!0),this.#S({...r,...t})}#_(){const t=this.#e.getQueryCache().build(this.#e,this.options);if(t===this.#t)return;const e=this.#t;this.#t=t,this.#r=t.state,this.hasListeners()&&(e?.removeObserver(this),t.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#v()}#S(t){ue.batch(()=>{t.listeners&&this.listeners.forEach(e=>{e(this.#n)}),this.#e.getQueryCache().notify({query:this.#t,type:"observerResultsUpdated"})})}};function bf(t,e){return Ee(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function da(t,e){return bf(t,e)||t.state.data!==void 0&&qs(t,e,e.refetchOnMount)}function qs(t,e,n){if(Ee(e.enabled,t)!==!1){const r=typeof n=="function"?n(t):n;return r==="always"||r!==!1&&Si(t,e)}return!1}function ha(t,e,n,r){return(t!==e||Ee(r.enabled,t)===!1)&&(!n.suspense||t.state.status!=="error")&&Si(t,n)}function Si(t,e){return Ee(e.enabled,t)!==!1&&t.isStaleByTime(Mt(e.staleTime,t))}function vf(t,e){return!ur(t.getCurrentResult(),e)}var wf=class extends Qt{#e;#t=void 0;#r;#n;constructor(e,n){super(),this.#e=e,this.setOptions(n),this.bindMethods(),this.#a()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){const n=this.options;this.options=this.#e.defaultMutationOptions(e),ur(this.options,n)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#r,observer:this}),n?.mutationKey&&this.options.mutationKey&&St(n.mutationKey)!==St(this.options.mutationKey)?this.reset():this.#r?.state.status==="pending"&&this.#r.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#r?.removeObserver(this)}onMutationUpdate(e){this.#a(),this.#i(e)}getCurrentResult(){return this.#t}reset(){this.#r?.removeObserver(this),this.#r=void 0,this.#a(),this.#i()}mutate(e,n){return this.#n=n,this.#r?.removeObserver(this),this.#r=this.#e.getMutationCache().build(this.#e,this.options),this.#r.addObserver(this),this.#r.execute(e)}#a(){const e=this.#r?.state??cu();this.#t={...e,isPending:e.status==="pending",isSuccess:e.status==="success",isError:e.status==="error",isIdle:e.status==="idle",mutate:this.mutate,reset:this.reset}}#i(e){ue.batch(()=>{if(this.#n&&this.hasListeners()){const n=this.#t.variables,r=this.#t.context;e?.type==="success"?(this.#n.onSuccess?.(e.data,n,r),this.#n.onSettled?.(e.data,null,n,r)):e?.type==="error"&&(this.#n.onError?.(e.error,n,r),this.#n.onSettled?.(void 0,e.error,n,r))}this.listeners.forEach(n=>{n(this.#t)})})}};function fu(t){return t}function xf(t){return{mutationKey:t.options.mutationKey,state:t.state,...t.options.scope&&{scope:t.options.scope},...t.meta&&{meta:t.meta}}}function _f(t,e){return{state:{...t.state,...t.state.data!==void 0&&{data:e(t.state.data)}},queryKey:t.queryKey,queryHash:t.queryHash,...t.state.status==="pending"&&{promise:t.promise?.then(e).catch(n=>Promise.reject(new Error("redacted")))},...t.meta&&{meta:t.meta}}}function Sf(t){return t.state.isPaused}function Ef(t){return t.state.status==="success"}function Of(t,e={}){const n=e.shouldDehydrateMutation??t.getDefaultOptions().dehydrate?.shouldDehydrateMutation??Sf,r=t.getMutationCache().getAll().flatMap(o=>n(o)?[xf(o)]:[]),s=e.shouldDehydrateQuery??t.getDefaultOptions().dehydrate?.shouldDehydrateQuery??Ef,i=e.serializeData??t.getDefaultOptions().dehydrate?.serializeData??fu,a=t.getQueryCache().getAll().flatMap(o=>s(o)?[_f(o,i)]:[]);return{mutations:r,queries:a}}function du(t,e,n){if(typeof e!="object"||e===null)return;const r=t.getMutationCache(),s=t.getQueryCache(),i=n?.defaultOptions?.deserializeData??t.getDefaultOptions().hydrate?.deserializeData??fu,a=e.mutations||[],o=e.queries||[];a.forEach(({state:u,...l})=>{r.build(t,{...t.getDefaultOptions().hydrate?.mutations,...n?.defaultOptions?.mutations,...l},u)}),o.forEach(({queryKey:u,state:l,queryHash:c,meta:f,promise:d})=>{let p=s.get(c);const m=l.data===void 0?l.data:i(l.data);if(p){if(p.state.dataUpdatedAt<l.dataUpdatedAt){const{fetchStatus:h,...g}=l;p.setState({...g,data:m})}}else p=s.build(t,{...t.getDefaultOptions().hydrate?.queries,...n?.defaultOptions?.queries,queryKey:u,queryHash:c,meta:f},{...l,data:m,fetchStatus:"idle"});if(d){const h=Promise.resolve(d).then(i);p.fetch(void 0,{initialPromise:h})}})}var Tf=["added","removed","updated"];function pa(t){return Tf.includes(t)}async function Cf({queryClient:t,persister:e,maxAge:n=1e3*60*60*24,buster:r="",hydrateOptions:s}){try{const i=await e.restoreClient();if(i)if(i.timestamp){const a=Date.now()-i.timestamp>n,o=i.buster!==r;a||o?e.removeClient():du(t,i.clientState,s)}else e.removeClient()}catch{e.removeClient()}}async function ga({queryClient:t,persister:e,buster:n="",dehydrateOptions:r}){const s={buster:n,timestamp:Date.now(),clientState:Of(t,r)};await e.persistClient(s)}function Af(t){const e=t.queryClient.getQueryCache().subscribe(r=>{pa(r.type)&&ga(t)}),n=t.queryClient.getMutationCache().subscribe(r=>{pa(r.type)&&ga(t)});return()=>{e(),n()}}function $f(t){let e=!1,n;const r=()=>{e=!0,n?.()},s=Cf(t).then(()=>{e||(n=Af(t))});return[r,s]}var kf=class extends mf{constructor(t={}){super(t)}},hu=Dn(void 0),pu=t=>{const e=Mn(hu);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e()},Rf=t=>(it(e=>(e?.(),t.client.mount(),t.client.unmount.bind(t.client))),je(()=>t.client.unmount()),J(hu.Provider,{value:()=>t.client,get children(){return t.children}}));function gu(t,e){return typeof t=="function"?t(...e):!!t}function Pf(){}var If=Dn(()=>!1),Lf=()=>Mn(If);function Nf(t,e,n,r){if(n===!1)return e;if(typeof n=="function"){const a=n(t.data,e.data);return{...e,data:a}}let s=e.data;if(t.data===void 0)try{s=structuredClone(s)}catch{}const i=Yc(s,{key:n})(t.data);return{...e,data:i}}var jf=(t,e)=>e;function Uf(t,e,n){const r=W(()=>pu()),s=Lf(),i=W(()=>{const w=r().defaultQueryOptions(t());return w._optimisticResults=s()?"isRestoring":"optimistic",w.structuralSharing=!1,w}),a=i(),[o,u]=fe(new e(r(),i()));let l=o().getOptimisticResult(i());const[c,f]=vi(l),d=()=>o().subscribe(_=>{l=_,queueMicrotask(()=>{h&&v()})});function p(w){const _=o().options,O=_.reconcile;f(C=>Nf(C,w,O===void 0?!1:O,_.queryHash))}function m(){return[()=>c,w=>{const _=_t(c);if(typeof w=="function"&&(w=w(_)),w?.hydrationData){const{hydrationData:O,...C}=w;w=C}p(w)}]}let h=null,g=null;const[b,{refetch:v}]=No(()=>{const w=o();return new Promise((_,O)=>{if(g=_,!h&&!s()&&(h=d()),w.updateResult(),l.isError&&!l.isFetching&&!s()&&gu(w.options.throwOnError,[l.error,w.getCurrentQuery()]))return p(l),O(l.error);if(!l.isLoading)return g=null,_(jf(w.getCurrentQuery(),l));p(l)})},{storage:m,get deferStream(){return t().deferStream},onHydrated(w,_){if(_.value&&"hydrationData"in _.value&&du(r(),{queries:[{..._.value.hydrationData}]}),h)return;const O={...a};(a.staleTime||!a.initialData)&&_.value&&(O.refetchOnMount=!1),o().setOptions(O),p(o().getOptimisticResult(O)),h=d()}});vt(wt(r,w=>{h&&h();const _=new e(w,i());h=d(),u(_)},{defer:!0})),vt(wt(s,w=>{!w&&!Ds&&v()},{defer:!0})),je(()=>{h&&(h(),h=null),g&&!Ds&&(g(l),g=null)}),vt(wt([o,i],([w,_])=>{w.setOptions(_),p(w.getOptimisticResult(_)),v()},{defer:!0}));const A={get(w,_){return _==="data"?c.data!==void 0?b.latest?.data:b()?.data:Reflect.get(w,_)}};return new Proxy(c,A)}function yO(t,e){return Uf(W(()=>t()),yf)}function bO(t,e){const n=W(()=>pu()),r=new wf(n(),t()),s=(u,l)=>{r.mutate(u,l).catch(Pf)},[i,a]=vi({...r.getCurrentResult(),mutate:s,mutateAsync:r.getCurrentResult().mutate});vt(()=>{r.setOptions(t())}),vt(wt(()=>i.status,()=>{if(i.isError&&gu(r.options.throwOnError,[i.error]))throw i.error}));const o=r.subscribe(u=>{a({...u,mutate:s,mutateAsync:u.mutate})});return je(o),i}function Dr(t){return new Promise((e,n)=>{t.oncomplete=t.onsuccess=()=>e(t.result),t.onabort=t.onerror=()=>n(t.error)})}function Df(t,e){const n=indexedDB.open(t);n.onupgradeneeded=()=>n.result.createObjectStore(e);const r=Dr(n);return(s,i)=>r.then(a=>i(a.transaction(e,s).objectStore(e)))}let cs;function Ei(){return cs||(cs=Df("keyval-store","keyval")),cs}function Mf(t,e=Ei()){return e("readonly",n=>Dr(n.get(t)))}function Ff(t,e,n=Ei()){return n("readwrite",r=>(r.put(e,t),Dr(r.transaction)))}function Bf(t,e=Ei()){return e("readwrite",n=>(n.delete(t),Dr(n.transaction)))}var Wn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function mu(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function vO(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var s=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return t[r]}})}),n}function Hf(t,e){for(var n=-1,r=e.length,s=t.length;++n<r;)t[s+n]=e[n];return t}var yu=Hf,Zf=typeof Wn=="object"&&Wn&&Wn.Object===Object&&Wn,bu=Zf,Vf=bu,zf=typeof self=="object"&&self&&self.Object===Object&&self,Kf=Vf||zf||Function("return this")(),Ke=Kf,qf=Ke,Gf=qf.Symbol,Fn=Gf,ma=Fn,vu=Object.prototype,Wf=vu.hasOwnProperty,Qf=vu.toString,an=ma?ma.toStringTag:void 0;function Jf(t){var e=Wf.call(t,an),n=t[an];try{t[an]=void 0;var r=!0}catch{}var s=Qf.call(t);return r&&(e?t[an]=n:delete t[an]),s}var Yf=Jf,Xf=Object.prototype,ed=Xf.toString;function td(t){return ed.call(t)}var nd=td,ya=Fn,rd=Yf,sd=nd,id="[object Null]",ad="[object Undefined]",ba=ya?ya.toStringTag:void 0;function od(t){return t==null?t===void 0?ad:id:ba&&ba in Object(t)?rd(t):sd(t)}var Bn=od;function ud(t){return t!=null&&typeof t=="object"}var Hn=ud,ld=Bn,cd=Hn,fd="[object Arguments]";function dd(t){return cd(t)&&ld(t)==fd}var hd=dd,va=hd,pd=Hn,wu=Object.prototype,gd=wu.hasOwnProperty,md=wu.propertyIsEnumerable,yd=va(function(){return arguments}())?va:function(t){return pd(t)&&gd.call(t,"callee")&&!md.call(t,"callee")},Oi=yd,bd=Array.isArray,Be=bd,wa=Fn,vd=Oi,wd=Be,xa=wa?wa.isConcatSpreadable:void 0;function xd(t){return wd(t)||vd(t)||!!(xa&&t&&t[xa])}var _d=xd,Sd=yu,Ed=_d;function xu(t,e,n,r,s){var i=-1,a=t.length;for(n||(n=Ed),s||(s=[]);++i<a;){var o=t[i];e>0&&n(o)?e>1?xu(o,e-1,n,r,s):Sd(s,o):r||(s[s.length]=o)}return s}var Od=xu;function Td(t,e){for(var n=-1,r=t==null?0:t.length,s=Array(r);++n<r;)s[n]=e(t[n],n,t);return s}var _u=Td,Cd=Bn,Ad=Hn,$d="[object Symbol]";function kd(t){return typeof t=="symbol"||Ad(t)&&Cd(t)==$d}var Mr=kd,Rd=Be,Pd=Mr,Id=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Ld=/^\w*$/;function Nd(t,e){if(Rd(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||Pd(t)?!0:Ld.test(t)||!Id.test(t)||e!=null&&t in Object(e)}var Ti=Nd;function jd(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var Fr=jd,Ud=Bn,Dd=Fr,Md="[object AsyncFunction]",Fd="[object Function]",Bd="[object GeneratorFunction]",Hd="[object Proxy]";function Zd(t){if(!Dd(t))return!1;var e=Ud(t);return e==Fd||e==Bd||e==Md||e==Hd}var Su=Zd,Vd=Ke,zd=Vd["__core-js_shared__"],Kd=zd,fs=Kd,_a=function(){var t=/[^.]+$/.exec(fs&&fs.keys&&fs.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function qd(t){return!!_a&&_a in t}var Gd=qd,Wd=Function.prototype,Qd=Wd.toString;function Jd(t){if(t!=null){try{return Qd.call(t)}catch{}try{return t+""}catch{}}return""}var Eu=Jd,Yd=Su,Xd=Gd,eh=Fr,th=Eu,nh=/[\\^$.*+?()[\]{}|]/g,rh=/^\[object .+?Constructor\]$/,sh=Function.prototype,ih=Object.prototype,ah=sh.toString,oh=ih.hasOwnProperty,uh=RegExp("^"+ah.call(oh).replace(nh,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function lh(t){if(!eh(t)||Xd(t))return!1;var e=Yd(t)?uh:rh;return e.test(th(t))}var ch=lh;function fh(t,e){return t?.[e]}var dh=fh,hh=ch,ph=dh;function gh(t,e){var n=ph(t,e);return hh(n)?n:void 0}var Ct=gh,mh=Ct,yh=mh(Object,"create"),Br=yh,Sa=Br;function bh(){this.__data__=Sa?Sa(null):{},this.size=0}var vh=bh;function wh(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var xh=wh,_h=Br,Sh="__lodash_hash_undefined__",Eh=Object.prototype,Oh=Eh.hasOwnProperty;function Th(t){var e=this.__data__;if(_h){var n=e[t];return n===Sh?void 0:n}return Oh.call(e,t)?e[t]:void 0}var Ch=Th,Ah=Br,$h=Object.prototype,kh=$h.hasOwnProperty;function Rh(t){var e=this.__data__;return Ah?e[t]!==void 0:kh.call(e,t)}var Ph=Rh,Ih=Br,Lh="__lodash_hash_undefined__";function Nh(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=Ih&&e===void 0?Lh:e,this}var jh=Nh,Uh=vh,Dh=xh,Mh=Ch,Fh=Ph,Bh=jh;function Jt(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Jt.prototype.clear=Uh;Jt.prototype.delete=Dh;Jt.prototype.get=Mh;Jt.prototype.has=Fh;Jt.prototype.set=Bh;var Hh=Jt;function Zh(){this.__data__=[],this.size=0}var Vh=Zh;function zh(t,e){return t===e||t!==t&&e!==e}var Ci=zh,Kh=Ci;function qh(t,e){for(var n=t.length;n--;)if(Kh(t[n][0],e))return n;return-1}var Hr=qh,Gh=Hr,Wh=Array.prototype,Qh=Wh.splice;function Jh(t){var e=this.__data__,n=Gh(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():Qh.call(e,n,1),--this.size,!0}var Yh=Jh,Xh=Hr;function ep(t){var e=this.__data__,n=Xh(e,t);return n<0?void 0:e[n][1]}var tp=ep,np=Hr;function rp(t){return np(this.__data__,t)>-1}var sp=rp,ip=Hr;function ap(t,e){var n=this.__data__,r=ip(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var op=ap,up=Vh,lp=Yh,cp=tp,fp=sp,dp=op;function Yt(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Yt.prototype.clear=up;Yt.prototype.delete=lp;Yt.prototype.get=cp;Yt.prototype.has=fp;Yt.prototype.set=dp;var Zr=Yt,hp=Ct,pp=Ke,gp=hp(pp,"Map"),Ai=gp,Ea=Hh,mp=Zr,yp=Ai;function bp(){this.size=0,this.__data__={hash:new Ea,map:new(yp||mp),string:new Ea}}var vp=bp;function wp(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var xp=wp,_p=xp;function Sp(t,e){var n=t.__data__;return _p(e)?n[typeof e=="string"?"string":"hash"]:n.map}var Vr=Sp,Ep=Vr;function Op(t){var e=Ep(this,t).delete(t);return this.size-=e?1:0,e}var Tp=Op,Cp=Vr;function Ap(t){return Cp(this,t).get(t)}var $p=Ap,kp=Vr;function Rp(t){return kp(this,t).has(t)}var Pp=Rp,Ip=Vr;function Lp(t,e){var n=Ip(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var Np=Lp,jp=vp,Up=Tp,Dp=$p,Mp=Pp,Fp=Np;function Xt(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Xt.prototype.clear=jp;Xt.prototype.delete=Up;Xt.prototype.get=Dp;Xt.prototype.has=Mp;Xt.prototype.set=Fp;var $i=Xt,Ou=$i,Bp="Expected a function";function ki(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(Bp);var n=function(){var r=arguments,s=e?e.apply(this,r):r[0],i=n.cache;if(i.has(s))return i.get(s);var a=t.apply(this,r);return n.cache=i.set(s,a)||i,a};return n.cache=new(ki.Cache||Ou),n}ki.Cache=Ou;var Hp=ki,Zp=Hp,Vp=500;function zp(t){var e=Zp(t,function(r){return n.size===Vp&&n.clear(),r}),n=e.cache;return e}var Kp=zp,qp=Kp,Gp=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Wp=/\\(\\)?/g,Qp=qp(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(Gp,function(n,r,s,i){e.push(s?i.replace(Wp,"$1"):r||n)}),e}),Jp=Qp,Oa=Fn,Yp=_u,Xp=Be,eg=Mr,tg=1/0,Ta=Oa?Oa.prototype:void 0,Ca=Ta?Ta.toString:void 0;function Tu(t){if(typeof t=="string")return t;if(Xp(t))return Yp(t,Tu)+"";if(eg(t))return Ca?Ca.call(t):"";var e=t+"";return e=="0"&&1/t==-tg?"-0":e}var ng=Tu,rg=ng;function sg(t){return t==null?"":rg(t)}var ig=sg,ag=Be,og=Ti,ug=Jp,lg=ig;function cg(t,e){return ag(t)?t:og(t,e)?[t]:ug(lg(t))}var Cu=cg,fg=Mr,dg=1/0;function hg(t){if(typeof t=="string"||fg(t))return t;var e=t+"";return e=="0"&&1/t==-dg?"-0":e}var zr=hg,pg=Cu,gg=zr;function mg(t,e){e=pg(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[gg(e[n++])];return n&&n==r?t:void 0}var Ri=mg,yg=Zr;function bg(){this.__data__=new yg,this.size=0}var vg=bg;function wg(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var xg=wg;function _g(t){return this.__data__.get(t)}var Sg=_g;function Eg(t){return this.__data__.has(t)}var Og=Eg,Tg=Zr,Cg=Ai,Ag=$i,$g=200;function kg(t,e){var n=this.__data__;if(n instanceof Tg){var r=n.__data__;if(!Cg||r.length<$g-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new Ag(r)}return n.set(t,e),this.size=n.size,this}var Rg=kg,Pg=Zr,Ig=vg,Lg=xg,Ng=Sg,jg=Og,Ug=Rg;function en(t){var e=this.__data__=new Pg(t);this.size=e.size}en.prototype.clear=Ig;en.prototype.delete=Lg;en.prototype.get=Ng;en.prototype.has=jg;en.prototype.set=Ug;var Au=en,Dg="__lodash_hash_undefined__";function Mg(t){return this.__data__.set(t,Dg),this}var Fg=Mg;function Bg(t){return this.__data__.has(t)}var Hg=Bg,Zg=$i,Vg=Fg,zg=Hg;function cr(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new Zg;++e<n;)this.add(t[e])}cr.prototype.add=cr.prototype.push=Vg;cr.prototype.has=zg;var $u=cr;function Kg(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var qg=Kg;function Gg(t,e){return t.has(e)}var ku=Gg,Wg=$u,Qg=qg,Jg=ku,Yg=1,Xg=2;function em(t,e,n,r,s,i){var a=n&Yg,o=t.length,u=e.length;if(o!=u&&!(a&&u>o))return!1;var l=i.get(t),c=i.get(e);if(l&&c)return l==e&&c==t;var f=-1,d=!0,p=n&Xg?new Wg:void 0;for(i.set(t,e),i.set(e,t);++f<o;){var m=t[f],h=e[f];if(r)var g=a?r(h,m,f,e,t,i):r(m,h,f,t,e,i);if(g!==void 0){if(g)continue;d=!1;break}if(p){if(!Qg(e,function(b,v){if(!Jg(p,v)&&(m===b||s(m,b,n,r,i)))return p.push(v)})){d=!1;break}}else if(!(m===h||s(m,h,n,r,i))){d=!1;break}}return i.delete(t),i.delete(e),d}var Ru=em,tm=Ke,nm=tm.Uint8Array,rm=nm;function sm(t){var e=-1,n=Array(t.size);return t.forEach(function(r,s){n[++e]=[s,r]}),n}var im=sm;function am(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var Pi=am,Aa=Fn,$a=rm,om=Ci,um=Ru,lm=im,cm=Pi,fm=1,dm=2,hm="[object Boolean]",pm="[object Date]",gm="[object Error]",mm="[object Map]",ym="[object Number]",bm="[object RegExp]",vm="[object Set]",wm="[object String]",xm="[object Symbol]",_m="[object ArrayBuffer]",Sm="[object DataView]",ka=Aa?Aa.prototype:void 0,ds=ka?ka.valueOf:void 0;function Em(t,e,n,r,s,i,a){switch(n){case Sm:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case _m:return!(t.byteLength!=e.byteLength||!i(new $a(t),new $a(e)));case hm:case pm:case ym:return om(+t,+e);case gm:return t.name==e.name&&t.message==e.message;case bm:case wm:return t==e+"";case mm:var o=lm;case vm:var u=r&fm;if(o||(o=cm),t.size!=e.size&&!u)return!1;var l=a.get(t);if(l)return l==e;r|=dm,a.set(t,e);var c=um(o(t),o(e),r,s,i,a);return a.delete(t),c;case xm:if(ds)return ds.call(t)==ds.call(e)}return!1}var Om=Em,Tm=yu,Cm=Be;function Am(t,e,n){var r=e(t);return Cm(t)?r:Tm(r,n(t))}var $m=Am;function km(t,e){for(var n=-1,r=t==null?0:t.length,s=0,i=[];++n<r;){var a=t[n];e(a,n,t)&&(i[s++]=a)}return i}var Rm=km;function Pm(){return[]}var Im=Pm,Lm=Rm,Nm=Im,jm=Object.prototype,Um=jm.propertyIsEnumerable,Ra=Object.getOwnPropertySymbols,Dm=Ra?function(t){return t==null?[]:(t=Object(t),Lm(Ra(t),function(e){return Um.call(t,e)}))}:Nm,Mm=Dm;function Fm(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var Bm=Fm,fr={exports:{}};function Hm(){return!1}var Zm=Hm;fr.exports;(function(t,e){var n=Ke,r=Zm,s=e&&!e.nodeType&&e,i=s&&!0&&t&&!t.nodeType&&t,a=i&&i.exports===s,o=a?n.Buffer:void 0,u=o?o.isBuffer:void 0,l=u||r;t.exports=l})(fr,fr.exports);var Pu=fr.exports,Vm=9007199254740991,zm=/^(?:0|[1-9]\d*)$/;function Km(t,e){var n=typeof t;return e=e??Vm,!!e&&(n=="number"||n!="symbol"&&zm.test(t))&&t>-1&&t%1==0&&t<e}var Ii=Km,qm=9007199254740991;function Gm(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=qm}var Li=Gm,Wm=Bn,Qm=Li,Jm=Hn,Ym="[object Arguments]",Xm="[object Array]",ey="[object Boolean]",ty="[object Date]",ny="[object Error]",ry="[object Function]",sy="[object Map]",iy="[object Number]",ay="[object Object]",oy="[object RegExp]",uy="[object Set]",ly="[object String]",cy="[object WeakMap]",fy="[object ArrayBuffer]",dy="[object DataView]",hy="[object Float32Array]",py="[object Float64Array]",gy="[object Int8Array]",my="[object Int16Array]",yy="[object Int32Array]",by="[object Uint8Array]",vy="[object Uint8ClampedArray]",wy="[object Uint16Array]",xy="[object Uint32Array]",Q={};Q[hy]=Q[py]=Q[gy]=Q[my]=Q[yy]=Q[by]=Q[vy]=Q[wy]=Q[xy]=!0;Q[Ym]=Q[Xm]=Q[fy]=Q[ey]=Q[dy]=Q[ty]=Q[ny]=Q[ry]=Q[sy]=Q[iy]=Q[ay]=Q[oy]=Q[uy]=Q[ly]=Q[cy]=!1;function _y(t){return Jm(t)&&Qm(t.length)&&!!Q[Wm(t)]}var Sy=_y;function Ey(t){return function(e){return t(e)}}var Iu=Ey,dr={exports:{}};dr.exports;(function(t,e){var n=bu,r=e&&!e.nodeType&&e,s=r&&!0&&t&&!t.nodeType&&t,i=s&&s.exports===r,a=i&&n.process,o=function(){try{var u=s&&s.require&&s.require("util").types;return u||a&&a.binding&&a.binding("util")}catch{}}();t.exports=o})(dr,dr.exports);var Oy=dr.exports,Ty=Sy,Cy=Iu,Pa=Oy,Ia=Pa&&Pa.isTypedArray,Ay=Ia?Cy(Ia):Ty,Lu=Ay,$y=Bm,ky=Oi,Ry=Be,Py=Pu,Iy=Ii,Ly=Lu,Ny=Object.prototype,jy=Ny.hasOwnProperty;function Uy(t,e){var n=Ry(t),r=!n&&ky(t),s=!n&&!r&&Py(t),i=!n&&!r&&!s&&Ly(t),a=n||r||s||i,o=a?$y(t.length,String):[],u=o.length;for(var l in t)(e||jy.call(t,l))&&!(a&&(l=="length"||s&&(l=="offset"||l=="parent")||i&&(l=="buffer"||l=="byteLength"||l=="byteOffset")||Iy(l,u)))&&o.push(l);return o}var Dy=Uy,My=Object.prototype;function Fy(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||My;return t===n}var By=Fy;function Hy(t,e){return function(n){return t(e(n))}}var Zy=Hy,Vy=Zy,zy=Vy(Object.keys,Object),Ky=zy,qy=By,Gy=Ky,Wy=Object.prototype,Qy=Wy.hasOwnProperty;function Jy(t){if(!qy(t))return Gy(t);var e=[];for(var n in Object(t))Qy.call(t,n)&&n!="constructor"&&e.push(n);return e}var Yy=Jy,Xy=Su,eb=Li;function tb(t){return t!=null&&eb(t.length)&&!Xy(t)}var Kr=tb,nb=Dy,rb=Yy,sb=Kr;function ib(t){return sb(t)?nb(t):rb(t)}var Ni=ib,ab=$m,ob=Mm,ub=Ni;function lb(t){return ab(t,ub,ob)}var cb=lb,La=cb,fb=1,db=Object.prototype,hb=db.hasOwnProperty;function pb(t,e,n,r,s,i){var a=n&fb,o=La(t),u=o.length,l=La(e),c=l.length;if(u!=c&&!a)return!1;for(var f=u;f--;){var d=o[f];if(!(a?d in e:hb.call(e,d)))return!1}var p=i.get(t),m=i.get(e);if(p&&m)return p==e&&m==t;var h=!0;i.set(t,e),i.set(e,t);for(var g=a;++f<u;){d=o[f];var b=t[d],v=e[d];if(r)var A=a?r(v,b,d,e,t,i):r(b,v,d,t,e,i);if(!(A===void 0?b===v||s(b,v,n,r,i):A)){h=!1;break}g||(g=d=="constructor")}if(h&&!g){var w=t.constructor,_=e.constructor;w!=_&&"constructor"in t&&"constructor"in e&&!(typeof w=="function"&&w instanceof w&&typeof _=="function"&&_ instanceof _)&&(h=!1)}return i.delete(t),i.delete(e),h}var gb=pb,mb=Ct,yb=Ke,bb=mb(yb,"DataView"),vb=bb,wb=Ct,xb=Ke,_b=wb(xb,"Promise"),Sb=_b,Eb=Ct,Ob=Ke,Tb=Eb(Ob,"Set"),Nu=Tb,Cb=Ct,Ab=Ke,$b=Cb(Ab,"WeakMap"),kb=$b,Gs=vb,Ws=Ai,Qs=Sb,Js=Nu,Ys=kb,ju=Bn,tn=Eu,Na="[object Map]",Rb="[object Object]",ja="[object Promise]",Ua="[object Set]",Da="[object WeakMap]",Ma="[object DataView]",Pb=tn(Gs),Ib=tn(Ws),Lb=tn(Qs),Nb=tn(Js),jb=tn(Ys),gt=ju;(Gs&&gt(new Gs(new ArrayBuffer(1)))!=Ma||Ws&&gt(new Ws)!=Na||Qs&&gt(Qs.resolve())!=ja||Js&&gt(new Js)!=Ua||Ys&&gt(new Ys)!=Da)&&(gt=function(t){var e=ju(t),n=e==Rb?t.constructor:void 0,r=n?tn(n):"";if(r)switch(r){case Pb:return Ma;case Ib:return Na;case Lb:return ja;case Nb:return Ua;case jb:return Da}return e});var Ub=gt,hs=Au,Db=Ru,Mb=Om,Fb=gb,Fa=Ub,Ba=Be,Ha=Pu,Bb=Lu,Hb=1,Za="[object Arguments]",Va="[object Array]",Qn="[object Object]",Zb=Object.prototype,za=Zb.hasOwnProperty;function Vb(t,e,n,r,s,i){var a=Ba(t),o=Ba(e),u=a?Va:Fa(t),l=o?Va:Fa(e);u=u==Za?Qn:u,l=l==Za?Qn:l;var c=u==Qn,f=l==Qn,d=u==l;if(d&&Ha(t)){if(!Ha(e))return!1;a=!0,c=!1}if(d&&!c)return i||(i=new hs),a||Bb(t)?Db(t,e,n,r,s,i):Mb(t,e,u,n,r,s,i);if(!(n&Hb)){var p=c&&za.call(t,"__wrapped__"),m=f&&za.call(e,"__wrapped__");if(p||m){var h=p?t.value():t,g=m?e.value():e;return i||(i=new hs),s(h,g,n,r,i)}}return d?(i||(i=new hs),Fb(t,e,n,r,s,i)):!1}var zb=Vb,Kb=zb,Ka=Hn;function Uu(t,e,n,r,s){return t===e?!0:t==null||e==null||!Ka(t)&&!Ka(e)?t!==t&&e!==e:Kb(t,e,n,r,Uu,s)}var Du=Uu,qb=Au,Gb=Du,Wb=1,Qb=2;function Jb(t,e,n,r){var s=n.length,i=s,a=!r;if(t==null)return!i;for(t=Object(t);s--;){var o=n[s];if(a&&o[2]?o[1]!==t[o[0]]:!(o[0]in t))return!1}for(;++s<i;){o=n[s];var u=o[0],l=t[u],c=o[1];if(a&&o[2]){if(l===void 0&&!(u in t))return!1}else{var f=new qb;if(r)var d=r(l,c,u,t,e,f);if(!(d===void 0?Gb(c,l,Wb|Qb,r,f):d))return!1}}return!0}var Yb=Jb,Xb=Fr;function ev(t){return t===t&&!Xb(t)}var Mu=ev,tv=Mu,nv=Ni;function rv(t){for(var e=nv(t),n=e.length;n--;){var r=e[n],s=t[r];e[n]=[r,s,tv(s)]}return e}var sv=rv;function iv(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}var Fu=iv,av=Yb,ov=sv,uv=Fu;function lv(t){var e=ov(t);return e.length==1&&e[0][2]?uv(e[0][0],e[0][1]):function(n){return n===t||av(n,t,e)}}var cv=lv,fv=Ri;function dv(t,e,n){var r=t==null?void 0:fv(t,e);return r===void 0?n:r}var hv=dv;function pv(t,e){return t!=null&&e in Object(t)}var gv=pv,mv=Cu,yv=Oi,bv=Be,vv=Ii,wv=Li,xv=zr;function _v(t,e,n){e=mv(e,t);for(var r=-1,s=e.length,i=!1;++r<s;){var a=xv(e[r]);if(!(i=t!=null&&n(t,a)))break;t=t[a]}return i||++r!=s?i:(s=t==null?0:t.length,!!s&&wv(s)&&vv(a,s)&&(bv(t)||yv(t)))}var Sv=_v,Ev=gv,Ov=Sv;function Tv(t,e){return t!=null&&Ov(t,e,Ev)}var Cv=Tv,Av=Du,$v=hv,kv=Cv,Rv=Ti,Pv=Mu,Iv=Fu,Lv=zr,Nv=1,jv=2;function Uv(t,e){return Rv(t)&&Pv(e)?Iv(Lv(t),e):function(n){var r=$v(n,t);return r===void 0&&r===e?kv(n,t):Av(e,r,Nv|jv)}}var Dv=Uv;function Mv(t){return t}var qr=Mv;function Fv(t){return function(e){return e?.[t]}}var Bv=Fv,Hv=Ri;function Zv(t){return function(e){return Hv(e,t)}}var Vv=Zv,zv=Bv,Kv=Vv,qv=Ti,Gv=zr;function Wv(t){return qv(t)?zv(Gv(t)):Kv(t)}var Qv=Wv,Jv=cv,Yv=Dv,Xv=qr,ew=Be,tw=Qv;function nw(t){return typeof t=="function"?t:t==null?Xv:typeof t=="object"?ew(t)?Yv(t[0],t[1]):Jv(t):tw(t)}var rw=nw;function sw(t){return function(e,n,r){for(var s=-1,i=Object(e),a=r(e),o=a.length;o--;){var u=a[t?o:++s];if(n(i[u],u,i)===!1)break}return e}}var iw=sw,aw=iw,ow=aw(),uw=ow,lw=uw,cw=Ni;function fw(t,e){return t&&lw(t,e,cw)}var dw=fw,hw=Kr;function pw(t,e){return function(n,r){if(n==null)return n;if(!hw(n))return t(n,r);for(var s=n.length,i=e?s:-1,a=Object(n);(e?i--:++i<s)&&r(a[i],i,a)!==!1;);return n}}var gw=pw,mw=dw,yw=gw,bw=yw(mw),vw=bw,ww=vw,xw=Kr;function _w(t,e){var n=-1,r=xw(t)?Array(t.length):[];return ww(t,function(s,i,a){r[++n]=e(s,i,a)}),r}var Sw=_w;function Ew(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}var Ow=Ew,qa=Mr;function Tw(t,e){if(t!==e){var n=t!==void 0,r=t===null,s=t===t,i=qa(t),a=e!==void 0,o=e===null,u=e===e,l=qa(e);if(!o&&!l&&!i&&t>e||i&&a&&u&&!o&&!l||r&&a&&u||!n&&u||!s)return 1;if(!r&&!i&&!l&&t<e||l&&n&&s&&!r&&!i||o&&n&&s||!a&&s||!u)return-1}return 0}var Cw=Tw,Aw=Cw;function $w(t,e,n){for(var r=-1,s=t.criteria,i=e.criteria,a=s.length,o=n.length;++r<a;){var u=Aw(s[r],i[r]);if(u){if(r>=o)return u;var l=n[r];return u*(l=="desc"?-1:1)}}return t.index-e.index}var kw=$w,ps=_u,Rw=Ri,Pw=rw,Iw=Sw,Lw=Ow,Nw=Iu,jw=kw,Uw=qr,Dw=Be;function Mw(t,e,n){e.length?e=ps(e,function(i){return Dw(i)?function(a){return Rw(a,i.length===1?i[0]:i)}:i}):e=[Uw];var r=-1;e=ps(e,Nw(Pw));var s=Iw(t,function(i,a,o){var u=ps(e,function(l){return l(i)});return{criteria:u,index:++r,value:i}});return Lw(s,function(i,a){return jw(i,a,n)})}var Fw=Mw;function Bw(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var Hw=Bw,Zw=Hw,Ga=Math.max;function Vw(t,e,n){return e=Ga(e===void 0?t.length-1:e,0),function(){for(var r=arguments,s=-1,i=Ga(r.length-e,0),a=Array(i);++s<i;)a[s]=r[e+s];s=-1;for(var o=Array(e+1);++s<e;)o[s]=r[s];return o[e]=n(a),Zw(t,this,o)}}var zw=Vw;function Kw(t){return function(){return t}}var qw=Kw,Gw=Ct,Ww=function(){try{var t=Gw(Object,"defineProperty");return t({},"",{}),t}catch{}}(),Qw=Ww,Jw=qw,Wa=Qw,Yw=qr,Xw=Wa?function(t,e){return Wa(t,"toString",{configurable:!0,enumerable:!1,value:Jw(e),writable:!0})}:Yw,e0=Xw,t0=800,n0=16,r0=Date.now;function s0(t){var e=0,n=0;return function(){var r=r0(),s=n0-(r-n);if(n=r,s>0){if(++e>=t0)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var i0=s0,a0=e0,o0=i0,u0=o0(a0),l0=u0,c0=qr,f0=zw,d0=l0;function h0(t,e){return d0(f0(t,e,c0),t+"")}var p0=h0,g0=Ci,m0=Kr,y0=Ii,b0=Fr;function v0(t,e,n){if(!b0(n))return!1;var r=typeof e;return(r=="number"?m0(n)&&y0(e,n.length):r=="string"&&e in n)?g0(n[e],t):!1}var w0=v0,x0=Od,_0=Fw,S0=p0,Qa=w0,E0=S0(function(t,e){if(t==null)return[];var n=e.length;return n>1&&Qa(t,e[0],e[1])?e=[]:n>2&&Qa(e[0],e[1],e[2])&&(e=[e[0]]),_0(t,x0(e,1),[])}),O0=E0;const T0=mu(O0);function C0(t,e,n,r){for(var s=t.length,i=n+(r?1:-1);r?i--:++i<s;)if(e(t[i],i,t))return i;return-1}var A0=C0;function $0(t){return t!==t}var k0=$0;function R0(t,e,n){for(var r=n-1,s=t.length;++r<s;)if(t[r]===e)return r;return-1}var P0=R0,I0=A0,L0=k0,N0=P0;function j0(t,e,n){return e===e?N0(t,e,n):I0(t,L0,n)}var U0=j0,D0=U0;function M0(t,e){var n=t==null?0:t.length;return!!n&&D0(t,e,0)>-1}var F0=M0;function B0(t,e,n){for(var r=-1,s=t==null?0:t.length;++r<s;)if(n(e,t[r]))return!0;return!1}var H0=B0;function Z0(){}var V0=Z0,gs=Nu,z0=V0,K0=Pi,q0=1/0,G0=gs&&1/K0(new gs([,-0]))[1]==q0?function(t){return new gs(t)}:z0,W0=G0,Q0=$u,J0=F0,Y0=H0,X0=ku,ex=W0,tx=Pi,nx=200;function rx(t,e,n){var r=-1,s=J0,i=t.length,a=!0,o=[],u=o;if(n)a=!1,s=Y0;else if(i>=nx){var l=e?null:ex(t);if(l)return tx(l);a=!1,s=X0,u=new Q0}else u=e?[]:o;e:for(;++r<i;){var c=t[r],f=e?e(c):c;if(c=n||c!==0?c:0,a&&f===f){for(var d=u.length;d--;)if(u[d]===f)continue e;e&&u.push(f),o.push(c)}else s(u,f,n)||(u!==o&&u.push(f),o.push(c))}return o}var sx=rx,ix=sx;function ax(t){return t&&t.length?ix(t):[]}var ox=ax;const pn=mu(ox);function wO(t){return[0,3].includes(t)||1e4<=t&&t<2e4}function xO(t){return 3e4<=t&&t<4e4}var _O=0,Xs=1,SO=3,EO=5,OO=6,ux=7,TO=16,CO=9734,AO=9735,K;(function(t){t.assertEqual=s=>s;function e(s){}t.assertIs=e;function n(s){throw new Error}t.assertNever=n,t.arrayToEnum=s=>{const i={};for(const a of s)i[a]=a;return i},t.getValidEnumValues=s=>{const i=t.objectKeys(s).filter(o=>typeof s[s[o]]!="number"),a={};for(const o of i)a[o]=s[o];return t.objectValues(a)},t.objectValues=s=>t.objectKeys(s).map(function(i){return s[i]}),t.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const i=[];for(const a in s)Object.prototype.hasOwnProperty.call(s,a)&&i.push(a);return i},t.find=(s,i)=>{for(const a of s)if(i(a))return a},t.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&isFinite(s)&&Math.floor(s)===s;function r(s,i=" | "){return s.map(a=>typeof a=="string"?`'${a}'`:a).join(i)}t.joinValues=r,t.jsonStringifyReplacer=(s,i)=>typeof i=="bigint"?i.toString():i})(K||(K={}));var ei;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})(ei||(ei={}));const k=K.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),rt=t=>{switch(typeof t){case"undefined":return k.undefined;case"string":return k.string;case"number":return isNaN(t)?k.nan:k.number;case"boolean":return k.boolean;case"function":return k.function;case"bigint":return k.bigint;case"symbol":return k.symbol;case"object":return Array.isArray(t)?k.array:t===null?k.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?k.promise:typeof Map<"u"&&t instanceof Map?k.map:typeof Set<"u"&&t instanceof Set?k.set:typeof Date<"u"&&t instanceof Date?k.date:k.object;default:return k.unknown}},T=K.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),lx=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:");class me extends Error{constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){const n=e||function(i){return i.message},r={_errors:[]},s=i=>{for(const a of i.issues)if(a.code==="invalid_union")a.unionErrors.map(s);else if(a.code==="invalid_return_type")s(a.returnTypeError);else if(a.code==="invalid_arguments")s(a.argumentsError);else if(a.path.length===0)r._errors.push(n(a));else{let o=r,u=0;for(;u<a.path.length;){const l=a.path[u];u===a.path.length-1?(o[l]=o[l]||{_errors:[]},o[l]._errors.push(n(a))):o[l]=o[l]||{_errors:[]},o=o[l],u++}}};return s(this),r}static assert(e){if(!(e instanceof me))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,K.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},r=[];for(const s of this.issues)s.path.length>0?(n[s.path[0]]=n[s.path[0]]||[],n[s.path[0]].push(e(s))):r.push(e(s));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}me.create=t=>new me(t);const Ht=(t,e)=>{let n;switch(t.code){case T.invalid_type:t.received===k.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case T.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,K.jsonStringifyReplacer)}`;break;case T.unrecognized_keys:n=`Unrecognized key(s) in object: ${K.joinValues(t.keys,", ")}`;break;case T.invalid_union:n="Invalid input";break;case T.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${K.joinValues(t.options)}`;break;case T.invalid_enum_value:n=`Invalid enum value. Expected ${K.joinValues(t.options)}, received '${t.received}'`;break;case T.invalid_arguments:n="Invalid function arguments";break;case T.invalid_return_type:n="Invalid function return type";break;case T.invalid_date:n="Invalid date";break;case T.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:K.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case T.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case T.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case T.custom:n="Invalid input";break;case T.invalid_intersection_types:n="Intersection results could not be merged";break;case T.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case T.not_finite:n="Number must be finite";break;default:n=e.defaultError,K.assertNever(t)}return{message:n}};let Bu=Ht;function cx(t){Bu=t}function hr(){return Bu}const pr=t=>{const{data:e,path:n,errorMaps:r,issueData:s}=t,i=[...n,...s.path||[]],a={...s,path:i};if(s.message!==void 0)return{...s,path:i,message:s.message};let o="";const u=r.filter(l=>!!l).slice().reverse();for(const l of u)o=l(a,{data:e,defaultError:o}).message;return{...s,path:i,message:o}},fx=[];function $(t,e){const n=hr(),r=pr({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,n,n===Ht?void 0:Ht].filter(s=>!!s)});t.common.issues.push(r)}class he{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const r=[];for(const s of n){if(s.status==="aborted")return U;s.status==="dirty"&&e.dirty(),r.push(s.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,n){const r=[];for(const s of n){const i=await s.key,a=await s.value;r.push({key:i,value:a})}return he.mergeObjectSync(e,r)}static mergeObjectSync(e,n){const r={};for(const s of n){const{key:i,value:a}=s;if(i.status==="aborted"||a.status==="aborted")return U;i.status==="dirty"&&e.dirty(),a.status==="dirty"&&e.dirty(),i.value!=="__proto__"&&(typeof a.value<"u"||s.alwaysSet)&&(r[i.value]=a.value)}return{status:e.value,value:r}}}const U=Object.freeze({status:"aborted"}),Ut=t=>({status:"dirty",value:t}),pe=t=>({status:"valid",value:t}),ti=t=>t.status==="aborted",ni=t=>t.status==="dirty",_n=t=>t.status==="valid",Sn=t=>typeof Promise<"u"&&t instanceof Promise;function gr(t,e,n,r){if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e.get(t)}function Hu(t,e,n,r,s){if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(t,n),n}var I;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e?.message})(I||(I={}));var gn,mn;class De{constructor(e,n,r,s){this._cachedPath=[],this.parent=e,this.data=n,this._path=r,this._key=s}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const Ja=(t,e)=>{if(_n(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new me(t.common.issues);return this._error=n,this._error}}};function H(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:r,description:s}=t;if(e&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:s}:{errorMap:(a,o)=>{var u,l;const{message:c}=t;return a.code==="invalid_enum_value"?{message:c??o.defaultError}:typeof o.data>"u"?{message:(u=c??r)!==null&&u!==void 0?u:o.defaultError}:a.code!=="invalid_type"?{message:o.defaultError}:{message:(l=c??n)!==null&&l!==void 0?l:o.defaultError}},description:s}}class Z{constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return rt(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:rt(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new he,ctx:{common:e.parent.common,data:e.data,parsedType:rt(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(Sn(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const r=this.safeParse(e,n);if(r.success)return r.data;throw r.error}safeParse(e,n){var r;const s={common:{issues:[],async:(r=n?.async)!==null&&r!==void 0?r:!1,contextualErrorMap:n?.errorMap},path:n?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:rt(e)},i=this._parseSync({data:e,path:s.path,parent:s});return Ja(s,i)}async parseAsync(e,n){const r=await this.safeParseAsync(e,n);if(r.success)return r.data;throw r.error}async safeParseAsync(e,n){const r={common:{issues:[],contextualErrorMap:n?.errorMap,async:!0},path:n?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:rt(e)},s=this._parse({data:e,path:r.path,parent:r}),i=await(Sn(s)?s:Promise.resolve(s));return Ja(r,i)}refine(e,n){const r=s=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(s):n;return this._refinement((s,i)=>{const a=e(s),o=()=>i.addIssue({code:T.custom,...r(s)});return typeof Promise<"u"&&a instanceof Promise?a.then(u=>u?!0:(o(),!1)):a?!0:(o(),!1)})}refinement(e,n){return this._refinement((r,s)=>e(r)?!0:(s.addIssue(typeof n=="function"?n(r,s):n),!1))}_refinement(e){return new $e({schema:this,typeName:j.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}optional(){return Ne.create(this,this._def)}nullable(){return ct.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Ce.create(this,this._def)}promise(){return Vt.create(this,this._def)}or(e){return Cn.create([this,e],this._def)}and(e){return An.create(this,e,this._def)}transform(e){return new $e({...H(this._def),schema:this,typeName:j.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new In({...H(this._def),innerType:this,defaultValue:n,typeName:j.ZodDefault})}brand(){return new ji({typeName:j.ZodBranded,type:this,...H(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new Ln({...H(this._def),innerType:this,catchValue:n,typeName:j.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return Zn.create(this,e)}readonly(){return Nn.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const dx=/^c[^\s-]{8,}$/i,hx=/^[0-9a-z]+$/,px=/^[0-9A-HJKMNP-TV-Z]{26}$/,gx=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,mx=/^[a-z0-9_-]{21}$/i,yx=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,bx=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,vx="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let ms;const wx=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,xx=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,_x=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,Zu="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",Sx=new RegExp(`^${Zu}$`);function Vu(t){let e="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`),e}function Ex(t){return new RegExp(`^${Vu(t)}$`)}function zu(t){let e=`${Zu}T${Vu(t)}`;const n=[];return n.push(t.local?"Z?":"Z"),t.offset&&n.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${n.join("|")})`,new RegExp(`^${e}$`)}function Ox(t,e){return!!((e==="v4"||!e)&&wx.test(t)||(e==="v6"||!e)&&xx.test(t))}class Oe extends Z{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==k.string){const i=this._getOrReturnCtx(e);return $(i,{code:T.invalid_type,expected:k.string,received:i.parsedType}),U}const r=new he;let s;for(const i of this._def.checks)if(i.kind==="min")e.data.length<i.value&&(s=this._getOrReturnCtx(e,s),$(s,{code:T.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="max")e.data.length>i.value&&(s=this._getOrReturnCtx(e,s),$(s,{code:T.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="length"){const a=e.data.length>i.value,o=e.data.length<i.value;(a||o)&&(s=this._getOrReturnCtx(e,s),a?$(s,{code:T.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):o&&$(s,{code:T.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),r.dirty())}else if(i.kind==="email")bx.test(e.data)||(s=this._getOrReturnCtx(e,s),$(s,{validation:"email",code:T.invalid_string,message:i.message}),r.dirty());else if(i.kind==="emoji")ms||(ms=new RegExp(vx,"u")),ms.test(e.data)||(s=this._getOrReturnCtx(e,s),$(s,{validation:"emoji",code:T.invalid_string,message:i.message}),r.dirty());else if(i.kind==="uuid")gx.test(e.data)||(s=this._getOrReturnCtx(e,s),$(s,{validation:"uuid",code:T.invalid_string,message:i.message}),r.dirty());else if(i.kind==="nanoid")mx.test(e.data)||(s=this._getOrReturnCtx(e,s),$(s,{validation:"nanoid",code:T.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid")dx.test(e.data)||(s=this._getOrReturnCtx(e,s),$(s,{validation:"cuid",code:T.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid2")hx.test(e.data)||(s=this._getOrReturnCtx(e,s),$(s,{validation:"cuid2",code:T.invalid_string,message:i.message}),r.dirty());else if(i.kind==="ulid")px.test(e.data)||(s=this._getOrReturnCtx(e,s),$(s,{validation:"ulid",code:T.invalid_string,message:i.message}),r.dirty());else if(i.kind==="url")try{new URL(e.data)}catch{s=this._getOrReturnCtx(e,s),$(s,{validation:"url",code:T.invalid_string,message:i.message}),r.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(e.data)||(s=this._getOrReturnCtx(e,s),$(s,{validation:"regex",code:T.invalid_string,message:i.message}),r.dirty())):i.kind==="trim"?e.data=e.data.trim():i.kind==="includes"?e.data.includes(i.value,i.position)||(s=this._getOrReturnCtx(e,s),$(s,{code:T.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),r.dirty()):i.kind==="toLowerCase"?e.data=e.data.toLowerCase():i.kind==="toUpperCase"?e.data=e.data.toUpperCase():i.kind==="startsWith"?e.data.startsWith(i.value)||(s=this._getOrReturnCtx(e,s),$(s,{code:T.invalid_string,validation:{startsWith:i.value},message:i.message}),r.dirty()):i.kind==="endsWith"?e.data.endsWith(i.value)||(s=this._getOrReturnCtx(e,s),$(s,{code:T.invalid_string,validation:{endsWith:i.value},message:i.message}),r.dirty()):i.kind==="datetime"?zu(i).test(e.data)||(s=this._getOrReturnCtx(e,s),$(s,{code:T.invalid_string,validation:"datetime",message:i.message}),r.dirty()):i.kind==="date"?Sx.test(e.data)||(s=this._getOrReturnCtx(e,s),$(s,{code:T.invalid_string,validation:"date",message:i.message}),r.dirty()):i.kind==="time"?Ex(i).test(e.data)||(s=this._getOrReturnCtx(e,s),$(s,{code:T.invalid_string,validation:"time",message:i.message}),r.dirty()):i.kind==="duration"?yx.test(e.data)||(s=this._getOrReturnCtx(e,s),$(s,{validation:"duration",code:T.invalid_string,message:i.message}),r.dirty()):i.kind==="ip"?Ox(e.data,i.version)||(s=this._getOrReturnCtx(e,s),$(s,{validation:"ip",code:T.invalid_string,message:i.message}),r.dirty()):i.kind==="base64"?_x.test(e.data)||(s=this._getOrReturnCtx(e,s),$(s,{validation:"base64",code:T.invalid_string,message:i.message}),r.dirty()):K.assertNever(i);return{status:r.value,value:e.data}}_regex(e,n,r){return this.refinement(s=>e.test(s),{validation:n,code:T.invalid_string,...I.errToObj(r)})}_addCheck(e){return new Oe({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...I.errToObj(e)})}url(e){return this._addCheck({kind:"url",...I.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...I.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...I.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...I.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...I.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...I.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...I.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...I.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...I.errToObj(e)})}datetime(e){var n,r;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof e?.precision>"u"?null:e?.precision,offset:(n=e?.offset)!==null&&n!==void 0?n:!1,local:(r=e?.local)!==null&&r!==void 0?r:!1,...I.errToObj(e?.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof e?.precision>"u"?null:e?.precision,...I.errToObj(e?.message)})}duration(e){return this._addCheck({kind:"duration",...I.errToObj(e)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...I.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n?.position,...I.errToObj(n?.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...I.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...I.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...I.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...I.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,...I.errToObj(n)})}nonempty(e){return this.min(1,I.errToObj(e))}trim(){return new Oe({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Oe({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Oe({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}Oe.create=t=>{var e;return new Oe({checks:[],typeName:j.ZodString,coerce:(e=t?.coerce)!==null&&e!==void 0?e:!1,...H(t)})};function Tx(t,e){const n=(t.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,s=n>r?n:r,i=parseInt(t.toFixed(s).replace(".","")),a=parseInt(e.toFixed(s).replace(".",""));return i%a/Math.pow(10,s)}class ot extends Z{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==k.number){const i=this._getOrReturnCtx(e);return $(i,{code:T.invalid_type,expected:k.number,received:i.parsedType}),U}let r;const s=new he;for(const i of this._def.checks)i.kind==="int"?K.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),$(r,{code:T.invalid_type,expected:"integer",received:"float",message:i.message}),s.dirty()):i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(r=this._getOrReturnCtx(e,r),$(r,{code:T.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(r=this._getOrReturnCtx(e,r),$(r,{code:T.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="multipleOf"?Tx(e.data,i.value)!==0&&(r=this._getOrReturnCtx(e,r),$(r,{code:T.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):i.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),$(r,{code:T.not_finite,message:i.message}),s.dirty()):K.assertNever(i);return{status:s.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,I.toString(n))}gt(e,n){return this.setLimit("min",e,!1,I.toString(n))}lte(e,n){return this.setLimit("max",e,!0,I.toString(n))}lt(e,n){return this.setLimit("max",e,!1,I.toString(n))}setLimit(e,n,r,s){return new ot({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:I.toString(s)}]})}_addCheck(e){return new ot({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:I.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:I.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:I.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:I.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:I.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:I.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:I.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:I.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:I.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&K.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(n)&&Number.isFinite(e)}}ot.create=t=>new ot({checks:[],typeName:j.ZodNumber,coerce:t?.coerce||!1,...H(t)});class ut extends Z{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce&&(e.data=BigInt(e.data)),this._getType(e)!==k.bigint){const i=this._getOrReturnCtx(e);return $(i,{code:T.invalid_type,expected:k.bigint,received:i.parsedType}),U}let r;const s=new he;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(r=this._getOrReturnCtx(e,r),$(r,{code:T.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(r=this._getOrReturnCtx(e,r),$(r,{code:T.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="multipleOf"?e.data%i.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),$(r,{code:T.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):K.assertNever(i);return{status:s.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,I.toString(n))}gt(e,n){return this.setLimit("min",e,!1,I.toString(n))}lte(e,n){return this.setLimit("max",e,!0,I.toString(n))}lt(e,n){return this.setLimit("max",e,!1,I.toString(n))}setLimit(e,n,r,s){return new ut({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:I.toString(s)}]})}_addCheck(e){return new ut({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:I.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:I.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:I.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:I.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:I.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}ut.create=t=>{var e;return new ut({checks:[],typeName:j.ZodBigInt,coerce:(e=t?.coerce)!==null&&e!==void 0?e:!1,...H(t)})};class En extends Z{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==k.boolean){const r=this._getOrReturnCtx(e);return $(r,{code:T.invalid_type,expected:k.boolean,received:r.parsedType}),U}return pe(e.data)}}En.create=t=>new En({typeName:j.ZodBoolean,coerce:t?.coerce||!1,...H(t)});class Et extends Z{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==k.date){const i=this._getOrReturnCtx(e);return $(i,{code:T.invalid_type,expected:k.date,received:i.parsedType}),U}if(isNaN(e.data.getTime())){const i=this._getOrReturnCtx(e);return $(i,{code:T.invalid_date}),U}const r=new he;let s;for(const i of this._def.checks)i.kind==="min"?e.data.getTime()<i.value&&(s=this._getOrReturnCtx(e,s),$(s,{code:T.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),r.dirty()):i.kind==="max"?e.data.getTime()>i.value&&(s=this._getOrReturnCtx(e,s),$(s,{code:T.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),r.dirty()):K.assertNever(i);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Et({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:I.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:I.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}Et.create=t=>new Et({checks:[],coerce:t?.coerce||!1,typeName:j.ZodDate,...H(t)});class mr extends Z{_parse(e){if(this._getType(e)!==k.symbol){const r=this._getOrReturnCtx(e);return $(r,{code:T.invalid_type,expected:k.symbol,received:r.parsedType}),U}return pe(e.data)}}mr.create=t=>new mr({typeName:j.ZodSymbol,...H(t)});class On extends Z{_parse(e){if(this._getType(e)!==k.undefined){const r=this._getOrReturnCtx(e);return $(r,{code:T.invalid_type,expected:k.undefined,received:r.parsedType}),U}return pe(e.data)}}On.create=t=>new On({typeName:j.ZodUndefined,...H(t)});class Tn extends Z{_parse(e){if(this._getType(e)!==k.null){const r=this._getOrReturnCtx(e);return $(r,{code:T.invalid_type,expected:k.null,received:r.parsedType}),U}return pe(e.data)}}Tn.create=t=>new Tn({typeName:j.ZodNull,...H(t)});class Zt extends Z{constructor(){super(...arguments),this._any=!0}_parse(e){return pe(e.data)}}Zt.create=t=>new Zt({typeName:j.ZodAny,...H(t)});class xt extends Z{constructor(){super(...arguments),this._unknown=!0}_parse(e){return pe(e.data)}}xt.create=t=>new xt({typeName:j.ZodUnknown,...H(t)});class ze extends Z{_parse(e){const n=this._getOrReturnCtx(e);return $(n,{code:T.invalid_type,expected:k.never,received:n.parsedType}),U}}ze.create=t=>new ze({typeName:j.ZodNever,...H(t)});class yr extends Z{_parse(e){if(this._getType(e)!==k.undefined){const r=this._getOrReturnCtx(e);return $(r,{code:T.invalid_type,expected:k.void,received:r.parsedType}),U}return pe(e.data)}}yr.create=t=>new yr({typeName:j.ZodVoid,...H(t)});class Ce extends Z{_parse(e){const{ctx:n,status:r}=this._processInputParams(e),s=this._def;if(n.parsedType!==k.array)return $(n,{code:T.invalid_type,expected:k.array,received:n.parsedType}),U;if(s.exactLength!==null){const a=n.data.length>s.exactLength.value,o=n.data.length<s.exactLength.value;(a||o)&&($(n,{code:a?T.too_big:T.too_small,minimum:o?s.exactLength.value:void 0,maximum:a?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),r.dirty())}if(s.minLength!==null&&n.data.length<s.minLength.value&&($(n,{code:T.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),r.dirty()),s.maxLength!==null&&n.data.length>s.maxLength.value&&($(n,{code:T.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((a,o)=>s.type._parseAsync(new De(n,a,n.path,o)))).then(a=>he.mergeArray(r,a));const i=[...n.data].map((a,o)=>s.type._parseSync(new De(n,a,n.path,o)));return he.mergeArray(r,i)}get element(){return this._def.type}min(e,n){return new Ce({...this._def,minLength:{value:e,message:I.toString(n)}})}max(e,n){return new Ce({...this._def,maxLength:{value:e,message:I.toString(n)}})}length(e,n){return new Ce({...this._def,exactLength:{value:e,message:I.toString(n)}})}nonempty(e){return this.min(1,e)}}Ce.create=(t,e)=>new Ce({type:t,minLength:null,maxLength:null,exactLength:null,typeName:j.ZodArray,...H(e)});function jt(t){if(t instanceof ee){const e={};for(const n in t.shape){const r=t.shape[n];e[n]=Ne.create(jt(r))}return new ee({...t._def,shape:()=>e})}else return t instanceof Ce?new Ce({...t._def,type:jt(t.element)}):t instanceof Ne?Ne.create(jt(t.unwrap())):t instanceof ct?ct.create(jt(t.unwrap())):t instanceof Me?Me.create(t.items.map(e=>jt(e))):t}class ee extends Z{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=K.objectKeys(e);return this._cached={shape:e,keys:n}}_parse(e){if(this._getType(e)!==k.object){const l=this._getOrReturnCtx(e);return $(l,{code:T.invalid_type,expected:k.object,received:l.parsedType}),U}const{status:r,ctx:s}=this._processInputParams(e),{shape:i,keys:a}=this._getCached(),o=[];if(!(this._def.catchall instanceof ze&&this._def.unknownKeys==="strip"))for(const l in s.data)a.includes(l)||o.push(l);const u=[];for(const l of a){const c=i[l],f=s.data[l];u.push({key:{status:"valid",value:l},value:c._parse(new De(s,f,s.path,l)),alwaysSet:l in s.data})}if(this._def.catchall instanceof ze){const l=this._def.unknownKeys;if(l==="passthrough")for(const c of o)u.push({key:{status:"valid",value:c},value:{status:"valid",value:s.data[c]}});else if(l==="strict")o.length>0&&($(s,{code:T.unrecognized_keys,keys:o}),r.dirty());else if(l!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const l=this._def.catchall;for(const c of o){const f=s.data[c];u.push({key:{status:"valid",value:c},value:l._parse(new De(s,f,s.path,c)),alwaysSet:c in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const l=[];for(const c of u){const f=await c.key,d=await c.value;l.push({key:f,value:d,alwaysSet:c.alwaysSet})}return l}).then(l=>he.mergeObjectSync(r,l)):he.mergeObjectSync(r,u)}get shape(){return this._def.shape()}strict(e){return I.errToObj,new ee({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,r)=>{var s,i,a,o;const u=(a=(i=(s=this._def).errorMap)===null||i===void 0?void 0:i.call(s,n,r).message)!==null&&a!==void 0?a:r.defaultError;return n.code==="unrecognized_keys"?{message:(o=I.errToObj(e).message)!==null&&o!==void 0?o:u}:{message:u}}}:{}})}strip(){return new ee({...this._def,unknownKeys:"strip"})}passthrough(){return new ee({...this._def,unknownKeys:"passthrough"})}extend(e){return new ee({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new ee({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:j.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new ee({...this._def,catchall:e})}pick(e){const n={};return K.objectKeys(e).forEach(r=>{e[r]&&this.shape[r]&&(n[r]=this.shape[r])}),new ee({...this._def,shape:()=>n})}omit(e){const n={};return K.objectKeys(this.shape).forEach(r=>{e[r]||(n[r]=this.shape[r])}),new ee({...this._def,shape:()=>n})}deepPartial(){return jt(this)}partial(e){const n={};return K.objectKeys(this.shape).forEach(r=>{const s=this.shape[r];e&&!e[r]?n[r]=s:n[r]=s.optional()}),new ee({...this._def,shape:()=>n})}required(e){const n={};return K.objectKeys(this.shape).forEach(r=>{if(e&&!e[r])n[r]=this.shape[r];else{let i=this.shape[r];for(;i instanceof Ne;)i=i._def.innerType;n[r]=i}}),new ee({...this._def,shape:()=>n})}keyof(){return Ku(K.objectKeys(this.shape))}}ee.create=(t,e)=>new ee({shape:()=>t,unknownKeys:"strip",catchall:ze.create(),typeName:j.ZodObject,...H(e)});ee.strictCreate=(t,e)=>new ee({shape:()=>t,unknownKeys:"strict",catchall:ze.create(),typeName:j.ZodObject,...H(e)});ee.lazycreate=(t,e)=>new ee({shape:t,unknownKeys:"strip",catchall:ze.create(),typeName:j.ZodObject,...H(e)});class Cn extends Z{_parse(e){const{ctx:n}=this._processInputParams(e),r=this._def.options;function s(i){for(const o of i)if(o.result.status==="valid")return o.result;for(const o of i)if(o.result.status==="dirty")return n.common.issues.push(...o.ctx.common.issues),o.result;const a=i.map(o=>new me(o.ctx.common.issues));return $(n,{code:T.invalid_union,unionErrors:a}),U}if(n.common.async)return Promise.all(r.map(async i=>{const a={...n,common:{...n.common,issues:[]},parent:null};return{result:await i._parseAsync({data:n.data,path:n.path,parent:a}),ctx:a}})).then(s);{let i;const a=[];for(const u of r){const l={...n,common:{...n.common,issues:[]},parent:null},c=u._parseSync({data:n.data,path:n.path,parent:l});if(c.status==="valid")return c;c.status==="dirty"&&!i&&(i={result:c,ctx:l}),l.common.issues.length&&a.push(l.common.issues)}if(i)return n.common.issues.push(...i.ctx.common.issues),i.result;const o=a.map(u=>new me(u));return $(n,{code:T.invalid_union,unionErrors:o}),U}}get options(){return this._def.options}}Cn.create=(t,e)=>new Cn({options:t,typeName:j.ZodUnion,...H(e)});const He=t=>t instanceof kn?He(t.schema):t instanceof $e?He(t.innerType()):t instanceof Rn?[t.value]:t instanceof lt?t.options:t instanceof Pn?K.objectValues(t.enum):t instanceof In?He(t._def.innerType):t instanceof On?[void 0]:t instanceof Tn?[null]:t instanceof Ne?[void 0,...He(t.unwrap())]:t instanceof ct?[null,...He(t.unwrap())]:t instanceof ji||t instanceof Nn?He(t.unwrap()):t instanceof Ln?He(t._def.innerType):[];class Gr extends Z{_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==k.object)return $(n,{code:T.invalid_type,expected:k.object,received:n.parsedType}),U;const r=this.discriminator,s=n.data[r],i=this.optionsMap.get(s);return i?n.common.async?i._parseAsync({data:n.data,path:n.path,parent:n}):i._parseSync({data:n.data,path:n.path,parent:n}):($(n,{code:T.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),U)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,n,r){const s=new Map;for(const i of n){const a=He(i.shape[e]);if(!a.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const o of a){if(s.has(o))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(o)}`);s.set(o,i)}}return new Gr({typeName:j.ZodDiscriminatedUnion,discriminator:e,options:n,optionsMap:s,...H(r)})}}function ri(t,e){const n=rt(t),r=rt(e);if(t===e)return{valid:!0,data:t};if(n===k.object&&r===k.object){const s=K.objectKeys(e),i=K.objectKeys(t).filter(o=>s.indexOf(o)!==-1),a={...t,...e};for(const o of i){const u=ri(t[o],e[o]);if(!u.valid)return{valid:!1};a[o]=u.data}return{valid:!0,data:a}}else if(n===k.array&&r===k.array){if(t.length!==e.length)return{valid:!1};const s=[];for(let i=0;i<t.length;i++){const a=t[i],o=e[i],u=ri(a,o);if(!u.valid)return{valid:!1};s.push(u.data)}return{valid:!0,data:s}}else return n===k.date&&r===k.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class An extends Z{_parse(e){const{status:n,ctx:r}=this._processInputParams(e),s=(i,a)=>{if(ti(i)||ti(a))return U;const o=ri(i.value,a.value);return o.valid?((ni(i)||ni(a))&&n.dirty(),{status:n.value,value:o.data}):($(r,{code:T.invalid_intersection_types}),U)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([i,a])=>s(i,a)):s(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}An.create=(t,e,n)=>new An({left:t,right:e,typeName:j.ZodIntersection,...H(n)});class Me extends Z{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==k.array)return $(r,{code:T.invalid_type,expected:k.array,received:r.parsedType}),U;if(r.data.length<this._def.items.length)return $(r,{code:T.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),U;!this._def.rest&&r.data.length>this._def.items.length&&($(r,{code:T.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const i=[...r.data].map((a,o)=>{const u=this._def.items[o]||this._def.rest;return u?u._parse(new De(r,a,r.path,o)):null}).filter(a=>!!a);return r.common.async?Promise.all(i).then(a=>he.mergeArray(n,a)):he.mergeArray(n,i)}get items(){return this._def.items}rest(e){return new Me({...this._def,rest:e})}}Me.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Me({items:t,typeName:j.ZodTuple,rest:null,...H(e)})};class $n extends Z{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==k.object)return $(r,{code:T.invalid_type,expected:k.object,received:r.parsedType}),U;const s=[],i=this._def.keyType,a=this._def.valueType;for(const o in r.data)s.push({key:i._parse(new De(r,o,r.path,o)),value:a._parse(new De(r,r.data[o],r.path,o)),alwaysSet:o in r.data});return r.common.async?he.mergeObjectAsync(n,s):he.mergeObjectSync(n,s)}get element(){return this._def.valueType}static create(e,n,r){return n instanceof Z?new $n({keyType:e,valueType:n,typeName:j.ZodRecord,...H(r)}):new $n({keyType:Oe.create(),valueType:e,typeName:j.ZodRecord,...H(n)})}}class br extends Z{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==k.map)return $(r,{code:T.invalid_type,expected:k.map,received:r.parsedType}),U;const s=this._def.keyType,i=this._def.valueType,a=[...r.data.entries()].map(([o,u],l)=>({key:s._parse(new De(r,o,r.path,[l,"key"])),value:i._parse(new De(r,u,r.path,[l,"value"]))}));if(r.common.async){const o=new Map;return Promise.resolve().then(async()=>{for(const u of a){const l=await u.key,c=await u.value;if(l.status==="aborted"||c.status==="aborted")return U;(l.status==="dirty"||c.status==="dirty")&&n.dirty(),o.set(l.value,c.value)}return{status:n.value,value:o}})}else{const o=new Map;for(const u of a){const l=u.key,c=u.value;if(l.status==="aborted"||c.status==="aborted")return U;(l.status==="dirty"||c.status==="dirty")&&n.dirty(),o.set(l.value,c.value)}return{status:n.value,value:o}}}}br.create=(t,e,n)=>new br({valueType:e,keyType:t,typeName:j.ZodMap,...H(n)});class Ot extends Z{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==k.set)return $(r,{code:T.invalid_type,expected:k.set,received:r.parsedType}),U;const s=this._def;s.minSize!==null&&r.data.size<s.minSize.value&&($(r,{code:T.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),n.dirty()),s.maxSize!==null&&r.data.size>s.maxSize.value&&($(r,{code:T.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),n.dirty());const i=this._def.valueType;function a(u){const l=new Set;for(const c of u){if(c.status==="aborted")return U;c.status==="dirty"&&n.dirty(),l.add(c.value)}return{status:n.value,value:l}}const o=[...r.data.values()].map((u,l)=>i._parse(new De(r,u,r.path,l)));return r.common.async?Promise.all(o).then(u=>a(u)):a(o)}min(e,n){return new Ot({...this._def,minSize:{value:e,message:I.toString(n)}})}max(e,n){return new Ot({...this._def,maxSize:{value:e,message:I.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}Ot.create=(t,e)=>new Ot({valueType:t,minSize:null,maxSize:null,typeName:j.ZodSet,...H(e)});class Ft extends Z{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==k.function)return $(n,{code:T.invalid_type,expected:k.function,received:n.parsedType}),U;function r(o,u){return pr({data:o,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,hr(),Ht].filter(l=>!!l),issueData:{code:T.invalid_arguments,argumentsError:u}})}function s(o,u){return pr({data:o,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,hr(),Ht].filter(l=>!!l),issueData:{code:T.invalid_return_type,returnTypeError:u}})}const i={errorMap:n.common.contextualErrorMap},a=n.data;if(this._def.returns instanceof Vt){const o=this;return pe(async function(...u){const l=new me([]),c=await o._def.args.parseAsync(u,i).catch(p=>{throw l.addIssue(r(u,p)),l}),f=await Reflect.apply(a,this,c);return await o._def.returns._def.type.parseAsync(f,i).catch(p=>{throw l.addIssue(s(f,p)),l})})}else{const o=this;return pe(function(...u){const l=o._def.args.safeParse(u,i);if(!l.success)throw new me([r(u,l.error)]);const c=Reflect.apply(a,this,l.data),f=o._def.returns.safeParse(c,i);if(!f.success)throw new me([s(c,f.error)]);return f.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new Ft({...this._def,args:Me.create(e).rest(xt.create())})}returns(e){return new Ft({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,n,r){return new Ft({args:e||Me.create([]).rest(xt.create()),returns:n||xt.create(),typeName:j.ZodFunction,...H(r)})}}class kn extends Z{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}kn.create=(t,e)=>new kn({getter:t,typeName:j.ZodLazy,...H(e)});class Rn extends Z{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return $(n,{received:n.data,code:T.invalid_literal,expected:this._def.value}),U}return{status:"valid",value:e.data}}get value(){return this._def.value}}Rn.create=(t,e)=>new Rn({value:t,typeName:j.ZodLiteral,...H(e)});function Ku(t,e){return new lt({values:t,typeName:j.ZodEnum,...H(e)})}class lt extends Z{constructor(){super(...arguments),gn.set(this,void 0)}_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),r=this._def.values;return $(n,{expected:K.joinValues(r),received:n.parsedType,code:T.invalid_type}),U}if(gr(this,gn)||Hu(this,gn,new Set(this._def.values)),!gr(this,gn).has(e.data)){const n=this._getOrReturnCtx(e),r=this._def.values;return $(n,{received:n.data,code:T.invalid_enum_value,options:r}),U}return pe(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e,n=this._def){return lt.create(e,{...this._def,...n})}exclude(e,n=this._def){return lt.create(this.options.filter(r=>!e.includes(r)),{...this._def,...n})}}gn=new WeakMap;lt.create=Ku;class Pn extends Z{constructor(){super(...arguments),mn.set(this,void 0)}_parse(e){const n=K.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==k.string&&r.parsedType!==k.number){const s=K.objectValues(n);return $(r,{expected:K.joinValues(s),received:r.parsedType,code:T.invalid_type}),U}if(gr(this,mn)||Hu(this,mn,new Set(K.getValidEnumValues(this._def.values))),!gr(this,mn).has(e.data)){const s=K.objectValues(n);return $(r,{received:r.data,code:T.invalid_enum_value,options:s}),U}return pe(e.data)}get enum(){return this._def.values}}mn=new WeakMap;Pn.create=(t,e)=>new Pn({values:t,typeName:j.ZodNativeEnum,...H(e)});class Vt extends Z{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==k.promise&&n.common.async===!1)return $(n,{code:T.invalid_type,expected:k.promise,received:n.parsedType}),U;const r=n.parsedType===k.promise?n.data:Promise.resolve(n.data);return pe(r.then(s=>this._def.type.parseAsync(s,{path:n.path,errorMap:n.common.contextualErrorMap})))}}Vt.create=(t,e)=>new Vt({type:t,typeName:j.ZodPromise,...H(e)});class $e extends Z{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===j.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:r}=this._processInputParams(e),s=this._def.effect||null,i={addIssue:a=>{$(r,a),a.fatal?n.abort():n.dirty()},get path(){return r.path}};if(i.addIssue=i.addIssue.bind(i),s.type==="preprocess"){const a=s.transform(r.data,i);if(r.common.async)return Promise.resolve(a).then(async o=>{if(n.value==="aborted")return U;const u=await this._def.schema._parseAsync({data:o,path:r.path,parent:r});return u.status==="aborted"?U:u.status==="dirty"||n.value==="dirty"?Ut(u.value):u});{if(n.value==="aborted")return U;const o=this._def.schema._parseSync({data:a,path:r.path,parent:r});return o.status==="aborted"?U:o.status==="dirty"||n.value==="dirty"?Ut(o.value):o}}if(s.type==="refinement"){const a=o=>{const u=s.refinement(o,i);if(r.common.async)return Promise.resolve(u);if(u instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return o};if(r.common.async===!1){const o=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return o.status==="aborted"?U:(o.status==="dirty"&&n.dirty(),a(o.value),{status:n.value,value:o.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(o=>o.status==="aborted"?U:(o.status==="dirty"&&n.dirty(),a(o.value).then(()=>({status:n.value,value:o.value}))))}if(s.type==="transform")if(r.common.async===!1){const a=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!_n(a))return a;const o=s.transform(a.value,i);if(o instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:o}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(a=>_n(a)?Promise.resolve(s.transform(a.value,i)).then(o=>({status:n.value,value:o})):a);K.assertNever(s)}}$e.create=(t,e,n)=>new $e({schema:t,typeName:j.ZodEffects,effect:e,...H(n)});$e.createWithPreprocess=(t,e,n)=>new $e({schema:e,effect:{type:"preprocess",transform:t},typeName:j.ZodEffects,...H(n)});class Ne extends Z{_parse(e){return this._getType(e)===k.undefined?pe(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Ne.create=(t,e)=>new Ne({innerType:t,typeName:j.ZodOptional,...H(e)});class ct extends Z{_parse(e){return this._getType(e)===k.null?pe(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}ct.create=(t,e)=>new ct({innerType:t,typeName:j.ZodNullable,...H(e)});class In extends Z{_parse(e){const{ctx:n}=this._processInputParams(e);let r=n.data;return n.parsedType===k.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}In.create=(t,e)=>new In({innerType:t,typeName:j.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...H(e)});class Ln extends Z{_parse(e){const{ctx:n}=this._processInputParams(e),r={...n,common:{...n.common,issues:[]}},s=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return Sn(s)?s.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new me(r.common.issues)},input:r.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new me(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}Ln.create=(t,e)=>new Ln({innerType:t,typeName:j.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...H(e)});class vr extends Z{_parse(e){if(this._getType(e)!==k.nan){const r=this._getOrReturnCtx(e);return $(r,{code:T.invalid_type,expected:k.nan,received:r.parsedType}),U}return{status:"valid",value:e.data}}}vr.create=t=>new vr({typeName:j.ZodNaN,...H(t)});const Cx=Symbol("zod_brand");class ji extends Z{_parse(e){const{ctx:n}=this._processInputParams(e),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class Zn extends Z{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?U:i.status==="dirty"?(n.dirty(),Ut(i.value)):this._def.out._parseAsync({data:i.value,path:r.path,parent:r})})();{const s=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?U:s.status==="dirty"?(n.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:r.path,parent:r})}}static create(e,n){return new Zn({in:e,out:n,typeName:j.ZodPipeline})}}class Nn extends Z{_parse(e){const n=this._def.innerType._parse(e),r=s=>(_n(s)&&(s.value=Object.freeze(s.value)),s);return Sn(n)?n.then(s=>r(s)):r(n)}unwrap(){return this._def.innerType}}Nn.create=(t,e)=>new Nn({innerType:t,typeName:j.ZodReadonly,...H(e)});function qu(t,e={},n){return t?Zt.create().superRefine((r,s)=>{var i,a;if(!t(r)){const o=typeof e=="function"?e(r):typeof e=="string"?{message:e}:e,u=(a=(i=o.fatal)!==null&&i!==void 0?i:n)!==null&&a!==void 0?a:!0,l=typeof o=="string"?{message:o}:o;s.addIssue({code:"custom",...l,fatal:u})}}):Zt.create()}const Ax={object:ee.lazycreate};var j;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(j||(j={}));const $x=(t,e={message:`Input not instance of ${t.name}`})=>qu(n=>n instanceof t,e),Gu=Oe.create,Wu=ot.create,kx=vr.create,Rx=ut.create,Qu=En.create,Px=Et.create,Ix=mr.create,Lx=On.create,Nx=Tn.create,jx=Zt.create,Ux=xt.create,Dx=ze.create,Mx=yr.create,Fx=Ce.create,Bx=ee.create,Hx=ee.strictCreate,Zx=Cn.create,Vx=Gr.create,zx=An.create,Kx=Me.create,qx=$n.create,Gx=br.create,Wx=Ot.create,Qx=Ft.create,Jx=kn.create,Yx=Rn.create,Xx=lt.create,e1=Pn.create,t1=Vt.create,Ya=$e.create,n1=Ne.create,r1=ct.create,s1=$e.createWithPreprocess,i1=Zn.create,a1=()=>Gu().optional(),o1=()=>Wu().optional(),u1=()=>Qu().optional(),l1={string:t=>Oe.create({...t,coerce:!0}),number:t=>ot.create({...t,coerce:!0}),boolean:t=>En.create({...t,coerce:!0}),bigint:t=>ut.create({...t,coerce:!0}),date:t=>Et.create({...t,coerce:!0})},c1=U;var E=Object.freeze({__proto__:null,defaultErrorMap:Ht,setErrorMap:cx,getErrorMap:hr,makeIssue:pr,EMPTY_PATH:fx,addIssueToContext:$,ParseStatus:he,INVALID:U,DIRTY:Ut,OK:pe,isAborted:ti,isDirty:ni,isValid:_n,isAsync:Sn,get util(){return K},get objectUtil(){return ei},ZodParsedType:k,getParsedType:rt,ZodType:Z,datetimeRegex:zu,ZodString:Oe,ZodNumber:ot,ZodBigInt:ut,ZodBoolean:En,ZodDate:Et,ZodSymbol:mr,ZodUndefined:On,ZodNull:Tn,ZodAny:Zt,ZodUnknown:xt,ZodNever:ze,ZodVoid:yr,ZodArray:Ce,ZodObject:ee,ZodUnion:Cn,ZodDiscriminatedUnion:Gr,ZodIntersection:An,ZodTuple:Me,ZodRecord:$n,ZodMap:br,ZodSet:Ot,ZodFunction:Ft,ZodLazy:kn,ZodLiteral:Rn,ZodEnum:lt,ZodNativeEnum:Pn,ZodPromise:Vt,ZodEffects:$e,ZodTransformer:$e,ZodOptional:Ne,ZodNullable:ct,ZodDefault:In,ZodCatch:Ln,ZodNaN:vr,BRAND:Cx,ZodBranded:ji,ZodPipeline:Zn,ZodReadonly:Nn,custom:qu,Schema:Z,ZodSchema:Z,late:Ax,get ZodFirstPartyTypeKind(){return j},coerce:l1,any:jx,array:Fx,bigint:Rx,boolean:Qu,date:Px,discriminatedUnion:Vx,effect:Ya,enum:Xx,function:Qx,instanceof:$x,intersection:zx,lazy:Jx,literal:Yx,map:Gx,nan:kx,nativeEnum:e1,never:Dx,null:Nx,nullable:r1,number:Wu,object:Bx,oboolean:u1,onumber:o1,optional:n1,ostring:a1,pipeline:i1,preprocess:s1,promise:t1,record:qx,set:Wx,strictObject:Hx,string:Gu,symbol:Ix,transformer:Ya,tuple:Kx,undefined:Lx,union:Zx,unknown:Ux,void:Mx,NEVER:c1,ZodIssueCode:T,quotelessJson:lx,ZodError:me});const ys={sakura:{id:"sakura",name:"Sakura",brightness:"light",className:"theme-sakura",rabbitIconPath:"images/rabbit_app_256.png"},cinnamon:{id:"cinnamon",name:"Cinnamon",brightness:"light",className:"theme-cinnamon",rabbitIconPath:"images/rabbit_muted_256.png"},yozakura:{id:"yozakura",name:"Yozakura",brightness:"dark",className:"theme-yozakura",rabbitIconPath:"images/rabbit_256.png"},"midnight-blue":{id:"midnight-blue",name:"Midnight Blue",brightness:"dark",className:"theme-midnight-blue",rabbitIconPath:"images/rabbit_muted_256.png"},black:{id:"black",name:"Black",brightness:"dark",className:"theme-black",rabbitIconPath:"images/rabbit_muted_256.png"}},f1=E.object({filterType:E.literal("AND"),children:E.array(E.lazy(()=>Wr))}),d1=E.object({filterType:E.literal("OR"),children:E.array(E.lazy(()=>Wr))}),h1=E.object({filterType:E.literal("NOT"),child:E.lazy(()=>Wr)}),p1=E.object({filterType:E.literal("Text"),text:E.string()}),g1=E.object({filterType:E.literal("Regex"),regex:E.string(),flag:E.string()}).refine(({regex:t,flag:e})=>{try{return new RegExp(t,e),!0}catch{return!1}}),Wr=E.union([f1,d1,h1,p1,g1]),bs=t=>e=>{switch(t.filterType){case"AND":return t.children.every(n=>bs(n)(e));case"OR":return t.children.some(n=>bs(n)(e));case"NOT":return!bs(t.child)(e);case"Text":return e.includes(t.text);case"Regex":return new RegExp(t.regex,t.flag).test(e);default:console.error("unsupported content filter type");break}return!1},m1=["wss://relay.damus.io","wss://nos.lol","wss://relay.snort.social","relay.nostr.wirednet.jp"],Ju=["wss://relay-jp.nostr.wirednet.jp","wss://nostr.holybea.com","wss://r.kojira.io","wss://yabu.me"],y1=[...Ju],$O=["wss://relay.nostr.band","wss://nostrja-kari-nip50.heguro.com","wss://search.nos.today"],b1=()=>{const t=[];if(window.crypto?.getRandomValues!=null){const s=crypto.getRandomValues(new Uint8Array(16));t.push(...s)}else for(let s=0;s<16;s+=1)t[s]=Math.round(Math.random()*65535)>>8;t[6]=t[6]&15|64,t[8]=t[8]&63|128;const e=String.fromCharCode(...t);return btoa(e).replaceAll("+","-").replaceAll("/","_").replaceAll("=","")},v1=t=>t.length>=2,w1=t=>{if(!v1(t))throw new Error("literals must have at least two elements");return E.union(t)},x1=["Replies","Repost","Reaction","Zap"],_1=w1(x1.map(t=>E.literal(t))),S1=E.union([E.literal("widest"),E.literal("wide"),E.literal("medium"),E.literal("narrow")]),dt=E.object({id:E.string(),name:E.string().optional(),width:S1,contentFilter:E.optional(Wr)}),E1=dt.extend({columnType:E.literal("Following"),pubkey:E.string()}),O1=dt.extend({columnType:E.literal("Notification"),pubkey:E.string(),notificationTypes:E.optional(E.array(_1))}),T1=dt.extend({columnType:E.literal("Posts"),pubkey:E.string()}),C1=dt.extend({columnType:E.literal("Reactions"),pubkey:E.string()}),A1=dt.extend({columnType:E.literal("Channel"),rootEventId:E.string()}),$1=dt.extend({columnType:E.literal("Relays"),relayUrls:E.array(E.string())}),k1=dt.extend({columnType:E.literal("Search"),query:E.string()}),R1=dt.extend({columnType:E.literal("Bookmark"),pubkey:E.string(),identifier:E.string()}),P1=E.union([E1,O1,T1,C1,A1,$1,k1,R1]),nn=()=>({id:b1(),width:"medium"}),I1=t=>({...nn(),columnType:"Following",...t}),L1=t=>({...nn(),columnType:"Notification",...t}),N1=t=>({...nn(),columnType:"Relays",...t}),j1=()=>N1({name:"",relayUrls:Ju,contentFilter:{filterType:"Regex",regex:"[\\p{sc=Hiragana}\\p{sc=Katakana}]",flag:"u"}}),U1=t=>({...nn(),columnType:"Posts",...t}),D1=t=>({...nn(),columnType:"Reactions",...t}),kO=t=>({...nn(),columnType:"Search",...t}),Yu=(t,e,n)=>{const r=t();return{getItem(s){const i=r.getItem(s);return i!=null?n(i):null},setItem(s,i){const a=e(i);r.setItem(s,a)}}},Xu=(t,e,n)=>{const[r,s]=fe(!1),[i,a]=vi(e);return Hl(()=>{const o=n.getItem(t);o!=null&&a(o),s(!0)}),qt(()=>{r()&&n.setItem(t,i)}),[i,a]},B=t=>typeof t=="string",on=()=>{let t,e;const n=new Promise((r,s)=>{t=r,e=s});return n.resolve=t,n.reject=e,n},Xa=t=>t==null?"":""+t,M1=(t,e,n)=>{t.forEach(r=>{e[r]&&(n[r]=e[r])})},F1=/###/g,eo=t=>t&&t.indexOf("###")>-1?t.replace(F1,"."):t,to=t=>!t||B(t),bn=(t,e,n)=>{const r=B(e)?e.split("."):e;let s=0;for(;s<r.length-1;){if(to(t))return{};const i=eo(r[s]);!t[i]&&n&&(t[i]=new n),Object.prototype.hasOwnProperty.call(t,i)?t=t[i]:t={},++s}return to(t)?{}:{obj:t,k:eo(r[s])}},no=(t,e,n)=>{const{obj:r,k:s}=bn(t,e,Object);if(r!==void 0||e.length===1){r[s]=n;return}let i=e[e.length-1],a=e.slice(0,e.length-1),o=bn(t,a,Object);for(;o.obj===void 0&&a.length;)i=`${a[a.length-1]}.${i}`,a=a.slice(0,a.length-1),o=bn(t,a,Object),o&&o.obj&&typeof o.obj[`${o.k}.${i}`]<"u"&&(o.obj=void 0);o.obj[`${o.k}.${i}`]=n},B1=(t,e,n,r)=>{const{obj:s,k:i}=bn(t,e,Object);s[i]=s[i]||[],s[i].push(n)},wr=(t,e)=>{const{obj:n,k:r}=bn(t,e);if(n)return n[r]},H1=(t,e,n)=>{const r=wr(t,n);return r!==void 0?r:wr(e,n)},el=(t,e,n)=>{for(const r in e)r!=="__proto__"&&r!=="constructor"&&(r in t?B(t[r])||t[r]instanceof String||B(e[r])||e[r]instanceof String?n&&(t[r]=e[r]):el(t[r],e[r],n):t[r]=e[r]);return t},Pt=t=>t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var Z1={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const V1=t=>B(t)?t.replace(/[&<>"'\/]/g,e=>Z1[e]):t;class z1{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const n=this.regExpMap.get(e);if(n!==void 0)return n;const r=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,r),this.regExpQueue.push(e),r}}const K1=[" ",",","?","!",";"],q1=new z1(20),G1=(t,e,n)=>{e=e||"",n=n||"";const r=K1.filter(a=>e.indexOf(a)<0&&n.indexOf(a)<0);if(r.length===0)return!0;const s=q1.getRegExp(`(${r.map(a=>a==="?"?"\\?":a).join("|")})`);let i=!s.test(t);if(!i){const a=t.indexOf(n);a>0&&!s.test(t.substring(0,a))&&(i=!0)}return i},si=function(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";if(!t)return;if(t[e])return t[e];const r=e.split(n);let s=t;for(let i=0;i<r.length;){if(!s||typeof s!="object")return;let a,o="";for(let u=i;u<r.length;++u)if(u!==i&&(o+=n),o+=r[u],a=s[o],a!==void 0){if(["string","number","boolean"].indexOf(typeof a)>-1&&u<r.length-1)continue;i+=u-i+1;break}s=a}return s},xr=t=>t&&t.replace("_","-"),W1={type:"logger",log(t){this.output("log",t)},warn(t){this.output("warn",t)},error(t){this.output("error",t)},output(t,e){console&&console[t]&&console[t].apply(console,e)}};class _r{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.init(e,n)}init(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=n.prefix||"i18next:",this.logger=e||W1,this.options=n,this.debug=n.debug}log(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return this.forward(n,"log","",!0)}warn(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return this.forward(n,"warn","",!0)}error(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return this.forward(n,"error","")}deprecate(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return this.forward(n,"warn","WARNING DEPRECATED: ",!0)}forward(e,n,r,s){return s&&!this.debug?null:(B(e[0])&&(e[0]=`${r}${this.prefix} ${e[0]}`),this.logger[n](e))}create(e){return new _r(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new _r(this.logger,e)}}var Le=new _r;class Qr{constructor(){this.observers={}}on(e,n){return e.split(" ").forEach(r=>{this.observers[r]||(this.observers[r]=new Map);const s=this.observers[r].get(n)||0;this.observers[r].set(n,s+1)}),this}off(e,n){if(this.observers[e]){if(!n){delete this.observers[e];return}this.observers[e].delete(n)}}emit(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];this.observers[e]&&Array.from(this.observers[e].entries()).forEach(a=>{let[o,u]=a;for(let l=0;l<u;l++)o(...r)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(a=>{let[o,u]=a;for(let l=0;l<u;l++)o.apply(o,[e,...r])})}}class ro extends Qr{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};super(),this.data=e||{},this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const n=this.options.ns.indexOf(e);n>-1&&this.options.ns.splice(n,1)}getResource(e,n,r){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const i=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator,a=s.ignoreJSONStructure!==void 0?s.ignoreJSONStructure:this.options.ignoreJSONStructure;let o;e.indexOf(".")>-1?o=e.split("."):(o=[e,n],r&&(Array.isArray(r)?o.push(...r):B(r)&&i?o.push(...r.split(i)):o.push(r)));const u=wr(this.data,o);return!u&&!n&&!r&&e.indexOf(".")>-1&&(e=o[0],n=o[1],r=o.slice(2).join(".")),u||!a||!B(r)?u:si(this.data&&this.data[e]&&this.data[e][n],r,i)}addResource(e,n,r,s){let i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1};const a=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator;let o=[e,n];r&&(o=o.concat(a?r.split(a):r)),e.indexOf(".")>-1&&(o=e.split("."),s=n,n=o[1]),this.addNamespaces(n),no(this.data,o,s),i.silent||this.emit("added",e,n,r,s)}addResources(e,n,r){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(const i in r)(B(r[i])||Array.isArray(r[i]))&&this.addResource(e,n,i,r[i],{silent:!0});s.silent||this.emit("added",e,n,r)}addResourceBundle(e,n,r,s,i){let a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1,skipCopy:!1},o=[e,n];e.indexOf(".")>-1&&(o=e.split("."),s=r,r=n,n=o[1]),this.addNamespaces(n);let u=wr(this.data,o)||{};a.skipCopy||(r=JSON.parse(JSON.stringify(r))),s?el(u,r,i):u={...u,...r},no(this.data,o,u),a.silent||this.emit("added",e,n,r)}removeResourceBundle(e,n){this.hasResourceBundle(e,n)&&delete this.data[e][n],this.removeNamespaces(n),this.emit("removed",e,n)}hasResourceBundle(e,n){return this.getResource(e,n)!==void 0}getResourceBundle(e,n){return n||(n=this.options.defaultNS),this.options.compatibilityAPI==="v1"?{...this.getResource(e,n)}:this.getResource(e,n)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const n=this.getDataByLanguage(e);return!!(n&&Object.keys(n)||[]).find(s=>n[s]&&Object.keys(n[s]).length>0)}toJSON(){return this.data}}var tl={processors:{},addPostProcessor(t){this.processors[t.name]=t},handle(t,e,n,r,s){return t.forEach(i=>{this.processors[i]&&(e=this.processors[i].process(e,n,r,s))}),e}};const so={};class Sr extends Qr{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),M1(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=Le.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};if(e==null)return!1;const r=this.resolve(e,n);return r&&r.res!==void 0}extractFromKey(e,n){let r=n.nsSeparator!==void 0?n.nsSeparator:this.options.nsSeparator;r===void 0&&(r=":");const s=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator;let i=n.ns||this.options.defaultNS||[];const a=r&&e.indexOf(r)>-1,o=!this.options.userDefinedKeySeparator&&!n.keySeparator&&!this.options.userDefinedNsSeparator&&!n.nsSeparator&&!G1(e,r,s);if(a&&!o){const u=e.match(this.interpolator.nestingRegexp);if(u&&u.length>0)return{key:e,namespaces:i};const l=e.split(r);(r!==s||r===s&&this.options.ns.indexOf(l[0])>-1)&&(i=l.shift()),e=l.join(s)}return B(i)&&(i=[i]),{key:e,namespaces:i}}translate(e,n,r){if(typeof n!="object"&&this.options.overloadTranslationOptionHandler&&(n=this.options.overloadTranslationOptionHandler(arguments)),typeof n=="object"&&(n={...n}),n||(n={}),e==null)return"";Array.isArray(e)||(e=[String(e)]);const s=n.returnDetails!==void 0?n.returnDetails:this.options.returnDetails,i=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator,{key:a,namespaces:o}=this.extractFromKey(e[e.length-1],n),u=o[o.length-1],l=n.lng||this.language,c=n.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(l&&l.toLowerCase()==="cimode"){if(c){const w=n.nsSeparator||this.options.nsSeparator;return s?{res:`${u}${w}${a}`,usedKey:a,exactUsedKey:a,usedLng:l,usedNS:u,usedParams:this.getUsedParamsDetails(n)}:`${u}${w}${a}`}return s?{res:a,usedKey:a,exactUsedKey:a,usedLng:l,usedNS:u,usedParams:this.getUsedParamsDetails(n)}:a}const f=this.resolve(e,n);let d=f&&f.res;const p=f&&f.usedKey||a,m=f&&f.exactUsedKey||a,h=Object.prototype.toString.apply(d),g=["[object Number]","[object Function]","[object RegExp]"],b=n.joinArrays!==void 0?n.joinArrays:this.options.joinArrays,v=!this.i18nFormat||this.i18nFormat.handleAsObject,A=!B(d)&&typeof d!="boolean"&&typeof d!="number";if(v&&d&&A&&g.indexOf(h)<0&&!(B(b)&&Array.isArray(d))){if(!n.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const w=this.options.returnedObjectHandler?this.options.returnedObjectHandler(p,d,{...n,ns:o}):`key '${a} (${this.language})' returned an object instead of string.`;return s?(f.res=w,f.usedParams=this.getUsedParamsDetails(n),f):w}if(i){const w=Array.isArray(d),_=w?[]:{},O=w?m:p;for(const C in d)if(Object.prototype.hasOwnProperty.call(d,C)){const L=`${O}${i}${C}`;_[C]=this.translate(L,{...n,joinArrays:!1,ns:o}),_[C]===L&&(_[C]=d[C])}d=_}}else if(v&&B(b)&&Array.isArray(d))d=d.join(b),d&&(d=this.extendTranslation(d,e,n,r));else{let w=!1,_=!1;const O=n.count!==void 0&&!B(n.count),C=Sr.hasDefaultValue(n),L=O?this.pluralResolver.getSuffix(l,n.count,n):"",F=n.ordinal&&O?this.pluralResolver.getSuffix(l,n.count,{ordinal:!1}):"",N=O&&!n.ordinal&&n.count===0&&this.pluralResolver.shouldUseIntlApi(),R=N&&n[`defaultValue${this.options.pluralSeparator}zero`]||n[`defaultValue${L}`]||n[`defaultValue${F}`]||n.defaultValue;!this.isValidLookup(d)&&C&&(w=!0,d=R),this.isValidLookup(d)||(_=!0,d=a);const ie=(n.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&_?void 0:d,x=C&&R!==d&&this.options.updateMissing;if(_||w||x){if(this.logger.log(x?"updateKey":"missingKey",l,u,a,x?R:d),i){const D=this.resolve(a,{...n,keySeparator:!1});D&&D.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let y=[];const S=this.languageUtils.getFallbackCodes(this.options.fallbackLng,n.lng||this.language);if(this.options.saveMissingTo==="fallback"&&S&&S[0])for(let D=0;D<S.length;D++)y.push(S[D]);else this.options.saveMissingTo==="all"?y=this.languageUtils.toResolveHierarchy(n.lng||this.language):y.push(n.lng||this.language);const P=(D,M,q)=>{const X=C&&q!==d?q:ie;this.options.missingKeyHandler?this.options.missingKeyHandler(D,u,M,X,x,n):this.backendConnector&&this.backendConnector.saveMissing&&this.backendConnector.saveMissing(D,u,M,X,x,n),this.emit("missingKey",D,u,M,d)};this.options.saveMissing&&(this.options.saveMissingPlurals&&O?y.forEach(D=>{const M=this.pluralResolver.getSuffixes(D,n);N&&n[`defaultValue${this.options.pluralSeparator}zero`]&&M.indexOf(`${this.options.pluralSeparator}zero`)<0&&M.push(`${this.options.pluralSeparator}zero`),M.forEach(q=>{P([D],a+q,n[`defaultValue${q}`]||R)})}):P(y,a,R))}d=this.extendTranslation(d,e,n,f,r),_&&d===a&&this.options.appendNamespaceToMissingKey&&(d=`${u}:${a}`),(_||w)&&this.options.parseMissingKeyHandler&&(this.options.compatibilityAPI!=="v1"?d=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${u}:${a}`:a,w?d:void 0):d=this.options.parseMissingKeyHandler(d))}return s?(f.res=d,f.usedParams=this.getUsedParamsDetails(n),f):d}extendTranslation(e,n,r,s,i){var a=this;if(this.i18nFormat&&this.i18nFormat.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...r},r.lng||this.language||s.usedLng,s.usedNS,s.usedKey,{resolved:s});else if(!r.skipInterpolation){r.interpolation&&this.interpolator.init({...r,interpolation:{...this.options.interpolation,...r.interpolation}});const l=B(e)&&(r&&r.interpolation&&r.interpolation.skipOnVariables!==void 0?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let c;if(l){const d=e.match(this.interpolator.nestingRegexp);c=d&&d.length}let f=r.replace&&!B(r.replace)?r.replace:r;if(this.options.interpolation.defaultVariables&&(f={...this.options.interpolation.defaultVariables,...f}),e=this.interpolator.interpolate(e,f,r.lng||this.language||s.usedLng,r),l){const d=e.match(this.interpolator.nestingRegexp),p=d&&d.length;c<p&&(r.nest=!1)}!r.lng&&this.options.compatibilityAPI!=="v1"&&s&&s.res&&(r.lng=this.language||s.usedLng),r.nest!==!1&&(e=this.interpolator.nest(e,function(){for(var d=arguments.length,p=new Array(d),m=0;m<d;m++)p[m]=arguments[m];return i&&i[0]===p[0]&&!r.context?(a.logger.warn(`It seems you are nesting recursively key: ${p[0]} in key: ${n[0]}`),null):a.translate(...p,n)},r)),r.interpolation&&this.interpolator.reset()}const o=r.postProcess||this.options.postProcess,u=B(o)?[o]:o;return e!=null&&u&&u.length&&r.applyPostProcessor!==!1&&(e=tl.handle(u,e,n,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...s,usedParams:this.getUsedParamsDetails(r)},...r}:r,this)),e}resolve(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r,s,i,a,o;return B(e)&&(e=[e]),e.forEach(u=>{if(this.isValidLookup(r))return;const l=this.extractFromKey(u,n),c=l.key;s=c;let f=l.namespaces;this.options.fallbackNS&&(f=f.concat(this.options.fallbackNS));const d=n.count!==void 0&&!B(n.count),p=d&&!n.ordinal&&n.count===0&&this.pluralResolver.shouldUseIntlApi(),m=n.context!==void 0&&(B(n.context)||typeof n.context=="number")&&n.context!=="",h=n.lngs?n.lngs:this.languageUtils.toResolveHierarchy(n.lng||this.language,n.fallbackLng);f.forEach(g=>{this.isValidLookup(r)||(o=g,!so[`${h[0]}-${g}`]&&this.utils&&this.utils.hasLoadedNamespace&&!this.utils.hasLoadedNamespace(o)&&(so[`${h[0]}-${g}`]=!0,this.logger.warn(`key "${s}" for languages "${h.join(", ")}" won't get resolved as namespace "${o}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),h.forEach(b=>{if(this.isValidLookup(r))return;a=b;const v=[c];if(this.i18nFormat&&this.i18nFormat.addLookupKeys)this.i18nFormat.addLookupKeys(v,c,b,g,n);else{let w;d&&(w=this.pluralResolver.getSuffix(b,n.count,n));const _=`${this.options.pluralSeparator}zero`,O=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(d&&(v.push(c+w),n.ordinal&&w.indexOf(O)===0&&v.push(c+w.replace(O,this.options.pluralSeparator)),p&&v.push(c+_)),m){const C=`${c}${this.options.contextSeparator}${n.context}`;v.push(C),d&&(v.push(C+w),n.ordinal&&w.indexOf(O)===0&&v.push(C+w.replace(O,this.options.pluralSeparator)),p&&v.push(C+_))}}let A;for(;A=v.pop();)this.isValidLookup(r)||(i=A,r=this.getResource(b,g,A,n))}))})}),{res:r,usedKey:s,exactUsedKey:i,usedLng:a,usedNS:o}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,n,r){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(e,n,r,s):this.resourceStore.getResource(e,n,r,s)}getUsedParamsDetails(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const n=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],r=e.replace&&!B(e.replace);let s=r?e.replace:e;if(r&&typeof e.count<"u"&&(s.count=e.count),this.options.interpolation.defaultVariables&&(s={...this.options.interpolation.defaultVariables,...s}),!r){s={...s};for(const i of n)delete s[i]}return s}static hasDefaultValue(e){const n="defaultValue";for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&n===r.substring(0,n.length)&&e[r]!==void 0)return!0;return!1}}const vs=t=>t.charAt(0).toUpperCase()+t.slice(1);class io{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=Le.create("languageUtils")}getScriptPartFromCode(e){if(e=xr(e),!e||e.indexOf("-")<0)return null;const n=e.split("-");return n.length===2||(n.pop(),n[n.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(n.join("-"))}getLanguagePartFromCode(e){if(e=xr(e),!e||e.indexOf("-")<0)return e;const n=e.split("-");return this.formatLanguageCode(n[0])}formatLanguageCode(e){if(B(e)&&e.indexOf("-")>-1){if(typeof Intl<"u"&&typeof Intl.getCanonicalLocales<"u")try{let s=Intl.getCanonicalLocales(e)[0];if(s&&this.options.lowerCaseLng&&(s=s.toLowerCase()),s)return s}catch{}const n=["hans","hant","latn","cyrl","cans","mong","arab"];let r=e.split("-");return this.options.lowerCaseLng?r=r.map(s=>s.toLowerCase()):r.length===2?(r[0]=r[0].toLowerCase(),r[1]=r[1].toUpperCase(),n.indexOf(r[1].toLowerCase())>-1&&(r[1]=vs(r[1].toLowerCase()))):r.length===3&&(r[0]=r[0].toLowerCase(),r[1].length===2&&(r[1]=r[1].toUpperCase()),r[0]!=="sgn"&&r[2].length===2&&(r[2]=r[2].toUpperCase()),n.indexOf(r[1].toLowerCase())>-1&&(r[1]=vs(r[1].toLowerCase())),n.indexOf(r[2].toLowerCase())>-1&&(r[2]=vs(r[2].toLowerCase()))),r.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let n;return e.forEach(r=>{if(n)return;const s=this.formatLanguageCode(r);(!this.options.supportedLngs||this.isSupportedCode(s))&&(n=s)}),!n&&this.options.supportedLngs&&e.forEach(r=>{if(n)return;const s=this.getLanguagePartFromCode(r);if(this.isSupportedCode(s))return n=s;n=this.options.supportedLngs.find(i=>{if(i===s)return i;if(!(i.indexOf("-")<0&&s.indexOf("-")<0)&&(i.indexOf("-")>0&&s.indexOf("-")<0&&i.substring(0,i.indexOf("-"))===s||i.indexOf(s)===0&&s.length>1))return i})}),n||(n=this.getFallbackCodes(this.options.fallbackLng)[0]),n}getFallbackCodes(e,n){if(!e)return[];if(typeof e=="function"&&(e=e(n)),B(e)&&(e=[e]),Array.isArray(e))return e;if(!n)return e.default||[];let r=e[n];return r||(r=e[this.getScriptPartFromCode(n)]),r||(r=e[this.formatLanguageCode(n)]),r||(r=e[this.getLanguagePartFromCode(n)]),r||(r=e.default),r||[]}toResolveHierarchy(e,n){const r=this.getFallbackCodes(n||this.options.fallbackLng||[],e),s=[],i=a=>{a&&(this.isSupportedCode(a)?s.push(a):this.logger.warn(`rejecting language code not found in supportedLngs: ${a}`))};return B(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&i(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&i(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&i(this.getLanguagePartFromCode(e))):B(e)&&i(this.formatLanguageCode(e)),r.forEach(a=>{s.indexOf(a)<0&&i(this.formatLanguageCode(a))}),s}}let Q1=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],J1={1:t=>+(t>1),2:t=>+(t!=1),3:t=>0,4:t=>t%10==1&&t%100!=11?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2,5:t=>t==0?0:t==1?1:t==2?2:t%100>=3&&t%100<=10?3:t%100>=11?4:5,6:t=>t==1?0:t>=2&&t<=4?1:2,7:t=>t==1?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2,8:t=>t==1?0:t==2?1:t!=8&&t!=11?2:3,9:t=>+(t>=2),10:t=>t==1?0:t==2?1:t<7?2:t<11?3:4,11:t=>t==1||t==11?0:t==2||t==12?1:t>2&&t<20?2:3,12:t=>+(t%10!=1||t%100==11),13:t=>+(t!==0),14:t=>t==1?0:t==2?1:t==3?2:3,15:t=>t%10==1&&t%100!=11?0:t%10>=2&&(t%100<10||t%100>=20)?1:2,16:t=>t%10==1&&t%100!=11?0:t!==0?1:2,17:t=>t==1||t%10==1&&t%100!=11?0:1,18:t=>t==0?0:t==1?1:2,19:t=>t==1?0:t==0||t%100>1&&t%100<11?1:t%100>10&&t%100<20?2:3,20:t=>t==1?0:t==0||t%100>0&&t%100<20?1:2,21:t=>t%100==1?1:t%100==2?2:t%100==3||t%100==4?3:0,22:t=>t==1?0:t==2?1:(t<0||t>10)&&t%10==0?2:3};const Y1=["v1","v2","v3"],X1=["v4"],ao={zero:0,one:1,two:2,few:3,many:4,other:5},e_=()=>{const t={};return Q1.forEach(e=>{e.lngs.forEach(n=>{t[n]={numbers:e.nr,plurals:J1[e.fc]}})}),t};class t_{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.languageUtils=e,this.options=n,this.logger=Le.create("pluralResolver"),(!this.options.compatibilityJSON||X1.includes(this.options.compatibilityJSON))&&(typeof Intl>"u"||!Intl.PluralRules)&&(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=e_(),this.pluralRulesCache={}}addRule(e,n){this.rules[e]=n}clearCache(){this.pluralRulesCache={}}getRule(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.shouldUseIntlApi())try{const r=xr(e==="dev"?"en":e),s=n.ordinal?"ordinal":"cardinal",i=JSON.stringify({cleanedCode:r,type:s});if(i in this.pluralRulesCache)return this.pluralRulesCache[i];const a=new Intl.PluralRules(r,{type:s});return this.pluralRulesCache[i]=a,a}catch{return}return this.rules[e]||this.rules[this.languageUtils.getLanguagePartFromCode(e)]}needsPlural(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=this.getRule(e,n);return this.shouldUseIntlApi()?r&&r.resolvedOptions().pluralCategories.length>1:r&&r.numbers.length>1}getPluralFormsOfKey(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.getSuffixes(e,r).map(s=>`${n}${s}`)}getSuffixes(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=this.getRule(e,n);return r?this.shouldUseIntlApi()?r.resolvedOptions().pluralCategories.sort((s,i)=>ao[s]-ao[i]).map(s=>`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${s}`):r.numbers.map(s=>this.getSuffix(e,s,n)):[]}getSuffix(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const s=this.getRule(e,r);return s?this.shouldUseIntlApi()?`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${s.select(n)}`:this.getSuffixRetroCompatible(s,n):(this.logger.warn(`no plural rule found for: ${e}`),"")}getSuffixRetroCompatible(e,n){const r=e.noAbs?e.plurals(n):e.plurals(Math.abs(n));let s=e.numbers[r];this.options.simplifyPluralSuffix&&e.numbers.length===2&&e.numbers[0]===1&&(s===2?s="plural":s===1&&(s=""));const i=()=>this.options.prepend&&s.toString()?this.options.prepend+s.toString():s.toString();return this.options.compatibilityJSON==="v1"?s===1?"":typeof s=="number"?`_plural_${s.toString()}`:i():this.options.compatibilityJSON==="v2"||this.options.simplifyPluralSuffix&&e.numbers.length===2&&e.numbers[0]===1?i():this.options.prepend&&r.toString()?this.options.prepend+r.toString():r.toString()}shouldUseIntlApi(){return!Y1.includes(this.options.compatibilityJSON)}}const oo=function(t,e,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:".",s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,i=H1(t,e,n);return!i&&s&&B(n)&&(i=si(t,n,r),i===void 0&&(i=si(e,n,r))),i},ws=t=>t.replace(/\$/g,"$$$$");class n_{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=Le.create("interpolator"),this.options=e,this.format=e.interpolation&&e.interpolation.format||(n=>n),this.init(e)}init(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};e.interpolation||(e.interpolation={escapeValue:!0});const{escape:n,escapeValue:r,useRawValueToEscape:s,prefix:i,prefixEscaped:a,suffix:o,suffixEscaped:u,formatSeparator:l,unescapeSuffix:c,unescapePrefix:f,nestingPrefix:d,nestingPrefixEscaped:p,nestingSuffix:m,nestingSuffixEscaped:h,nestingOptionsSeparator:g,maxReplaces:b,alwaysFormat:v}=e.interpolation;this.escape=n!==void 0?n:V1,this.escapeValue=r!==void 0?r:!0,this.useRawValueToEscape=s!==void 0?s:!1,this.prefix=i?Pt(i):a||"{{",this.suffix=o?Pt(o):u||"}}",this.formatSeparator=l||",",this.unescapePrefix=c?"":f||"-",this.unescapeSuffix=this.unescapePrefix?"":c||"",this.nestingPrefix=d?Pt(d):p||Pt("$t("),this.nestingSuffix=m?Pt(m):h||Pt(")"),this.nestingOptionsSeparator=g||",",this.maxReplaces=b||1e3,this.alwaysFormat=v!==void 0?v:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(n,r)=>n&&n.source===r?(n.lastIndex=0,n):new RegExp(r,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(e,n,r,s){let i,a,o;const u=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},l=p=>{if(p.indexOf(this.formatSeparator)<0){const b=oo(n,u,p,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(b,void 0,r,{...s,...n,interpolationkey:p}):b}const m=p.split(this.formatSeparator),h=m.shift().trim(),g=m.join(this.formatSeparator).trim();return this.format(oo(n,u,h,this.options.keySeparator,this.options.ignoreJSONStructure),g,r,{...s,...n,interpolationkey:h})};this.resetRegExp();const c=s&&s.missingInterpolationHandler||this.options.missingInterpolationHandler,f=s&&s.interpolation&&s.interpolation.skipOnVariables!==void 0?s.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:p=>ws(p)},{regex:this.regexp,safeValue:p=>this.escapeValue?ws(this.escape(p)):ws(p)}].forEach(p=>{for(o=0;i=p.regex.exec(e);){const m=i[1].trim();if(a=l(m),a===void 0)if(typeof c=="function"){const g=c(e,i,s);a=B(g)?g:""}else if(s&&Object.prototype.hasOwnProperty.call(s,m))a="";else if(f){a=i[0];continue}else this.logger.warn(`missed to pass in variable ${m} for interpolating ${e}`),a="";else!B(a)&&!this.useRawValueToEscape&&(a=Xa(a));const h=p.safeValue(a);if(e=e.replace(i[0],h),f?(p.regex.lastIndex+=a.length,p.regex.lastIndex-=i[0].length):p.regex.lastIndex=0,o++,o>=this.maxReplaces)break}}),e}nest(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s,i,a;const o=(u,l)=>{const c=this.nestingOptionsSeparator;if(u.indexOf(c)<0)return u;const f=u.split(new RegExp(`${c}[ ]*{`));let d=`{${f[1]}`;u=f[0],d=this.interpolate(d,a);const p=d.match(/'/g),m=d.match(/"/g);(p&&p.length%2===0&&!m||m.length%2!==0)&&(d=d.replace(/'/g,'"'));try{a=JSON.parse(d),l&&(a={...l,...a})}catch(h){return this.logger.warn(`failed parsing options string in nesting for key ${u}`,h),`${u}${c}${d}`}return a.defaultValue&&a.defaultValue.indexOf(this.prefix)>-1&&delete a.defaultValue,u};for(;s=this.nestingRegexp.exec(e);){let u=[];a={...r},a=a.replace&&!B(a.replace)?a.replace:a,a.applyPostProcessor=!1,delete a.defaultValue;let l=!1;if(s[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(s[1])){const c=s[1].split(this.formatSeparator).map(f=>f.trim());s[1]=c.shift(),u=c,l=!0}if(i=n(o.call(this,s[1].trim(),a),a),i&&s[0]===e&&!B(i))return i;B(i)||(i=Xa(i)),i||(this.logger.warn(`missed to resolve ${s[1]} for nesting ${e}`),i=""),l&&(i=u.reduce((c,f)=>this.format(c,f,r.lng,{...r,interpolationkey:s[1].trim()}),i.trim())),e=e.replace(s[0],i),this.regexp.lastIndex=0}return e}}const r_=t=>{let e=t.toLowerCase().trim();const n={};if(t.indexOf("(")>-1){const r=t.split("(");e=r[0].toLowerCase().trim();const s=r[1].substring(0,r[1].length-1);e==="currency"&&s.indexOf(":")<0?n.currency||(n.currency=s.trim()):e==="relativetime"&&s.indexOf(":")<0?n.range||(n.range=s.trim()):s.split(";").forEach(a=>{if(a){const[o,...u]=a.split(":"),l=u.join(":").trim().replace(/^'+|'+$/g,""),c=o.trim();n[c]||(n[c]=l),l==="false"&&(n[c]=!1),l==="true"&&(n[c]=!0),isNaN(l)||(n[c]=parseInt(l,10))}})}return{formatName:e,formatOptions:n}},It=t=>{const e={};return(n,r,s)=>{let i=s;s&&s.interpolationkey&&s.formatParams&&s.formatParams[s.interpolationkey]&&s[s.interpolationkey]&&(i={...i,[s.interpolationkey]:void 0});const a=r+JSON.stringify(i);let o=e[a];return o||(o=t(xr(r),s),e[a]=o),o(n)}};class s_{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=Le.create("formatter"),this.options=e,this.formats={number:It((n,r)=>{const s=new Intl.NumberFormat(n,{...r});return i=>s.format(i)}),currency:It((n,r)=>{const s=new Intl.NumberFormat(n,{...r,style:"currency"});return i=>s.format(i)}),datetime:It((n,r)=>{const s=new Intl.DateTimeFormat(n,{...r});return i=>s.format(i)}),relativetime:It((n,r)=>{const s=new Intl.RelativeTimeFormat(n,{...r});return i=>s.format(i,r.range||"day")}),list:It((n,r)=>{const s=new Intl.ListFormat(n,{...r});return i=>s.format(i)})},this.init(e)}init(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};this.formatSeparator=n.interpolation.formatSeparator||","}add(e,n){this.formats[e.toLowerCase().trim()]=n}addCached(e,n){this.formats[e.toLowerCase().trim()]=It(n)}format(e,n,r){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const i=n.split(this.formatSeparator);if(i.length>1&&i[0].indexOf("(")>1&&i[0].indexOf(")")<0&&i.find(o=>o.indexOf(")")>-1)){const o=i.findIndex(u=>u.indexOf(")")>-1);i[0]=[i[0],...i.splice(1,o)].join(this.formatSeparator)}return i.reduce((o,u)=>{const{formatName:l,formatOptions:c}=r_(u);if(this.formats[l]){let f=o;try{const d=s&&s.formatParams&&s.formatParams[s.interpolationkey]||{},p=d.locale||d.lng||s.locale||s.lng||r;f=this.formats[l](o,p,{...c,...s,...d})}catch(d){this.logger.warn(d)}return f}else this.logger.warn(`there was no format function for ${l}`);return o},e)}}const i_=(t,e)=>{t.pending[e]!==void 0&&(delete t.pending[e],t.pendingCount--)};class a_ extends Qr{constructor(e,n,r){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};super(),this.backend=e,this.store=n,this.services=r,this.languageUtils=r.languageUtils,this.options=s,this.logger=Le.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=s.maxParallelReads||10,this.readingCalls=0,this.maxRetries=s.maxRetries>=0?s.maxRetries:5,this.retryTimeout=s.retryTimeout>=1?s.retryTimeout:350,this.state={},this.queue=[],this.backend&&this.backend.init&&this.backend.init(r,s.backend,s)}queueLoad(e,n,r,s){const i={},a={},o={},u={};return e.forEach(l=>{let c=!0;n.forEach(f=>{const d=`${l}|${f}`;!r.reload&&this.store.hasResourceBundle(l,f)?this.state[d]=2:this.state[d]<0||(this.state[d]===1?a[d]===void 0&&(a[d]=!0):(this.state[d]=1,c=!1,a[d]===void 0&&(a[d]=!0),i[d]===void 0&&(i[d]=!0),u[f]===void 0&&(u[f]=!0)))}),c||(o[l]=!0)}),(Object.keys(i).length||Object.keys(a).length)&&this.queue.push({pending:a,pendingCount:Object.keys(a).length,loaded:{},errors:[],callback:s}),{toLoad:Object.keys(i),pending:Object.keys(a),toLoadLanguages:Object.keys(o),toLoadNamespaces:Object.keys(u)}}loaded(e,n,r){const s=e.split("|"),i=s[0],a=s[1];n&&this.emit("failedLoading",i,a,n),!n&&r&&this.store.addResourceBundle(i,a,r,void 0,void 0,{skipCopy:!0}),this.state[e]=n?-1:2,n&&r&&(this.state[e]=0);const o={};this.queue.forEach(u=>{B1(u.loaded,[i],a),i_(u,e),n&&u.errors.push(n),u.pendingCount===0&&!u.done&&(Object.keys(u.loaded).forEach(l=>{o[l]||(o[l]={});const c=u.loaded[l];c.length&&c.forEach(f=>{o[l][f]===void 0&&(o[l][f]=!0)})}),u.done=!0,u.errors.length?u.callback(u.errors):u.callback())}),this.emit("loaded",o),this.queue=this.queue.filter(u=>!u.done)}read(e,n,r){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.retryTimeout,a=arguments.length>5?arguments[5]:void 0;if(!e.length)return a(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:n,fcName:r,tried:s,wait:i,callback:a});return}this.readingCalls++;const o=(l,c)=>{if(this.readingCalls--,this.waitingReads.length>0){const f=this.waitingReads.shift();this.read(f.lng,f.ns,f.fcName,f.tried,f.wait,f.callback)}if(l&&c&&s<this.maxRetries){setTimeout(()=>{this.read.call(this,e,n,r,s+1,i*2,a)},i);return}a(l,c)},u=this.backend[r].bind(this.backend);if(u.length===2){try{const l=u(e,n);l&&typeof l.then=="function"?l.then(c=>o(null,c)).catch(o):o(null,l)}catch(l){o(l)}return}return u(e,n,o)}prepareLoading(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),s&&s();B(e)&&(e=this.languageUtils.toResolveHierarchy(e)),B(n)&&(n=[n]);const i=this.queueLoad(e,n,r,s);if(!i.toLoad.length)return i.pending.length||s(),null;i.toLoad.forEach(a=>{this.loadOne(a)})}load(e,n,r){this.prepareLoading(e,n,{},r)}reload(e,n,r){this.prepareLoading(e,n,{reload:!0},r)}loadOne(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const r=e.split("|"),s=r[0],i=r[1];this.read(s,i,"read",void 0,void 0,(a,o)=>{a&&this.logger.warn(`${n}loading namespace ${i} for language ${s} failed`,a),!a&&o&&this.logger.log(`${n}loaded namespace ${i} for language ${s}`,o),this.loaded(e,a,o)})}saveMissing(e,n,r,s,i){let a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},o=arguments.length>6&&arguments[6]!==void 0?arguments[6]:()=>{};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(n)){this.logger.warn(`did not save key "${r}" as the namespace "${n}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(r==null||r==="")){if(this.backend&&this.backend.create){const u={...a,isUpdate:i},l=this.backend.create.bind(this.backend);if(l.length<6)try{let c;l.length===5?c=l(e,n,r,s,u):c=l(e,n,r,s),c&&typeof c.then=="function"?c.then(f=>o(null,f)).catch(o):o(null,c)}catch(c){o(c)}else l(e,n,r,s,o,u)}!e||!e[0]||this.store.addResource(e[0],n,r,s)}}}const uo=()=>({debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:t=>{let e={};if(typeof t[1]=="object"&&(e=t[1]),B(t[1])&&(e.defaultValue=t[1]),B(t[2])&&(e.tDescription=t[2]),typeof t[2]=="object"||typeof t[3]=="object"){const n=t[3]||t[2];Object.keys(n).forEach(r=>{e[r]=n[r]})}return e},interpolation:{escapeValue:!0,format:t=>t,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}),lo=t=>(B(t.ns)&&(t.ns=[t.ns]),B(t.fallbackLng)&&(t.fallbackLng=[t.fallbackLng]),B(t.fallbackNS)&&(t.fallbackNS=[t.fallbackNS]),t.supportedLngs&&t.supportedLngs.indexOf("cimode")<0&&(t.supportedLngs=t.supportedLngs.concat(["cimode"])),t),Jn=()=>{},o_=t=>{Object.getOwnPropertyNames(Object.getPrototypeOf(t)).forEach(n=>{typeof t[n]=="function"&&(t[n]=t[n].bind(t))})};class jn extends Qr{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;if(super(),this.options=lo(e),this.services={},this.logger=Le,this.modules={external:[]},o_(this),n&&!this.isInitialized&&!e.isClone){if(!this.options.initImmediate)return this.init(e,n),this;setTimeout(()=>{this.init(e,n)},0)}}init(){var e=this;let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;this.isInitializing=!0,typeof n=="function"&&(r=n,n={}),!n.defaultNS&&n.defaultNS!==!1&&n.ns&&(B(n.ns)?n.defaultNS=n.ns:n.ns.indexOf("translation")<0&&(n.defaultNS=n.ns[0]));const s=uo();this.options={...s,...this.options,...lo(n)},this.options.compatibilityAPI!=="v1"&&(this.options.interpolation={...s.interpolation,...this.options.interpolation}),n.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=n.keySeparator),n.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=n.nsSeparator);const i=c=>c?typeof c=="function"?new c:c:null;if(!this.options.isClone){this.modules.logger?Le.init(i(this.modules.logger),this.options):Le.init(null,this.options);let c;this.modules.formatter?c=this.modules.formatter:typeof Intl<"u"&&(c=s_);const f=new io(this.options);this.store=new ro(this.options.resources,this.options);const d=this.services;d.logger=Le,d.resourceStore=this.store,d.languageUtils=f,d.pluralResolver=new t_(f,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),c&&(!this.options.interpolation.format||this.options.interpolation.format===s.interpolation.format)&&(d.formatter=i(c),d.formatter.init(d,this.options),this.options.interpolation.format=d.formatter.format.bind(d.formatter)),d.interpolator=new n_(this.options),d.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},d.backendConnector=new a_(i(this.modules.backend),d.resourceStore,d,this.options),d.backendConnector.on("*",function(p){for(var m=arguments.length,h=new Array(m>1?m-1:0),g=1;g<m;g++)h[g-1]=arguments[g];e.emit(p,...h)}),this.modules.languageDetector&&(d.languageDetector=i(this.modules.languageDetector),d.languageDetector.init&&d.languageDetector.init(d,this.options.detection,this.options)),this.modules.i18nFormat&&(d.i18nFormat=i(this.modules.i18nFormat),d.i18nFormat.init&&d.i18nFormat.init(this)),this.translator=new Sr(this.services,this.options),this.translator.on("*",function(p){for(var m=arguments.length,h=new Array(m>1?m-1:0),g=1;g<m;g++)h[g-1]=arguments[g];e.emit(p,...h)}),this.modules.external.forEach(p=>{p.init&&p.init(this)})}if(this.format=this.options.interpolation.format,r||(r=Jn),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const c=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);c.length>0&&c[0]!=="dev"&&(this.options.lng=c[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(c=>{this[c]=function(){return e.store[c](...arguments)}}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(c=>{this[c]=function(){return e.store[c](...arguments),e}});const u=on(),l=()=>{const c=(f,d)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),u.resolve(d),r(f,d)};if(this.languages&&this.options.compatibilityAPI!=="v1"&&!this.isInitialized)return c(null,this.t.bind(this));this.changeLanguage(this.options.lng,c)};return this.options.resources||!this.options.initImmediate?l():setTimeout(l,0),u}loadResources(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Jn;const s=B(e)?e:this.language;if(typeof e=="function"&&(r=e),!this.options.resources||this.options.partialBundledLanguages){if(s&&s.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return r();const i=[],a=o=>{if(!o||o==="cimode")return;this.services.languageUtils.toResolveHierarchy(o).forEach(l=>{l!=="cimode"&&i.indexOf(l)<0&&i.push(l)})};s?a(s):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(u=>a(u)),this.options.preload&&this.options.preload.forEach(o=>a(o)),this.services.backendConnector.load(i,this.options.ns,o=>{!o&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),r(o)})}else r(null)}reloadResources(e,n,r){const s=on();return typeof e=="function"&&(r=e,e=void 0),typeof n=="function"&&(r=n,n=void 0),e||(e=this.languages),n||(n=this.options.ns),r||(r=Jn),this.services.backendConnector.reload(e,n,i=>{s.resolve(),r(i)}),s}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&tl.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1))for(let n=0;n<this.languages.length;n++){const r=this.languages[n];if(!(["cimode","dev"].indexOf(r)>-1)&&this.store.hasLanguageSomeTranslations(r)){this.resolvedLanguage=r;break}}}changeLanguage(e,n){var r=this;this.isLanguageChangingTo=e;const s=on();this.emit("languageChanging",e);const i=u=>{this.language=u,this.languages=this.services.languageUtils.toResolveHierarchy(u),this.resolvedLanguage=void 0,this.setResolvedLanguage(u)},a=(u,l)=>{l?(i(l),this.translator.changeLanguage(l),this.isLanguageChangingTo=void 0,this.emit("languageChanged",l),this.logger.log("languageChanged",l)):this.isLanguageChangingTo=void 0,s.resolve(function(){return r.t(...arguments)}),n&&n(u,function(){return r.t(...arguments)})},o=u=>{!e&&!u&&this.services.languageDetector&&(u=[]);const l=B(u)?u:this.services.languageUtils.getBestMatchFromCodes(u);l&&(this.language||i(l),this.translator.language||this.translator.changeLanguage(l),this.services.languageDetector&&this.services.languageDetector.cacheUserLanguage&&this.services.languageDetector.cacheUserLanguage(l)),this.loadResources(l,c=>{a(c,l)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?o(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(o):this.services.languageDetector.detect(o):o(e),s}getFixedT(e,n,r){var s=this;const i=function(a,o){let u;if(typeof o!="object"){for(var l=arguments.length,c=new Array(l>2?l-2:0),f=2;f<l;f++)c[f-2]=arguments[f];u=s.options.overloadTranslationOptionHandler([a,o].concat(c))}else u={...o};u.lng=u.lng||i.lng,u.lngs=u.lngs||i.lngs,u.ns=u.ns||i.ns,u.keyPrefix!==""&&(u.keyPrefix=u.keyPrefix||r||i.keyPrefix);const d=s.options.keySeparator||".";let p;return u.keyPrefix&&Array.isArray(a)?p=a.map(m=>`${u.keyPrefix}${d}${m}`):p=u.keyPrefix?`${u.keyPrefix}${d}${a}`:a,s.t(p,u)};return B(e)?i.lng=e:i.lngs=e,i.ns=n,i.keyPrefix=r,i}t(){return this.translator&&this.translator.translate(...arguments)}exists(){return this.translator&&this.translator.exists(...arguments)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const r=n.lng||this.resolvedLanguage||this.languages[0],s=this.options?this.options.fallbackLng:!1,i=this.languages[this.languages.length-1];if(r.toLowerCase()==="cimode")return!0;const a=(o,u)=>{const l=this.services.backendConnector.state[`${o}|${u}`];return l===-1||l===0||l===2};if(n.precheck){const o=n.precheck(this,a);if(o!==void 0)return o}return!!(this.hasResourceBundle(r,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||a(r,e)&&(!s||a(i,e)))}loadNamespaces(e,n){const r=on();return this.options.ns?(B(e)&&(e=[e]),e.forEach(s=>{this.options.ns.indexOf(s)<0&&this.options.ns.push(s)}),this.loadResources(s=>{r.resolve(),n&&n(s)}),r):(n&&n(),Promise.resolve())}loadLanguages(e,n){const r=on();B(e)&&(e=[e]);const s=this.options.preload||[],i=e.filter(a=>s.indexOf(a)<0&&this.services.languageUtils.isSupportedCode(a));return i.length?(this.options.preload=s.concat(i),this.loadResources(a=>{r.resolve(),n&&n(a)}),r):(n&&n(),Promise.resolve())}dir(e){if(e||(e=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!e)return"rtl";const n=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],r=this.services&&this.services.languageUtils||new io(uo());return n.indexOf(r.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;return new jn(e,n)}cloneInstance(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Jn;const r=e.forkResourceStore;r&&delete e.forkResourceStore;const s={...this.options,...e,isClone:!0},i=new jn(s);return(e.debug!==void 0||e.prefix!==void 0)&&(i.logger=i.logger.clone(e)),["store","services","language"].forEach(o=>{i[o]=this[o]}),i.services={...this.services},i.services.utils={hasLoadedNamespace:i.hasLoadedNamespace.bind(i)},r&&(i.store=new ro(this.store.data,s),i.services.resourceStore=i.store),i.translator=new Sr(i.services,s),i.translator.on("*",function(o){for(var u=arguments.length,l=new Array(u>1?u-1:0),c=1;c<u;c++)l[c-1]=arguments[c];i.emit(o,...l)}),i.init(s,n),i.translator.options=s,i.translator.backendConnector.services.utils={hasLoadedNamespace:i.hasLoadedNamespace.bind(i)},i}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const se=jn.createInstance();se.createInstance=jn.createInstance;se.createInstance;se.dir;se.init;se.loadResources;se.reloadResources;se.use;se.changeLanguage;se.getFixedT;se.t;se.exists;se.setDefaultNamespace;se.hasLoadedNamespace;se.loadNamespaces;se.loadLanguages;const nl=Dn(se),u_=()=>Mn(nl),l_=t=>{const[e,n]=fe(se);return qt(()=>{t.i18next instanceof Promise?t.i18next.then(r=>{r!=null&&n(r)}).catch(r=>{console.error("failed to initialize i18n.text",r)}):t.i18next!=null&&n(t.i18next)}),J(nl.Provider,{get value(){return e()},get children(){return t.children}})},c_=/^[0-9a-f]{64}$/,xe=t=>{const e=typeof t=="string"&&t.length===64&&c_.test(t);return e||console.warn("invalid id is ignored: ",t),e},f_=t=>e=>t.safeParse(e).success,d_=E.array(E.array(E.string())),h_=E.tuple([E.literal("emoji"),E.string().regex(/^\w+$/,{message:"shortcode can includes only alpahnumeric characters and underscore"}),E.string().url()]);class p_{findTagsByName(e){return this.tags.filter(([n])=>n===e)}findFirstTagByName(e){return this.tags.find(([n])=>n===e)}findLastTagByName(e){return this.tags.findLast(([n])=>n===e)}pTags(){return this.tags.filter(([e,n])=>e==="p"&&xe(n))}eTags(){return this.tags.filter(([e,n])=>e==="e"&&xe(n))}emojiTags(){return this.tags.filter(f_(h_))}taggedPubkeys(){return pn(this.pTags().map(([,e])=>e))}taggedEventIds(){return this.eTags().map(([,e])=>e)}lastTaggedEventId(){const e=this.taggedEventIds();if(e.length!==0)return e[e.length-1]}getEmojiUrl(e){const n=this.emojiTags().find(([,s])=>s===e);if(n==null)return;const[,,r]=n;return r}}const g_=/^[0-9a-f]{128}$/,m_=t=>typeof t=="string"&&t.length===128&&g_.test(t),RO=E.object({id:E.string().refine(xe),pubkey:E.string().refine(xe),created_at:E.number().int(),kind:E.number().int(),tags:d_,content:E.string(),sig:E.string().refine(m_)});class Ui extends p_{constructor(e){super(),this.rawEvent=e}get id(){return this.rawEvent.id}get sig(){return this.rawEvent.sig}get kind(){return this.rawEvent.kind}get pubkey(){return this.rawEvent.pubkey}get createdAt(){return this.rawEvent.created_at}get content(){return this.rawEvent.content}get tags(){return this.rawEvent.tags}createdAtAsDate(){return new Date(this.rawEvent.created_at*1e3)}}const y_=/^\p{Emoji}[\p{Emoji_Component}\p{Emoji_Modifier}\p{Emoji_Presentation}]*$/u,co=/^:(\w+):$/,b_=t=>{if(t.isLikeOrDislike())return{type:"LikeDislike",content:t.content};if(t.isEmoji())return{type:"Emoji",content:t.content};if(t.isCustomEmoji()){const e=t.getShortcode(),n=t.getUrl();if(e!=null&&n!=null)return{type:"CustomEmoji",content:t.content,shortcode:e,url:n}}return{type:"Unknown",content:t.content}};class v_ extends Ui{constructor(e){if(e.kind!==ux)throw new TypeError("kind should be 7");super(e)}isLike(){return this.content==="+"||this.content.length===0}isDislike(){return this.content==="-"}isLikeOrDislike(){return this.isLike()||this.isDislike()}isEmoji(){return y_.test(this.content)}isCustomEmoji(){return co.test(this.content)}getShortcode(){return this.content.match(co)?.[1]}getUrl(){const e=this.getShortcode();if(e!=null)return this.getEmojiUrl(e)}toReactionTypes(){return b_(this)}}/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Di=t=>t instanceof Uint8Array,xs=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),Re=(t,e)=>t<<32-e|t>>>e,w_=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!w_)throw new Error("Non little-endian hardware is not supported");const x_=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function Se(t){if(!Di(t))throw new Error("Uint8Array expected");let e="";for(let n=0;n<t.length;n++)e+=x_[t[n]];return e}function Er(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);const e=t.length;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);const n=new Uint8Array(e/2);for(let r=0;r<n.length;r++){const s=r*2,i=t.slice(s,s+2),a=Number.parseInt(i,16);if(Number.isNaN(a)||a<0)throw new Error("Invalid byte sequence");n[r]=a}return n}function __(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function rl(t){if(typeof t=="string"&&(t=__(t)),!Di(t))throw new Error(`expected Uint8Array, got ${typeof t}`);return t}function S_(...t){const e=new Uint8Array(t.reduce((r,s)=>r+s.length,0));let n=0;return t.forEach(r=>{if(!Di(r))throw new Error("Uint8Array expected");e.set(r,n),n+=r.length}),e}let E_=class{clone(){return this._cloneInto()}};function sl(t){const e=r=>t().update(rl(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}/*! scure-base - MIT License (c) 2022 Paul Miller (paulmillr.com) */function rn(t){if(!Number.isSafeInteger(t))throw new Error(`Wrong integer: ${t}`)}function qe(...t){const e=(s,i)=>a=>s(i(a)),n=Array.from(t).reverse().reduce((s,i)=>s?e(s,i.encode):i.encode,void 0),r=t.reduce((s,i)=>s?e(s,i.decode):i.decode,void 0);return{encode:n,decode:r}}function Ge(t){return{encode:e=>{if(!Array.isArray(e)||e.length&&typeof e[0]!="number")throw new Error("alphabet.encode input should be an array of numbers");return e.map(n=>{if(rn(n),n<0||n>=t.length)throw new Error(`Digit index outside alphabet: ${n} (alphabet: ${t.length})`);return t[n]})},decode:e=>{if(!Array.isArray(e)||e.length&&typeof e[0]!="string")throw new Error("alphabet.decode input should be array of strings");return e.map(n=>{if(typeof n!="string")throw new Error(`alphabet.decode: not string element=${n}`);const r=t.indexOf(n);if(r===-1)throw new Error(`Unknown letter: "${n}". Allowed: ${t}`);return r})}}}function We(t=""){if(typeof t!="string")throw new Error("join separator should be string");return{encode:e=>{if(!Array.isArray(e)||e.length&&typeof e[0]!="string")throw new Error("join.encode input should be array of strings");for(let n of e)if(typeof n!="string")throw new Error(`join.encode: non-string input=${n}`);return e.join(t)},decode:e=>{if(typeof e!="string")throw new Error("join.decode input should be string");return e.split(t)}}}function Jr(t,e="="){if(rn(t),typeof e!="string")throw new Error("padding chr should be string");return{encode(n){if(!Array.isArray(n)||n.length&&typeof n[0]!="string")throw new Error("padding.encode input should be array of strings");for(let r of n)if(typeof r!="string")throw new Error(`padding.encode: non-string input=${r}`);for(;n.length*t%8;)n.push(e);return n},decode(n){if(!Array.isArray(n)||n.length&&typeof n[0]!="string")throw new Error("padding.encode input should be array of strings");for(let s of n)if(typeof s!="string")throw new Error(`padding.decode: non-string input=${s}`);let r=n.length;if(r*t%8)throw new Error("Invalid padding: string should have whole number of bytes");for(;r>0&&n[r-1]===e;r--)if(!((r-1)*t%8))throw new Error("Invalid padding: string has too much padding");return n.slice(0,r)}}}function il(t){if(typeof t!="function")throw new Error("normalize fn should be function");return{encode:e=>e,decode:e=>t(e)}}function fo(t,e,n){if(e<2)throw new Error(`convertRadix: wrong from=${e}, base cannot be less than 2`);if(n<2)throw new Error(`convertRadix: wrong to=${n}, base cannot be less than 2`);if(!Array.isArray(t))throw new Error("convertRadix: data should be array");if(!t.length)return[];let r=0;const s=[],i=Array.from(t);for(i.forEach(a=>{if(rn(a),a<0||a>=e)throw new Error(`Wrong integer: ${a}`)});;){let a=0,o=!0;for(let u=r;u<i.length;u++){const l=i[u],c=e*a+l;if(!Number.isSafeInteger(c)||e*a/e!==a||c-l!==e*a)throw new Error("convertRadix: carry overflow");if(a=c%n,i[u]=Math.floor(c/n),!Number.isSafeInteger(i[u])||i[u]*n+a!==c)throw new Error("convertRadix: carry overflow");if(o)i[u]?o=!1:r=u;else continue}if(s.push(a),o)break}for(let a=0;a<t.length-1&&t[a]===0;a++)s.push(0);return s.reverse()}const al=(t,e)=>e?al(e,t%e):t,Or=(t,e)=>t+(e-al(t,e));function ii(t,e,n,r){if(!Array.isArray(t))throw new Error("convertRadix2: data should be array");if(e<=0||e>32)throw new Error(`convertRadix2: wrong from=${e}`);if(n<=0||n>32)throw new Error(`convertRadix2: wrong to=${n}`);if(Or(e,n)>32)throw new Error(`convertRadix2: carry overflow from=${e} to=${n} carryBits=${Or(e,n)}`);let s=0,i=0;const a=2**n-1,o=[];for(const u of t){if(rn(u),u>=2**e)throw new Error(`convertRadix2: invalid data word=${u} from=${e}`);if(s=s<<e|u,i+e>32)throw new Error(`convertRadix2: carry overflow pos=${i} from=${e}`);for(i+=e;i>=n;i-=n)o.push((s>>i-n&a)>>>0);s&=2**i-1}if(s=s<<n-i&a,!r&&i>=e)throw new Error("Excess padding");if(!r&&s)throw new Error(`Non-zero padding: ${s}`);return r&&i>0&&o.push(s>>>0),o}function O_(t){return rn(t),{encode:e=>{if(!(e instanceof Uint8Array))throw new Error("radix.encode input should be Uint8Array");return fo(Array.from(e),2**8,t)},decode:e=>{if(!Array.isArray(e)||e.length&&typeof e[0]!="number")throw new Error("radix.decode input should be array of strings");return Uint8Array.from(fo(e,t,2**8))}}}function ht(t,e=!1){if(rn(t),t<=0||t>32)throw new Error("radix2: bits should be in (0..32]");if(Or(8,t)>32||Or(t,8)>32)throw new Error("radix2: carry overflow");return{encode:n=>{if(!(n instanceof Uint8Array))throw new Error("radix2.encode input should be Uint8Array");return ii(Array.from(n),8,t,!e)},decode:n=>{if(!Array.isArray(n)||n.length&&typeof n[0]!="number")throw new Error("radix2.decode input should be array of strings");return Uint8Array.from(ii(n,t,8,e))}}}function ho(t){if(typeof t!="function")throw new Error("unsafeWrapper fn should be function");return function(...e){try{return t.apply(null,e)}catch{}}}const T_=qe(ht(4),Ge("0123456789ABCDEF"),We("")),C_=qe(ht(5),Ge("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),Jr(5),We(""));qe(ht(5),Ge("0123456789ABCDEFGHIJKLMNOPQRSTUV"),Jr(5),We(""));qe(ht(5),Ge("0123456789ABCDEFGHJKMNPQRSTVWXYZ"),We(""),il(t=>t.toUpperCase().replace(/O/g,"0").replace(/[IL]/g,"1")));const ol=qe(ht(6),Ge("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),Jr(6),We("")),A_=qe(ht(6),Ge("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),Jr(6),We("")),Mi=t=>qe(O_(58),Ge(t),We("")),ai=Mi("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz");Mi("123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ");Mi("rpshnaf39wBUDNEGHJKLM4PQRST7VWXYZ2bcdeCg65jkm8oFqi1tuvAxyz");const po=[0,2,3,5,6,7,9,10,11],$_={encode(t){let e="";for(let n=0;n<t.length;n+=8){const r=t.subarray(n,n+8);e+=ai.encode(r).padStart(po[r.length],"1")}return e},decode(t){let e=[];for(let n=0;n<t.length;n+=11){const r=t.slice(n,n+11),s=po.indexOf(r.length),i=ai.decode(r);for(let a=0;a<i.length-s;a++)if(i[a]!==0)throw new Error("base58xmr: wrong padding");e=e.concat(Array.from(i.slice(i.length-s)))}return Uint8Array.from(e)}},oi=qe(Ge("qpzry9x8gf2tvdw0s3jn54khce6mua7l"),We("")),go=[996825010,642813549,513874426,1027748829,705979059];function un(t){const e=t>>25;let n=(t&33554431)<<5;for(let r=0;r<go.length;r++)(e>>r&1)===1&&(n^=go[r]);return n}function mo(t,e,n=1){const r=t.length;let s=1;for(let i=0;i<r;i++){const a=t.charCodeAt(i);if(a<33||a>126)throw new Error(`Invalid prefix (${t})`);s=un(s)^a>>5}s=un(s);for(let i=0;i<r;i++)s=un(s)^t.charCodeAt(i)&31;for(let i of e)s=un(s)^i;for(let i=0;i<6;i++)s=un(s);return s^=n,oi.encode(ii([s%2**30],30,5,!1))}function ul(t){const e=t==="bech32"?1:734539939,n=ht(5),r=n.decode,s=n.encode,i=ho(r);function a(c,f,d=90){if(typeof c!="string")throw new Error(`bech32.encode prefix should be string, not ${typeof c}`);if(!Array.isArray(f)||f.length&&typeof f[0]!="number")throw new Error(`bech32.encode words should be array of numbers, not ${typeof f}`);const p=c.length+7+f.length;if(d!==!1&&p>d)throw new TypeError(`Length ${p} exceeds limit ${d}`);return c=c.toLowerCase(),`${c}1${oi.encode(f)}${mo(c,f,e)}`}function o(c,f=90){if(typeof c!="string")throw new Error(`bech32.decode input should be string, not ${typeof c}`);if(c.length<8||f!==!1&&c.length>f)throw new TypeError(`Wrong string length: ${c.length} (${c}). Expected (8..${f})`);const d=c.toLowerCase();if(c!==d&&c!==c.toUpperCase())throw new Error("String must be lowercase or uppercase");c=d;const p=c.lastIndexOf("1");if(p===0||p===-1)throw new Error('Letter "1" must be present between prefix and data only');const m=c.slice(0,p),h=c.slice(p+1);if(h.length<6)throw new Error("Data must be at least 6 characters long");const g=oi.decode(h).slice(0,-6),b=mo(m,g,e);if(!h.endsWith(b))throw new Error(`Invalid checksum in ${c}: expected "${b}"`);return{prefix:m,words:g}}const u=ho(o);function l(c){const{prefix:f,words:d}=o(c,!1);return{prefix:f,words:d,bytes:r(d)}}return{encode:a,decode:o,decodeToBytes:l,decodeUnsafe:u,fromWords:r,fromWordsUnsafe:i,toWords:s}}const Tr=ul("bech32");ul("bech32m");const k_={encode:t=>new TextDecoder().decode(t),decode:t=>new TextEncoder().encode(t)},R_=qe(ht(4),Ge("0123456789abcdef"),We(""),il(t=>{if(typeof t!="string"||t.length%2)throw new TypeError(`hex.decode: expected string, got ${typeof t} with length ${t.length}`);return t.toLowerCase()})),P_={utf8:k_,hex:R_,base16:T_,base32:C_,base64:ol,base64url:A_,base58:ai,base58xmr:$_};`${Object.keys(P_).join(", ")}`;var Yn=new TextDecoder("utf-8"),I_=new TextEncoder,ll=5e3;function L_(t){const e=new Uint8Array(4);return e[0]=t>>24&255,e[1]=t>>16&255,e[2]=t>>8&255,e[3]=t&255,e}function N_(t){let{prefix:e,words:n}=Tr.decode(t,ll),r=new Uint8Array(Tr.fromWords(n));switch(e){case"nprofile":{let s=_s(r);if(!s[0]?.[0])throw new Error("missing TLV 0 for nprofile");if(s[0][0].length!==32)throw new Error("TLV 0 should be 32 bytes");return{type:"nprofile",data:{pubkey:Se(s[0][0]),relays:s[1]?s[1].map(i=>Yn.decode(i)):[]}}}case"nevent":{let s=_s(r);if(!s[0]?.[0])throw new Error("missing TLV 0 for nevent");if(s[0][0].length!==32)throw new Error("TLV 0 should be 32 bytes");if(s[2]&&s[2][0].length!==32)throw new Error("TLV 2 should be 32 bytes");if(s[3]&&s[3][0].length!==4)throw new Error("TLV 3 should be 4 bytes");return{type:"nevent",data:{id:Se(s[0][0]),relays:s[1]?s[1].map(i=>Yn.decode(i)):[],author:s[2]?.[0]?Se(s[2][0]):void 0,kind:s[3]?.[0]?parseInt(Se(s[3][0]),16):void 0}}}case"naddr":{let s=_s(r);if(!s[0]?.[0])throw new Error("missing TLV 0 for naddr");if(!s[2]?.[0])throw new Error("missing TLV 2 for naddr");if(s[2][0].length!==32)throw new Error("TLV 2 should be 32 bytes");if(!s[3]?.[0])throw new Error("missing TLV 3 for naddr");if(s[3][0].length!==4)throw new Error("TLV 3 should be 4 bytes");return{type:"naddr",data:{identifier:Yn.decode(s[0][0]),pubkey:Se(s[2][0]),kind:parseInt(Se(s[3][0]),16),relays:s[1]?s[1].map(i=>Yn.decode(i)):[]}}}case"nsec":return{type:e,data:r};case"npub":case"note":return{type:e,data:Se(r)};default:throw new Error(`unknown prefix ${e}`)}}function _s(t){let e={},n=t;for(;n.length>0;){let r=n[0],s=n[1],i=n.slice(2,2+s);if(n=n.slice(2+s),i.length<s)throw new Error(`not enough data to read on TLV ${r}`);e[r]=e[r]||[],e[r].push(i)}return e}function IO(t){return fl("npub",Er(t))}function LO(t){return fl("note",Er(t))}function cl(t,e){let n=Tr.toWords(e);return Tr.encode(t,n,ll)}function fl(t,e){return cl(t,e)}function NO(t){let e;t.kind!==void 0&&(e=L_(t.kind));let n=j_({0:[Er(t.id)],1:(t.relays||[]).map(r=>I_.encode(r)),2:t.author?[Er(t.author)]:[],3:e?[new Uint8Array(e)]:[]});return cl("nevent",n)}function j_(t){let e=[];return Object.entries(t).reverse().forEach(([n,r])=>{r.forEach(s=>{let i=new Uint8Array(s.length+2);i.set([parseInt(n)],0),i.set([s.length],1),i.set(s,2),e.push(i)})}),S_(...e)}const U_=["reply","root","mention"],D_=/(?<url>(?:https?|wss?):\/\/[-a-zA-Z0-9.]+(:\d{1,5})?(?:\/[-[\]~!$&'()*+.,:;@&=%\w]+|\/)*(?:\?[-[\]~!$&'()*+.,/:;%@&=\w?]+)?(?:#[-[\]~!$&'()*+.,/:;%@\w&=?#]+)?)/g,M_=/(?:#\[(?<idx>\d+)\])/g,F_=/(?<mention>(?<nip19>nostr:)?(?<bech32>(?:npub|note|nprofile|nevent|naddr)1[ac-hj-np-z02-9]+))/gi,B_=/#(?<hashtag>[\p{Letter}\p{Number}_]+)/gu,H_=/:(?<emoji>\w+):/gu,Z_=t=>{const e=[...t.matchAll(D_),...t.matchAll(M_),...t.matchAll(F_),...t.matchAll(B_),...t.matchAll(H_)].sort((i,a)=>i.index-a.index);let n=0;const r=[],s=i=>{if(i!=null&&i>n){const a=t.slice(n,i),o=r[r.length-1];if(o?.type==="PlainText")o.content+=a;else{const u={type:"PlainText",content:a};r.push(u)}n=i}};return e.forEach(i=>{const{index:a}=i;if(!(a<n)){if(i.groups?.url){s(a);const o={type:"URL",content:i.groups?.url};r.push(o)}else if(i.groups?.idx){const o=parseInt(i.groups.idx,10);s(a),r.push({type:"TagReference",tagIndex:o,content:i[0]})}else if(i.groups?.mention){s(a);try{const o=N_(i.groups.bech32),u={type:"Bech32Entity",content:i[0],data:o,isNIP19:i.groups.nip19==="nostr:"};if((o.type==="npub"||o.type==="note")&&!xe(o.data)||o.type==="nprofile"&&!xe(o.data.pubkey)||o.type==="nevent"&&!(xe(o.data.id)&&(o.data.author==null||xe(o.data.author)))||o.type==="naddr"&&!xe(o.data.pubkey)||o.type==="nsec"&&o.data.length!==32)throw new Error("Invalid ID");r.push(u)}catch(o){console.warn(`ignored invalid bech32 entity: ${i[0]}`,o),s(a+i[0].length)}}else if(i.groups?.hashtag){s(a);const o=i.groups?.hashtag,u={type:"HashTag",content:i[0],tagName:o};r.push(u)}else if(i.groups?.emoji){s(a);const o=i.groups?.emoji,u={type:"CustomEmoji",content:i[0],shortcode:o};r.push(u)}n=a+i[0].length}}),n<t.length&&s(t.length),r},V_=t=>t==null?!1:U_.includes(t),z_=(t,{tagIndex:e,content:n})=>{const r=t.tags[e];if(r==null)return;const s=r[0];if(s==="p"&&xe(r[1]))return{type:"MentionedUser",tagIndex:e,content:n,pubkey:r[1]};if(s==="e"&&xe(r[1])){const i=V_(r[3])?r[3]:void 0;return{type:"MentionedEvent",tagIndex:e,content:n,eventId:r[1],marker:i}}},K_=(t,e)=>t.map(n=>{if(n.type==="TagReference"){const r=z_(e,n);return{...n,type:"TagReferenceResolved",reference:r}}if(n.type==="CustomEmoji"){const r=e.getEmojiUrl(n.shortcode);return{...n,type:"CustomEmojiResolved",url:r}}return n}),q_=t=>{const e=t.map((r,s)=>[r,s]).filter(([[r,s]])=>r==="e"&&xe(s)),n=(r,s)=>r==="root"||r==="reply"||r==="mention"?r:e.length===1?"reply":s===0?"root":e.length===2||s===e.length-1?"reply":"mention";return e.map(([[,r,s,i],a],o)=>({id:r,relayUrl:(s?.length??0)>0?s:null,marker:n(i,o),index:a}))};class G_ extends Ui{#e;#t;parsed(){if(this.#t!=null)return this.#t;const e=Z_(this.content),n=K_(e,this);return this.#t=n,n}markedEventTags(){return this.#e!=null?this.#e:(this.#e=q_(this.tags),this.#e)}replyingToEvent(){return this.markedEventTags().find(({marker:e})=>e==="reply")}rootEvent(){return this.markedEventTags().find(({marker:e})=>e==="root")}mentionedEvents(){return this.markedEventTags().filter(({marker:e})=>e==="mention")}contentWarning(){const e=this.findLastTagByName("content-warning");return e==null?{contentWarning:!1}:{contentWarning:!0,reason:(e[1]?.length??0)>0?e[1]:void 0}}containsEventMention(e){const n=this.rawEvent.tags.findIndex(([r,s])=>r==="e"&&s===e);return this.containsEventNote(e)||this.containsEventMentionIndex(n)}containsEventMentionIndex(e){return e<0||e>=this.rawEvent.tags.length?!1:this.parsed().some(n=>n.type==="TagReferenceResolved"&&n.tagIndex===e)}containsEventNote(e){return this.parsed().some(n=>n.type==="Bech32Entity"&&(n.data.type==="nevent"&&n.data.data.id===e||n.data.type==="note"&&n.data.data===e))}}class W_ extends G_{constructor(e){if(e.kind!==Xs)throw new TypeError(`kind should be 1 but it was ${e.kind}`);super(e)}}const Q_=t=>new Ui(t),jO=t=>new W_(t),UO=t=>new v_(t);function ui(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}function J_(t){if(typeof t!="boolean")throw new Error(`Expected boolean, not ${t}`)}function dl(t,...e){if(!(t instanceof Uint8Array))throw new Error("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new Error(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}function Y_(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");ui(t.outputLen),ui(t.blockLen)}function X_(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function eS(t,e){dl(t);const n=e.outputLen;if(t.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}const Ss={number:ui,bool:J_,bytes:dl,hash:Y_,exists:X_,output:eS};function tS(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const s=BigInt(32),i=BigInt(4294967295),a=Number(n>>s&i),o=Number(n&i),u=r?4:0,l=r?0:4;t.setUint32(e+u,a,r),t.setUint32(e+l,o,r)}let nS=class extends E_{constructor(e,n,r,s){super(),this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=s,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=xs(this.buffer)}update(e){Ss.exists(this);const{view:n,buffer:r,blockLen:s}=this;e=rl(e);const i=e.length;for(let a=0;a<i;){const o=Math.min(s-this.pos,i-a);if(o===s){const u=xs(e);for(;s<=i-a;a+=s)this.process(u,a);continue}r.set(e.subarray(a,a+o),this.pos),this.pos+=o,a+=o,this.pos===s&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){Ss.exists(this),Ss.output(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:s,isLE:i}=this;let{pos:a}=this;n[a++]=128,this.buffer.subarray(a).fill(0),this.padOffset>s-a&&(this.process(r,0),a=0);for(let f=a;f<s;f++)n[f]=0;tS(r,s-8,BigInt(this.length*8),i),this.process(r,0);const o=xs(e),u=this.outputLen;if(u%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const l=u/4,c=this.get();if(l>c.length)throw new Error("_sha2: outputLen bigger than state");for(let f=0;f<l;f++)o.setUint32(4*f,c[f],i)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:s,finished:i,destroyed:a,pos:o}=this;return e.length=s,e.pos=o,e.finished=i,e.destroyed=a,s%n&&e.buffer.set(r),e}};const rS=(t,e,n)=>t&e^~t&n,sS=(t,e,n)=>t&e^t&n^e&n,iS=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Ye=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Xe=new Uint32Array(64);let hl=class extends nS{constructor(){super(64,32,8,!1),this.A=Ye[0]|0,this.B=Ye[1]|0,this.C=Ye[2]|0,this.D=Ye[3]|0,this.E=Ye[4]|0,this.F=Ye[5]|0,this.G=Ye[6]|0,this.H=Ye[7]|0}get(){const{A:e,B:n,C:r,D:s,E:i,F:a,G:o,H:u}=this;return[e,n,r,s,i,a,o,u]}set(e,n,r,s,i,a,o,u){this.A=e|0,this.B=n|0,this.C=r|0,this.D=s|0,this.E=i|0,this.F=a|0,this.G=o|0,this.H=u|0}process(e,n){for(let f=0;f<16;f++,n+=4)Xe[f]=e.getUint32(n,!1);for(let f=16;f<64;f++){const d=Xe[f-15],p=Xe[f-2],m=Re(d,7)^Re(d,18)^d>>>3,h=Re(p,17)^Re(p,19)^p>>>10;Xe[f]=h+Xe[f-7]+m+Xe[f-16]|0}let{A:r,B:s,C:i,D:a,E:o,F:u,G:l,H:c}=this;for(let f=0;f<64;f++){const d=Re(o,6)^Re(o,11)^Re(o,25),p=c+d+rS(o,u,l)+iS[f]+Xe[f]|0,h=(Re(r,2)^Re(r,13)^Re(r,22))+sS(r,s,i)|0;c=l,l=u,u=o,o=a+p|0,a=i,i=s,s=r,r=p+h|0}r=r+this.A|0,s=s+this.B|0,i=i+this.C|0,a=a+this.D|0,o=o+this.E|0,u=u+this.F|0,l=l+this.G|0,c=c+this.H|0,this.set(r,s,i,a,o,u,l,c)}roundClean(){Xe.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}};class aS extends hl{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}}const pl=sl(()=>new hl),oS=sl(()=>new aS),FO=Object.freeze(Object.defineProperty({__proto__:null,sha224:oS,sha256:pl},Symbol.toStringTag,{value:"Module"}));function uS(t){return!(!t.api_url||t.delegated_to_url&&t.api_url)}async function lS(t){const e="/.well-known/nostr/nip96.json";let n="";try{const{origin:r}=new URL(t);n=r+e}catch{throw new Error("Invalid URL")}try{const r=await fetch(n);if(!r.ok)throw new Error(`Error fetching ${n}: ${r.statusText}`);const s=await r.json();if(!s)throw new Error("No data");if(!uS(s))throw new Error("Invalid configuration data");return s}catch{throw new Error("Error fetching.")}}function cS(t){if(typeof t!="object"||t===null||!t.status||!t.message||t.status!=="success"&&t.status!=="error"&&t.status!=="processing"||typeof t.message!="string"||t.status==="processing"&&!t.processing_url||t.processing_url&&typeof t.processing_url!="string"||t.status==="success"&&!t.nip94_event)return!1;if(t.nip94_event){if(!t.nip94_event.tags||!Array.isArray(t.nip94_event.tags)||t.nip94_event.tags.length===0)return!1;for(const e of t.nip94_event.tags)if(!Array.isArray(e)||e.length!==2||typeof e[0]!="string"||typeof e[1]!="string")return!1;if(!t.nip94_event.tags.find(e=>e[0]==="url")||!t.nip94_event.tags.find(e=>e[0]==="ox"))return!1}return!0}function fS(t){return!(typeof t!="object"||t===null||!t.status||!t.message||!t.percentage||t.status!=="processing"&&t.status!=="error"||typeof t.message!="string"||typeof t.percentage!="number"||Number(t.percentage)<0||Number(t.percentage)>100)}async function dS(t){const e=await fetch(t);if(!e.ok)throw new Error(`Failed to retrieve processing status. Server responded with status: ${e.status}`);try{const n=await e.json();if(e.status===201){if(!cS(n))throw new Error("Invalid response from the server!");return n}if(e.status===200){if(!fS(n))throw new Error("Invalid response from the server!");return n}throw new Error("Invalid response from the server!")}catch{throw new Error("Error parsing JSON response!")}}function yo(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}function gl(t,...e){if(!(t instanceof Uint8Array))throw new Error("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new Error(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}function hS(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");yo(t.outputLen),yo(t.blockLen)}function Cr(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function pS(t,e){gl(t);const n=e.outputLen;if(t.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}const Es=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const ml=t=>t instanceof Uint8Array,Os=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),Pe=(t,e)=>t<<32-e|t>>>e,gS=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!gS)throw new Error("Non little-endian hardware is not supported");function mS(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function Fi(t){if(typeof t=="string"&&(t=mS(t)),!ml(t))throw new Error(`expected Uint8Array, got ${typeof t}`);return t}function yS(...t){const e=new Uint8Array(t.reduce((r,s)=>r+s.length,0));let n=0;return t.forEach(r=>{if(!ml(r))throw new Error("Uint8Array expected");e.set(r,n),n+=r.length}),e}class yl{clone(){return this._cloneInto()}}function bS(t){const e=r=>t().update(Fi(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function bl(t=32){if(Es&&typeof Es.getRandomValues=="function")return Es.getRandomValues(new Uint8Array(t));throw new Error("crypto.getRandomValues must be defined")}function vS(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const s=BigInt(32),i=BigInt(4294967295),a=Number(n>>s&i),o=Number(n&i),u=r?4:0,l=r?0:4;t.setUint32(e+u,a,r),t.setUint32(e+l,o,r)}class wS extends yl{constructor(e,n,r,s){super(),this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=s,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=Os(this.buffer)}update(e){Cr(this);const{view:n,buffer:r,blockLen:s}=this;e=Fi(e);const i=e.length;for(let a=0;a<i;){const o=Math.min(s-this.pos,i-a);if(o===s){const u=Os(e);for(;s<=i-a;a+=s)this.process(u,a);continue}r.set(e.subarray(a,a+o),this.pos),this.pos+=o,a+=o,this.pos===s&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){Cr(this),pS(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:s,isLE:i}=this;let{pos:a}=this;n[a++]=128,this.buffer.subarray(a).fill(0),this.padOffset>s-a&&(this.process(r,0),a=0);for(let f=a;f<s;f++)n[f]=0;vS(r,s-8,BigInt(this.length*8),i),this.process(r,0);const o=Os(e),u=this.outputLen;if(u%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const l=u/4,c=this.get();if(l>c.length)throw new Error("_sha2: outputLen bigger than state");for(let f=0;f<l;f++)o.setUint32(4*f,c[f],i)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:s,finished:i,destroyed:a,pos:o}=this;return e.length=s,e.pos=o,e.finished=i,e.destroyed=a,s%n&&e.buffer.set(r),e}}const xS=(t,e,n)=>t&e^~t&n,_S=(t,e,n)=>t&e^t&n^e&n,SS=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),et=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),tt=new Uint32Array(64);class ES extends wS{constructor(){super(64,32,8,!1),this.A=et[0]|0,this.B=et[1]|0,this.C=et[2]|0,this.D=et[3]|0,this.E=et[4]|0,this.F=et[5]|0,this.G=et[6]|0,this.H=et[7]|0}get(){const{A:e,B:n,C:r,D:s,E:i,F:a,G:o,H:u}=this;return[e,n,r,s,i,a,o,u]}set(e,n,r,s,i,a,o,u){this.A=e|0,this.B=n|0,this.C=r|0,this.D=s|0,this.E=i|0,this.F=a|0,this.G=o|0,this.H=u|0}process(e,n){for(let f=0;f<16;f++,n+=4)tt[f]=e.getUint32(n,!1);for(let f=16;f<64;f++){const d=tt[f-15],p=tt[f-2],m=Pe(d,7)^Pe(d,18)^d>>>3,h=Pe(p,17)^Pe(p,19)^p>>>10;tt[f]=h+tt[f-7]+m+tt[f-16]|0}let{A:r,B:s,C:i,D:a,E:o,F:u,G:l,H:c}=this;for(let f=0;f<64;f++){const d=Pe(o,6)^Pe(o,11)^Pe(o,25),p=c+d+xS(o,u,l)+SS[f]+tt[f]|0,h=(Pe(r,2)^Pe(r,13)^Pe(r,22))+_S(r,s,i)|0;c=l,l=u,u=o,o=a+p|0,a=i,i=s,s=r,r=p+h|0}r=r+this.A|0,s=s+this.B|0,i=i+this.C|0,a=a+this.D|0,o=o+this.E|0,u=u+this.F|0,l=l+this.G|0,c=c+this.H|0,this.set(r,s,i,a,o,u,l,c)}roundClean(){tt.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const li=bS(()=>new ES);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const vl=BigInt(0),Yr=BigInt(1),OS=BigInt(2),Xr=t=>t instanceof Uint8Array,TS=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function zt(t){if(!Xr(t))throw new Error("Uint8Array expected");let e="";for(let n=0;n<t.length;n++)e+=TS[t[n]];return e}function wl(t){const e=t.toString(16);return e.length&1?`0${e}`:e}function Bi(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return BigInt(t===""?"0":`0x${t}`)}function Kt(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);const e=t.length;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);const n=new Uint8Array(e/2);for(let r=0;r<n.length;r++){const s=r*2,i=t.slice(s,s+2),a=Number.parseInt(i,16);if(Number.isNaN(a)||a<0)throw new Error("Invalid byte sequence");n[r]=a}return n}function ge(t){return Bi(zt(t))}function Hi(t){if(!Xr(t))throw new Error("Uint8Array expected");return Bi(zt(Uint8Array.from(t).reverse()))}function ft(t,e){return Kt(t.toString(16).padStart(e*2,"0"))}function Zi(t,e){return ft(t,e).reverse()}function CS(t){return Kt(wl(t))}function ce(t,e,n){let r;if(typeof e=="string")try{r=Kt(e)}catch(i){throw new Error(`${t} must be valid hex string, got "${e}". Cause: ${i}`)}else if(Xr(e))r=Uint8Array.from(e);else throw new Error(`${t} must be hex string or Uint8Array`);const s=r.length;if(typeof n=="number"&&s!==n)throw new Error(`${t} expected ${n} bytes, got ${s}`);return r}function Tt(...t){const e=new Uint8Array(t.reduce((r,s)=>r+s.length,0));let n=0;return t.forEach(r=>{if(!Xr(r))throw new Error("Uint8Array expected");e.set(r,n),n+=r.length}),e}function AS(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function $S(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function kS(t){let e;for(e=0;t>vl;t>>=Yr,e+=1);return e}function RS(t,e){return t>>BigInt(e)&Yr}const PS=(t,e,n)=>t|(n?Yr:vl)<<BigInt(e),Vi=t=>(OS<<BigInt(t-1))-Yr,Ts=t=>new Uint8Array(t),bo=t=>Uint8Array.from(t);function xl(t,e,n){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");let r=Ts(t),s=Ts(t),i=0;const a=()=>{r.fill(1),s.fill(0),i=0},o=(...f)=>n(s,r,...f),u=(f=Ts())=>{s=o(bo([0]),f),r=o(),f.length!==0&&(s=o(bo([1]),f),r=o())},l=()=>{if(i++>=1e3)throw new Error("drbg: tried 1000 values");let f=0;const d=[];for(;f<e;){r=o();const p=r.slice();d.push(p),f+=r.length}return Tt(...d)};return(f,d)=>{a(),u(f);let p;for(;!(p=d(l()));)u();return a(),p}}const IS={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||t instanceof Uint8Array,isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function Vn(t,e,n={}){const r=(s,i,a)=>{const o=IS[i];if(typeof o!="function")throw new Error(`Invalid validator "${i}", expected function`);const u=t[s];if(!(a&&u===void 0)&&!o(u,t))throw new Error(`Invalid param ${String(s)}=${u} (${typeof u}), expected ${i}`)};for(const[s,i]of Object.entries(e))r(s,i,!1);for(const[s,i]of Object.entries(n))r(s,i,!0);return t}const LS=Object.freeze(Object.defineProperty({__proto__:null,bitGet:RS,bitLen:kS,bitMask:Vi,bitSet:PS,bytesToHex:zt,bytesToNumberBE:ge,bytesToNumberLE:Hi,concatBytes:Tt,createHmacDrbg:xl,ensureBytes:ce,equalBytes:AS,hexToBytes:Kt,hexToNumber:Bi,numberToBytesBE:ft,numberToBytesLE:Zi,numberToHexUnpadded:wl,numberToVarBytesBE:CS,utf8ToBytes:$S,validateObject:Vn},Symbol.toStringTag,{value:"Module"}));/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const ae=BigInt(0),te=BigInt(1),yt=BigInt(2),NS=BigInt(3),ci=BigInt(4),vo=BigInt(5),wo=BigInt(8);BigInt(9);BigInt(16);function oe(t,e){const n=t%e;return n>=ae?n:e+n}function jS(t,e,n){if(n<=ae||e<ae)throw new Error("Expected power/modulo > 0");if(n===te)return ae;let r=te;for(;e>ae;)e&te&&(r=r*t%n),t=t*t%n,e>>=te;return r}function ye(t,e,n){let r=t;for(;e-- >ae;)r*=r,r%=n;return r}function fi(t,e){if(t===ae||e<=ae)throw new Error(`invert: expected positive integers, got n=${t} mod=${e}`);let n=oe(t,e),r=e,s=ae,i=te;for(;n!==ae;){const o=r/n,u=r%n,l=s-i*o;r=n,n=u,s=i,i=l}if(r!==te)throw new Error("invert: does not exist");return oe(s,e)}function US(t){const e=(t-te)/yt;let n,r,s;for(n=t-te,r=0;n%yt===ae;n/=yt,r++);for(s=yt;s<t&&jS(s,e,t)!==t-te;s++);if(r===1){const a=(t+te)/ci;return function(u,l){const c=u.pow(l,a);if(!u.eql(u.sqr(c),l))throw new Error("Cannot find square root");return c}}const i=(n+te)/yt;return function(o,u){if(o.pow(u,e)===o.neg(o.ONE))throw new Error("Cannot find square root");let l=r,c=o.pow(o.mul(o.ONE,s),n),f=o.pow(u,i),d=o.pow(u,n);for(;!o.eql(d,o.ONE);){if(o.eql(d,o.ZERO))return o.ZERO;let p=1;for(let h=o.sqr(d);p<l&&!o.eql(h,o.ONE);p++)h=o.sqr(h);const m=o.pow(c,te<<BigInt(l-p-1));c=o.sqr(m),f=o.mul(f,m),d=o.mul(d,c),l=p}return f}}function DS(t){if(t%ci===NS){const e=(t+te)/ci;return function(r,s){const i=r.pow(s,e);if(!r.eql(r.sqr(i),s))throw new Error("Cannot find square root");return i}}if(t%wo===vo){const e=(t-vo)/wo;return function(r,s){const i=r.mul(s,yt),a=r.pow(i,e),o=r.mul(s,a),u=r.mul(r.mul(o,yt),a),l=r.mul(o,r.sub(u,r.ONE));if(!r.eql(r.sqr(l),s))throw new Error("Cannot find square root");return l}}return US(t)}const MS=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function FS(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=MS.reduce((r,s)=>(r[s]="function",r),e);return Vn(t,n)}function BS(t,e,n){if(n<ae)throw new Error("Expected power > 0");if(n===ae)return t.ONE;if(n===te)return e;let r=t.ONE,s=e;for(;n>ae;)n&te&&(r=t.mul(r,s)),s=t.sqr(s),n>>=te;return r}function HS(t,e){const n=new Array(e.length),r=e.reduce((i,a,o)=>t.is0(a)?i:(n[o]=i,t.mul(i,a)),t.ONE),s=t.inv(r);return e.reduceRight((i,a,o)=>t.is0(a)?i:(n[o]=t.mul(i,n[o]),t.mul(i,a)),s),n}function _l(t,e){const n=e!==void 0?e:t.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function ZS(t,e,n=!1,r={}){if(t<=ae)throw new Error(`Expected Field ORDER > 0, got ${t}`);const{nBitLength:s,nByteLength:i}=_l(t,e);if(i>2048)throw new Error("Field lengths over 2048 bytes are not supported");const a=DS(t),o=Object.freeze({ORDER:t,BITS:s,BYTES:i,MASK:Vi(s),ZERO:ae,ONE:te,create:u=>oe(u,t),isValid:u=>{if(typeof u!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof u}`);return ae<=u&&u<t},is0:u=>u===ae,isOdd:u=>(u&te)===te,neg:u=>oe(-u,t),eql:(u,l)=>u===l,sqr:u=>oe(u*u,t),add:(u,l)=>oe(u+l,t),sub:(u,l)=>oe(u-l,t),mul:(u,l)=>oe(u*l,t),pow:(u,l)=>BS(o,u,l),div:(u,l)=>oe(u*fi(l,t),t),sqrN:u=>u*u,addN:(u,l)=>u+l,subN:(u,l)=>u-l,mulN:(u,l)=>u*l,inv:u=>fi(u,t),sqrt:r.sqrt||(u=>a(o,u)),invertBatch:u=>HS(o,u),cmov:(u,l,c)=>c?l:u,toBytes:u=>n?Zi(u,i):ft(u,i),fromBytes:u=>{if(u.length!==i)throw new Error(`Fp.fromBytes: expected ${i}, got ${u.length}`);return n?Hi(u):ge(u)}});return Object.freeze(o)}function Sl(t){if(typeof t!="bigint")throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function El(t){const e=Sl(t);return e+Math.ceil(e/2)}function VS(t,e,n=!1){const r=t.length,s=Sl(e),i=El(e);if(r<16||r<i||r>1024)throw new Error(`expected ${i}-1024 bytes of input, got ${r}`);const a=n?ge(t):Hi(t),o=oe(a,e-te)+te;return n?Zi(o,s):ft(o,s)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const zS=BigInt(0),Cs=BigInt(1);function KS(t,e){const n=(s,i)=>{const a=i.negate();return s?a:i},r=s=>{const i=Math.ceil(e/s)+1,a=2**(s-1);return{windows:i,windowSize:a}};return{constTimeNegate:n,unsafeLadder(s,i){let a=t.ZERO,o=s;for(;i>zS;)i&Cs&&(a=a.add(o)),o=o.double(),i>>=Cs;return a},precomputeWindow(s,i){const{windows:a,windowSize:o}=r(i),u=[];let l=s,c=l;for(let f=0;f<a;f++){c=l,u.push(c);for(let d=1;d<o;d++)c=c.add(l),u.push(c);l=c.double()}return u},wNAF(s,i,a){const{windows:o,windowSize:u}=r(s);let l=t.ZERO,c=t.BASE;const f=BigInt(2**s-1),d=2**s,p=BigInt(s);for(let m=0;m<o;m++){const h=m*u;let g=Number(a&f);a>>=p,g>u&&(g-=d,a+=Cs);const b=h,v=h+Math.abs(g)-1,A=m%2!==0,w=g<0;g===0?c=c.add(n(A,i[b])):l=l.add(n(w,i[v]))}return{p:l,f:c}},wNAFCached(s,i,a,o){const u=s._WINDOW_SIZE||1;let l=i.get(s);return l||(l=this.precomputeWindow(s,u),u!==1&&i.set(s,o(l))),this.wNAF(u,l,a)}}}function Ol(t){return FS(t.Fp),Vn(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({..._l(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function qS(t){const e=Ol(t);Vn(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:n,Fp:r,a:s}=e;if(n){if(!r.eql(s,r.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof n!="object"||typeof n.beta!="bigint"||typeof n.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...e})}const{bytesToNumberBE:GS,hexToBytes:WS}=LS,bt={Err:class extends Error{constructor(e=""){super(e)}},_parseInt(t){const{Err:e}=bt;if(t.length<2||t[0]!==2)throw new e("Invalid signature integer tag");const n=t[1],r=t.subarray(2,n+2);if(!n||r.length!==n)throw new e("Invalid signature integer: wrong length");if(r[0]&128)throw new e("Invalid signature integer: negative");if(r[0]===0&&!(r[1]&128))throw new e("Invalid signature integer: unnecessary leading zero");return{d:GS(r),l:t.subarray(n+2)}},toSig(t){const{Err:e}=bt,n=typeof t=="string"?WS(t):t;if(!(n instanceof Uint8Array))throw new Error("ui8a expected");let r=n.length;if(r<2||n[0]!=48)throw new e("Invalid signature tag");if(n[1]!==r-2)throw new e("Invalid signature: incorrect length");const{d:s,l:i}=bt._parseInt(n.subarray(2)),{d:a,l:o}=bt._parseInt(i);if(o.length)throw new e("Invalid signature: left bytes after parsing");return{r:s,s:a}},hexFromSig(t){const e=l=>Number.parseInt(l[0],16)&8?"00"+l:l,n=l=>{const c=l.toString(16);return c.length&1?`0${c}`:c},r=e(n(t.s)),s=e(n(t.r)),i=r.length/2,a=s.length/2,o=n(i),u=n(a);return`30${n(a+i+4)}02${u}${s}02${o}${r}`}},Ve=BigInt(0),we=BigInt(1);BigInt(2);const xo=BigInt(3);BigInt(4);function QS(t){const e=qS(t),{Fp:n}=e,r=e.toBytes||((m,h,g)=>{const b=h.toAffine();return Tt(Uint8Array.from([4]),n.toBytes(b.x),n.toBytes(b.y))}),s=e.fromBytes||(m=>{const h=m.subarray(1),g=n.fromBytes(h.subarray(0,n.BYTES)),b=n.fromBytes(h.subarray(n.BYTES,2*n.BYTES));return{x:g,y:b}});function i(m){const{a:h,b:g}=e,b=n.sqr(m),v=n.mul(b,m);return n.add(n.add(v,n.mul(m,h)),g)}if(!n.eql(n.sqr(e.Gy),i(e.Gx)))throw new Error("bad generator point: equation left != right");function a(m){return typeof m=="bigint"&&Ve<m&&m<e.n}function o(m){if(!a(m))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function u(m){const{allowedPrivateKeyLengths:h,nByteLength:g,wrapPrivateKey:b,n:v}=e;if(h&&typeof m!="bigint"){if(m instanceof Uint8Array&&(m=zt(m)),typeof m!="string"||!h.includes(m.length))throw new Error("Invalid key");m=m.padStart(g*2,"0")}let A;try{A=typeof m=="bigint"?m:ge(ce("private key",m,g))}catch{throw new Error(`private key must be ${g} bytes, hex or bigint, not ${typeof m}`)}return b&&(A=oe(A,v)),o(A),A}const l=new Map;function c(m){if(!(m instanceof f))throw new Error("ProjectivePoint expected")}class f{constructor(h,g,b){if(this.px=h,this.py=g,this.pz=b,h==null||!n.isValid(h))throw new Error("x required");if(g==null||!n.isValid(g))throw new Error("y required");if(b==null||!n.isValid(b))throw new Error("z required")}static fromAffine(h){const{x:g,y:b}=h||{};if(!h||!n.isValid(g)||!n.isValid(b))throw new Error("invalid affine point");if(h instanceof f)throw new Error("projective point not allowed");const v=A=>n.eql(A,n.ZERO);return v(g)&&v(b)?f.ZERO:new f(g,b,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(h){const g=n.invertBatch(h.map(b=>b.pz));return h.map((b,v)=>b.toAffine(g[v])).map(f.fromAffine)}static fromHex(h){const g=f.fromAffine(s(ce("pointHex",h)));return g.assertValidity(),g}static fromPrivateKey(h){return f.BASE.multiply(u(h))}_setWindowSize(h){this._WINDOW_SIZE=h,l.delete(this)}assertValidity(){if(this.is0()){if(e.allowInfinityPoint&&!n.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:h,y:g}=this.toAffine();if(!n.isValid(h)||!n.isValid(g))throw new Error("bad point: x or y not FE");const b=n.sqr(g),v=i(h);if(!n.eql(b,v))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:h}=this.toAffine();if(n.isOdd)return!n.isOdd(h);throw new Error("Field doesn't support isOdd")}equals(h){c(h);const{px:g,py:b,pz:v}=this,{px:A,py:w,pz:_}=h,O=n.eql(n.mul(g,_),n.mul(A,v)),C=n.eql(n.mul(b,_),n.mul(w,v));return O&&C}negate(){return new f(this.px,n.neg(this.py),this.pz)}double(){const{a:h,b:g}=e,b=n.mul(g,xo),{px:v,py:A,pz:w}=this;let _=n.ZERO,O=n.ZERO,C=n.ZERO,L=n.mul(v,v),F=n.mul(A,A),N=n.mul(w,w),R=n.mul(v,A);return R=n.add(R,R),C=n.mul(v,w),C=n.add(C,C),_=n.mul(h,C),O=n.mul(b,N),O=n.add(_,O),_=n.sub(F,O),O=n.add(F,O),O=n.mul(_,O),_=n.mul(R,_),C=n.mul(b,C),N=n.mul(h,N),R=n.sub(L,N),R=n.mul(h,R),R=n.add(R,C),C=n.add(L,L),L=n.add(C,L),L=n.add(L,N),L=n.mul(L,R),O=n.add(O,L),N=n.mul(A,w),N=n.add(N,N),L=n.mul(N,R),_=n.sub(_,L),C=n.mul(N,F),C=n.add(C,C),C=n.add(C,C),new f(_,O,C)}add(h){c(h);const{px:g,py:b,pz:v}=this,{px:A,py:w,pz:_}=h;let O=n.ZERO,C=n.ZERO,L=n.ZERO;const F=e.a,N=n.mul(e.b,xo);let R=n.mul(g,A),Y=n.mul(b,w),ie=n.mul(v,_),x=n.add(g,b),y=n.add(A,w);x=n.mul(x,y),y=n.add(R,Y),x=n.sub(x,y),y=n.add(g,v);let S=n.add(A,_);return y=n.mul(y,S),S=n.add(R,ie),y=n.sub(y,S),S=n.add(b,v),O=n.add(w,_),S=n.mul(S,O),O=n.add(Y,ie),S=n.sub(S,O),L=n.mul(F,y),O=n.mul(N,ie),L=n.add(O,L),O=n.sub(Y,L),L=n.add(Y,L),C=n.mul(O,L),Y=n.add(R,R),Y=n.add(Y,R),ie=n.mul(F,ie),y=n.mul(N,y),Y=n.add(Y,ie),ie=n.sub(R,ie),ie=n.mul(F,ie),y=n.add(y,ie),R=n.mul(Y,y),C=n.add(C,R),R=n.mul(S,y),O=n.mul(x,O),O=n.sub(O,R),R=n.mul(x,Y),L=n.mul(S,L),L=n.add(L,R),new f(O,C,L)}subtract(h){return this.add(h.negate())}is0(){return this.equals(f.ZERO)}wNAF(h){return p.wNAFCached(this,l,h,g=>{const b=n.invertBatch(g.map(v=>v.pz));return g.map((v,A)=>v.toAffine(b[A])).map(f.fromAffine)})}multiplyUnsafe(h){const g=f.ZERO;if(h===Ve)return g;if(o(h),h===we)return this;const{endo:b}=e;if(!b)return p.unsafeLadder(this,h);let{k1neg:v,k1:A,k2neg:w,k2:_}=b.splitScalar(h),O=g,C=g,L=this;for(;A>Ve||_>Ve;)A&we&&(O=O.add(L)),_&we&&(C=C.add(L)),L=L.double(),A>>=we,_>>=we;return v&&(O=O.negate()),w&&(C=C.negate()),C=new f(n.mul(C.px,b.beta),C.py,C.pz),O.add(C)}multiply(h){o(h);let g=h,b,v;const{endo:A}=e;if(A){const{k1neg:w,k1:_,k2neg:O,k2:C}=A.splitScalar(g);let{p:L,f:F}=this.wNAF(_),{p:N,f:R}=this.wNAF(C);L=p.constTimeNegate(w,L),N=p.constTimeNegate(O,N),N=new f(n.mul(N.px,A.beta),N.py,N.pz),b=L.add(N),v=F.add(R)}else{const{p:w,f:_}=this.wNAF(g);b=w,v=_}return f.normalizeZ([b,v])[0]}multiplyAndAddUnsafe(h,g,b){const v=f.BASE,A=(_,O)=>O===Ve||O===we||!_.equals(v)?_.multiplyUnsafe(O):_.multiply(O),w=A(this,g).add(A(h,b));return w.is0()?void 0:w}toAffine(h){const{px:g,py:b,pz:v}=this,A=this.is0();h==null&&(h=A?n.ONE:n.inv(v));const w=n.mul(g,h),_=n.mul(b,h),O=n.mul(v,h);if(A)return{x:n.ZERO,y:n.ZERO};if(!n.eql(O,n.ONE))throw new Error("invZ was invalid");return{x:w,y:_}}isTorsionFree(){const{h,isTorsionFree:g}=e;if(h===we)return!0;if(g)return g(f,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h,clearCofactor:g}=e;return h===we?this:g?g(f,this):this.multiplyUnsafe(e.h)}toRawBytes(h=!0){return this.assertValidity(),r(f,this,h)}toHex(h=!0){return zt(this.toRawBytes(h))}}f.BASE=new f(e.Gx,e.Gy,n.ONE),f.ZERO=new f(n.ZERO,n.ONE,n.ZERO);const d=e.nBitLength,p=KS(f,e.endo?Math.ceil(d/2):d);return{CURVE:e,ProjectivePoint:f,normPrivateKeyToScalar:u,weierstrassEquation:i,isWithinCurveOrder:a}}function JS(t){const e=Ol(t);return Vn(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function YS(t){const e=JS(t),{Fp:n,n:r}=e,s=n.BYTES+1,i=2*n.BYTES+1;function a(y){return Ve<y&&y<n.ORDER}function o(y){return oe(y,r)}function u(y){return fi(y,r)}const{ProjectivePoint:l,normPrivateKeyToScalar:c,weierstrassEquation:f,isWithinCurveOrder:d}=QS({...e,toBytes(y,S,P){const D=S.toAffine(),M=n.toBytes(D.x),q=Tt;return P?q(Uint8Array.from([S.hasEvenY()?2:3]),M):q(Uint8Array.from([4]),M,n.toBytes(D.y))},fromBytes(y){const S=y.length,P=y[0],D=y.subarray(1);if(S===s&&(P===2||P===3)){const M=ge(D);if(!a(M))throw new Error("Point is not on curve");const q=f(M);let X=n.sqrt(q);const ne=(X&we)===we;return(P&1)===1!==ne&&(X=n.neg(X)),{x:M,y:X}}else if(S===i&&P===4){const M=n.fromBytes(D.subarray(0,n.BYTES)),q=n.fromBytes(D.subarray(n.BYTES,2*n.BYTES));return{x:M,y:q}}else throw new Error(`Point of length ${S} was invalid. Expected ${s} compressed bytes or ${i} uncompressed bytes`)}}),p=y=>zt(ft(y,e.nByteLength));function m(y){const S=r>>we;return y>S}function h(y){return m(y)?o(-y):y}const g=(y,S,P)=>ge(y.slice(S,P));class b{constructor(S,P,D){this.r=S,this.s=P,this.recovery=D,this.assertValidity()}static fromCompact(S){const P=e.nByteLength;return S=ce("compactSignature",S,P*2),new b(g(S,0,P),g(S,P,2*P))}static fromDER(S){const{r:P,s:D}=bt.toSig(ce("DER",S));return new b(P,D)}assertValidity(){if(!d(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!d(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(S){return new b(this.r,this.s,S)}recoverPublicKey(S){const{r:P,s:D,recovery:M}=this,q=C(ce("msgHash",S));if(M==null||![0,1,2,3].includes(M))throw new Error("recovery id invalid");const X=M===2||M===3?P+e.n:P;if(X>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const ne=M&1?"03":"02",_e=l.fromHex(ne+p(X)),Qe=u(X),At=o(-q*Qe),sn=o(D*Qe),Je=l.BASE.multiplyAndAddUnsafe(_e,At,sn);if(!Je)throw new Error("point at infinify");return Je.assertValidity(),Je}hasHighS(){return m(this.s)}normalizeS(){return this.hasHighS()?new b(this.r,o(-this.s),this.recovery):this}toDERRawBytes(){return Kt(this.toDERHex())}toDERHex(){return bt.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return Kt(this.toCompactHex())}toCompactHex(){return p(this.r)+p(this.s)}}const v={isValidPrivateKey(y){try{return c(y),!0}catch{return!1}},normPrivateKeyToScalar:c,randomPrivateKey:()=>{const y=El(e.n);return VS(e.randomBytes(y),e.n)},precompute(y=8,S=l.BASE){return S._setWindowSize(y),S.multiply(BigInt(3)),S}};function A(y,S=!0){return l.fromPrivateKey(y).toRawBytes(S)}function w(y){const S=y instanceof Uint8Array,P=typeof y=="string",D=(S||P)&&y.length;return S?D===s||D===i:P?D===2*s||D===2*i:y instanceof l}function _(y,S,P=!0){if(w(y))throw new Error("first arg must be private key");if(!w(S))throw new Error("second arg must be public key");return l.fromHex(S).multiply(c(y)).toRawBytes(P)}const O=e.bits2int||function(y){const S=ge(y),P=y.length*8-e.nBitLength;return P>0?S>>BigInt(P):S},C=e.bits2int_modN||function(y){return o(O(y))},L=Vi(e.nBitLength);function F(y){if(typeof y!="bigint")throw new Error("bigint expected");if(!(Ve<=y&&y<L))throw new Error(`bigint expected < 2^${e.nBitLength}`);return ft(y,e.nByteLength)}function N(y,S,P=R){if(["recovered","canonical"].some(pt=>pt in P))throw new Error("sign() legacy options not supported");const{hash:D,randomBytes:M}=e;let{lowS:q,prehash:X,extraEntropy:ne}=P;q==null&&(q=!0),y=ce("msgHash",y),X&&(y=ce("prehashed msgHash",D(y)));const _e=C(y),Qe=c(S),At=[F(Qe),F(_e)];if(ne!=null){const pt=ne===!0?M(n.BYTES):ne;At.push(ce("extraEntropy",pt))}const sn=Tt(...At),Je=_e;function rs(pt){const $t=O(pt);if(!d($t))return;const Gi=u($t),ke=l.BASE.multiply($t).toAffine(),kt=o(ke.x);if(kt===Ve)return;const zn=o(Gi*o(Je+kt*Qe));if(zn===Ve)return;let Wi=(ke.x===kt?0:2)|Number(ke.y&we),Qi=zn;return q&&m(zn)&&(Qi=h(zn),Wi^=1),new b(kt,Qi,Wi)}return{seed:sn,k2sig:rs}}const R={lowS:e.lowS,prehash:!1},Y={lowS:e.lowS,prehash:!1};function ie(y,S,P=R){const{seed:D,k2sig:M}=N(y,S,P),q=e;return xl(q.hash.outputLen,q.nByteLength,q.hmac)(D,M)}l.BASE._setWindowSize(8);function x(y,S,P,D=Y){const M=y;if(S=ce("msgHash",S),P=ce("publicKey",P),"strict"in D)throw new Error("options.strict was renamed to lowS");const{lowS:q,prehash:X}=D;let ne,_e;try{if(typeof M=="string"||M instanceof Uint8Array)try{ne=b.fromDER(M)}catch(ke){if(!(ke instanceof bt.Err))throw ke;ne=b.fromCompact(M)}else if(typeof M=="object"&&typeof M.r=="bigint"&&typeof M.s=="bigint"){const{r:ke,s:kt}=M;ne=new b(ke,kt)}else throw new Error("PARSE");_e=l.fromHex(P)}catch(ke){if(ke.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(q&&ne.hasHighS())return!1;X&&(S=e.hash(S));const{r:Qe,s:At}=ne,sn=C(S),Je=u(At),rs=o(sn*Je),pt=o(Qe*Je),$t=l.BASE.multiplyAndAddUnsafe(_e,rs,pt)?.toAffine();return $t?o($t.x)===Qe:!1}return{CURVE:e,getPublicKey:A,getSharedSecret:_,sign:ie,verify:x,ProjectivePoint:l,Signature:b,utils:v}}class Tl extends yl{constructor(e,n){super(),this.finished=!1,this.destroyed=!1,hS(e);const r=Fi(n);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const s=this.blockLen,i=new Uint8Array(s);i.set(r.length>s?e.create().update(r).digest():r);for(let a=0;a<i.length;a++)i[a]^=54;this.iHash.update(i),this.oHash=e.create();for(let a=0;a<i.length;a++)i[a]^=106;this.oHash.update(i),i.fill(0)}update(e){return Cr(this),this.iHash.update(e),this}digestInto(e){Cr(this),gl(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:s,destroyed:i,blockLen:a,outputLen:o}=this;return e=e,e.finished=s,e.destroyed=i,e.blockLen=a,e.outputLen=o,e.oHash=n._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const Cl=(t,e,n)=>new Tl(t,e).update(n).digest();Cl.create=(t,e)=>new Tl(t,e);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function XS(t){return{hash:t,hmac:(e,...n)=>Cl(t,e,yS(...n)),randomBytes:bl}}function eE(t,e){const n=r=>YS({...t,...XS(r)});return Object.freeze({...n(e),create:n})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const es=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),Ar=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),Al=BigInt(1),$r=BigInt(2),_o=(t,e)=>(t+e/$r)/e;function $l(t){const e=es,n=BigInt(3),r=BigInt(6),s=BigInt(11),i=BigInt(22),a=BigInt(23),o=BigInt(44),u=BigInt(88),l=t*t*t%e,c=l*l*t%e,f=ye(c,n,e)*c%e,d=ye(f,n,e)*c%e,p=ye(d,$r,e)*l%e,m=ye(p,s,e)*p%e,h=ye(m,i,e)*m%e,g=ye(h,o,e)*h%e,b=ye(g,u,e)*g%e,v=ye(b,o,e)*h%e,A=ye(v,n,e)*c%e,w=ye(A,a,e)*m%e,_=ye(w,r,e)*l%e,O=ye(_,$r,e);if(!di.eql(di.sqr(O),t))throw new Error("Cannot find square root");return O}const di=ZS(es,void 0,void 0,{sqrt:$l}),zi=eE({a:BigInt(0),b:BigInt(7),Fp:di,n:Ar,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:t=>{const e=Ar,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-Al*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),s=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),i=n,a=BigInt("0x100000000000000000000000000000000"),o=_o(i*t,e),u=_o(-r*t,e);let l=oe(t-o*n-u*s,e),c=oe(-o*r-u*i,e);const f=l>a,d=c>a;if(f&&(l=e-l),d&&(c=e-c),l>a||c>a)throw new Error("splitScalar: Endomorphism failed, k="+t);return{k1neg:f,k1:l,k2neg:d,k2:c}}}},li),ts=BigInt(0),kl=t=>typeof t=="bigint"&&ts<t&&t<es,tE=t=>typeof t=="bigint"&&ts<t&&t<Ar,So={};function kr(t,...e){let n=So[t];if(n===void 0){const r=li(Uint8Array.from(t,s=>s.charCodeAt(0)));n=Tt(r,r),So[t]=n}return li(Tt(n,...e))}const Ki=t=>t.toRawBytes(!0).slice(1),hi=t=>ft(t,32),As=t=>oe(t,es),Un=t=>oe(t,Ar),qi=zi.ProjectivePoint,nE=(t,e,n)=>qi.BASE.multiplyAndAddUnsafe(t,e,n);function pi(t){let e=zi.utils.normPrivateKeyToScalar(t),n=qi.fromPrivateKey(e);return{scalar:n.hasEvenY()?e:Un(-e),bytes:Ki(n)}}function Rl(t){if(!kl(t))throw new Error("bad x: need 0 < x < p");const e=As(t*t),n=As(e*t+BigInt(7));let r=$l(n);r%$r!==ts&&(r=As(-r));const s=new qi(t,r,Al);return s.assertValidity(),s}function Pl(...t){return Un(ge(kr("BIP0340/challenge",...t)))}function rE(t){return pi(t).bytes}function sE(t,e,n=bl(32)){const r=ce("message",t),{bytes:s,scalar:i}=pi(e),a=ce("auxRand",n,32),o=hi(i^ge(kr("BIP0340/aux",a))),u=kr("BIP0340/nonce",o,s,r),l=Un(ge(u));if(l===ts)throw new Error("sign failed: k is zero");const{bytes:c,scalar:f}=pi(l),d=Pl(c,s,r),p=new Uint8Array(64);if(p.set(c,0),p.set(hi(Un(f+d*i)),32),!Il(p,r,s))throw new Error("sign: Invalid signature produced");return p}function Il(t,e,n){const r=ce("signature",t,64),s=ce("message",e),i=ce("publicKey",n,32);try{const a=Rl(ge(i)),o=ge(r.subarray(0,32));if(!kl(o))return!1;const u=ge(r.subarray(32,64));if(!tE(u))return!1;const l=Pl(hi(o),Ki(a),s),c=nE(a,u,Un(-l));return!(!c||!c.hasEvenY()||c.toAffine().x!==o)}catch{return!1}}const ln={getPublicKey:rE,sign:sE,verify:Il,utils:{randomPrivateKey:zi.utils.randomPrivateKey,lift_x:Rl,pointToBytes:Ki,numberToBytesBE:ft,bytesToNumberBE:ge,taggedHash:kr,mod:oe}};var Lt=Symbol("verified"),iE=t=>t instanceof Object;function aE(t){if(!iE(t)||typeof t.kind!="number"||typeof t.content!="string"||typeof t.created_at!="number"||typeof t.pubkey!="string"||!t.pubkey.match(/^[a-f0-9]{64}$/)||!Array.isArray(t.tags))return!1;for(let e=0;e<t.tags.length;e++){let n=t.tags[e];if(!Array.isArray(n))return!1;for(let r=0;r<n.length;r++)if(typeof n[r]=="object")return!1}return!0}new TextDecoder("utf-8");var Ll=new TextEncoder,oE=class{generateSecretKey(){return ln.utils.randomPrivateKey()}getPublicKey(t){return Se(ln.getPublicKey(t))}finalizeEvent(t,e){const n=t;return n.pubkey=Se(ln.getPublicKey(e)),n.id=$s(n),n.sig=Se(ln.sign($s(n),e)),n[Lt]=!0,n}verifyEvent(t){if(typeof t[Lt]=="boolean")return t[Lt];const e=$s(t);if(e!==t.id)return t[Lt]=!1,!1;try{const n=ln.verify(t.sig,e,t.pubkey);return t[Lt]=n,n}catch{return t[Lt]=!1,!1}}};function uE(t){if(!aE(t))throw new Error("can't serialize event with wrong or missing properties");return JSON.stringify([0,t.pubkey,t.created_at,t.kind,t.tags,t.content])}function $s(t){let e=pl(Ll.encode(uE(t)));return Se(e)}var ns=new oE;ns.generateSecretKey;ns.getPublicKey;ns.finalizeEvent;ns.verifyEvent;var lE=27235,cE="Nostr ";async function fE(t,e,n,r=!1,s){const i={kind:lE,tags:[["u",t],["method",e]],created_at:Math.round(new Date().getTime()/1e3),content:""},a=await n(i);return(r?cE:"")+ol.encode(Ll.encode(JSON.stringify(a)))}const dE=t=>new Promise(e=>{setTimeout(e,t)}),Eo=E.object({type:E.literal("nip96"),name:E.string(),serverUrl:E.string().url()}),hE=[{type:"nip96",name:"nostr.build",serverUrl:"https://nostr.build/"},{type:"nip96",name:"nostrcheck.me",serverUrl:"https://nostrcheck.me/"},{type:"nip96",name:"files.sovbit.host",serverUrl:"https://files.sovbit.host/"},{type:"nip96",name:"nostpic.com",serverUrl:"https://nostpic.com/"},{type:"nip96",name:"void.cat",serverUrl:"https://void.cat/"},{type:"nip96",name:"yabu.me",serverUrl:"https://yabu.me/"}],HO=t=>{const e=t.nip94_event?.tags;return e==null||e.length===0?null:["imeta",...e.map(([r,s])=>`${r} ${s}`)]},pE=t=>{const e=window.nostr;if(e==null)throw new Error("NIP-07 implementation not found");return fE(t,"POST",i=>e.signEvent(i),!0)},gE=async t=>{const s=async(i,a)=>{if(a<=0)throw new Error("Upload timeout");const o=await dS(t);return o.status!=="processing"?o:(await dE(i),s(i*1.7,a-1))};return s(1e3,5)},mE=async(t,e)=>{const n=new FormData;n.set("file",e.file),n.set("content_type",e.file.type),n.set("size",e.file.size.toString(10));const r=new Headers;e.authorizationHeader!=null&&r.set("Authorization",e.authorizationHeader);const i=await(await fetch(t,{method:"POST",headers:r,body:n})).json();if(i.status==="processing"){if(i.processing_url==null)throw new Error("processing url is not specified");await gE(i.processing_url)}if(i.status==="error")throw new Error(`failed to upload: ${i.message}`);return i},yE=5,bE=async t=>{const e=async(n,r=yE)=>{if(r<=0)throw new Error("Max redirect");const s=await lS(n);if(s.api_url==null||s.api_url.length===0){if(s.delegated_to_url==null)throw new Error("api_url is blank and delegated_to_url is not specified");return e(s.delegated_to_url,r-1)}return s};return e(t)},vE=(t,e)=>t.startsWith("/")?new URL(t,e).toString():t,wE=async({serverUrl:t,files:e})=>{const n=await bE(t),r=vE(n.api_url,t),s=await pE(r),i=Array.from(e).map(async a=>mE(r,{authorizationHeader:s,file:a}));return Promise.allSettled(i)},ZO=t=>e=>wE({files:e,serverUrl:t.serverUrl}),Nl=t=>`^(?:${t}):\\/\\/[\\-a-zA-Z0-9.]+(:\\d{1,5})?(?:\\/[\\-\\[\\]~!$&'\\(\\)*+.,:;@&=%\\w]+|\\/)*(?:\\?[\\-\\[\\]~!$&'\\(\\)*+.,\\/:;%@&=\\w?]+)?(?:#[\\-\\[\\]~!$&'\\(\\)*+.,\\/:;%@\\w&=?#]+)?$`,VO=Nl("https?"),zO=Nl("wss?"),xE=t=>t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),_E=t=>new RegExp(t.map(xE).join("|")),SE=t=>t.flags.indexOf("i")>=0?t:new RegExp(t.source,`${t.flags}i`),EE=E.object({shortcode:E.string(),url:E.string()}),OE=E.object({type:E.literal("specific"),id:E.string()}),KO=E.object({relayUrls:E.array(E.string()),columns:E.array(P1),fileServer:Eo,customFileServers:E.array(Eo),customEmojis:E.record(EE),colorTheme:OE,dateFormat:E.union([E.literal("relative"),E.literal("absolute-long"),E.literal("absolute-short")]),keepOpenPostForm:E.boolean(),useEmojiReaction:E.boolean(),showEmojiReaction:E.boolean(),showMedia:E.boolean(),embedding:E.object({twitter:E.boolean(),youtube:E.boolean(),ogp:E.boolean()}),hideCount:E.boolean(),mutedPubkeys:E.array(E.string()),mutedKeywords:E.array(E.string()),mutedThreads:E.array(E.string())}),TE=()=>{const t=[...m1];return window.navigator.language.includes("ja")&&t.push(...y1),t},jl=()=>({relayUrls:TE(),columns:[],fileServer:hE[0],customFileServers:[],customEmojis:{},colorTheme:{type:"specific",id:"sakura"},dateFormat:"relative",keepOpenPostForm:!1,useEmojiReaction:!0,showEmojiReaction:!0,showMedia:!0,embedding:{twitter:!0,youtube:!0,ogp:!0},hideCount:!1,mutedPubkeys:[],mutedKeywords:[],mutedThreads:[]}),CE=t=>JSON.stringify(t),AE=t=>({...jl(),...JSON.parse(t)}),$E=Yu(()=>window.localStorage,CE,AE),[Ie,re]=st(()=>Xu("RabbitConfig",jl(),$E)),kE=()=>{const t=u_(),e=()=>{const x=Ie.colorTheme;return x.type==="specific"&&ys[x.id]!=null?ys[x.id]:ys.sakura},n=x=>{re("relayUrls",y=>pn([...y,x]))},r=x=>{re("relayUrls",y=>y.filter(S=>S!==x))},s=x=>{re("mutedPubkeys",y=>pn([...y,x]))},i=x=>{re("mutedPubkeys",y=>y.filter(S=>S!==x))},a=x=>{re("mutedKeywords",y=>pn([...y,x]))},o=x=>{re("mutedKeywords",y=>y.filter(S=>S!==x))},u=x=>{re("mutedThreads",y=>pn([...y,x]))},l=x=>{re("mutedThreads",y=>y.filter(S=>S!==x))},c=x=>{re("columns",y=>{const S=y.findIndex(P=>P.id===x.id);if(S>=0){const P=[...y];return P.splice(S,1,x),P}return[...y,x]})},f=(x,y)=>{re("columns",S=>{const P=y-1,D=Math.max(Math.min(P,S.length),0),M=S.findIndex(ne=>ne.id===x);if(M<0||D===M)return S;console.log(M,D);const q=[...S],[X]=q.splice(M,1);return q.splice(D,0,X),q})},d=(x,y)=>{const S=Ie.columns.findIndex(P=>P.id===y);f(x,S+1)},p=x=>{re("columns",y=>y.filter(S=>S.id!==x))},m=x=>{re("fileServer",x)},h=x=>{re("customFileServers",y=>[...y,x])},g=x=>{re("customFileServers",y=>y.filter(({name:S})=>S!==x))},b=x=>{re("customEmojis",y=>({...y,[x.shortcode]:x}))},v=x=>{re("customEmojis",y=>{const S=Object.fromEntries(x.map(P=>[P.shortcode,P]));return{...y,...S}})},A=x=>{re("customEmojis",y=>({...y,[x]:void 0}))},w=x=>Ie.customEmojis[x],_=x=>T0(Object.values(Ie.customEmojis).filter(({shortcode:y})=>y.includes(x)),[y=>y.shortcode.length]),O=W(()=>new Set(Ie.mutedPubkeys)),C=x=>O().has(x),L=W(()=>Ie.mutedKeywords.length===0?null:SE(_E(Ie.mutedKeywords))),F=x=>{if(x.kind===Xs){const y=L();return y==null?!1:y.test(x.content)}return!1},N=W(()=>new Set(Ie.mutedThreads)),R=x=>N().has(x);return{config:()=>Ie,setConfig:re,getColorTheme:e,addRelay:n,removeRelay:r,saveColumn:c,moveColumn:f,moveColumnById:d,removeColumn:p,initializeColumns:({pubkey:x})=>{if((Ie.columns?.length??0)>0)return;const y=[I1({width:"widest",pubkey:x}),L1({pubkey:x,notificationTypes:["Replies","Repost","Reaction","Zap"]}),U1({name:t.t("column.myPosts"),pubkey:x}),D1({name:t.t("column.myReactions"),pubkey:x})];navigator.language.includes("ja")&&y.splice(2,0,j1()),re("columns",()=>[...y])},setFileServer:m,addCustomFileServer:h,removeCustomFileServer:g,saveEmoji:b,saveEmojis:v,removeEmoji:A,getEmoji:w,searchEmojis:_,addMutedPubkey:s,removeMutedPubkey:i,addMutedKeyword:a,removeMutedKeyword:o,addMutedThread:u,removeMutedThread:l,isPubkeyMuted:C,shouldMuteEvent:x=>{const y=Q_(x);return C(x.pubkey)||R(x.id)||y.taggedPubkeys().some(C)||x.kind===Xs&&F(x)||y.taggedEventIds().some(S=>R(S))}}},RE=t=>{const{getColorTheme:e}=kE();qt(()=>{const n=e(),{className:r}=n;r!=null&&(t.classList.add(r),je(()=>{t.classList.remove(r)}))})},Ul={loggedIn:!1,agreements:{nostrBuild:!1}},PE=t=>JSON.stringify(t),IE=t=>JSON.parse(t),LE=Yu(()=>window.localStorage,PE,IE),[Oo,To]=st(()=>Xu("RabbitPersistStatus",Ul,LE)),NE=()=>({persistStatus:()=>({...Ul,...Oo}),loggedIn:()=>{To(r=>({...r,loggedIn:!0}))},agreeToToS:r=>{To("agreements",s=>({...s,[r]:!0}))},didAgreeToToS:r=>Oo.agreements[r]??!1}),{slice:jE,forEach:UE}=[];function DE(t){return UE.call(jE.call(arguments,1),e=>{if(e)for(const n in e)t[n]===void 0&&(t[n]=e[n])}),t}const Co=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,ME=(t,e,n)=>{const r=n||{};r.path=r.path||"/";const s=encodeURIComponent(e);let i=`${t}=${s}`;if(r.maxAge>0){const a=r.maxAge-0;if(Number.isNaN(a))throw new Error("maxAge should be a Number");i+=`; Max-Age=${Math.floor(a)}`}if(r.domain){if(!Co.test(r.domain))throw new TypeError("option domain is invalid");i+=`; Domain=${r.domain}`}if(r.path){if(!Co.test(r.path))throw new TypeError("option path is invalid");i+=`; Path=${r.path}`}if(r.expires){if(typeof r.expires.toUTCString!="function")throw new TypeError("option expires is invalid");i+=`; Expires=${r.expires.toUTCString()}`}if(r.httpOnly&&(i+="; HttpOnly"),r.secure&&(i+="; Secure"),r.sameSite)switch(typeof r.sameSite=="string"?r.sameSite.toLowerCase():r.sameSite){case!0:i+="; SameSite=Strict";break;case"lax":i+="; SameSite=Lax";break;case"strict":i+="; SameSite=Strict";break;case"none":i+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return i},Ao={create(t,e,n,r){let s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};n&&(s.expires=new Date,s.expires.setTime(s.expires.getTime()+n*60*1e3)),r&&(s.domain=r),document.cookie=ME(t,encodeURIComponent(e),s)},read(t){const e=`${t}=`,n=document.cookie.split(";");for(let r=0;r<n.length;r++){let s=n[r];for(;s.charAt(0)===" ";)s=s.substring(1,s.length);if(s.indexOf(e)===0)return s.substring(e.length,s.length)}return null},remove(t){this.create(t,"",-1)}};var FE={name:"cookie",lookup(t){let{lookupCookie:e}=t;if(e&&typeof document<"u")return Ao.read(e)||void 0},cacheUserLanguage(t,e){let{lookupCookie:n,cookieMinutes:r,cookieDomain:s,cookieOptions:i}=e;n&&typeof document<"u"&&Ao.create(n,t,r,s,i)}},BE={name:"querystring",lookup(t){let{lookupQuerystring:e}=t,n;if(typeof window<"u"){let{search:r}=window.location;!window.location.search&&window.location.hash?.indexOf("?")>-1&&(r=window.location.hash.substring(window.location.hash.indexOf("?")));const i=r.substring(1).split("&");for(let a=0;a<i.length;a++){const o=i[a].indexOf("=");o>0&&i[a].substring(0,o)===e&&(n=i[a].substring(o+1))}}return n}};let cn=null;const $o=()=>{if(cn!==null)return cn;try{cn=window!=="undefined"&&window.localStorage!==null;const t="i18next.translate.boo";window.localStorage.setItem(t,"foo"),window.localStorage.removeItem(t)}catch{cn=!1}return cn};var HE={name:"localStorage",lookup(t){let{lookupLocalStorage:e}=t;if(e&&$o())return window.localStorage.getItem(e)||void 0},cacheUserLanguage(t,e){let{lookupLocalStorage:n}=e;n&&$o()&&window.localStorage.setItem(n,t)}};let fn=null;const ko=()=>{if(fn!==null)return fn;try{fn=window!=="undefined"&&window.sessionStorage!==null;const t="i18next.translate.boo";window.sessionStorage.setItem(t,"foo"),window.sessionStorage.removeItem(t)}catch{fn=!1}return fn};var ZE={name:"sessionStorage",lookup(t){let{lookupSessionStorage:e}=t;if(e&&ko())return window.sessionStorage.getItem(e)||void 0},cacheUserLanguage(t,e){let{lookupSessionStorage:n}=e;n&&ko()&&window.sessionStorage.setItem(n,t)}},VE={name:"navigator",lookup(t){const e=[];if(typeof navigator<"u"){const{languages:n,userLanguage:r,language:s}=navigator;if(n)for(let i=0;i<n.length;i++)e.push(n[i]);r&&e.push(r),s&&e.push(s)}return e.length>0?e:void 0}},zE={name:"htmlTag",lookup(t){let{htmlTag:e}=t,n;const r=e||(typeof document<"u"?document.documentElement:null);return r&&typeof r.getAttribute=="function"&&(n=r.getAttribute("lang")),n}},KE={name:"path",lookup(t){let{lookupFromPathIndex:e}=t;if(typeof window>"u")return;const n=window.location.pathname.match(/\/([a-zA-Z-]*)/g);return Array.isArray(n)?n[typeof e=="number"?e:0]?.replace("/",""):void 0}},qE={name:"subdomain",lookup(t){let{lookupFromSubdomainIndex:e}=t;const n=typeof e=="number"?e+1:1,r=typeof window<"u"&&window.location?.hostname?.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i);if(r)return r[n]}};function GE(){return{order:["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"],lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:t=>t}}class Dl{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.type="languageDetector",this.detectors={},this.init(e,n)}init(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=e||{languageUtils:{}},this.options=DE(n,this.options||{},GE()),typeof this.options.convertDetectedLanguage=="string"&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=s=>s.replace("-","_")),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=r,this.addDetector(FE),this.addDetector(BE),this.addDetector(HE),this.addDetector(ZE),this.addDetector(VE),this.addDetector(zE),this.addDetector(KE),this.addDetector(qE)}addDetector(e){return this.detectors[e.name]=e,this}detect(e){e||(e=this.options.order);let n=[];return e.forEach(r=>{if(this.detectors[r]){let s=this.detectors[r].lookup(this.options);s&&typeof s=="string"&&(s=[s]),s&&(n=n.concat(s))}}),n=n.map(r=>this.options.convertDetectedLanguage(r)),this.services.languageUtils.getBestMatchFromCodes?n:n.length>0?n[0]:null}cacheUserLanguage(e,n){n||(n=this.options.caches),n&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(e)>-1||n.forEach(r=>{this.detectors[r]&&this.detectors[r].cacheUserLanguage(e,this.options)}))}}Dl.type="languageDetector";const Rr=(t,...e)=>{const n=String.raw(t,e),r=[],s=n.split(`
`);for(let i=0;i<s.length;i+=1){const o=s[i].trimStart();(r.length>0||o.length>0)&&r.push(o)}for(;r.length>0&&!(r[r.length-1].length>0);)r.pop();return r.join(`
`)},WE={general:{loading:"Loading",updating:"Updating"},notFound:{title:"Not found",back:"Back"},posting:{placeholder:"What's happening?",placeholderReply:"Post a reply",emojiPicker:"Emoji",contentWarning:"Content warning",contentWarningReason:"Reason of warning",uploadImage:"Upload image",submit:"Submit",close:"Close",forbiddenToIncludeNsec:"You cannot include private key (nsec).",failedToUploadFile:"Failed to upload files: {{filenames}}",replyToPre:"Reply to",replyToAnd:" and ",replyToPost:""},column:{home:"Home",notification:"Notification",relay:"Relay",japanese:"Japanese",posts:"User",reactions:"Reactions",channel:"Channel",bookmark:"Bookmark",search:"Search",myPosts:"My posts",myReactions:"My reactions",back:"Back",loadLatest:"Load latest posts",loadOld:"Load old posts",addRelayColumn:{add:""},config:{columnWidth:"Column width",widest:"Widest",wide:"Wide",medium:"Medium",narrow:"Narrow",moveLeft:"Move left",moveRight:"Move right",removeColumn:"Remove"},notificationSettings:{notificationTypes:"Notification types",types:{replies:"Replies",reposts:"Reposts",reactions:"Reactions",zap:"Zap"}}},profile:{following:"Following",followers:"Followers",loadFollowers:"Load",editProfile:"Edit",follow:"Follow",unfollow:"Unfollow",followingCurrently:"Following",followsYou:"follows you",copyPubkey:"Copy ID",showJSON:"Show JSON",mute:"Mute",unmute:"Unmute",followMyself:"Follow myself",unfollowMyself:"Unfollow myself",addColumn:"Add column",addUserColumn:"Add user column",addUserHomeColumn:"Add home column",confirmUnfollow:"Do you really want to unfollow?",confirmUpdateEvenIfEmpty:Rr`
      Your follow list appears to be empty.

      There is no problem if you are trying to follow for the first time.
      Otherwise, it may be caused by poor connections to relays.
      You should reload this page to reconnect to relays.
      You also should make sure you have configured the same relay list as the other clients.

      Do you want to continue?
    `,failedToUpdateFollowList:"Failed to update the follow list",failedToFetchLatestFollowList:"Failed to fetch the latest follow list. It may be disconnected from some relays.",edit:{icon:"Icon",banner:"Banner image",name:"Username",displayName:"Display Name",about:"About",website:"Website",nip05:"Domain verification (NIP-05)",lightningAddress:"LNURL address / lightning address",lightningAddressDescription:"Only one side will be saved.",otherProperties:"Other properties",save:"Save",cancel:"Cancel",updating:"updating...",updateSucceeded:"Updated successfully",failedToUpdatePartially:"Failed to update on {{count}} relays",failedToUpdate:"Failed to update on all relays"}},post:{replyToPre:"Replying to ",replyToPost:"",copyEventId:"Copy ID",showJSON:"Show JSON",muteThread:"Mute this thread",showReposts:"Show reposts",showReactions:"Show reactions",deletePost:"Delete",confirmDelete:"Do you really want to delete?",deletedSuccessfully:"Deleted successfully (reload to reflect)",failedToDeletePartially:"Failed to delete on {{count}} relays",failedToDelete:"Failed to delete",showImage:"Show image",showVideo:"Show video",showAudio:"Show audio player",showPreview:"Show preview",showOverflow:"Read more",hideOverflow:"Hide",download:"Download",contentWarning:{show:"Click to display",reason:"Reason",hide:"Hide"},failedToFetchEvent:"Failed to fetch event",unexpectedKind:"Unexpected eventkind:{{kind}}",unsupportedKind:"Unsupported eventkind:{{kind}}"},notification:{reposted:" reposted",reacted:" reacted",zapped:" zapped"},zap:{lud06:"LNURL address",lud16:"Lightning Address",fetchingLnUrlEndpoint:"Fetching LNURL endpoint...",fetchingLnUrlEndpointError:"Failed to fetch LNURL endpoint.",lnUrlEndpointError:"LNURL returned an error: ",fetchingLnUrlInvoice:"Fetching Lightning invoice...",fetchingLnUrlInvoiceError:"Failed to fetch Lightning invoice.",userDidNotConfigureZap:"You cannot Zap because the user did't configure Zap.",lnurlServiceDoesNotAllowNostr:"The LNURL service doesn't support Zap. This will be normal lightning payment.",zapSplitIsNotSupported:"Zap split is not supported yet. You'll zap to the author only.",comment:"Comment (optional)",sendViaWallet:"Send via wallet",sendViaWebLN:"Send via extension",completed:"Completed"},config:{config:"Settings",confirmImport:"Import? (The config will be overwritten)",copyToClipboard:"Copy to clipboard",importFromClipboard:"Import from clipboard",account:{profile:"Profile",openProfile:"Open",editProfile:"Edit",backupConfig:"Backup configuration",save:"Save",restore:"Restore",restored:"Successfully restored.",failedToRestore:"Failed to restore"},relays:{relays:"Relays",numOfRelays_one:"{{count}} relay is configured.",numOfRelays_other:"{{count}} relays are configured.",addRelay:"Add",importRelays:"Import",importFromExtension:"Import from browser extension",notConfigured:"No relays are configured.",askImport:"Do you want to import these relays?",failedToImport:"Failed to import.",imported_one:"Imported {{count}} relay.",imported_other:"Imported {{count}} relays"},posting:{posting:"Posting",fileServer:"File server",addCustomFileServer:"Add"},display:{display:"Display",colorTheme:"Color theme",timeNotation:"Time notation",relativeTimeNotation:"Relative",relativeTimeNotationExample:"7s",absoluteTimeNotationShort:"Absolute (short)",absoluteTimeNotationShortExample:"Yesterday 23:55",absoluteTimeNotationLong:"Absolute (long)",absoluteTimeNotationLongExample:"2020/11/8 21:02:53",reaction:"Reaction",enableEmojiReaction:"Enable emoji reaction",showEmojiReaction:"Show emoji reactions on posts",embedding:"Embedded contents",embeddingDescription:"Enable/disable embedding",others:"Others",keepOpenPostForm:"Remain the input field open after posting",showMediaByDefault:"Load media by default",hideNumbers:"Hide the numbers of reactions, reposts and followers"},customEmoji:{customEmoji:"Custom emojis",shortcode:"Name",url:"URL",addEmoji:"Add",removeEmoji:"Remove",emojiImport:"Emoji import",emojiImportDescription:"Paste a JSON where the keys are names and the values are image URLs",importEmoji:"Import"},mute:{mute:"Mute",mutedUsers:"Muted users",mutedKeywords:"Muted keywords",mutedThreads:"Muted threads",add:"Add"}},relayInfo:{administrator:"Administrator",contact:"Contact",software:"Software",version:"Version",supportedNips:"Supported NIPs",showJSON:"Show JSON",unknown:"Unknown"},hello:{signerChecking:"Checking that signer extension is installed...",signerUnavailable:"Please install a signer extension.",loginWithSigner:"Login with signer extension",signerUnavailableMessage:"You need to install a signer browser extension.",reloadAfterInstall:"Please reload after the installation is complete.",reload:"Reload"},about:{bugReport:"Report bug",sourceCode:"Source code",termOfService:"License",agplText:Rr`
      This program is free software:

      you can redistribute it and/or modify it under the terms of
      the GNU Affero General Public License as published by
      the Free Software Foundation, either version 3 of the License,
      or (at your option) any later version.

      This program is distributed in the hope that it will be useful,
      but WITHOUT ANY WARRANTY; without even the implied warranty of
      MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
      GNU Affero General Public License for more details.
    `,agplTranslationJa:"Japanese translation as a reference",usingLibraries:"Using libraries"},domainTransfer:{announcementHead:"Rabbit has moved to the new domain",announcementDescription:"Please update your bookmark and links",howToMigrateSettings:"How to migrate settings",close:"Close"}},QE={general:{loading:"",updating:""},notFound:{title:"",back:""},posting:{placeholder:"",placeholderReply:"",emojiPicker:"",contentWarning:"",contentWarningReason:"",uploadImage:"",submit:"",close:"",forbiddenToIncludeNsec:"(nsec)",failedToUploadFile:": {{filenames}}",replyToPre:"",replyToAnd:"  ",replyToPost:""},column:{home:"",notification:"",relay:"",japanese:"",posts:"",reactions:"",channel:"",bookmark:"",search:"",myPosts:"",myReactions:"",back:"",loadLatest:"",loadOld:"",addRelayColumn:{add:""},config:{columnWidth:"",widest:"",wide:"",medium:"",narrow:"",moveLeft:"",moveRight:"",removeColumn:""},notificationSettings:{notificationTypes:"",types:{replies:"",reposts:"",reactions:"",zap:"Zap"}}},profile:{following:"",followers:"",loadFollowers:"",editProfile:"",follow:"",unfollow:"",followingCurrently:"",followsYou:"",copyPubkey:"ID",showJSON:"JSON",mute:"",unmute:"",followMyself:"",unfollowMyself:"",addColumn:"",addUserColumn:"",addUserHomeColumn:"",confirmUnfollow:"",confirmUpdateEvenIfEmpty:Rr`
      
      
      

      
    `,failedToUpdateFollowList:"",failedToFetchLatestFollowList:"",edit:{icon:"",banner:"",name:"",displayName:"",about:"",website:"",nip05:"NIP-05",lightningAddress:"LNURL / ",lightningAddressDescription:"",otherProperties:"",save:"",cancel:"",updating:"...",updateSucceeded:"",failedToUpdatePartially:"{{count}}",failedToUpdate:""}},post:{replyToPre:"",replyToPost:"",copyEventId:"ID",showJSON:"JSON",muteThread:"",showReposts:"",showReactions:"",deletePost:"",confirmDelete:"",deletedSuccessfully:"",failedToDeletePartially:"{{count}}",failedToDelete:"",showImage:"",showVideo:"",showAudio:"",showPreview:"",showOverflow:"",hideOverflow:"",download:"",contentWarning:{show:"",reason:"",hide:""},failedToFetchEvent:"",unexpectedKind:"kind:{{kind}}",unsupportedKind:"kind:{{kind}}"},notification:{reposted:"",reacted:"",zapped:"Zap"},zap:{lud06:"LNURL",lud16:"",fetchingLnUrlEndpoint:"LNURL...",fetchingLnUrlEndpointError:"LNURL",lnUrlEndpointError:"LNURL: ",fetchingLnUrlInvoice:"...",fetchingLnUrlInvoiceError:"",userDidNotConfigureZap:"ZapZap",lnurlServiceDoesNotAllowNostr:"LNURLZap",zapSplitIsNotSupported:"Zap",comment:" ()",sendViaWallet:"",sendViaWebLN:"",completed:""},config:{config:"",confirmImport:"",copyToClipboard:"",importFromClipboard:"",account:{profile:"",openProfile:"",editProfile:"",backupConfig:"",save:"",restore:"",restored:"",failedToRestore:""},relays:{relays:"",numOfRelays_one:"{{count}}",numOfRelays_other:"{{count}}",addRelay:"",importRelays:"",importFromExtension:"",notConfigured:"",askImport:"",failedToImport:"",imported_one:"{{count}}",imported_other:"{{count}}"},posting:{posting:"",fileServer:"",addCustomFileServer:""},display:{display:"",colorTheme:"",timeNotation:"",relativeTimeNotation:"",relativeTimeNotationExample:"7",absoluteTimeNotationShort:" ()",absoluteTimeNotationShortExample:" 23:55",absoluteTimeNotationLong:" ()",absoluteTimeNotationLongExample:"2020/11/8 21:02:53",reaction:"",enableEmojiReaction:"",showEmojiReaction:"",embedding:"",embeddingDescription:"",others:"",keepOpenPostForm:"",showMediaByDefault:"",hideNumbers:""},customEmoji:{customEmoji:"",shortcode:"",url:"URL",addEmoji:"",removeEmoji:"",emojiImport:"",emojiImportDescription:"URLJSON",importEmoji:""},mute:{mute:"",mutedUsers:"",mutedKeywords:"",mutedThreads:"",add:""}},relayInfo:{administrator:"",contact:"",software:"",version:"",supportedNips:"NIP",showJSON:"JSON",unknown:""},hello:{signerChecking:"...",signerUnavailable:"",loginWithSigner:"",signerUnavailableMessage:"",reloadAfterInstall:"",reload:""},about:{bugReport:"",sourceCode:"",termOfService:"",agplText:Rr`
      

       GNU
      3()
      

      
      ****

      ____ 
      GNU
    `,agplTranslationJa:"",usingLibraries:""},domainTransfer:{announcementHead:"Rabbit",announcementDescription:"",howToMigrateSettings:"",close:""}},JE=async()=>{try{return await se.use(Dl).init({fallbackLng:"en",debug:!1,resources:{ja:{translation:QE},en:{translation:WE}}}),se}catch(t){throw console.error("failed to setup i18next",t),t}},YE=jr(()=>Ur(()=>import("./Hello-D1C1P35N.js"),__vite__mapDeps([0,1,2]))),XE=jr(()=>Ur(()=>import("./Home-BImcmmnx.js").then(t=>t.H),__vite__mapDeps([3,4,1,5,6,7,2,8,9]))),eO=jr(()=>Ur(()=>import("./Permalink-C-hBy4y9.js"),__vite__mapDeps([10,4,1]))),tO=jr(()=>Ur(()=>import("./NotFound-DSpbH1ru.js"),[])),Ro=new kf({}),nO=JE(),rO=ef({storage:{getItem(t){return Mf(t).then(e=>e??null)},setItem(t,e){return Ff(t,e)},removeItem(t){return Bf(t)}}}),sO=()=>{const{persistStatus:t}=NE();return J(mi,{get when(){return t().loggedIn},get fallback(){return J(YE,{})},get children(){return J(XE,{})}})},iO=()=>(qt(()=>{const[t]=$f({queryClient:Ro,persister:rO});je(()=>t())}),RE(document.body),J(l_,{i18next:nO,get children(){return J(Rf,{client:Ro,get children(){return J(Kc,{get children(){return[J(qn,{path:"/hello",component:()=>J(qc,{href:"/"})}),J(qn,{path:"/",component:()=>J(sO,{})}),J(qn,{path:"/:id",component:()=>J(eO,{}),matchFilters:{id:/^(npub|nprofile)1[ac-hj-np-z02-9]+$/}}),J(qn,{path:"/*",component:()=>J(tO,{})})]}})}})}}));sc(()=>J(iO,{}),document.getElementById("root"));export{pl as $,je as A,UO as B,jr as C,OO as D,$O as E,uO as F,aO as G,pO as H,N_ as I,Se as J,vi as K,_O as L,cO as M,x1 as N,SO as O,wO as P,xO as Q,ux as R,lO as S,mu as T,rw as U,sx as V,IO as W,hO as X,cc as Y,AO as Z,Ur as _,J as a,Mm as a$,ln as a0,bO as a1,Wn as a2,vO as a3,p_ as a4,d_ as a5,ZO as a6,HO as a7,Z_ as a8,Ke as a9,Ii as aA,ys as aB,E as aC,VO as aD,hE as aE,KO as aF,xe as aG,f_ as aH,zO as aI,LO as aJ,NO as aK,oO as aL,EO as aM,TO as aN,W_ as aO,oc as aP,CO as aQ,wt as aR,Ui as aS,FO as aT,RO as aU,Qw as aV,Ci as aW,Ni as aX,By as aY,Dy as aZ,Kr as a_,Fr as aa,Mr as ab,Yl as ac,le as ad,Dn as ae,Mn as af,jo as ag,kO as ah,No as ai,uc as aj,N1 as ak,I1 as al,L1 as am,j1 as an,U1 as ao,D1 as ap,K_ as aq,Ri as ar,Cu as as,zr as at,Bn as au,Hn as av,Od as aw,zw as ax,l0 as ay,_u as az,it as b,Zy as b0,yu as b1,Im as b2,$m as b3,rm as b4,Fn as b5,Ub as b6,Oy as b7,Iu as b8,Au as b9,Pu as ba,cb as bb,Be as bc,fe as c,Ho as d,Ac as e,Ns as f,NE as g,mi as h,js as i,kE as j,pn as k,jO as l,lc as m,fc as n,Hl as o,st as p,qt as q,W as r,dO as s,fO as t,u_ as u,Q_ as v,Xs as w,pu as x,yO as y,bs as z};
//# sourceMappingURL=index-CbXZld-o.js.map
