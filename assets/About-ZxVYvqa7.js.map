{"version":3,"file":"About-ZxVYvqa7.js","sources":["../../src/components/modal/About.tsx"],"sourcesContent":["import { Component, createResource, For, Show } from 'solid-js';\n\nimport BasicModal from '@/components/modal/BasicModal';\nimport SafeLink from '@/components/utils/SafeLink';\nimport resolveAsset from '@/utils/resolveAsset';\n\ntype AboutProps = {\n  onClose: () => void;\n};\n\ntype PackageInfo = {\n  self: {\n    name: string;\n    author: string;\n    version: string;\n    homepage: string;\n    licenseSpdx: string;\n    licenseText: string;\n  };\n  packages: {\n    name: string;\n    version: string;\n    licenseSpdx: string;\n    licenseText: string;\n  }[];\n};\n\nconst fetchPackageInfo = async (): Promise<PackageInfo> => {\n  const res = await fetch(resolveAsset('packageInfo.json'));\n  const body = await res.text();\n  return JSON.parse(body) as PackageInfo;\n};\n\nconst commit = import.meta.env.VITE_COMMIT as string | null;\n\nconst About: Component<AboutProps> = (props) => {\n  const [packageInfo] = createResource(fetchPackageInfo);\n\n  return (\n    <BasicModal onClose={props.onClose}>\n      <div class=\"p-8\">\n        <div class=\"flex flex-col items-center pt-8\">\n          <img src={resolveAsset('images/rabbit_app_256.png')} alt=\"Logo\" width=\"64\" height=\"64\" />\n\n          <h1 class=\"my-4\">\n            Rabbit{' '}\n            <span id=\"app-version\">\n              v{packageInfo()?.self?.version}\n              <Show when={commit}> ({commit})</Show>\n            </span>\n          </h1>\n        </div>\n\n        <h2 class=\"my-4 text-xl font-bold\">バグ報告について</h2>\n\n        <p class=\"my-4\">\n          おかしな動作を見つけたら\n          <a\n            class=\"text-link underline\"\n            href=\"https://github.com/syusui-s/rabbit/issues/new/choose\"\n            target=\"_blank\"\n            rel=\"noopener noreferrer\"\n          >\n            GitHubのIssues\n          </a>\n          までご報告ください。\n        </p>\n\n        <h2 class=\"my-4 text-xl font-bold\">ソースコード</h2>\n\n        <p class=\"my-4\">\n          ソースコードは\n          <SafeLink class=\"text-link underline\" href=\"https://github.com/syusui-s/rabbit\">\n            GitHub\n          </SafeLink>\n          で入手できます。\n        </p>\n\n        <h2 class=\"my-4 text-xl font-bold\">利用規約</h2>\n\n        <p class=\"my-4\">\n          Copyright (C) 2023 Shusui Moyatani and{' '}\n          <SafeLink\n            class=\"text-link underline\"\n            href=\"https://github.com/syusui-s/rabbit/graphs/contributors\"\n          >\n            Rabbit contributors\n          </SafeLink>\n        </p>\n\n        <p class=\"my-4\">\n          このプログラムは自由ソフトウェアです。フリーソフトウェア財団から発行された\n          GNUアフェロー一般公衆ライセンス（バージョン3か、(任意で)より新しいバージョンのいずれか）の条件の下で\n          再頒布や改変、あるいはその両方を行うことができます。\n        </p>\n\n        <p class=\"my-4\">\n          このプログラムは役立つことを願って頒布されていますが、\n          <strong class=\"font-bold\">いかなる保証もありません</strong>。<em>商品性</em>や\n          <em>特定目的適合性</em> に対する保証は暗示されたものも含めて存在しません。\n          詳しくはGNUアフェロー一般公衆ライセンスをご覧ください。\n        </p>\n\n        <p class=\"my-4\">\n          あなたは、このプログラムに付随してGNUアフェロー一般公衆ライセンスのコピーを受け取っていることでしょう。\n          そうでなければ、\n          <SafeLink href=\"https://www.gnu.org/licenses/\" />\n          をご参照ください。\n        </p>\n\n        <a class=\"text-link underline\" href=\"https://gpl.mhatta.org/agpl.ja.html\">\n          参考訳\n        </a>\n\n        <pre class=\"scorllbar max-h-96 overflow-auto rounded bg-bg-secondary p-4 text-xs\">\n          {packageInfo()?.self.licenseText}\n        </pre>\n\n        <h2 class=\"my-4 text-xl font-bold\">使用ライブラリ</h2>\n\n        <For each={packageInfo()?.packages ?? []} fallback=\"取得中\">\n          {(p) => (\n            <>\n              <h3 class=\"mb-2 mt-4 font-mono\">\n                {p.name}@{p.version} ({p.licenseSpdx})\n              </h3>\n              <pre class=\"scrollbar max-h-96 overflow-auto rounded bg-bg-secondary p-4 text-xs\">\n                {p.licenseText}\n              </pre>\n            </>\n          )}\n        </For>\n      </div>\n    </BasicModal>\n  );\n};\n\nexport default About;\n"],"names":["fetchPackageInfo","body","fetch","resolveAsset","text","JSON","parse","commit","import","About","props","packageInfo","createResource","_$createComponent","BasicModal","onClose","children","_el$","_tmpl$","_el$2","firstChild","_el$3","_el$4","nextSibling","_el$5","_el$7","_el$9","_el$10","_el$11","_el$12","_el$13","_el$15","_el$16","_el$17","_el$20","_el$21","_el$22","_el$23","_el$25","_el$26","_el$27","_$insert","self","version","Show","when","SafeLink","href","licenseText","For","each","packages","fallback","p","_el$29","_tmpl$2","_el$30","_el$33","_el$31","_el$34","name","licenseSpdx","_el$35","_tmpl$3","_$effect","_$setAttribute"],"mappings":"s/CA2BMA,EAAmB,SAAkC,CAEnDC,MAAAA,EAAO,MADD,MAAMC,MAAMC,EAAa,kBAAkB,CAAC,GACjCC,OAChBC,OAAAA,KAAKC,MAAML,CAAI,CACxB,EAEMM,EAASC,UAETC,EAA0CC,GAAA,CAC9C,KAAM,CAACC,CAAW,EAAIC,EAAeZ,CAAgB,EAErD,OAAAa,EACGC,EAAU,CAAA,IAACC,SAAO,CAAA,OAAEL,EAAMK,OAAO,EAAA,IAAAC,UAAA,CAAA,MAAAC,EAAAC,EAAA,EAAAC,EAAAF,EAAAG,WAAAC,EAAAF,EAAAC,WAAAE,EAAAD,EAAAE,YAAAC,EAAAF,EAAAF,WAAAK,EAAAD,EAAAD,YAAAE,EAAAL,WAAAM,MAAAA,EAAAP,EAAAI,YAAAI,EAAAD,EAAAH,YAAAK,EAAAD,EAAAJ,YAAAM,EAAAD,EAAAL,YAAAO,EAAAD,EAAAT,WAAAW,EAAAD,EAAAP,YAAAQ,EAAAR,YAAAS,MAAAA,EAAAH,EAAAN,YAAAU,EAAAD,EAAAT,YAAAU,EAAAb,iBAAAc,EAAAD,EAAAV,YAAAY,EAAAD,EAAAX,YAAAa,EAAAD,EAAAZ,YAAAc,EAAAD,EAAAhB,WAAAkB,EAAAD,EAAAd,YAAAe,EAAAf,YAAAgB,MAAAA,EAAAH,EAAAb,YAAAiB,EAAAD,EAAAhB,YAAAiB,OAAAA,EAAAjB,YAAAkB,EAAAhB,EAQtBd,IAAAA,EAAAA,GAAe+B,MAAMC,QAAO,IAAA,EAAAlB,EAAAA,EAAAZ,EAC7B+B,EAAI,CAACC,KAAMtC,EAAM,IAAAS,UAAA,CAAA,MAAA,CAAA,KAAKT,EAAM,GAAA,CAAA,CAAA,CAAA,EAAA,IAAA,EAAAsB,EAAAA,EAAAhB,EAwBhCiC,EAAQ,CAAA,MAAA,sBAA6BC,KAAI,qCAAA/B,SAAA,QAAA,CAAA,EAAAe,CAAA,EAAAE,EAAAA,EAAApB,EAUzCiC,EAAQ,CAAA,MAAA,sBAEPC,KAAI,yDAAA/B,SAAA,qBAAA,CAAA,EAAA,IAAA,EAAAoB,EAAAA,EAAAvB,EAsBLiC,EAAQ,CAACC,KAAI,+BAAA,CAAA,EAAAT,CAAA,EAAAG,EAAAD,EASb7B,IAAAA,EAAY,GAAG+B,KAAKM,WAAW,EAAA/B,EAAAA,EAAAJ,EAKjCoC,EAAG,CAAA,IAACC,MAAI,CAAEvC,OAAAA,EAAAA,GAAewC,UAAY,EAAE,EAAEC,SAAQ,MAAApC,SAC7CqC,GAAA,EAAA,IAAA,CAAA,MAAAC,EAAAC,EAAA,EAAAC,EAAAF,EAAAlC,WAAAqC,EAAAD,EAAAjC,YAAAmC,EAAAD,EAAAlC,YAAAoC,EAAAD,EAAAnC,YAAAoC,OAAAA,EAAApC,YAAAkB,EAAAa,EAAA,IAGID,EAAEO,KAAIJ,CAAA,EAAAf,EAAAa,EAAA,IAAGD,EAAEV,QAAOc,CAAA,EAAAhB,EAAAa,EAAA,IAAID,EAAEQ,YAAWF,CAAA,EAAAL,CAAA,GAAA,GAAA,IAAA,CAAA,MAAAQ,EAAAC,IAAAD,OAAAA,EAAAA,EAGnCT,IAAAA,EAAEL,WAAW,EAAAc,CAAAA,IAAA,CAAA,CAGnB,EAAA,IAAA,EAAAE,EAAA,IAAAC,EAAA5C,QAxFSlB,EAAa,2BAA2B,CAAC,CAAA,EAAAc,CAAA,CAAA,CAAA,CA6F7D"}