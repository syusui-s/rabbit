(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const u of i.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&s(u)}).observe(document,{childList:!0,subtree:!0});function n(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerpolicy&&(i.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?i.credentials="include":r.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(r){if(r.ep)return;r.ep=!0;const i=n(r);fetch(r.href,i)}})();const L={};function ne(t){L.context=t}const Nt=(t,e)=>t===e,Ee=Symbol("solid-proxy"),kt=Symbol("solid-track"),ce={equals:Nt};let ot=ht;const I=1,fe=2,ut={owned:null,cleanups:null,context:null,owner:null},Pe={};var x=null;let V=null,E=null,M=null,U=null,Re=0;function z(t,e){const n=E,s=x,r=t.length===0,i=r?ut:{owned:null,cleanups:null,context:null,owner:e||s},u=r?t:()=>t(()=>Q(()=>ve(i)));x=i,E=null;try{return j(u,!0)}finally{E=n,x=s}}function K(t,e){e=e?Object.assign({},ce,e):ce;const n={value:t,observers:null,observerSlots:null,comparator:e.equals||void 0},s=r=>(typeof r=="function"&&(r=r(n.value)),ft(n,r));return[ct.bind(n),s]}function Ie(t,e,n){const s=be(t,e,!0,I);Z(s)}function H(t,e,n){const s=be(t,e,!1,I);Z(s)}function Le(t,e,n){ot=Ht;const s=be(t,e,!1,I);s.user=!0,U?U.push(s):Z(s)}function D(t,e,n){n=n?Object.assign({},ce,n):ce;const s=be(t,e,!0,0);return s.observers=null,s.observerSlots=null,s.comparator=n.equals||void 0,Z(s),ct.bind(s)}function Kt(t,e,n){let s,r,i;arguments.length===2&&typeof e=="object"||arguments.length===1?(s=!0,r=t,i=e||{}):(s=t,r=e,i=n||{});let u=null,o=Pe,l=null,c=!1,a="initialValue"in i,h=typeof s=="function"&&D(s);const f=new Set,[d,p]=(i.storage||K)(i.initialValue),[C,w]=K(void 0),[O,P]=K(void 0,{equals:!1}),[g,b]=K(a?"ready":"unresolved");if(L.context){l=`${L.context.id}${L.context.count++}`;let y;i.ssrLoadFrom==="initial"?o=i.initialValue:L.load&&(y=L.load(l))&&(o=y[0])}function A(y,m,v,N){return u===y&&(u=null,a=!0,(y===o||m===o)&&i.onHydrated&&queueMicrotask(()=>i.onHydrated(N,{value:m})),o=Pe,S(m,v)),m}function S(y,m){j(()=>{m||p(()=>y),b(m?"errored":"ready"),w(m);for(const v of f.keys())v.decrement();f.clear()},!1)}function F(){const y=_t,m=d(),v=C();if(v&&!u)throw v;return E&&!E.user&&y&&Ie(()=>{O(),u&&(y.resolved||f.has(y)||(y.increment(),f.add(y)))}),m}function q(y=!0){if(y!==!1&&c)return;c=!1;const m=h?h():s;if(m==null||m===!1){A(u,Q(d));return}const v=o!==Pe?o:Q(()=>r(m,{value:d(),refetching:y}));return typeof v!="object"||!(v&&"then"in v)?(A(u,v,void 0,m),v):(u=v,c=!0,queueMicrotask(()=>c=!1),j(()=>{b(a?"refreshing":"pending"),P()},!1),v.then(N=>A(v,N,void 0,m),N=>A(v,void 0,yt(N),m)))}return Object.defineProperties(F,{state:{get:()=>g()},error:{get:()=>C()},loading:{get(){const y=g();return y==="pending"||y==="refreshing"}},latest:{get(){if(!a)return F();const y=C();if(y&&!u)throw y;return d()}}}),h?Ie(()=>q(!1)):q(!1),[F,{refetch:q,mutate:p}]}function Os(t){return j(t,!1)}function Q(t){const e=E;E=null;try{return t()}finally{E=e}}function at(t,e,n){const s=Array.isArray(t);let r,i=n&&n.defer;return u=>{let o;if(s){o=Array(t.length);for(let c=0;c<t.length;c++)o[c]=t[c]()}else o=t();if(i){i=!1;return}const l=Q(()=>e(o,r,u));return r=o,l}}function jt(t){Le(()=>Q(t))}function Y(t){return x===null||(x.cleanups===null?x.cleanups=[t]:x.cleanups.push(t)),t}function Ss(){return E}function lt(){return x}function Ut(t,e){const n=x;x=t;try{return j(e,!0)}catch(s){Me(s)}finally{x=n}}function It(t){const e=E,n=x;return Promise.resolve().then(()=>{E=e,x=n;let s;return j(t,!1),E=x=null,s?s.done:void 0})}function me(t,e){const n=Symbol("context");return{id:n,Provider:Gt(n),defaultValue:t}}function re(t){let e;return(e=pt(x,t.id))!==void 0?e:t.defaultValue}function ge(t){const e=D(t),n=D(()=>xe(e()));return n.toArray=()=>{const s=n();return Array.isArray(s)?s:s!=null?[s]:[]},n}let _t;function ct(){const t=V;if(this.sources&&(this.state||t))if(this.state===I||t)Z(this);else{const e=M;M=null,j(()=>de(this),!1),M=e}if(E){const e=this.observers?this.observers.length:0;E.sources?(E.sources.push(this),E.sourceSlots.push(e)):(E.sources=[this],E.sourceSlots=[e]),this.observers?(this.observers.push(E),this.observerSlots.push(E.sources.length-1)):(this.observers=[E],this.observerSlots=[E.sources.length-1])}return this.value}function ft(t,e,n){let s=t.value;return(!t.comparator||!t.comparator(s,e))&&(t.value=e,t.observers&&t.observers.length&&j(()=>{for(let r=0;r<t.observers.length;r+=1){const i=t.observers[r],u=V&&V.running;u&&V.disposed.has(i),(u&&!i.tState||!u&&!i.state)&&(i.pure?M.push(i):U.push(i),i.observers&&dt(i)),u||(i.state=I)}if(M.length>1e6)throw M=[],new Error},!1)),e}function Z(t){if(!t.fn)return;ve(t);const e=x,n=E,s=Re;E=x=t,$t(t,t.value,s),E=n,x=e}function $t(t,e,n){let s;try{s=t.fn(e)}catch(r){t.pure&&(t.state=I,t.owned&&t.owned.forEach(ve),t.owned=null),Me(r)}(!t.updatedAt||t.updatedAt<=n)&&(t.updatedAt!=null&&"observers"in t?ft(t,s):t.value=s,t.updatedAt=n)}function be(t,e,n,s=I,r){const i={fn:t,state:s,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:e,owner:x,context:null,pure:n};return x===null||x!==ut&&(x.owned?x.owned.push(i):x.owned=[i]),i}function he(t){const e=V;if(t.state===0||e)return;if(t.state===fe||e)return de(t);if(t.suspense&&Q(t.suspense.inFallback))return t.suspense.effects.push(t);const n=[t];for(;(t=t.owner)&&(!t.updatedAt||t.updatedAt<Re);)(t.state||e)&&n.push(t);for(let s=n.length-1;s>=0;s--)if(t=n[s],t.state===I||e)Z(t);else if(t.state===fe||e){const r=M;M=null,j(()=>de(t,n[0]),!1),M=r}}function j(t,e){if(M)return t();let n=!1;e||(M=[]),U?n=!0:U=[],Re++;try{const s=t();return Bt(n),s}catch(s){M||(U=null),Me(s)}}function Bt(t){if(M&&(ht(M),M=null),t)return;const e=U;U=null,e.length&&j(()=>ot(e),!1)}function ht(t){for(let e=0;e<t.length;e++)he(t[e])}function Ht(t){let e,n=0;for(e=0;e<t.length;e++){const s=t[e];s.user?t[n++]=s:he(s)}for(L.context&&ne(),e=0;e<n;e++)he(t[e])}function de(t,e){const n=V;t.state=0;for(let s=0;s<t.sources.length;s+=1){const r=t.sources[s];r.sources&&(r.state===I||n?r!==e&&he(r):(r.state===fe||n)&&de(r,e))}}function dt(t){const e=V;for(let n=0;n<t.observers.length;n+=1){const s=t.observers[n];(!s.state||e)&&(s.state=fe,s.pure?M.push(s):U.push(s),s.observers&&dt(s))}}function ve(t){let e;if(t.sources)for(;t.sources.length;){const n=t.sources.pop(),s=t.sourceSlots.pop(),r=n.observers;if(r&&r.length){const i=r.pop(),u=n.observerSlots.pop();s<r.length&&(i.sourceSlots[u]=s,r[s]=i,n.observerSlots[s]=u)}}if(t.owned){for(e=0;e<t.owned.length;e++)ve(t.owned[e]);t.owned=null}if(t.cleanups){for(e=0;e<t.cleanups.length;e++)t.cleanups[e]();t.cleanups=null}t.state=0,t.context=null}function yt(t){return t instanceof Error||typeof t=="string"?t:new Error("Unknown error")}function Me(t){throw t=yt(t),t}function pt(t,e){return t?t.context&&t.context[e]!==void 0?t.context[e]:pt(t.owner,e):void 0}function xe(t){if(typeof t=="function"&&!t.length)return xe(t());if(Array.isArray(t)){const e=[];for(let n=0;n<t.length;n++){const s=xe(t[n]);Array.isArray(s)?e.push.apply(e,s):e.push(s)}return e}return t}function Gt(t,e){return function(s){let r;return H(()=>r=Q(()=>(x.context={[t]:s.value},ge(()=>s.children))),void 0),r}}function As(t){return{subscribe(e){if(!(e instanceof Object)||e==null)throw new TypeError("Expected the observer to be an object.");const n=typeof e=="function"?e:e.next&&e.next.bind(e);if(!n)return{unsubscribe(){}};const s=z(r=>(Le(()=>{const i=t();Q(()=>n(i))}),r));return lt()&&Y(s),{unsubscribe(){s()}}},[Symbol.observable||"@@observable"](){return this}}}const Vt=Symbol("fallback");function _e(t){for(let e=0;e<t.length;e++)t[e]()}function Wt(t,e,n={}){let s=[],r=[],i=[],u=0,o=e.length>1?[]:null;return Y(()=>_e(i)),()=>{let l=t()||[],c,a;return l[kt],Q(()=>{let f=l.length,d,p,C,w,O,P,g,b,A;if(f===0)u!==0&&(_e(i),i=[],s=[],r=[],u=0,o&&(o=[])),n.fallback&&(s=[Vt],r[0]=z(S=>(i[0]=S,n.fallback())),u=1);else if(u===0){for(r=new Array(f),a=0;a<f;a++)s[a]=l[a],r[a]=z(h);u=f}else{for(C=new Array(f),w=new Array(f),o&&(O=new Array(f)),P=0,g=Math.min(u,f);P<g&&s[P]===l[P];P++);for(g=u-1,b=f-1;g>=P&&b>=P&&s[g]===l[b];g--,b--)C[b]=r[g],w[b]=i[g],o&&(O[b]=o[g]);for(d=new Map,p=new Array(b+1),a=b;a>=P;a--)A=l[a],c=d.get(A),p[a]=c===void 0?-1:c,d.set(A,a);for(c=P;c<=g;c++)A=s[c],a=d.get(A),a!==void 0&&a!==-1?(C[a]=r[c],w[a]=i[c],o&&(O[a]=o[c]),a=p[a],d.set(A,a)):i[c]();for(a=P;a<f;a++)a in C?(r[a]=C[a],i[a]=w[a],o&&(o[a]=O[a],o[a](a))):r[a]=z(h);r=r.slice(0,u=f),s=l.slice(0)}return r});function h(f){if(i[a]=f,o){const[d,p]=K(a);return o[a]=p,e(l[a],d)}return e(l[a])}}}function R(t,e){return Q(()=>t(e||{}))}function ue(){return!0}const Jt={get(t,e,n){return e===Ee?n:t.get(e)},has(t,e){return e===Ee?!0:t.has(e)},set:ue,deleteProperty:ue,getOwnPropertyDescriptor(t,e){return{configurable:!0,enumerable:!0,get(){return t.get(e)},set:ue,deleteProperty:ue}},ownKeys(t){return t.keys()}};function Oe(t){return(t=typeof t=="function"?t():t)?t:{}}function mt(...t){let e=!1;for(let s=0;s<t.length;s++){const r=t[s];e=e||!!r&&Ee in r,t[s]=typeof r=="function"?(e=!0,D(r)):r}if(e)return new Proxy({get(s){for(let r=t.length-1;r>=0;r--){const i=Oe(t[r])[s];if(i!==void 0)return i}},has(s){for(let r=t.length-1;r>=0;r--)if(s in Oe(t[r]))return!0;return!1},keys(){const s=[];for(let r=0;r<t.length;r++)s.push(...Object.keys(Oe(t[r])));return[...new Set(s)]}},Jt);const n={};for(let s=t.length-1;s>=0;s--)if(t[s]){const r=Object.getOwnPropertyDescriptors(t[s]);for(const i in r)i in n||Object.defineProperty(n,i,{enumerable:!0,get(){for(let u=t.length-1;u>=0;u--){const o=(t[u]||{})[i];if(o!==void 0)return o}}})}return n}function Qe(t){let e,n;const s=r=>{const i=L.context;if(i){const[o,l]=K();(n||(n=t())).then(c=>{ne(i),l(()=>c.default),ne()}),e=o}else if(!e){const[o]=Kt(()=>(n||(n=t())).then(l=>l.default));e=o}let u;return D(()=>(u=e())&&Q(()=>{if(!i)return u(r);const o=L.context;ne(i);const l=u(r);return ne(o),l}))};return s.preload=()=>n||((n=t()).then(r=>e=()=>r.default),n),s}function Es(t){const e="fallback"in t&&{fallback:()=>t.fallback};return D(Wt(()=>t.each,t.children,e||void 0))}function gt(t){let e=!1;const n=t.keyed,s=D(()=>t.when,void 0,{equals:(r,i)=>e?r===i:!r==!i});return D(()=>{const r=s();if(r){const i=t.children,u=typeof i=="function"&&i.length>0;return e=n||u,u?Q(()=>i(r)):i}return t.fallback},void 0,void 0)}function xs(t){let e=!1,n=!1;const s=(u,o)=>u[0]===o[0]&&(e?u[1]===o[1]:!u[1]==!o[1])&&u[2]===o[2],r=ge(()=>t.children),i=D(()=>{let u=r();Array.isArray(u)||(u=[u]);for(let o=0;o<u.length;o++){const l=u[o].when;if(l)return n=!!u[o].keyed,[o,l,u[o]]}return[-1]},void 0,{equals:s});return D(()=>{const[u,o,l]=i();if(u<0)return t.fallback;const c=l.children,a=typeof c=="function"&&c.length>0;return e=n||a,a?Q(()=>c(o)):c},void 0,void 0)}function qs(t){return t}const zt=["allowfullscreen","async","autofocus","autoplay","checked","controls","default","disabled","formnovalidate","hidden","indeterminate","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","seamless","selected"],Xt=new Set(["className","value","readOnly","formNoValidate","isMap","noModule","playsInline",...zt]),Yt=new Set(["innerHTML","textContent","innerText","children"]),Zt=Object.assign(Object.create(null),{className:"class",htmlFor:"for"}),$e=Object.assign(Object.create(null),{class:"className",formnovalidate:"formNoValidate",ismap:"isMap",nomodule:"noModule",playsinline:"playsInline",readonly:"readOnly"}),en=new Set(["beforeinput","click","dblclick","contextmenu","focusin","focusout","input","keydown","keyup","mousedown","mousemove","mouseout","mouseover","mouseup","pointerdown","pointermove","pointerout","pointerover","pointerup","touchend","touchmove","touchstart"]),tn={xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace"};function nn(t,e,n){let s=n.length,r=e.length,i=s,u=0,o=0,l=e[r-1].nextSibling,c=null;for(;u<r||o<i;){if(e[u]===n[o]){u++,o++;continue}for(;e[r-1]===n[i-1];)r--,i--;if(r===u){const a=i<s?o?n[o-1].nextSibling:n[i-o]:l;for(;o<i;)t.insertBefore(n[o++],a)}else if(i===o)for(;u<r;)(!c||!c.has(e[u]))&&e[u].remove(),u++;else if(e[u]===n[i-1]&&n[o]===e[r-1]){const a=e[--r].nextSibling;t.insertBefore(n[o++],e[u++].nextSibling),t.insertBefore(n[--i],a),e[r]=n[i]}else{if(!c){c=new Map;let h=o;for(;h<i;)c.set(n[h],h++)}const a=c.get(e[u]);if(a!=null)if(o<a&&a<i){let h=u,f=1,d;for(;++h<r&&h<i&&!((d=c.get(e[h]))==null||d!==a+f);)f++;if(f>a-o){const p=e[u];for(;o<a;)t.insertBefore(n[o++],p)}else t.replaceChild(n[o++],e[u++])}else u++;else e[u++].remove()}}}const Be="_$DX_DELEGATE";function sn(t,e,n,s={}){let r;return z(i=>{r=i,e===document?t():cn(e,t(),e.firstChild?null:void 0,n)},s.owner),()=>{r(),e.textContent=""}}function Fs(t,e,n){const s=document.createElement("template");s.innerHTML=t;let r=s.content.firstChild;return n&&(r=r.firstChild),r}function bt(t,e=window.document){const n=e[Be]||(e[Be]=new Set);for(let s=0,r=t.length;s<r;s++){const i=t[s];n.has(i)||(n.add(i),e.addEventListener(i,dn))}}function vt(t,e,n){n==null?t.removeAttribute(e):t.setAttribute(e,n)}function rn(t,e,n,s){s==null?t.removeAttributeNS(e,n):t.setAttributeNS(e,n,s)}function on(t,e){e==null?t.removeAttribute("class"):t.className=e}function un(t,e,n,s){if(s)Array.isArray(n)?(t[`$$${e}`]=n[0],t[`$$${e}Data`]=n[1]):t[`$$${e}`]=n;else if(Array.isArray(n)){const r=n[0];t.addEventListener(e,n[0]=i=>r.call(t,n[1],i))}else t.addEventListener(e,n)}function an(t,e,n={}){const s=Object.keys(e||{}),r=Object.keys(n);let i,u;for(i=0,u=r.length;i<u;i++){const o=r[i];!o||o==="undefined"||e[o]||(He(t,o,!1),delete n[o])}for(i=0,u=s.length;i<u;i++){const o=s[i],l=!!e[o];!o||o==="undefined"||n[o]===l||!l||(He(t,o,!0),n[o]=l)}return n}function ln(t,e,n){if(!e)return n?vt(t,"style"):e;const s=t.style;if(typeof e=="string")return s.cssText=e;typeof n=="string"&&(s.cssText=n=void 0),n||(n={}),e||(e={});let r,i;for(i in n)e[i]==null&&s.removeProperty(i),delete n[i];for(i in e)r=e[i],r!==n[i]&&(s.setProperty(i,r),n[i]=r);return n}function Ds(t,e={},n,s){const r={};return s||H(()=>r.children=X(t,e.children,r.children)),H(()=>e.ref&&e.ref(t)),H(()=>fn(t,e,n,!0,r,!0)),r}function Rs(t,e,n){return Q(()=>t(e,n))}function cn(t,e,n,s){if(n!==void 0&&!s&&(s=[]),typeof e!="function")return X(t,e,s,n);H(r=>X(t,e(),r,n),s)}function fn(t,e,n,s,r={},i=!1){e||(e={});for(const u in r)if(!(u in e)){if(u==="children")continue;r[u]=Ge(t,u,null,r[u],n,i)}for(const u in e){if(u==="children"){s||X(t,e.children);continue}const o=e[u];r[u]=Ge(t,u,o,r[u],n,i)}}function hn(t){return t.toLowerCase().replace(/-([a-z])/g,(e,n)=>n.toUpperCase())}function He(t,e,n){const s=e.trim().split(/\s+/);for(let r=0,i=s.length;r<i;r++)t.classList.toggle(s[r],n)}function Ge(t,e,n,s,r,i){let u,o,l;if(e==="style")return ln(t,n,s);if(e==="classList")return an(t,n,s);if(n===s)return s;if(e==="ref")i||n(t);else if(e.slice(0,3)==="on:"){const c=e.slice(3);s&&t.removeEventListener(c,s),n&&t.addEventListener(c,n)}else if(e.slice(0,10)==="oncapture:"){const c=e.slice(10);s&&t.removeEventListener(c,s,!0),n&&t.addEventListener(c,n,!0)}else if(e.slice(0,2)==="on"){const c=e.slice(2).toLowerCase(),a=en.has(c);if(!a&&s){const h=Array.isArray(s)?s[0]:s;t.removeEventListener(c,h)}(a||n)&&(un(t,c,n,a),a&&bt([c]))}else if((l=Yt.has(e))||!r&&($e[e]||(o=Xt.has(e)))||(u=t.nodeName.includes("-")))e==="class"||e==="className"?on(t,n):u&&!o&&!l?t[hn(e)]=n:t[$e[e]||e]=n;else{const c=r&&e.indexOf(":")>-1&&tn[e.split(":")[0]];c?rn(t,c,e,n):vt(t,Zt[e]||e,n)}return n}function dn(t){const e=`$$${t.type}`;let n=t.composedPath&&t.composedPath()[0]||t.target;for(t.target!==n&&Object.defineProperty(t,"target",{configurable:!0,value:n}),Object.defineProperty(t,"currentTarget",{configurable:!0,get(){return n||document}}),L.registry&&!L.done&&(L.done=!0,document.querySelectorAll("[id^=pl-]").forEach(s=>{for(;s&&s.nodeType!==8&&s.nodeValue!=="pl-"+t;){let r=s.nextSibling;s.remove(),s=r}s&&s.remove()}));n;){const s=n[e];if(s&&!n.disabled){const r=n[`${e}Data`];if(r!==void 0?s.call(n,r,t):s.call(n,t),t.cancelBubble)return}n=n._$host||n.parentNode||n.host}}function X(t,e,n,s,r){for(L.context&&!n&&(n=[...t.childNodes]);typeof n=="function";)n=n();if(e===n)return n;const i=typeof e,u=s!==void 0;if(t=u&&n[0]&&n[0].parentNode||t,i==="string"||i==="number"){if(L.context)return n;if(i==="number"&&(e=e.toString()),u){let o=n[0];o&&o.nodeType===3?o.data=e:o=document.createTextNode(e),n=J(t,n,s,o)}else n!==""&&typeof n=="string"?n=t.firstChild.data=e:n=t.textContent=e}else if(e==null||i==="boolean"){if(L.context)return n;n=J(t,n,s)}else{if(i==="function")return H(()=>{let o=e();for(;typeof o=="function";)o=o();n=X(t,o,n,s)}),()=>n;if(Array.isArray(e)){const o=[],l=n&&Array.isArray(n);if(qe(o,e,n,r))return H(()=>n=X(t,o,n,s,!0)),()=>n;if(L.context){if(!o.length)return n;for(let c=0;c<o.length;c++)if(o[c].parentNode)return n=o}if(o.length===0){if(n=J(t,n,s),u)return n}else l?n.length===0?Ve(t,o,s):nn(t,n,o):(n&&J(t),Ve(t,o));n=o}else if(e instanceof Node){if(L.context&&e.parentNode)return n=u?[e]:e;if(Array.isArray(n)){if(u)return n=J(t,n,s,e);J(t,n,null,e)}else n==null||n===""||!t.firstChild?t.appendChild(e):t.replaceChild(e,t.firstChild);n=e}}return n}function qe(t,e,n,s){let r=!1;for(let i=0,u=e.length;i<u;i++){let o=e[i],l=n&&n[i];if(o instanceof Node)t.push(o);else if(!(o==null||o===!0||o===!1))if(Array.isArray(o))r=qe(t,o,l)||r;else if(typeof o=="function")if(s){for(;typeof o=="function";)o=o();r=qe(t,Array.isArray(o)?o:[o],Array.isArray(l)?l:[l])||r}else t.push(o),r=!0;else{const c=String(o);l&&l.nodeType===3&&l.data===c?t.push(l):t.push(document.createTextNode(c))}}return r}function Ve(t,e,n=null){for(let s=0,r=e.length;s<r;s++)t.insertBefore(e[s],n)}function J(t,e,n,s){if(n===void 0)return t.textContent="";const r=s||document.createTextNode("");if(e.length){let i=!1;for(let u=e.length-1;u>=0;u--){const o=e[u];if(r!==o){const l=o.parentNode===t;!i&&!u?l?t.replaceChild(r,o):t.insertBefore(r,n):l&&o.remove()}else i=!0}}else t.insertBefore(r,n);return[r]}const yn=!1;function pn(t,e,n){return t.addEventListener(e,n),()=>t.removeEventListener(e,n)}function mn([t,e],n,s){return[n?()=>n(t()):t,s?r=>e(s(r)):e]}function gn(t){try{return document.querySelector(t)}catch{return null}}function bn(t,e){const n=gn(`#${t}`);n?n.scrollIntoView():e&&window.scrollTo(0,0)}function vn(t,e,n,s){let r=!1;const i=o=>typeof o=="string"?{value:o}:o,u=mn(K(i(t()),{equals:(o,l)=>o.value===l.value}),void 0,o=>(!r&&e(o),o));return n&&Y(n((o=t())=>{r=!0,u[1](i(o)),r=!1})),{signal:u,utils:s}}function wn(t){if(t){if(Array.isArray(t))return{signal:t}}else return{signal:K({value:""})};return t}function Cn(){return vn(()=>({value:window.location.pathname+window.location.search+window.location.hash,state:history.state}),({value:t,replace:e,scroll:n,state:s})=>{e?window.history.replaceState(s,"",t):window.history.pushState(s,"",t),bn(window.location.hash.slice(1),n)},t=>pn(window,"popstate",()=>t()),{go:t=>window.history.go(t)})}function Pn(){let t=new Set;function e(r){return t.add(r),()=>t.delete(r)}let n=!1;function s(r,i){if(n)return!(n=!1);const u={to:r,options:i,defaultPrevented:!1,preventDefault:()=>u.defaultPrevented=!0};for(const o of t)o.listener({...u,from:o.location,retry:l=>{l&&(n=!0),o.navigate(r,i)}});return!u.defaultPrevented}return{subscribe:e,confirm:s}}const On=/^(?:[a-z0-9]+:)?\/\//i,Sn=/^\/+|\/+$/g;function se(t,e=!1){const n=t.replace(Sn,"");return n?e||/^[?#]/.test(n)?n:"/"+n:""}function le(t,e,n){if(On.test(e))return;const s=se(t),r=n&&se(n);let i="";return!r||e.startsWith("/")?i=s:r.toLowerCase().indexOf(s.toLowerCase())!==0?i=s+r:i=r,(i||"/")+se(e,!i)}function An(t,e){if(t==null)throw new Error(e);return t}function wt(t,e){return se(t).replace(/\/*(\*.*)?$/g,"")+se(e)}function En(t){const e={};return t.searchParams.forEach((n,s)=>{e[s]=n}),e}function xn(t,e){const[n,s]=t.split("/*",2),r=n.split("/").filter(Boolean),i=r.length;return u=>{const o=u.split("/").filter(Boolean),l=o.length-i;if(l<0||l>0&&s===void 0&&!e)return null;const c={path:i?"":"/",params:{}};for(let a=0;a<i;a++){const h=r[a],f=o[a];if(h[0]===":")c.params[h.slice(1)]=f;else if(h.localeCompare(f,void 0,{sensitivity:"base"})!==0)return null;c.path+=`/${f}`}return s&&(c.params[s]=l?o.slice(-l).join("/"):""),c}}function qn(t){const[e,n]=t.pattern.split("/*",2),s=e.split("/").filter(Boolean);return s.reduce((r,i)=>r+(i.startsWith(":")?2:3),s.length-(n===void 0?0:1))}function Ct(t){const e=new Map,n=lt();return new Proxy({},{get(s,r){return e.has(r)||Ut(n,()=>e.set(r,D(()=>t()[r]))),e.get(r)()},getOwnPropertyDescriptor(){return{enumerable:!0,configurable:!0}},ownKeys(){return Reflect.ownKeys(t())}})}function Pt(t){let e=/(\/?\:[^\/]+)\?/.exec(t);if(!e)return[t];let n=t.slice(0,e.index),s=t.slice(e.index+e[0].length);const r=[n,n+=e[1]];for(;e=/^(\/\:[^\/]+)\?/.exec(s);)r.push(n+=e[1]),s=s.slice(e[0].length);return Pt(s).reduce((i,u)=>[...i,...r.map(o=>o+u)],[])}const Fn=100,Ot=me(),we=me(),Te=()=>An(re(Ot),"Make sure your app is wrapped in a <Router />");let ie;const St=()=>ie||re(we)||Te().base,Ls=()=>Te().navigatorFactory();function Dn(t,e="",n){const{component:s,data:r,children:i}=t,u=!i||Array.isArray(i)&&!i.length,o={key:t,element:s?()=>R(s,{}):()=>{const{element:l}=t;return l===void 0&&n?R(n,{}):l},preload:t.component?s.preload:t.preload,data:r};return At(t.path).reduce((l,c)=>{for(const a of Pt(c)){const h=wt(e,a),f=u?h:h.split("/*",1)[0];l.push({...o,originalPath:a,pattern:f,matcher:xn(f,!u)})}return l},[])}function Rn(t,e=0){return{routes:t,score:qn(t[t.length-1])*1e4-e,matcher(n){const s=[];for(let r=t.length-1;r>=0;r--){const i=t[r],u=i.matcher(n);if(!u)return null;s.unshift({...u,route:i})}return s}}}function At(t){return Array.isArray(t)?t:[t]}function Et(t,e="",n,s=[],r=[]){const i=At(t);for(let u=0,o=i.length;u<o;u++){const l=i[u];if(l&&typeof l=="object"&&l.hasOwnProperty("path")){const c=Dn(l,e,n);for(const a of c){s.push(a);const h=Array.isArray(l.children)&&l.children.length===0;if(l.children&&!h)Et(l.children,a.pattern,n,s,r);else{const f=Rn([...s],r.length);r.push(f)}s.pop()}}}return s.length?r:r.sort((u,o)=>o.score-u.score)}function Ln(t,e){for(let n=0,s=t.length;n<s;n++){const r=t[n].matcher(e);if(r)return r}return[]}function Mn(t,e){const n=new URL("http://sar"),s=D(l=>{const c=t();try{return new URL(c,n)}catch{return console.error(`Invalid path ${c}`),l}},n,{equals:(l,c)=>l.href===c.href}),r=D(()=>s().pathname),i=D(()=>s().search,!0),u=D(()=>s().hash),o=D(()=>"");return{get pathname(){return r()},get search(){return i()},get hash(){return u()},get state(){return e()},get key(){return o()},query:Ct(at(i,()=>En(s())))}}function Qn(t,e="",n,s){const{signal:[r,i],utils:u={}}=wn(t),o=u.parsePath||(y=>y),l=u.renderPath||(y=>y),c=u.beforeLeave||Pn(),a=le("",e),h=void 0;if(a===void 0)throw new Error(`${a} is not a valid base path`);a&&!r().value&&i({value:a,replace:!0,scroll:!1});const[f,d]=K(!1),p=async y=>{d(!0);try{await It(y)}finally{d(!1)}},[C,w]=K(r().value),[O,P]=K(r().state),g=Mn(C,O),b=[],A={pattern:a,params:{},path:()=>a,outlet:()=>null,resolvePath(y){return le(a,y)}};if(n)try{ie=A,A.data=n({data:void 0,params:{},location:g,navigate:F(A)})}finally{ie=void 0}function S(y,m,v){Q(()=>{if(typeof m=="number"){m&&(u.go?c.confirm(m,v)&&u.go(m):console.warn("Router integration does not support relative routing"));return}const{replace:N,resolve:W,scroll:_,state:ee}={replace:!1,resolve:!0,scroll:!0,...v},$=W?y.resolvePath(m):le("",m);if($===void 0)throw new Error(`Path '${m}' is not a routable path`);if(b.length>=Fn)throw new Error("Too many redirects");const te=C();if(($!==te||ee!==O())&&!yn){if(c.confirm($,v)){const Tt=b.push({value:te,replace:N,scroll:_,state:O()});p(()=>{w($),P(ee)}).then(()=>{b.length===Tt&&q({value:$,state:ee})})}}})}function F(y){return y=y||re(we)||A,(m,v)=>S(y,m,v)}function q(y){const m=b[0];m&&((y.value!==m.value||y.state!==m.state)&&i({...y,replace:m.replace,scroll:m.scroll}),b.length=0)}H(()=>{const{value:y,state:m}=r();Q(()=>{y!==C()&&p(()=>{w(y),P(m)})})});{let y=function(m){if(m.defaultPrevented||m.button!==0||m.metaKey||m.altKey||m.ctrlKey||m.shiftKey)return;const v=m.composedPath().find(te=>te instanceof Node&&te.nodeName.toUpperCase()==="A");if(!v||!v.hasAttribute("link"))return;const N=v.href;if(v.target||!N&&!v.hasAttribute("state"))return;const W=(v.getAttribute("rel")||"").split(/\s+/);if(v.hasAttribute("download")||W&&W.includes("external"))return;const _=new URL(N);if(_.origin!==window.location.origin||a&&_.pathname&&!_.pathname.toLowerCase().startsWith(a.toLowerCase()))return;const ee=o(_.pathname+_.search+_.hash),$=v.getAttribute("state");m.preventDefault(),S(A,ee,{resolve:!1,replace:v.hasAttribute("replace"),scroll:!v.hasAttribute("noscroll"),state:$&&JSON.parse($)})};bt(["click"]),document.addEventListener("click",y),Y(()=>document.removeEventListener("click",y))}return{base:A,out:h,location:g,isRouting:f,renderPath:l,parsePath:o,navigatorFactory:F,beforeLeave:c}}function Tn(t,e,n,s){const{base:r,location:i,navigatorFactory:u}=t,{pattern:o,element:l,preload:c,data:a}=s().route,h=D(()=>s().path),f=Ct(()=>s().params);c&&c();const d={parent:e,pattern:o,get child(){return n()},path:h,params:f,data:e.data,outlet:l,resolvePath(p){return le(r.path(),p,h())}};if(a)try{ie=d,d.data=a({data:e.data,params:f,location:i,navigate:u(d)})}finally{ie=void 0}return d}const Nn=t=>{const{source:e,url:n,base:s,data:r,out:i}=t,u=e||Cn(),o=Qn(u,s,r);return R(Ot.Provider,{value:o,get children(){return t.children}})},kn=t=>{const e=Te(),n=St(),s=ge(()=>t.children),r=D(()=>Et(s(),wt(n.pattern,t.base||""),Kn)),i=D(()=>Ln(r(),e.location.pathname));e.out&&e.out.matches.push(i().map(({route:c,path:a,params:h})=>({originalPath:c.originalPath,pattern:c.pattern,path:a,params:h})));const u=[];let o;const l=D(at(i,(c,a,h)=>{let f=a&&c.length===a.length;const d=[];for(let p=0,C=c.length;p<C;p++){const w=a&&a[p],O=c[p];h&&w&&O.route.key===w.route.key?d[p]=h[p]:(f=!1,u[p]&&u[p](),z(P=>{u[p]=P,d[p]=Tn(e,d[p-1]||n,()=>l()[p+1],()=>i()[p])}))}return u.splice(c.length).forEach(p=>p()),h&&f?h:(o=d[0],d)}));return R(gt,{get when(){return l()&&o},children:c=>R(we.Provider,{value:c,get children(){return c.outlet()}})})},Se=t=>{const e=ge(()=>t.children);return mt(t,{get children(){return e()}})},Kn=()=>{const t=St();return R(gt,{get when(){return t.child},children:e=>R(we.Provider,{value:e,get children(){return e.outlet()}})})};const jn="modulepreload",Un=function(t){return"/rabbit/"+t},We={},Ne=function(e,n,s){if(!n||n.length===0)return e();const r=document.getElementsByTagName("link");return Promise.all(n.map(i=>{if(i=Un(i),i in We)return;We[i]=!0;const u=i.endsWith(".css"),o=u?'[rel="stylesheet"]':"";if(!!s)for(let a=r.length-1;a>=0;a--){const h=r[a];if(h.href===i&&(!u||h.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${i}"]${o}`))return;const c=document.createElement("link");if(c.rel=u?"stylesheet":jn,u||(c.as="script",c.crossOrigin=""),c.href=i,document.head.appendChild(c),u)return new Promise((a,h)=>{c.addEventListener("load",a),c.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${i}`)))})})).then(()=>e())};class Ce{constructor(){this.listeners=[],this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.push(e),this.onSubscribe(),()=>{this.listeners=this.listeners.filter(n=>n!==e),this.onUnsubscribe()}}hasListeners(){return this.listeners.length>0}onSubscribe(){}onUnsubscribe(){}}const ke=typeof window>"u"||"Deno"in window;function k(){}function In(t,e){return typeof t=="function"?t(e):t}function _n(t){return typeof t=="number"&&t>=0&&t!==1/0}function $n(t,e){return Math.max(t+(e||0)-Date.now(),0)}function ae(t,e,n){return oe(t)?typeof e=="function"?{...n,queryKey:t,queryFn:e}:{...e,queryKey:t}:t}function Ms(t,e,n){return oe(t)?typeof e=="function"?{...n,mutationKey:t,mutationFn:e}:{...e,mutationKey:t}:typeof t=="function"?{...e,mutationFn:t}:{...t}}function B(t,e,n){return oe(t)?[{...e,queryKey:t},n]:[t||{},e]}function Je(t,e){const{type:n="all",exact:s,fetchStatus:r,predicate:i,queryKey:u,stale:o}=t;if(oe(u)){if(s){if(e.queryHash!==Ke(u,e.options))return!1}else if(!ye(e.queryKey,u))return!1}if(n!=="all"){const l=e.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof o=="boolean"&&e.isStale()!==o||typeof r<"u"&&r!==e.state.fetchStatus||i&&!i(e))}function ze(t,e){const{exact:n,fetching:s,predicate:r,mutationKey:i}=t;if(oe(i)){if(!e.options.mutationKey)return!1;if(n){if(G(e.options.mutationKey)!==G(i))return!1}else if(!ye(e.options.mutationKey,i))return!1}return!(typeof s=="boolean"&&e.state.status==="loading"!==s||r&&!r(e))}function Ke(t,e){return(e?.queryKeyHashFn||G)(t)}function G(t){return JSON.stringify(t,(e,n)=>Fe(n)?Object.keys(n).sort().reduce((s,r)=>(s[r]=n[r],s),{}):n)}function ye(t,e){return xt(t,e)}function xt(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(n=>!xt(t[n],e[n])):!1}function qt(t,e){if(t===e)return t;const n=Xe(t)&&Xe(e);if(n||Fe(t)&&Fe(e)){const s=n?t.length:Object.keys(t).length,r=n?e:Object.keys(e),i=r.length,u=n?[]:{};let o=0;for(let l=0;l<i;l++){const c=n?l:r[l];u[c]=qt(t[c],e[c]),u[c]===t[c]&&o++}return s===i&&o===s?t:u}return e}function Qs(t,e){if(t&&!e||e&&!t)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function Xe(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Fe(t){if(!Ye(t))return!1;const e=t.constructor;if(typeof e>"u")return!0;const n=e.prototype;return!(!Ye(n)||!n.hasOwnProperty("isPrototypeOf"))}function Ye(t){return Object.prototype.toString.call(t)==="[object Object]"}function oe(t){return Array.isArray(t)}function Ft(t){return new Promise(e=>{setTimeout(e,t)})}function Ze(t){Ft(0).then(t)}function Bn(){if(typeof AbortController=="function")return new AbortController}function Hn(t,e,n){return n.isDataEqual!=null&&n.isDataEqual(t,e)?t:typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?qt(t,e):e}class Gn extends Ce{constructor(){super(),this.setup=e=>{if(!ke&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),window.addEventListener("focus",n,!1),()=>{window.removeEventListener("visibilitychange",n),window.removeEventListener("focus",n)}}}}onSubscribe(){this.cleanup||this.setEventListener(this.setup)}onUnsubscribe(){if(!this.hasListeners()){var e;(e=this.cleanup)==null||e.call(this),this.cleanup=void 0}}setEventListener(e){var n;this.setup=e,(n=this.cleanup)==null||n.call(this),this.cleanup=e(s=>{typeof s=="boolean"?this.setFocused(s):this.onFocus()})}setFocused(e){this.focused=e,e&&this.onFocus()}onFocus(){this.listeners.forEach(e=>{e()})}isFocused(){return typeof this.focused=="boolean"?this.focused:typeof document>"u"?!0:[void 0,"visible","prerender"].includes(document.visibilityState)}}const De=new Gn;class Vn extends Ce{constructor(){super(),this.setup=e=>{if(!ke&&window.addEventListener){const n=()=>e();return window.addEventListener("online",n,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",n)}}}}onSubscribe(){this.cleanup||this.setEventListener(this.setup)}onUnsubscribe(){if(!this.hasListeners()){var e;(e=this.cleanup)==null||e.call(this),this.cleanup=void 0}}setEventListener(e){var n;this.setup=e,(n=this.cleanup)==null||n.call(this),this.cleanup=e(s=>{typeof s=="boolean"?this.setOnline(s):this.onOnline()})}setOnline(e){this.online=e,e&&this.onOnline()}onOnline(){this.listeners.forEach(e=>{e()})}isOnline(){return typeof this.online=="boolean"?this.online:typeof navigator>"u"||typeof navigator.onLine>"u"?!0:navigator.onLine}}const pe=new Vn;function Wn(t){return Math.min(1e3*2**t,3e4)}function je(t){return(t??"online")==="online"?pe.isOnline():!0}class Dt{constructor(e){this.revert=e?.revert,this.silent=e?.silent}}function Ae(t){return t instanceof Dt}function Rt(t){let e=!1,n=0,s=!1,r,i,u;const o=new Promise((w,O)=>{i=w,u=O}),l=w=>{s||(d(new Dt(w)),t.abort==null||t.abort())},c=()=>{e=!0},a=()=>{e=!1},h=()=>!De.isFocused()||t.networkMode!=="always"&&!pe.isOnline(),f=w=>{s||(s=!0,t.onSuccess==null||t.onSuccess(w),r?.(),i(w))},d=w=>{s||(s=!0,t.onError==null||t.onError(w),r?.(),u(w))},p=()=>new Promise(w=>{r=O=>{const P=s||!h();return P&&w(O),P},t.onPause==null||t.onPause()}).then(()=>{r=void 0,s||t.onContinue==null||t.onContinue()}),C=()=>{if(s)return;let w;try{w=t.fn()}catch(O){w=Promise.reject(O)}Promise.resolve(w).then(f).catch(O=>{var P,g;if(s)return;const b=(P=t.retry)!=null?P:3,A=(g=t.retryDelay)!=null?g:Wn,S=typeof A=="function"?A(n,O):A,F=b===!0||typeof b=="number"&&n<b||typeof b=="function"&&b(n,O);if(e||!F){d(O);return}n++,t.onFail==null||t.onFail(n,O),Ft(S).then(()=>{if(h())return p()}).then(()=>{e?d(O):C()})})};return je(t.networkMode)?C():p().then(C),{promise:o,cancel:l,continue:()=>r?.()?o:Promise.resolve(),cancelRetry:c,continueRetry:a}}const Ue=console;function Jn(){let t=[],e=0,n=a=>{a()},s=a=>{a()};const r=a=>{let h;e++;try{h=a()}finally{e--,e||o()}return h},i=a=>{e?t.push(a):Ze(()=>{n(a)})},u=a=>(...h)=>{i(()=>{a(...h)})},o=()=>{const a=t;t=[],a.length&&Ze(()=>{s(()=>{a.forEach(h=>{n(h)})})})};return{batch:r,batchCalls:u,schedule:i,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{s=a}}}const T=Jn();class Lt{destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),_n(this.cacheTime)&&(this.gcTimeout=setTimeout(()=>{this.optionalRemove()},this.cacheTime))}updateCacheTime(e){this.cacheTime=Math.max(this.cacheTime||0,e??(ke?1/0:5*60*1e3))}clearGcTimeout(){this.gcTimeout&&(clearTimeout(this.gcTimeout),this.gcTimeout=void 0)}}class zn extends Lt{constructor(e){super(),this.abortSignalConsumed=!1,this.defaultOptions=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.cache=e.cache,this.logger=e.logger||Ue,this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.initialState=e.state||Xn(this.options),this.state=this.initialState,this.scheduleGc()}get meta(){return this.options.meta}setOptions(e){this.options={...this.defaultOptions,...e},this.updateCacheTime(this.options.cacheTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.cache.remove(this)}setData(e,n){const s=Hn(this.state.data,e,this.options);return this.dispatch({data:s,type:"success",dataUpdatedAt:n?.updatedAt,manual:n?.manual}),s}setState(e,n){this.dispatch({type:"setState",state:e,setStateOptions:n})}cancel(e){var n;const s=this.promise;return(n=this.retryer)==null||n.cancel(e),s?s.then(k).catch(k):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.initialState)}isActive(){return this.observers.some(e=>e.options.enabled!==!1)}isDisabled(){return this.getObserversCount()>0&&!this.isActive()}isStale(){return this.state.isInvalidated||!this.state.dataUpdatedAt||this.observers.some(e=>e.getCurrentResult().isStale)}isStaleByTime(e=0){return this.state.isInvalidated||!this.state.dataUpdatedAt||!$n(this.state.dataUpdatedAt,e)}onFocus(){var e;const n=this.observers.find(s=>s.shouldFetchOnWindowFocus());n&&n.refetch({cancelRefetch:!1}),(e=this.retryer)==null||e.continue()}onOnline(){var e;const n=this.observers.find(s=>s.shouldFetchOnReconnect());n&&n.refetch({cancelRefetch:!1}),(e=this.retryer)==null||e.continue()}addObserver(e){this.observers.indexOf(e)===-1&&(this.observers.push(e),this.clearGcTimeout(),this.cache.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.indexOf(e)!==-1&&(this.observers=this.observers.filter(n=>n!==e),this.observers.length||(this.retryer&&(this.abortSignalConsumed?this.retryer.cancel({revert:!0}):this.retryer.cancelRetry()),this.scheduleGc()),this.cache.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.dispatch({type:"invalidate"})}fetch(e,n){var s,r;if(this.state.fetchStatus!=="idle"){if(this.state.dataUpdatedAt&&n!=null&&n.cancelRefetch)this.cancel({silent:!0});else if(this.promise){var i;return(i=this.retryer)==null||i.continueRetry(),this.promise}}if(e&&this.setOptions(e),!this.options.queryFn){const d=this.observers.find(p=>p.options.queryFn);d&&this.setOptions(d.options)}Array.isArray(this.options.queryKey);const u=Bn(),o={queryKey:this.queryKey,pageParam:void 0,meta:this.meta},l=d=>{Object.defineProperty(d,"signal",{enumerable:!0,get:()=>{if(u)return this.abortSignalConsumed=!0,u.signal}})};l(o);const c=()=>this.options.queryFn?(this.abortSignalConsumed=!1,this.options.queryFn(o)):Promise.reject("Missing queryFn"),a={fetchOptions:n,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:c};if(l(a),(s=this.options.behavior)==null||s.onFetch(a),this.revertState=this.state,this.state.fetchStatus==="idle"||this.state.fetchMeta!==((r=a.fetchOptions)==null?void 0:r.meta)){var h;this.dispatch({type:"fetch",meta:(h=a.fetchOptions)==null?void 0:h.meta})}const f=d=>{if(Ae(d)&&d.silent||this.dispatch({type:"error",error:d}),!Ae(d)){var p,C;(p=(C=this.cache.config).onError)==null||p.call(C,d,this)}this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1};return this.retryer=Rt({fn:a.fetchFn,abort:u?.abort.bind(u),onSuccess:d=>{var p,C;if(typeof d>"u"){f(new Error("undefined"));return}this.setData(d),(p=(C=this.cache.config).onSuccess)==null||p.call(C,d,this),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1},onError:f,onFail:(d,p)=>{this.dispatch({type:"failed",failureCount:d,error:p})},onPause:()=>{this.dispatch({type:"pause"})},onContinue:()=>{this.dispatch({type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode}),this.promise=this.retryer.promise,this.promise}dispatch(e){const n=s=>{var r,i;switch(e.type){case"failed":return{...s,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:(r=e.meta)!=null?r:null,fetchStatus:je(this.options.networkMode)?"fetching":"paused",...!s.dataUpdatedAt&&{error:null,status:"loading"}};case"success":return{...s,data:e.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:(i=e.dataUpdatedAt)!=null?i:Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const u=e.error;return Ae(u)&&u.revert&&this.revertState?{...this.revertState}:{...s,error:u,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:u,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...e.state}}};this.state=n(this.state),T.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate(e)}),this.cache.notify({query:this,type:"updated",action:e})})}}function Xn(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=typeof e<"u",s=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?s??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"loading",fetchStatus:"idle"}}class Yn extends Ce{constructor(e){super(),this.config=e||{},this.queries=[],this.queriesMap={}}build(e,n,s){var r;const i=n.queryKey,u=(r=n.queryHash)!=null?r:Ke(i,n);let o=this.get(u);return o||(o=new zn({cache:this,logger:e.getLogger(),queryKey:i,queryHash:u,options:e.defaultQueryOptions(n),state:s,defaultOptions:e.getQueryDefaults(i)}),this.add(o)),o}add(e){this.queriesMap[e.queryHash]||(this.queriesMap[e.queryHash]=e,this.queries.push(e),this.notify({type:"added",query:e}))}remove(e){const n=this.queriesMap[e.queryHash];n&&(e.destroy(),this.queries=this.queries.filter(s=>s!==e),n===e&&delete this.queriesMap[e.queryHash],this.notify({type:"removed",query:e}))}clear(){T.batch(()=>{this.queries.forEach(e=>{this.remove(e)})})}get(e){return this.queriesMap[e]}getAll(){return this.queries}find(e,n){const[s]=B(e,n);return typeof s.exact>"u"&&(s.exact=!0),this.queries.find(r=>Je(s,r))}findAll(e,n){const[s]=B(e,n);return Object.keys(s).length>0?this.queries.filter(r=>Je(s,r)):this.queries}notify(e){T.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){T.batch(()=>{this.queries.forEach(e=>{e.onFocus()})})}onOnline(){T.batch(()=>{this.queries.forEach(e=>{e.onOnline()})})}}class Zn extends Lt{constructor(e){super(),this.options={...e.defaultOptions,...e.options},this.mutationId=e.mutationId,this.mutationCache=e.mutationCache,this.logger=e.logger||Ue,this.observers=[],this.state=e.state||es(),this.updateCacheTime(this.options.cacheTime),this.scheduleGc()}get meta(){return this.options.meta}setState(e){this.dispatch({type:"setState",state:e})}addObserver(e){this.observers.indexOf(e)===-1&&(this.observers.push(e),this.clearGcTimeout(),this.mutationCache.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.observers=this.observers.filter(n=>n!==e),this.scheduleGc(),this.mutationCache.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.observers.length||(this.state.status==="loading"?this.scheduleGc():this.mutationCache.remove(this))}continue(){var e,n;return(e=(n=this.retryer)==null?void 0:n.continue())!=null?e:this.execute()}async execute(){const e=()=>{var g;return this.retryer=Rt({fn:()=>this.options.mutationFn?this.options.mutationFn(this.state.variables):Promise.reject("No mutationFn found"),onFail:(b,A)=>{this.dispatch({type:"failed",failureCount:b,error:A})},onPause:()=>{this.dispatch({type:"pause"})},onContinue:()=>{this.dispatch({type:"continue"})},retry:(g=this.options.retry)!=null?g:0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode}),this.retryer.promise},n=this.state.status==="loading";try{var s,r,i,u,o,l;if(!n){var c,a,h,f;this.dispatch({type:"loading",variables:this.options.variables}),await((c=(a=this.mutationCache.config).onMutate)==null?void 0:c.call(a,this.state.variables,this));const b=await((h=(f=this.options).onMutate)==null?void 0:h.call(f,this.state.variables));b!==this.state.context&&this.dispatch({type:"loading",context:b,variables:this.state.variables})}const g=await e();return await((s=(r=this.mutationCache.config).onSuccess)==null?void 0:s.call(r,g,this.state.variables,this.state.context,this)),await((i=(u=this.options).onSuccess)==null?void 0:i.call(u,g,this.state.variables,this.state.context)),await((o=(l=this.options).onSettled)==null?void 0:o.call(l,g,null,this.state.variables,this.state.context)),this.dispatch({type:"success",data:g}),g}catch(g){try{var d,p,C,w,O,P;throw await((d=(p=this.mutationCache.config).onError)==null?void 0:d.call(p,g,this.state.variables,this.state.context,this)),await((C=(w=this.options).onError)==null?void 0:C.call(w,g,this.state.variables,this.state.context)),await((O=(P=this.options).onSettled)==null?void 0:O.call(P,void 0,g,this.state.variables,this.state.context)),g}finally{this.dispatch({type:"error",error:g})}}}dispatch(e){const n=s=>{switch(e.type){case"failed":return{...s,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"loading":return{...s,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:!je(this.options.networkMode),status:"loading",variables:e.variables};case"success":return{...s,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:e.error,failureCount:s.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"};case"setState":return{...s,...e.state}}};this.state=n(this.state),T.batch(()=>{this.observers.forEach(s=>{s.onMutationUpdate(e)}),this.mutationCache.notify({mutation:this,type:"updated",action:e})})}}function es(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0}}class ts extends Ce{constructor(e){super(),this.config=e||{},this.mutations=[],this.mutationId=0}build(e,n,s){const r=new Zn({mutationCache:this,logger:e.getLogger(),mutationId:++this.mutationId,options:e.defaultMutationOptions(n),state:s,defaultOptions:n.mutationKey?e.getMutationDefaults(n.mutationKey):void 0});return this.add(r),r}add(e){this.mutations.push(e),this.notify({type:"added",mutation:e})}remove(e){this.mutations=this.mutations.filter(n=>n!==e),this.notify({type:"removed",mutation:e})}clear(){T.batch(()=>{this.mutations.forEach(e=>{this.remove(e)})})}getAll(){return this.mutations}find(e){return typeof e.exact>"u"&&(e.exact=!0),this.mutations.find(n=>ze(e,n))}findAll(e){return this.mutations.filter(n=>ze(e,n))}notify(e){T.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){var e;return this.resuming=((e=this.resuming)!=null?e:Promise.resolve()).then(()=>{const n=this.mutations.filter(s=>s.state.isPaused);return T.batch(()=>n.reduce((s,r)=>s.then(()=>r.continue().catch(k)),Promise.resolve()))}).then(()=>{this.resuming=void 0}),this.resuming}}function ns(){return{onFetch:t=>{t.fetchFn=()=>{var e,n,s,r,i,u;const o=(e=t.fetchOptions)==null||(n=e.meta)==null?void 0:n.refetchPage,l=(s=t.fetchOptions)==null||(r=s.meta)==null?void 0:r.fetchMore,c=l?.pageParam,a=l?.direction==="forward",h=l?.direction==="backward",f=((i=t.state.data)==null?void 0:i.pages)||[],d=((u=t.state.data)==null?void 0:u.pageParams)||[];let p=d,C=!1;const w=S=>{Object.defineProperty(S,"signal",{enumerable:!0,get:()=>{var F;if((F=t.signal)!=null&&F.aborted)C=!0;else{var q;(q=t.signal)==null||q.addEventListener("abort",()=>{C=!0})}return t.signal}})},O=t.options.queryFn||(()=>Promise.reject("Missing queryFn")),P=(S,F,q,y)=>(p=y?[F,...p]:[...p,F],y?[q,...S]:[...S,q]),g=(S,F,q,y)=>{if(C)return Promise.reject("Cancelled");if(typeof q>"u"&&!F&&S.length)return Promise.resolve(S);const m={queryKey:t.queryKey,pageParam:q,meta:t.options.meta};w(m);const v=O(m);return Promise.resolve(v).then(W=>P(S,q,W,y))};let b;if(!f.length)b=g([]);else if(a){const S=typeof c<"u",F=S?c:et(t.options,f);b=g(f,S,F)}else if(h){const S=typeof c<"u",F=S?c:ss(t.options,f);b=g(f,S,F,!0)}else{p=[];const S=typeof t.options.getNextPageParam>"u";b=(o&&f[0]?o(f[0],0,f):!0)?g([],S,d[0]):Promise.resolve(P([],d[0],f[0]));for(let q=1;q<f.length;q++)b=b.then(y=>{if(o&&f[q]?o(f[q],q,f):!0){const v=S?d[q]:et(t.options,y);return g(y,S,v)}return Promise.resolve(P(y,d[q],f[q]))})}return b.then(S=>({pages:S,pageParams:p}))}}}}function et(t,e){return t.getNextPageParam==null?void 0:t.getNextPageParam(e[e.length-1],e)}function ss(t,e){return t.getPreviousPageParam==null?void 0:t.getPreviousPageParam(e[0],e)}class rs{constructor(e={}){this.queryCache=e.queryCache||new Yn,this.mutationCache=e.mutationCache||new ts,this.logger=e.logger||Ue,this.defaultOptions=e.defaultOptions||{},this.queryDefaults=[],this.mutationDefaults=[],this.mountCount=0}mount(){this.mountCount++,this.mountCount===1&&(this.unsubscribeFocus=De.subscribe(()=>{De.isFocused()&&(this.resumePausedMutations(),this.queryCache.onFocus())}),this.unsubscribeOnline=pe.subscribe(()=>{pe.isOnline()&&(this.resumePausedMutations(),this.queryCache.onOnline())}))}unmount(){var e,n;this.mountCount--,this.mountCount===0&&((e=this.unsubscribeFocus)==null||e.call(this),this.unsubscribeFocus=void 0,(n=this.unsubscribeOnline)==null||n.call(this),this.unsubscribeOnline=void 0)}isFetching(e,n){const[s]=B(e,n);return s.fetchStatus="fetching",this.queryCache.findAll(s).length}isMutating(e){return this.mutationCache.findAll({...e,fetching:!0}).length}getQueryData(e,n){var s;return(s=this.queryCache.find(e,n))==null?void 0:s.state.data}ensureQueryData(e,n,s){const r=ae(e,n,s),i=this.getQueryData(r.queryKey);return i?Promise.resolve(i):this.fetchQuery(r)}getQueriesData(e){return this.getQueryCache().findAll(e).map(({queryKey:n,state:s})=>{const r=s.data;return[n,r]})}setQueryData(e,n,s){const r=this.queryCache.find(e),i=r?.state.data,u=In(n,i);if(typeof u>"u")return;const o=ae(e),l=this.defaultQueryOptions(o);return this.queryCache.build(this,l).setData(u,{...s,manual:!0})}setQueriesData(e,n,s){return T.batch(()=>this.getQueryCache().findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,n,s)]))}getQueryState(e,n){var s;return(s=this.queryCache.find(e,n))==null?void 0:s.state}removeQueries(e,n){const[s]=B(e,n),r=this.queryCache;T.batch(()=>{r.findAll(s).forEach(i=>{r.remove(i)})})}resetQueries(e,n,s){const[r,i]=B(e,n,s),u=this.queryCache,o={type:"active",...r};return T.batch(()=>(u.findAll(r).forEach(l=>{l.reset()}),this.refetchQueries(o,i)))}cancelQueries(e,n,s){const[r,i={}]=B(e,n,s);typeof i.revert>"u"&&(i.revert=!0);const u=T.batch(()=>this.queryCache.findAll(r).map(o=>o.cancel(i)));return Promise.all(u).then(k).catch(k)}invalidateQueries(e,n,s){const[r,i]=B(e,n,s);return T.batch(()=>{var u,o;if(this.queryCache.findAll(r).forEach(c=>{c.invalidate()}),r.refetchType==="none")return Promise.resolve();const l={...r,type:(u=(o=r.refetchType)!=null?o:r.type)!=null?u:"active"};return this.refetchQueries(l,i)})}refetchQueries(e,n,s){const[r,i]=B(e,n,s),u=T.batch(()=>this.queryCache.findAll(r).filter(l=>!l.isDisabled()).map(l=>{var c;return l.fetch(void 0,{...i,cancelRefetch:(c=i?.cancelRefetch)!=null?c:!0,meta:{refetchPage:r.refetchPage}})}));let o=Promise.all(u).then(k);return i!=null&&i.throwOnError||(o=o.catch(k)),o}fetchQuery(e,n,s){const r=ae(e,n,s),i=this.defaultQueryOptions(r);typeof i.retry>"u"&&(i.retry=!1);const u=this.queryCache.build(this,i);return u.isStaleByTime(i.staleTime)?u.fetch(i):Promise.resolve(u.state.data)}prefetchQuery(e,n,s){return this.fetchQuery(e,n,s).then(k).catch(k)}fetchInfiniteQuery(e,n,s){const r=ae(e,n,s);return r.behavior=ns(),this.fetchQuery(r)}prefetchInfiniteQuery(e,n,s){return this.fetchInfiniteQuery(e,n,s).then(k).catch(k)}resumePausedMutations(){return this.mutationCache.resumePausedMutations()}getQueryCache(){return this.queryCache}getMutationCache(){return this.mutationCache}getLogger(){return this.logger}getDefaultOptions(){return this.defaultOptions}setDefaultOptions(e){this.defaultOptions=e}setQueryDefaults(e,n){const s=this.queryDefaults.find(r=>G(e)===G(r.queryKey));s?s.defaultOptions=n:this.queryDefaults.push({queryKey:e,defaultOptions:n})}getQueryDefaults(e){if(!e)return;const n=this.queryDefaults.find(s=>ye(e,s.queryKey));return n?.defaultOptions}setMutationDefaults(e,n){const s=this.mutationDefaults.find(r=>G(e)===G(r.mutationKey));s?s.defaultOptions=n:this.mutationDefaults.push({mutationKey:e,defaultOptions:n})}getMutationDefaults(e){if(!e)return;const n=this.mutationDefaults.find(s=>ye(e,s.mutationKey));return n?.defaultOptions}defaultQueryOptions(e){if(e!=null&&e._defaulted)return e;const n={...this.defaultOptions.queries,...this.getQueryDefaults(e?.queryKey),...e,_defaulted:!0};return!n.queryHash&&n.queryKey&&(n.queryHash=Ke(n.queryKey,n)),typeof n.refetchOnReconnect>"u"&&(n.refetchOnReconnect=n.networkMode!=="always"),typeof n.useErrorBoundary>"u"&&(n.useErrorBoundary=!!n.suspense),n}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...this.defaultOptions.mutations,...this.getMutationDefaults(e?.mutationKey),...e,_defaulted:!0}}clear(){this.queryCache.clear(),this.mutationCache.clear()}}function is(t){return{mutationKey:t.options.mutationKey,state:t.state}}function os(t){return{state:t.state,queryKey:t.queryKey,queryHash:t.queryHash}}function us(t){return t.state.isPaused}function as(t){return t.state.status==="success"}function ls(t,e={}){const n=[],s=[];if(e.dehydrateMutations!==!1){const r=e.shouldDehydrateMutation||us;t.getMutationCache().getAll().forEach(i=>{r(i)&&n.push(is(i))})}if(e.dehydrateQueries!==!1){const r=e.shouldDehydrateQuery||as;t.getQueryCache().getAll().forEach(i=>{r(i)&&s.push(os(i))})}return{mutations:n,queries:s}}function cs(t,e,n){if(typeof e!="object"||e===null)return;const s=t.getMutationCache(),r=t.getQueryCache(),i=e.mutations||[],u=e.queries||[];i.forEach(o=>{var l;s.build(t,{...n==null||(l=n.defaultOptions)==null?void 0:l.mutations,mutationKey:o.mutationKey},o.state)}),u.forEach(o=>{var l;const c=r.get(o.queryHash),a={...o.state,fetchStatus:"idle"};if(c){c.state.dataUpdatedAt<a.dataUpdatedAt&&c.setState(a);return}r.build(t,{...n==null||(l=n.defaultOptions)==null?void 0:l.queries,queryKey:o.queryKey,queryHash:o.queryHash},a)})}const tt=me(void 0),Mt=me(!1);function Qt(t,e){return t||(e&&typeof window<"u"?(window.SolidQueryClientContext||(window.SolidQueryClientContext=tt),window.SolidQueryClientContext):tt)}const Ts=({context:t}={})=>{const e=re(Qt(t,re(Mt)));if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},fs=t=>{const e=mt({contextSharing:!1},t);jt(()=>{e.client.mount()}),Y(()=>e.client.unmount());const n=Qt(e.context,e.contextSharing);return R(Mt.Provider,{get value(){return!e.context&&e.contextSharing},get children(){return R(n.Provider,{get value(){return e.client},get children(){return e.children}})}})};function hs({storage:t,key:e="REACT_QUERY_OFFLINE_CACHE",throttleTime:n=1e3,serialize:s=JSON.stringify,deserialize:r=JSON.parse,retry:i}){if(typeof t<"u"){const u=o=>{try{t.setItem(e,s(o));return}catch(l){return l}};return{persistClient:ds(o=>{let l=o,c=u(l),a=0;for(;c&&l;)a++,l=i?.({persistedClient:l,error:c,errorCount:a}),l&&(c=u(l))},n),restoreClient:()=>{const o=t.getItem(e);if(o)return r(o)},removeClient:()=>{t.removeItem(e)}}}return{persistClient:nt,restoreClient:()=>{},removeClient:nt}}function ds(t,e=100){let n=null,s;return function(...r){s=r,n===null&&(n=setTimeout(()=>{t(...s),n=null},e))}}function nt(){}const ys=["added","removed","updated"];function st(t){return ys.includes(t)}async function ps({queryClient:t,persister:e,maxAge:n=1e3*60*60*24,buster:s="",hydrateOptions:r}){try{const i=await e.restoreClient();if(i)if(i.timestamp){const u=Date.now()-i.timestamp>n,o=i.buster!==s;u||o?e.removeClient():cs(t,i.clientState,r)}else e.removeClient()}catch{e.removeClient()}}async function rt({queryClient:t,persister:e,buster:n="",dehydrateOptions:s}){const r={buster:n,timestamp:Date.now(),clientState:ls(t,s)};await e.persistClient(r)}function ms(t){const e=t.queryClient.getQueryCache().subscribe(s=>{st(s.type)&&rt(t)}),n=t.queryClient.getMutationCache().subscribe(s=>{st(s.type)&&rt(t)});return()=>{e(),n()}}function gs(t){let e=!1,n;const s=()=>{e=!0,n?.()},r=ps(t).then(()=>{e||(n=ms(t))});return[s,r]}const bs=Qe(()=>Ne(()=>import("./Home-63973676.js"),["assets/Home-63973676.js","assets/usePersistStatus-f4396d81.js"])),vs=Qe(()=>Ne(()=>import("./Hello-3400c108.js"),["assets/Hello-3400c108.js","assets/usePersistStatus-f4396d81.js"])),ws=Qe(()=>Ne(()=>import("./NotFound-346660fd.js"),[])),it=new rs({}),Cs=hs({storage:window.localStorage}),Ps=()=>(Le(()=>{const[t]=gs({queryClient:it,persister:Cs});Y(()=>t())}),R(fs,{client:it,get children(){return R(kn,{get children(){return[R(Se,{path:"/hello",element:()=>R(vs,{})}),R(Se,{path:"/",element:()=>R(bs,{})}),R(Se,{path:"/*",element:()=>R(ws,{})})]}})}}));sn(()=>R(Nn,{get base(){return"/rabbit/"},get children(){return R(Ps,{})}}),document.getElementById("root"));export{Ee as $,Ds as A,z as B,As as C,R as D,xs as E,bt as F,Es as G,gt as H,vt as I,mt as J,on as K,Le as L,qs as M,Ls as N,kt as O,Ss as P,Ce as S,_n as a,Ae as b,je as c,T as d,Kt as e,De as f,es as g,Os as h,ke as i,jt as j,Ie as k,at as l,K as m,k as n,Y as o,Ms as p,D as q,Hn as r,Qs as s,$n as t,Ts as u,cn as v,H as w,an as x,Fs as y,Rs as z};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXgtZDk2ZTRhODYuanMiLCJzb3VyY2VzIjpbIi4uLy4uL25vZGVfbW9kdWxlcy9zb2xpZC1qcy9kaXN0L3NvbGlkLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL3NvbGlkLWpzL3dlYi9kaXN0L3dlYi5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9Ac29saWRqcy9yb3V0ZXIvZGlzdC9pbnRlZ3JhdGlvbi5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9Ac29saWRqcy9yb3V0ZXIvZGlzdC9saWZlY3ljbGUuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvQHNvbGlkanMvcm91dGVyL2Rpc3QvdXRpbHMuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvQHNvbGlkanMvcm91dGVyL2Rpc3Qvcm91dGluZy5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9Ac29saWRqcy9yb3V0ZXIvZGlzdC9jb21wb25lbnRzLmpzeCIsIi4uLy4uL25vZGVfbW9kdWxlcy9AdGFuc3RhY2svcXVlcnktY29yZS9idWlsZC9saWIvc3Vic2NyaWJhYmxlLmVzbS5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9AdGFuc3RhY2svcXVlcnktY29yZS9idWlsZC9saWIvdXRpbHMuZXNtLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL0B0YW5zdGFjay9xdWVyeS1jb3JlL2J1aWxkL2xpYi9mb2N1c01hbmFnZXIuZXNtLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL0B0YW5zdGFjay9xdWVyeS1jb3JlL2J1aWxkL2xpYi9vbmxpbmVNYW5hZ2VyLmVzbS5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9AdGFuc3RhY2svcXVlcnktY29yZS9idWlsZC9saWIvcmV0cnllci5lc20uanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvQHRhbnN0YWNrL3F1ZXJ5LWNvcmUvYnVpbGQvbGliL2xvZ2dlci5lc20uanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvQHRhbnN0YWNrL3F1ZXJ5LWNvcmUvYnVpbGQvbGliL25vdGlmeU1hbmFnZXIuZXNtLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL0B0YW5zdGFjay9xdWVyeS1jb3JlL2J1aWxkL2xpYi9yZW1vdmFibGUuZXNtLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL0B0YW5zdGFjay9xdWVyeS1jb3JlL2J1aWxkL2xpYi9xdWVyeS5lc20uanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvQHRhbnN0YWNrL3F1ZXJ5LWNvcmUvYnVpbGQvbGliL3F1ZXJ5Q2FjaGUuZXNtLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL0B0YW5zdGFjay9xdWVyeS1jb3JlL2J1aWxkL2xpYi9tdXRhdGlvbi5lc20uanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvQHRhbnN0YWNrL3F1ZXJ5LWNvcmUvYnVpbGQvbGliL211dGF0aW9uQ2FjaGUuZXNtLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL0B0YW5zdGFjay9xdWVyeS1jb3JlL2J1aWxkL2xpYi9pbmZpbml0ZVF1ZXJ5QmVoYXZpb3IuZXNtLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL0B0YW5zdGFjay9xdWVyeS1jb3JlL2J1aWxkL2xpYi9xdWVyeUNsaWVudC5lc20uanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvQHRhbnN0YWNrL3F1ZXJ5LWNvcmUvYnVpbGQvbGliL2h5ZHJhdGlvbi5lc20uanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvQHRhbnN0YWNrL3NvbGlkLXF1ZXJ5L2J1aWxkL3NvbGlkL1F1ZXJ5Q2xpZW50UHJvdmlkZXIuanN4IiwiLi4vLi4vbm9kZV9tb2R1bGVzL0B0YW5zdGFjay9xdWVyeS1zeW5jLXN0b3JhZ2UtcGVyc2lzdGVyL2J1aWxkL2xpYi9pbmRleC5lc20uanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvQHRhbnN0YWNrL3F1ZXJ5LXBlcnNpc3QtY2xpZW50LWNvcmUvYnVpbGQvbGliL3BlcnNpc3QuZXNtLmpzIiwiLi4vLi4vc3JjL0FwcC50c3giLCIuLi8uLi9zcmMvaW5kZXgudHN4Il0sInNvdXJjZXNDb250ZW50IjpbImxldCB0YXNrSWRDb3VudGVyID0gMSxcbiAgaXNDYWxsYmFja1NjaGVkdWxlZCA9IGZhbHNlLFxuICBpc1BlcmZvcm1pbmdXb3JrID0gZmFsc2UsXG4gIHRhc2tRdWV1ZSA9IFtdLFxuICBjdXJyZW50VGFzayA9IG51bGwsXG4gIHNob3VsZFlpZWxkVG9Ib3N0ID0gbnVsbCxcbiAgeWllbGRJbnRlcnZhbCA9IDUsXG4gIGRlYWRsaW5lID0gMCxcbiAgbWF4WWllbGRJbnRlcnZhbCA9IDMwMCxcbiAgc2NoZWR1bGVDYWxsYmFjayA9IG51bGwsXG4gIHNjaGVkdWxlZENhbGxiYWNrID0gbnVsbDtcbmNvbnN0IG1heFNpZ25lZDMxQml0SW50ID0gMTA3Mzc0MTgyMztcbmZ1bmN0aW9uIHNldHVwU2NoZWR1bGVyKCkge1xuICBjb25zdCBjaGFubmVsID0gbmV3IE1lc3NhZ2VDaGFubmVsKCksXG4gICAgcG9ydCA9IGNoYW5uZWwucG9ydDI7XG4gIHNjaGVkdWxlQ2FsbGJhY2sgPSAoKSA9PiBwb3J0LnBvc3RNZXNzYWdlKG51bGwpO1xuICBjaGFubmVsLnBvcnQxLm9ubWVzc2FnZSA9ICgpID0+IHtcbiAgICBpZiAoc2NoZWR1bGVkQ2FsbGJhY2sgIT09IG51bGwpIHtcbiAgICAgIGNvbnN0IGN1cnJlbnRUaW1lID0gcGVyZm9ybWFuY2Uubm93KCk7XG4gICAgICBkZWFkbGluZSA9IGN1cnJlbnRUaW1lICsgeWllbGRJbnRlcnZhbDtcbiAgICAgIGNvbnN0IGhhc1RpbWVSZW1haW5pbmcgPSB0cnVlO1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgaGFzTW9yZVdvcmsgPSBzY2hlZHVsZWRDYWxsYmFjayhoYXNUaW1lUmVtYWluaW5nLCBjdXJyZW50VGltZSk7XG4gICAgICAgIGlmICghaGFzTW9yZVdvcmspIHtcbiAgICAgICAgICBzY2hlZHVsZWRDYWxsYmFjayA9IG51bGw7XG4gICAgICAgIH0gZWxzZSBwb3J0LnBvc3RNZXNzYWdlKG51bGwpO1xuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgcG9ydC5wb3N0TWVzc2FnZShudWxsKTtcbiAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICB9XG4gICAgfVxuICB9O1xuICBpZiAobmF2aWdhdG9yICYmIG5hdmlnYXRvci5zY2hlZHVsaW5nICYmIG5hdmlnYXRvci5zY2hlZHVsaW5nLmlzSW5wdXRQZW5kaW5nKSB7XG4gICAgY29uc3Qgc2NoZWR1bGluZyA9IG5hdmlnYXRvci5zY2hlZHVsaW5nO1xuICAgIHNob3VsZFlpZWxkVG9Ib3N0ID0gKCkgPT4ge1xuICAgICAgY29uc3QgY3VycmVudFRpbWUgPSBwZXJmb3JtYW5jZS5ub3coKTtcbiAgICAgIGlmIChjdXJyZW50VGltZSA+PSBkZWFkbGluZSkge1xuICAgICAgICBpZiAoc2NoZWR1bGluZy5pc0lucHV0UGVuZGluZygpKSB7XG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGN1cnJlbnRUaW1lID49IG1heFlpZWxkSW50ZXJ2YWw7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfTtcbiAgfSBlbHNlIHtcbiAgICBzaG91bGRZaWVsZFRvSG9zdCA9ICgpID0+IHBlcmZvcm1hbmNlLm5vdygpID49IGRlYWRsaW5lO1xuICB9XG59XG5mdW5jdGlvbiBlbnF1ZXVlKHRhc2tRdWV1ZSwgdGFzaykge1xuICBmdW5jdGlvbiBmaW5kSW5kZXgoKSB7XG4gICAgbGV0IG0gPSAwO1xuICAgIGxldCBuID0gdGFza1F1ZXVlLmxlbmd0aCAtIDE7XG4gICAgd2hpbGUgKG0gPD0gbikge1xuICAgICAgY29uc3QgayA9IG4gKyBtID4+IDE7XG4gICAgICBjb25zdCBjbXAgPSB0YXNrLmV4cGlyYXRpb25UaW1lIC0gdGFza1F1ZXVlW2tdLmV4cGlyYXRpb25UaW1lO1xuICAgICAgaWYgKGNtcCA+IDApIG0gPSBrICsgMTtlbHNlIGlmIChjbXAgPCAwKSBuID0gayAtIDE7ZWxzZSByZXR1cm4gaztcbiAgICB9XG4gICAgcmV0dXJuIG07XG4gIH1cbiAgdGFza1F1ZXVlLnNwbGljZShmaW5kSW5kZXgoKSwgMCwgdGFzayk7XG59XG5mdW5jdGlvbiByZXF1ZXN0Q2FsbGJhY2soZm4sIG9wdGlvbnMpIHtcbiAgaWYgKCFzY2hlZHVsZUNhbGxiYWNrKSBzZXR1cFNjaGVkdWxlcigpO1xuICBsZXQgc3RhcnRUaW1lID0gcGVyZm9ybWFuY2Uubm93KCksXG4gICAgdGltZW91dCA9IG1heFNpZ25lZDMxQml0SW50O1xuICBpZiAob3B0aW9ucyAmJiBvcHRpb25zLnRpbWVvdXQpIHRpbWVvdXQgPSBvcHRpb25zLnRpbWVvdXQ7XG4gIGNvbnN0IG5ld1Rhc2sgPSB7XG4gICAgaWQ6IHRhc2tJZENvdW50ZXIrKyxcbiAgICBmbixcbiAgICBzdGFydFRpbWUsXG4gICAgZXhwaXJhdGlvblRpbWU6IHN0YXJ0VGltZSArIHRpbWVvdXRcbiAgfTtcbiAgZW5xdWV1ZSh0YXNrUXVldWUsIG5ld1Rhc2spO1xuICBpZiAoIWlzQ2FsbGJhY2tTY2hlZHVsZWQgJiYgIWlzUGVyZm9ybWluZ1dvcmspIHtcbiAgICBpc0NhbGxiYWNrU2NoZWR1bGVkID0gdHJ1ZTtcbiAgICBzY2hlZHVsZWRDYWxsYmFjayA9IGZsdXNoV29yaztcbiAgICBzY2hlZHVsZUNhbGxiYWNrKCk7XG4gIH1cbiAgcmV0dXJuIG5ld1Rhc2s7XG59XG5mdW5jdGlvbiBjYW5jZWxDYWxsYmFjayh0YXNrKSB7XG4gIHRhc2suZm4gPSBudWxsO1xufVxuZnVuY3Rpb24gZmx1c2hXb3JrKGhhc1RpbWVSZW1haW5pbmcsIGluaXRpYWxUaW1lKSB7XG4gIGlzQ2FsbGJhY2tTY2hlZHVsZWQgPSBmYWxzZTtcbiAgaXNQZXJmb3JtaW5nV29yayA9IHRydWU7XG4gIHRyeSB7XG4gICAgcmV0dXJuIHdvcmtMb29wKGhhc1RpbWVSZW1haW5pbmcsIGluaXRpYWxUaW1lKTtcbiAgfSBmaW5hbGx5IHtcbiAgICBjdXJyZW50VGFzayA9IG51bGw7XG4gICAgaXNQZXJmb3JtaW5nV29yayA9IGZhbHNlO1xuICB9XG59XG5mdW5jdGlvbiB3b3JrTG9vcChoYXNUaW1lUmVtYWluaW5nLCBpbml0aWFsVGltZSkge1xuICBsZXQgY3VycmVudFRpbWUgPSBpbml0aWFsVGltZTtcbiAgY3VycmVudFRhc2sgPSB0YXNrUXVldWVbMF0gfHwgbnVsbDtcbiAgd2hpbGUgKGN1cnJlbnRUYXNrICE9PSBudWxsKSB7XG4gICAgaWYgKGN1cnJlbnRUYXNrLmV4cGlyYXRpb25UaW1lID4gY3VycmVudFRpbWUgJiYgKCFoYXNUaW1lUmVtYWluaW5nIHx8IHNob3VsZFlpZWxkVG9Ib3N0KCkpKSB7XG4gICAgICBicmVhaztcbiAgICB9XG4gICAgY29uc3QgY2FsbGJhY2sgPSBjdXJyZW50VGFzay5mbjtcbiAgICBpZiAoY2FsbGJhY2sgIT09IG51bGwpIHtcbiAgICAgIGN1cnJlbnRUYXNrLmZuID0gbnVsbDtcbiAgICAgIGNvbnN0IGRpZFVzZXJDYWxsYmFja1RpbWVvdXQgPSBjdXJyZW50VGFzay5leHBpcmF0aW9uVGltZSA8PSBjdXJyZW50VGltZTtcbiAgICAgIGNhbGxiYWNrKGRpZFVzZXJDYWxsYmFja1RpbWVvdXQpO1xuICAgICAgY3VycmVudFRpbWUgPSBwZXJmb3JtYW5jZS5ub3coKTtcbiAgICAgIGlmIChjdXJyZW50VGFzayA9PT0gdGFza1F1ZXVlWzBdKSB7XG4gICAgICAgIHRhc2tRdWV1ZS5zaGlmdCgpO1xuICAgICAgfVxuICAgIH0gZWxzZSB0YXNrUXVldWUuc2hpZnQoKTtcbiAgICBjdXJyZW50VGFzayA9IHRhc2tRdWV1ZVswXSB8fCBudWxsO1xuICB9XG4gIHJldHVybiBjdXJyZW50VGFzayAhPT0gbnVsbDtcbn1cblxuY29uc3Qgc2hhcmVkQ29uZmlnID0ge307XG5mdW5jdGlvbiBzZXRIeWRyYXRlQ29udGV4dChjb250ZXh0KSB7XG4gIHNoYXJlZENvbmZpZy5jb250ZXh0ID0gY29udGV4dDtcbn1cbmZ1bmN0aW9uIG5leHRIeWRyYXRlQ29udGV4dCgpIHtcbiAgcmV0dXJuIHtcbiAgICAuLi5zaGFyZWRDb25maWcuY29udGV4dCxcbiAgICBpZDogYCR7c2hhcmVkQ29uZmlnLmNvbnRleHQuaWR9JHtzaGFyZWRDb25maWcuY29udGV4dC5jb3VudCsrfS1gLFxuICAgIGNvdW50OiAwXG4gIH07XG59XG5cbmNvbnN0IGVxdWFsRm4gPSAoYSwgYikgPT4gYSA9PT0gYjtcbmNvbnN0ICRQUk9YWSA9IFN5bWJvbChcInNvbGlkLXByb3h5XCIpO1xuY29uc3QgJFRSQUNLID0gU3ltYm9sKFwic29saWQtdHJhY2tcIik7XG5jb25zdCAkREVWQ09NUCA9IFN5bWJvbChcInNvbGlkLWRldi1jb21wb25lbnRcIik7XG5jb25zdCBzaWduYWxPcHRpb25zID0ge1xuICBlcXVhbHM6IGVxdWFsRm5cbn07XG5sZXQgRVJST1IgPSBudWxsO1xubGV0IHJ1bkVmZmVjdHMgPSBydW5RdWV1ZTtcbmNvbnN0IFNUQUxFID0gMTtcbmNvbnN0IFBFTkRJTkcgPSAyO1xuY29uc3QgVU5PV05FRCA9IHtcbiAgb3duZWQ6IG51bGwsXG4gIGNsZWFudXBzOiBudWxsLFxuICBjb250ZXh0OiBudWxsLFxuICBvd25lcjogbnVsbFxufTtcbmNvbnN0IE5PX0lOSVQgPSB7fTtcbnZhciBPd25lciA9IG51bGw7XG5sZXQgVHJhbnNpdGlvbiA9IG51bGw7XG5sZXQgU2NoZWR1bGVyID0gbnVsbDtcbmxldCBFeHRlcm5hbFNvdXJjZUZhY3RvcnkgPSBudWxsO1xubGV0IExpc3RlbmVyID0gbnVsbDtcbmxldCBVcGRhdGVzID0gbnVsbDtcbmxldCBFZmZlY3RzID0gbnVsbDtcbmxldCBFeGVjQ291bnQgPSAwO1xuY29uc3QgW3RyYW5zUGVuZGluZywgc2V0VHJhbnNQZW5kaW5nXSA9IC8qQF9fUFVSRV9fKi9jcmVhdGVTaWduYWwoZmFsc2UpO1xuZnVuY3Rpb24gY3JlYXRlUm9vdChmbiwgZGV0YWNoZWRPd25lcikge1xuICBjb25zdCBsaXN0ZW5lciA9IExpc3RlbmVyLFxuICAgIG93bmVyID0gT3duZXIsXG4gICAgdW5vd25lZCA9IGZuLmxlbmd0aCA9PT0gMCxcbiAgICByb290ID0gdW5vd25lZCA/IFVOT1dORUQgOiB7XG4gICAgICBvd25lZDogbnVsbCxcbiAgICAgIGNsZWFudXBzOiBudWxsLFxuICAgICAgY29udGV4dDogbnVsbCxcbiAgICAgIG93bmVyOiBkZXRhY2hlZE93bmVyIHx8IG93bmVyXG4gICAgfSxcbiAgICB1cGRhdGVGbiA9IHVub3duZWQgPyBmbiA6ICgpID0+IGZuKCgpID0+IHVudHJhY2soKCkgPT4gY2xlYW5Ob2RlKHJvb3QpKSk7XG4gIE93bmVyID0gcm9vdDtcbiAgTGlzdGVuZXIgPSBudWxsO1xuICB0cnkge1xuICAgIHJldHVybiBydW5VcGRhdGVzKHVwZGF0ZUZuLCB0cnVlKTtcbiAgfSBmaW5hbGx5IHtcbiAgICBMaXN0ZW5lciA9IGxpc3RlbmVyO1xuICAgIE93bmVyID0gb3duZXI7XG4gIH1cbn1cbmZ1bmN0aW9uIGNyZWF0ZVNpZ25hbCh2YWx1ZSwgb3B0aW9ucykge1xuICBvcHRpb25zID0gb3B0aW9ucyA/IE9iamVjdC5hc3NpZ24oe30sIHNpZ25hbE9wdGlvbnMsIG9wdGlvbnMpIDogc2lnbmFsT3B0aW9ucztcbiAgY29uc3QgcyA9IHtcbiAgICB2YWx1ZSxcbiAgICBvYnNlcnZlcnM6IG51bGwsXG4gICAgb2JzZXJ2ZXJTbG90czogbnVsbCxcbiAgICBjb21wYXJhdG9yOiBvcHRpb25zLmVxdWFscyB8fCB1bmRlZmluZWRcbiAgfTtcbiAgY29uc3Qgc2V0dGVyID0gdmFsdWUgPT4ge1xuICAgIGlmICh0eXBlb2YgdmFsdWUgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgaWYgKFRyYW5zaXRpb24gJiYgVHJhbnNpdGlvbi5ydW5uaW5nICYmIFRyYW5zaXRpb24uc291cmNlcy5oYXMocykpIHZhbHVlID0gdmFsdWUocy50VmFsdWUpO2Vsc2UgdmFsdWUgPSB2YWx1ZShzLnZhbHVlKTtcbiAgICB9XG4gICAgcmV0dXJuIHdyaXRlU2lnbmFsKHMsIHZhbHVlKTtcbiAgfTtcbiAgcmV0dXJuIFtyZWFkU2lnbmFsLmJpbmQocyksIHNldHRlcl07XG59XG5mdW5jdGlvbiBjcmVhdGVDb21wdXRlZChmbiwgdmFsdWUsIG9wdGlvbnMpIHtcbiAgY29uc3QgYyA9IGNyZWF0ZUNvbXB1dGF0aW9uKGZuLCB2YWx1ZSwgdHJ1ZSwgU1RBTEUpO1xuICBpZiAoU2NoZWR1bGVyICYmIFRyYW5zaXRpb24gJiYgVHJhbnNpdGlvbi5ydW5uaW5nKSBVcGRhdGVzLnB1c2goYyk7ZWxzZSB1cGRhdGVDb21wdXRhdGlvbihjKTtcbn1cbmZ1bmN0aW9uIGNyZWF0ZVJlbmRlckVmZmVjdChmbiwgdmFsdWUsIG9wdGlvbnMpIHtcbiAgY29uc3QgYyA9IGNyZWF0ZUNvbXB1dGF0aW9uKGZuLCB2YWx1ZSwgZmFsc2UsIFNUQUxFKTtcbiAgaWYgKFNjaGVkdWxlciAmJiBUcmFuc2l0aW9uICYmIFRyYW5zaXRpb24ucnVubmluZykgVXBkYXRlcy5wdXNoKGMpO2Vsc2UgdXBkYXRlQ29tcHV0YXRpb24oYyk7XG59XG5mdW5jdGlvbiBjcmVhdGVFZmZlY3QoZm4sIHZhbHVlLCBvcHRpb25zKSB7XG4gIHJ1bkVmZmVjdHMgPSBydW5Vc2VyRWZmZWN0cztcbiAgY29uc3QgYyA9IGNyZWF0ZUNvbXB1dGF0aW9uKGZuLCB2YWx1ZSwgZmFsc2UsIFNUQUxFKSxcbiAgICBzID0gU3VzcGVuc2VDb250ZXh0ICYmIGxvb2t1cChPd25lciwgU3VzcGVuc2VDb250ZXh0LmlkKTtcbiAgaWYgKHMpIGMuc3VzcGVuc2UgPSBzO1xuICBjLnVzZXIgPSB0cnVlO1xuICBFZmZlY3RzID8gRWZmZWN0cy5wdXNoKGMpIDogdXBkYXRlQ29tcHV0YXRpb24oYyk7XG59XG5mdW5jdGlvbiBjcmVhdGVSZWFjdGlvbihvbkludmFsaWRhdGUsIG9wdGlvbnMpIHtcbiAgbGV0IGZuO1xuICBjb25zdCBjID0gY3JlYXRlQ29tcHV0YXRpb24oKCkgPT4ge1xuICAgICAgZm4gPyBmbigpIDogdW50cmFjayhvbkludmFsaWRhdGUpO1xuICAgICAgZm4gPSB1bmRlZmluZWQ7XG4gICAgfSwgdW5kZWZpbmVkLCBmYWxzZSwgMCksXG4gICAgcyA9IFN1c3BlbnNlQ29udGV4dCAmJiBsb29rdXAoT3duZXIsIFN1c3BlbnNlQ29udGV4dC5pZCk7XG4gIGlmIChzKSBjLnN1c3BlbnNlID0gcztcbiAgYy51c2VyID0gdHJ1ZTtcbiAgcmV0dXJuIHRyYWNraW5nID0+IHtcbiAgICBmbiA9IHRyYWNraW5nO1xuICAgIHVwZGF0ZUNvbXB1dGF0aW9uKGMpO1xuICB9O1xufVxuZnVuY3Rpb24gY3JlYXRlTWVtbyhmbiwgdmFsdWUsIG9wdGlvbnMpIHtcbiAgb3B0aW9ucyA9IG9wdGlvbnMgPyBPYmplY3QuYXNzaWduKHt9LCBzaWduYWxPcHRpb25zLCBvcHRpb25zKSA6IHNpZ25hbE9wdGlvbnM7XG4gIGNvbnN0IGMgPSBjcmVhdGVDb21wdXRhdGlvbihmbiwgdmFsdWUsIHRydWUsIDApO1xuICBjLm9ic2VydmVycyA9IG51bGw7XG4gIGMub2JzZXJ2ZXJTbG90cyA9IG51bGw7XG4gIGMuY29tcGFyYXRvciA9IG9wdGlvbnMuZXF1YWxzIHx8IHVuZGVmaW5lZDtcbiAgaWYgKFNjaGVkdWxlciAmJiBUcmFuc2l0aW9uICYmIFRyYW5zaXRpb24ucnVubmluZykge1xuICAgIGMudFN0YXRlID0gU1RBTEU7XG4gICAgVXBkYXRlcy5wdXNoKGMpO1xuICB9IGVsc2UgdXBkYXRlQ29tcHV0YXRpb24oYyk7XG4gIHJldHVybiByZWFkU2lnbmFsLmJpbmQoYyk7XG59XG5mdW5jdGlvbiBjcmVhdGVSZXNvdXJjZShwU291cmNlLCBwRmV0Y2hlciwgcE9wdGlvbnMpIHtcbiAgbGV0IHNvdXJjZTtcbiAgbGV0IGZldGNoZXI7XG4gIGxldCBvcHRpb25zO1xuICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMiAmJiB0eXBlb2YgcEZldGNoZXIgPT09IFwib2JqZWN0XCIgfHwgYXJndW1lbnRzLmxlbmd0aCA9PT0gMSkge1xuICAgIHNvdXJjZSA9IHRydWU7XG4gICAgZmV0Y2hlciA9IHBTb3VyY2U7XG4gICAgb3B0aW9ucyA9IHBGZXRjaGVyIHx8IHt9O1xuICB9IGVsc2Uge1xuICAgIHNvdXJjZSA9IHBTb3VyY2U7XG4gICAgZmV0Y2hlciA9IHBGZXRjaGVyO1xuICAgIG9wdGlvbnMgPSBwT3B0aW9ucyB8fCB7fTtcbiAgfVxuICBsZXQgcHIgPSBudWxsLFxuICAgIGluaXRQID0gTk9fSU5JVCxcbiAgICBpZCA9IG51bGwsXG4gICAgbG9hZGVkVW5kZXJUcmFuc2l0aW9uID0gZmFsc2UsXG4gICAgc2NoZWR1bGVkID0gZmFsc2UsXG4gICAgcmVzb2x2ZWQgPSAoXCJpbml0aWFsVmFsdWVcIiBpbiBvcHRpb25zKSxcbiAgICBkeW5hbWljID0gdHlwZW9mIHNvdXJjZSA9PT0gXCJmdW5jdGlvblwiICYmIGNyZWF0ZU1lbW8oc291cmNlKTtcbiAgY29uc3QgY29udGV4dHMgPSBuZXcgU2V0KCksXG4gICAgW3ZhbHVlLCBzZXRWYWx1ZV0gPSAob3B0aW9ucy5zdG9yYWdlIHx8IGNyZWF0ZVNpZ25hbCkob3B0aW9ucy5pbml0aWFsVmFsdWUpLFxuICAgIFtlcnJvciwgc2V0RXJyb3JdID0gY3JlYXRlU2lnbmFsKHVuZGVmaW5lZCksXG4gICAgW3RyYWNrLCB0cmlnZ2VyXSA9IGNyZWF0ZVNpZ25hbCh1bmRlZmluZWQsIHtcbiAgICAgIGVxdWFsczogZmFsc2VcbiAgICB9KSxcbiAgICBbc3RhdGUsIHNldFN0YXRlXSA9IGNyZWF0ZVNpZ25hbChyZXNvbHZlZCA/IFwicmVhZHlcIiA6IFwidW5yZXNvbHZlZFwiKTtcbiAgaWYgKHNoYXJlZENvbmZpZy5jb250ZXh0KSB7XG4gICAgaWQgPSBgJHtzaGFyZWRDb25maWcuY29udGV4dC5pZH0ke3NoYXJlZENvbmZpZy5jb250ZXh0LmNvdW50Kyt9YDtcbiAgICBsZXQgdjtcbiAgICBpZiAob3B0aW9ucy5zc3JMb2FkRnJvbSA9PT0gXCJpbml0aWFsXCIpIGluaXRQID0gb3B0aW9ucy5pbml0aWFsVmFsdWU7ZWxzZSBpZiAoc2hhcmVkQ29uZmlnLmxvYWQgJiYgKHYgPSBzaGFyZWRDb25maWcubG9hZChpZCkpKSBpbml0UCA9IHZbMF07XG4gIH1cbiAgZnVuY3Rpb24gbG9hZEVuZChwLCB2LCBlcnJvciwga2V5KSB7XG4gICAgaWYgKHByID09PSBwKSB7XG4gICAgICBwciA9IG51bGw7XG4gICAgICByZXNvbHZlZCA9IHRydWU7XG4gICAgICBpZiAoKHAgPT09IGluaXRQIHx8IHYgPT09IGluaXRQKSAmJiBvcHRpb25zLm9uSHlkcmF0ZWQpIHF1ZXVlTWljcm90YXNrKCgpID0+IG9wdGlvbnMub25IeWRyYXRlZChrZXksIHtcbiAgICAgICAgdmFsdWU6IHZcbiAgICAgIH0pKTtcbiAgICAgIGluaXRQID0gTk9fSU5JVDtcbiAgICAgIGlmIChUcmFuc2l0aW9uICYmIHAgJiYgbG9hZGVkVW5kZXJUcmFuc2l0aW9uKSB7XG4gICAgICAgIFRyYW5zaXRpb24ucHJvbWlzZXMuZGVsZXRlKHApO1xuICAgICAgICBsb2FkZWRVbmRlclRyYW5zaXRpb24gPSBmYWxzZTtcbiAgICAgICAgcnVuVXBkYXRlcygoKSA9PiB7XG4gICAgICAgICAgVHJhbnNpdGlvbi5ydW5uaW5nID0gdHJ1ZTtcbiAgICAgICAgICBjb21wbGV0ZUxvYWQodiwgZXJyb3IpO1xuICAgICAgICB9LCBmYWxzZSk7XG4gICAgICB9IGVsc2UgY29tcGxldGVMb2FkKHYsIGVycm9yKTtcbiAgICB9XG4gICAgcmV0dXJuIHY7XG4gIH1cbiAgZnVuY3Rpb24gY29tcGxldGVMb2FkKHYsIGVycikge1xuICAgIHJ1blVwZGF0ZXMoKCkgPT4ge1xuICAgICAgaWYgKCFlcnIpIHNldFZhbHVlKCgpID0+IHYpO1xuICAgICAgc2V0U3RhdGUoZXJyID8gXCJlcnJvcmVkXCIgOiBcInJlYWR5XCIpO1xuICAgICAgc2V0RXJyb3IoZXJyKTtcbiAgICAgIGZvciAoY29uc3QgYyBvZiBjb250ZXh0cy5rZXlzKCkpIGMuZGVjcmVtZW50KCk7XG4gICAgICBjb250ZXh0cy5jbGVhcigpO1xuICAgIH0sIGZhbHNlKTtcbiAgfVxuICBmdW5jdGlvbiByZWFkKCkge1xuICAgIGNvbnN0IGMgPSBTdXNwZW5zZUNvbnRleHQgJiYgbG9va3VwKE93bmVyLCBTdXNwZW5zZUNvbnRleHQuaWQpLFxuICAgICAgdiA9IHZhbHVlKCksXG4gICAgICBlcnIgPSBlcnJvcigpO1xuICAgIGlmIChlcnIgJiYgIXByKSB0aHJvdyBlcnI7XG4gICAgaWYgKExpc3RlbmVyICYmICFMaXN0ZW5lci51c2VyICYmIGMpIHtcbiAgICAgIGNyZWF0ZUNvbXB1dGVkKCgpID0+IHtcbiAgICAgICAgdHJhY2soKTtcbiAgICAgICAgaWYgKHByKSB7XG4gICAgICAgICAgaWYgKGMucmVzb2x2ZWQgJiYgVHJhbnNpdGlvbiAmJiBsb2FkZWRVbmRlclRyYW5zaXRpb24pIFRyYW5zaXRpb24ucHJvbWlzZXMuYWRkKHByKTtlbHNlIGlmICghY29udGV4dHMuaGFzKGMpKSB7XG4gICAgICAgICAgICBjLmluY3JlbWVudCgpO1xuICAgICAgICAgICAgY29udGV4dHMuYWRkKGMpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiB2O1xuICB9XG4gIGZ1bmN0aW9uIGxvYWQocmVmZXRjaGluZyA9IHRydWUpIHtcbiAgICBpZiAocmVmZXRjaGluZyAhPT0gZmFsc2UgJiYgc2NoZWR1bGVkKSByZXR1cm47XG4gICAgc2NoZWR1bGVkID0gZmFsc2U7XG4gICAgY29uc3QgbG9va3VwID0gZHluYW1pYyA/IGR5bmFtaWMoKSA6IHNvdXJjZTtcbiAgICBsb2FkZWRVbmRlclRyYW5zaXRpb24gPSBUcmFuc2l0aW9uICYmIFRyYW5zaXRpb24ucnVubmluZztcbiAgICBpZiAobG9va3VwID09IG51bGwgfHwgbG9va3VwID09PSBmYWxzZSkge1xuICAgICAgbG9hZEVuZChwciwgdW50cmFjayh2YWx1ZSkpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoVHJhbnNpdGlvbiAmJiBwcikgVHJhbnNpdGlvbi5wcm9taXNlcy5kZWxldGUocHIpO1xuICAgIGNvbnN0IHAgPSBpbml0UCAhPT0gTk9fSU5JVCA/IGluaXRQIDogdW50cmFjaygoKSA9PiBmZXRjaGVyKGxvb2t1cCwge1xuICAgICAgdmFsdWU6IHZhbHVlKCksXG4gICAgICByZWZldGNoaW5nXG4gICAgfSkpO1xuICAgIGlmICh0eXBlb2YgcCAhPT0gXCJvYmplY3RcIiB8fCAhKHAgJiYgXCJ0aGVuXCIgaW4gcCkpIHtcbiAgICAgIGxvYWRFbmQocHIsIHAsIHVuZGVmaW5lZCwgbG9va3VwKTtcbiAgICAgIHJldHVybiBwO1xuICAgIH1cbiAgICBwciA9IHA7XG4gICAgc2NoZWR1bGVkID0gdHJ1ZTtcbiAgICBxdWV1ZU1pY3JvdGFzaygoKSA9PiBzY2hlZHVsZWQgPSBmYWxzZSk7XG4gICAgcnVuVXBkYXRlcygoKSA9PiB7XG4gICAgICBzZXRTdGF0ZShyZXNvbHZlZCA/IFwicmVmcmVzaGluZ1wiIDogXCJwZW5kaW5nXCIpO1xuICAgICAgdHJpZ2dlcigpO1xuICAgIH0sIGZhbHNlKTtcbiAgICByZXR1cm4gcC50aGVuKHYgPT4gbG9hZEVuZChwLCB2LCB1bmRlZmluZWQsIGxvb2t1cCksIGUgPT4gbG9hZEVuZChwLCB1bmRlZmluZWQsIGNhc3RFcnJvcihlKSwgbG9va3VwKSk7XG4gIH1cbiAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMocmVhZCwge1xuICAgIHN0YXRlOiB7XG4gICAgICBnZXQ6ICgpID0+IHN0YXRlKClcbiAgICB9LFxuICAgIGVycm9yOiB7XG4gICAgICBnZXQ6ICgpID0+IGVycm9yKClcbiAgICB9LFxuICAgIGxvYWRpbmc6IHtcbiAgICAgIGdldCgpIHtcbiAgICAgICAgY29uc3QgcyA9IHN0YXRlKCk7XG4gICAgICAgIHJldHVybiBzID09PSBcInBlbmRpbmdcIiB8fCBzID09PSBcInJlZnJlc2hpbmdcIjtcbiAgICAgIH1cbiAgICB9LFxuICAgIGxhdGVzdDoge1xuICAgICAgZ2V0KCkge1xuICAgICAgICBpZiAoIXJlc29sdmVkKSByZXR1cm4gcmVhZCgpO1xuICAgICAgICBjb25zdCBlcnIgPSBlcnJvcigpO1xuICAgICAgICBpZiAoZXJyICYmICFwcikgdGhyb3cgZXJyO1xuICAgICAgICByZXR1cm4gdmFsdWUoKTtcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xuICBpZiAoZHluYW1pYykgY3JlYXRlQ29tcHV0ZWQoKCkgPT4gbG9hZChmYWxzZSkpO2Vsc2UgbG9hZChmYWxzZSk7XG4gIHJldHVybiBbcmVhZCwge1xuICAgIHJlZmV0Y2g6IGxvYWQsXG4gICAgbXV0YXRlOiBzZXRWYWx1ZVxuICB9XTtcbn1cbmZ1bmN0aW9uIGNyZWF0ZURlZmVycmVkKHNvdXJjZSwgb3B0aW9ucykge1xuICBsZXQgdCxcbiAgICB0aW1lb3V0ID0gb3B0aW9ucyA/IG9wdGlvbnMudGltZW91dE1zIDogdW5kZWZpbmVkO1xuICBjb25zdCBub2RlID0gY3JlYXRlQ29tcHV0YXRpb24oKCkgPT4ge1xuICAgIGlmICghdCB8fCAhdC5mbikgdCA9IHJlcXVlc3RDYWxsYmFjaygoKSA9PiBzZXREZWZlcnJlZCgoKSA9PiBub2RlLnZhbHVlKSwgdGltZW91dCAhPT0gdW5kZWZpbmVkID8ge1xuICAgICAgdGltZW91dFxuICAgIH0gOiB1bmRlZmluZWQpO1xuICAgIHJldHVybiBzb3VyY2UoKTtcbiAgfSwgdW5kZWZpbmVkLCB0cnVlKTtcbiAgY29uc3QgW2RlZmVycmVkLCBzZXREZWZlcnJlZF0gPSBjcmVhdGVTaWduYWwobm9kZS52YWx1ZSwgb3B0aW9ucyk7XG4gIHVwZGF0ZUNvbXB1dGF0aW9uKG5vZGUpO1xuICBzZXREZWZlcnJlZCgoKSA9PiBub2RlLnZhbHVlKTtcbiAgcmV0dXJuIGRlZmVycmVkO1xufVxuZnVuY3Rpb24gY3JlYXRlU2VsZWN0b3Ioc291cmNlLCBmbiA9IGVxdWFsRm4sIG9wdGlvbnMpIHtcbiAgY29uc3Qgc3VicyA9IG5ldyBNYXAoKTtcbiAgY29uc3Qgbm9kZSA9IGNyZWF0ZUNvbXB1dGF0aW9uKHAgPT4ge1xuICAgIGNvbnN0IHYgPSBzb3VyY2UoKTtcbiAgICBmb3IgKGNvbnN0IFtrZXksIHZhbF0gb2Ygc3Vicy5lbnRyaWVzKCkpIGlmIChmbihrZXksIHYpICE9PSBmbihrZXksIHApKSB7XG4gICAgICBmb3IgKGNvbnN0IGMgb2YgdmFsLnZhbHVlcygpKSB7XG4gICAgICAgIGMuc3RhdGUgPSBTVEFMRTtcbiAgICAgICAgaWYgKGMucHVyZSkgVXBkYXRlcy5wdXNoKGMpO2Vsc2UgRWZmZWN0cy5wdXNoKGMpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdjtcbiAgfSwgdW5kZWZpbmVkLCB0cnVlLCBTVEFMRSk7XG4gIHVwZGF0ZUNvbXB1dGF0aW9uKG5vZGUpO1xuICByZXR1cm4ga2V5ID0+IHtcbiAgICBjb25zdCBsaXN0ZW5lciA9IExpc3RlbmVyO1xuICAgIGlmIChsaXN0ZW5lcikge1xuICAgICAgbGV0IGw7XG4gICAgICBpZiAobCA9IHN1YnMuZ2V0KGtleSkpIGwuYWRkKGxpc3RlbmVyKTtlbHNlIHN1YnMuc2V0KGtleSwgbCA9IG5ldyBTZXQoW2xpc3RlbmVyXSkpO1xuICAgICAgb25DbGVhbnVwKCgpID0+IHtcbiAgICAgICAgbC5kZWxldGUobGlzdGVuZXIpO1xuICAgICAgICAhbC5zaXplICYmIHN1YnMuZGVsZXRlKGtleSk7XG4gICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIGZuKGtleSwgVHJhbnNpdGlvbiAmJiBUcmFuc2l0aW9uLnJ1bm5pbmcgJiYgVHJhbnNpdGlvbi5zb3VyY2VzLmhhcyhub2RlKSA/IG5vZGUudFZhbHVlIDogbm9kZS52YWx1ZSk7XG4gIH07XG59XG5mdW5jdGlvbiBiYXRjaChmbikge1xuICByZXR1cm4gcnVuVXBkYXRlcyhmbiwgZmFsc2UpO1xufVxuZnVuY3Rpb24gdW50cmFjayhmbikge1xuICBjb25zdCBsaXN0ZW5lciA9IExpc3RlbmVyO1xuICBMaXN0ZW5lciA9IG51bGw7XG4gIHRyeSB7XG4gICAgcmV0dXJuIGZuKCk7XG4gIH0gZmluYWxseSB7XG4gICAgTGlzdGVuZXIgPSBsaXN0ZW5lcjtcbiAgfVxufVxuZnVuY3Rpb24gb24oZGVwcywgZm4sIG9wdGlvbnMpIHtcbiAgY29uc3QgaXNBcnJheSA9IEFycmF5LmlzQXJyYXkoZGVwcyk7XG4gIGxldCBwcmV2SW5wdXQ7XG4gIGxldCBkZWZlciA9IG9wdGlvbnMgJiYgb3B0aW9ucy5kZWZlcjtcbiAgcmV0dXJuIHByZXZWYWx1ZSA9PiB7XG4gICAgbGV0IGlucHV0O1xuICAgIGlmIChpc0FycmF5KSB7XG4gICAgICBpbnB1dCA9IEFycmF5KGRlcHMubGVuZ3RoKTtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZGVwcy5sZW5ndGg7IGkrKykgaW5wdXRbaV0gPSBkZXBzW2ldKCk7XG4gICAgfSBlbHNlIGlucHV0ID0gZGVwcygpO1xuICAgIGlmIChkZWZlcikge1xuICAgICAgZGVmZXIgPSBmYWxzZTtcbiAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuICAgIGNvbnN0IHJlc3VsdCA9IHVudHJhY2soKCkgPT4gZm4oaW5wdXQsIHByZXZJbnB1dCwgcHJldlZhbHVlKSk7XG4gICAgcHJldklucHV0ID0gaW5wdXQ7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfTtcbn1cbmZ1bmN0aW9uIG9uTW91bnQoZm4pIHtcbiAgY3JlYXRlRWZmZWN0KCgpID0+IHVudHJhY2soZm4pKTtcbn1cbmZ1bmN0aW9uIG9uQ2xlYW51cChmbikge1xuICBpZiAoT3duZXIgPT09IG51bGwpIDtlbHNlIGlmIChPd25lci5jbGVhbnVwcyA9PT0gbnVsbCkgT3duZXIuY2xlYW51cHMgPSBbZm5dO2Vsc2UgT3duZXIuY2xlYW51cHMucHVzaChmbik7XG4gIHJldHVybiBmbjtcbn1cbmZ1bmN0aW9uIG9uRXJyb3IoZm4pIHtcbiAgRVJST1IgfHwgKEVSUk9SID0gU3ltYm9sKFwiZXJyb3JcIikpO1xuICBpZiAoT3duZXIgPT09IG51bGwpIDtlbHNlIGlmIChPd25lci5jb250ZXh0ID09PSBudWxsKSBPd25lci5jb250ZXh0ID0ge1xuICAgIFtFUlJPUl06IFtmbl1cbiAgfTtlbHNlIGlmICghT3duZXIuY29udGV4dFtFUlJPUl0pIE93bmVyLmNvbnRleHRbRVJST1JdID0gW2ZuXTtlbHNlIE93bmVyLmNvbnRleHRbRVJST1JdLnB1c2goZm4pO1xufVxuZnVuY3Rpb24gZ2V0TGlzdGVuZXIoKSB7XG4gIHJldHVybiBMaXN0ZW5lcjtcbn1cbmZ1bmN0aW9uIGdldE93bmVyKCkge1xuICByZXR1cm4gT3duZXI7XG59XG5mdW5jdGlvbiBydW5XaXRoT3duZXIobywgZm4pIHtcbiAgY29uc3QgcHJldiA9IE93bmVyO1xuICBPd25lciA9IG87XG4gIHRyeSB7XG4gICAgcmV0dXJuIHJ1blVwZGF0ZXMoZm4sIHRydWUpO1xuICB9IGNhdGNoIChlcnIpIHtcbiAgICBoYW5kbGVFcnJvcihlcnIpO1xuICB9IGZpbmFsbHkge1xuICAgIE93bmVyID0gcHJldjtcbiAgfVxufVxuZnVuY3Rpb24gZW5hYmxlU2NoZWR1bGluZyhzY2hlZHVsZXIgPSByZXF1ZXN0Q2FsbGJhY2spIHtcbiAgU2NoZWR1bGVyID0gc2NoZWR1bGVyO1xufVxuZnVuY3Rpb24gc3RhcnRUcmFuc2l0aW9uKGZuKSB7XG4gIGlmIChUcmFuc2l0aW9uICYmIFRyYW5zaXRpb24ucnVubmluZykge1xuICAgIGZuKCk7XG4gICAgcmV0dXJuIFRyYW5zaXRpb24uZG9uZTtcbiAgfVxuICBjb25zdCBsID0gTGlzdGVuZXI7XG4gIGNvbnN0IG8gPSBPd25lcjtcbiAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpLnRoZW4oKCkgPT4ge1xuICAgIExpc3RlbmVyID0gbDtcbiAgICBPd25lciA9IG87XG4gICAgbGV0IHQ7XG4gICAgaWYgKFNjaGVkdWxlciB8fCBTdXNwZW5zZUNvbnRleHQpIHtcbiAgICAgIHQgPSBUcmFuc2l0aW9uIHx8IChUcmFuc2l0aW9uID0ge1xuICAgICAgICBzb3VyY2VzOiBuZXcgU2V0KCksXG4gICAgICAgIGVmZmVjdHM6IFtdLFxuICAgICAgICBwcm9taXNlczogbmV3IFNldCgpLFxuICAgICAgICBkaXNwb3NlZDogbmV3IFNldCgpLFxuICAgICAgICBxdWV1ZTogbmV3IFNldCgpLFxuICAgICAgICBydW5uaW5nOiB0cnVlXG4gICAgICB9KTtcbiAgICAgIHQuZG9uZSB8fCAodC5kb25lID0gbmV3IFByb21pc2UocmVzID0+IHQucmVzb2x2ZSA9IHJlcykpO1xuICAgICAgdC5ydW5uaW5nID0gdHJ1ZTtcbiAgICB9XG4gICAgcnVuVXBkYXRlcyhmbiwgZmFsc2UpO1xuICAgIExpc3RlbmVyID0gT3duZXIgPSBudWxsO1xuICAgIHJldHVybiB0ID8gdC5kb25lIDogdW5kZWZpbmVkO1xuICB9KTtcbn1cbmZ1bmN0aW9uIHVzZVRyYW5zaXRpb24oKSB7XG4gIHJldHVybiBbdHJhbnNQZW5kaW5nLCBzdGFydFRyYW5zaXRpb25dO1xufVxuZnVuY3Rpb24gcmVzdW1lRWZmZWN0cyhlKSB7XG4gIEVmZmVjdHMucHVzaC5hcHBseShFZmZlY3RzLCBlKTtcbiAgZS5sZW5ndGggPSAwO1xufVxuZnVuY3Rpb24gY3JlYXRlQ29udGV4dChkZWZhdWx0VmFsdWUsIG9wdGlvbnMpIHtcbiAgY29uc3QgaWQgPSBTeW1ib2woXCJjb250ZXh0XCIpO1xuICByZXR1cm4ge1xuICAgIGlkLFxuICAgIFByb3ZpZGVyOiBjcmVhdGVQcm92aWRlcihpZCksXG4gICAgZGVmYXVsdFZhbHVlXG4gIH07XG59XG5mdW5jdGlvbiB1c2VDb250ZXh0KGNvbnRleHQpIHtcbiAgbGV0IGN0eDtcbiAgcmV0dXJuIChjdHggPSBsb29rdXAoT3duZXIsIGNvbnRleHQuaWQpKSAhPT0gdW5kZWZpbmVkID8gY3R4IDogY29udGV4dC5kZWZhdWx0VmFsdWU7XG59XG5mdW5jdGlvbiBjaGlsZHJlbihmbikge1xuICBjb25zdCBjaGlsZHJlbiA9IGNyZWF0ZU1lbW8oZm4pO1xuICBjb25zdCBtZW1vID0gY3JlYXRlTWVtbygoKSA9PiByZXNvbHZlQ2hpbGRyZW4oY2hpbGRyZW4oKSkpO1xuICBtZW1vLnRvQXJyYXkgPSAoKSA9PiB7XG4gICAgY29uc3QgYyA9IG1lbW8oKTtcbiAgICByZXR1cm4gQXJyYXkuaXNBcnJheShjKSA/IGMgOiBjICE9IG51bGwgPyBbY10gOiBbXTtcbiAgfTtcbiAgcmV0dXJuIG1lbW87XG59XG5sZXQgU3VzcGVuc2VDb250ZXh0O1xuZnVuY3Rpb24gZ2V0U3VzcGVuc2VDb250ZXh0KCkge1xuICByZXR1cm4gU3VzcGVuc2VDb250ZXh0IHx8IChTdXNwZW5zZUNvbnRleHQgPSBjcmVhdGVDb250ZXh0KHt9KSk7XG59XG5mdW5jdGlvbiBlbmFibGVFeHRlcm5hbFNvdXJjZShmYWN0b3J5KSB7XG4gIGlmIChFeHRlcm5hbFNvdXJjZUZhY3RvcnkpIHtcbiAgICBjb25zdCBvbGRGYWN0b3J5ID0gRXh0ZXJuYWxTb3VyY2VGYWN0b3J5O1xuICAgIEV4dGVybmFsU291cmNlRmFjdG9yeSA9IChmbiwgdHJpZ2dlcikgPT4ge1xuICAgICAgY29uc3Qgb2xkU291cmNlID0gb2xkRmFjdG9yeShmbiwgdHJpZ2dlcik7XG4gICAgICBjb25zdCBzb3VyY2UgPSBmYWN0b3J5KHggPT4gb2xkU291cmNlLnRyYWNrKHgpLCB0cmlnZ2VyKTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHRyYWNrOiB4ID0+IHNvdXJjZS50cmFjayh4KSxcbiAgICAgICAgZGlzcG9zZSgpIHtcbiAgICAgICAgICBzb3VyY2UuZGlzcG9zZSgpO1xuICAgICAgICAgIG9sZFNvdXJjZS5kaXNwb3NlKCk7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfTtcbiAgfSBlbHNlIHtcbiAgICBFeHRlcm5hbFNvdXJjZUZhY3RvcnkgPSBmYWN0b3J5O1xuICB9XG59XG5mdW5jdGlvbiByZWFkU2lnbmFsKCkge1xuICBjb25zdCBydW5uaW5nVHJhbnNpdGlvbiA9IFRyYW5zaXRpb24gJiYgVHJhbnNpdGlvbi5ydW5uaW5nO1xuICBpZiAodGhpcy5zb3VyY2VzICYmICghcnVubmluZ1RyYW5zaXRpb24gJiYgdGhpcy5zdGF0ZSB8fCBydW5uaW5nVHJhbnNpdGlvbiAmJiB0aGlzLnRTdGF0ZSkpIHtcbiAgICBpZiAoIXJ1bm5pbmdUcmFuc2l0aW9uICYmIHRoaXMuc3RhdGUgPT09IFNUQUxFIHx8IHJ1bm5pbmdUcmFuc2l0aW9uICYmIHRoaXMudFN0YXRlID09PSBTVEFMRSkgdXBkYXRlQ29tcHV0YXRpb24odGhpcyk7ZWxzZSB7XG4gICAgICBjb25zdCB1cGRhdGVzID0gVXBkYXRlcztcbiAgICAgIFVwZGF0ZXMgPSBudWxsO1xuICAgICAgcnVuVXBkYXRlcygoKSA9PiBsb29rVXBzdHJlYW0odGhpcyksIGZhbHNlKTtcbiAgICAgIFVwZGF0ZXMgPSB1cGRhdGVzO1xuICAgIH1cbiAgfVxuICBpZiAoTGlzdGVuZXIpIHtcbiAgICBjb25zdCBzU2xvdCA9IHRoaXMub2JzZXJ2ZXJzID8gdGhpcy5vYnNlcnZlcnMubGVuZ3RoIDogMDtcbiAgICBpZiAoIUxpc3RlbmVyLnNvdXJjZXMpIHtcbiAgICAgIExpc3RlbmVyLnNvdXJjZXMgPSBbdGhpc107XG4gICAgICBMaXN0ZW5lci5zb3VyY2VTbG90cyA9IFtzU2xvdF07XG4gICAgfSBlbHNlIHtcbiAgICAgIExpc3RlbmVyLnNvdXJjZXMucHVzaCh0aGlzKTtcbiAgICAgIExpc3RlbmVyLnNvdXJjZVNsb3RzLnB1c2goc1Nsb3QpO1xuICAgIH1cbiAgICBpZiAoIXRoaXMub2JzZXJ2ZXJzKSB7XG4gICAgICB0aGlzLm9ic2VydmVycyA9IFtMaXN0ZW5lcl07XG4gICAgICB0aGlzLm9ic2VydmVyU2xvdHMgPSBbTGlzdGVuZXIuc291cmNlcy5sZW5ndGggLSAxXTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5vYnNlcnZlcnMucHVzaChMaXN0ZW5lcik7XG4gICAgICB0aGlzLm9ic2VydmVyU2xvdHMucHVzaChMaXN0ZW5lci5zb3VyY2VzLmxlbmd0aCAtIDEpO1xuICAgIH1cbiAgfVxuICBpZiAocnVubmluZ1RyYW5zaXRpb24gJiYgVHJhbnNpdGlvbi5zb3VyY2VzLmhhcyh0aGlzKSkgcmV0dXJuIHRoaXMudFZhbHVlO1xuICByZXR1cm4gdGhpcy52YWx1ZTtcbn1cbmZ1bmN0aW9uIHdyaXRlU2lnbmFsKG5vZGUsIHZhbHVlLCBpc0NvbXApIHtcbiAgbGV0IGN1cnJlbnQgPSBUcmFuc2l0aW9uICYmIFRyYW5zaXRpb24ucnVubmluZyAmJiBUcmFuc2l0aW9uLnNvdXJjZXMuaGFzKG5vZGUpID8gbm9kZS50VmFsdWUgOiBub2RlLnZhbHVlO1xuICBpZiAoIW5vZGUuY29tcGFyYXRvciB8fCAhbm9kZS5jb21wYXJhdG9yKGN1cnJlbnQsIHZhbHVlKSkge1xuICAgIGlmIChUcmFuc2l0aW9uKSB7XG4gICAgICBjb25zdCBUcmFuc2l0aW9uUnVubmluZyA9IFRyYW5zaXRpb24ucnVubmluZztcbiAgICAgIGlmIChUcmFuc2l0aW9uUnVubmluZyB8fCAhaXNDb21wICYmIFRyYW5zaXRpb24uc291cmNlcy5oYXMobm9kZSkpIHtcbiAgICAgICAgVHJhbnNpdGlvbi5zb3VyY2VzLmFkZChub2RlKTtcbiAgICAgICAgbm9kZS50VmFsdWUgPSB2YWx1ZTtcbiAgICAgIH1cbiAgICAgIGlmICghVHJhbnNpdGlvblJ1bm5pbmcpIG5vZGUudmFsdWUgPSB2YWx1ZTtcbiAgICB9IGVsc2Ugbm9kZS52YWx1ZSA9IHZhbHVlO1xuICAgIGlmIChub2RlLm9ic2VydmVycyAmJiBub2RlLm9ic2VydmVycy5sZW5ndGgpIHtcbiAgICAgIHJ1blVwZGF0ZXMoKCkgPT4ge1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG5vZGUub2JzZXJ2ZXJzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICAgICAgY29uc3QgbyA9IG5vZGUub2JzZXJ2ZXJzW2ldO1xuICAgICAgICAgIGNvbnN0IFRyYW5zaXRpb25SdW5uaW5nID0gVHJhbnNpdGlvbiAmJiBUcmFuc2l0aW9uLnJ1bm5pbmc7XG4gICAgICAgICAgaWYgKFRyYW5zaXRpb25SdW5uaW5nICYmIFRyYW5zaXRpb24uZGlzcG9zZWQuaGFzKG8pKSBjb250aW51ZTtcbiAgICAgICAgICBpZiAoVHJhbnNpdGlvblJ1bm5pbmcgJiYgIW8udFN0YXRlIHx8ICFUcmFuc2l0aW9uUnVubmluZyAmJiAhby5zdGF0ZSkge1xuICAgICAgICAgICAgaWYgKG8ucHVyZSkgVXBkYXRlcy5wdXNoKG8pO2Vsc2UgRWZmZWN0cy5wdXNoKG8pO1xuICAgICAgICAgICAgaWYgKG8ub2JzZXJ2ZXJzKSBtYXJrRG93bnN0cmVhbShvKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKFRyYW5zaXRpb25SdW5uaW5nKSBvLnRTdGF0ZSA9IFNUQUxFO2Vsc2Ugby5zdGF0ZSA9IFNUQUxFO1xuICAgICAgICB9XG4gICAgICAgIGlmIChVcGRhdGVzLmxlbmd0aCA+IDEwZTUpIHtcbiAgICAgICAgICBVcGRhdGVzID0gW107XG4gICAgICAgICAgaWYgKGZhbHNlKSA7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCk7XG4gICAgICAgIH1cbiAgICAgIH0sIGZhbHNlKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHZhbHVlO1xufVxuZnVuY3Rpb24gdXBkYXRlQ29tcHV0YXRpb24obm9kZSkge1xuICBpZiAoIW5vZGUuZm4pIHJldHVybjtcbiAgY2xlYW5Ob2RlKG5vZGUpO1xuICBjb25zdCBvd25lciA9IE93bmVyLFxuICAgIGxpc3RlbmVyID0gTGlzdGVuZXIsXG4gICAgdGltZSA9IEV4ZWNDb3VudDtcbiAgTGlzdGVuZXIgPSBPd25lciA9IG5vZGU7XG4gIHJ1bkNvbXB1dGF0aW9uKG5vZGUsIFRyYW5zaXRpb24gJiYgVHJhbnNpdGlvbi5ydW5uaW5nICYmIFRyYW5zaXRpb24uc291cmNlcy5oYXMobm9kZSkgPyBub2RlLnRWYWx1ZSA6IG5vZGUudmFsdWUsIHRpbWUpO1xuICBpZiAoVHJhbnNpdGlvbiAmJiAhVHJhbnNpdGlvbi5ydW5uaW5nICYmIFRyYW5zaXRpb24uc291cmNlcy5oYXMobm9kZSkpIHtcbiAgICBxdWV1ZU1pY3JvdGFzaygoKSA9PiB7XG4gICAgICBydW5VcGRhdGVzKCgpID0+IHtcbiAgICAgICAgVHJhbnNpdGlvbiAmJiAoVHJhbnNpdGlvbi5ydW5uaW5nID0gdHJ1ZSk7XG4gICAgICAgIExpc3RlbmVyID0gT3duZXIgPSBub2RlO1xuICAgICAgICBydW5Db21wdXRhdGlvbihub2RlLCBub2RlLnRWYWx1ZSwgdGltZSk7XG4gICAgICAgIExpc3RlbmVyID0gT3duZXIgPSBudWxsO1xuICAgICAgfSwgZmFsc2UpO1xuICAgIH0pO1xuICB9XG4gIExpc3RlbmVyID0gbGlzdGVuZXI7XG4gIE93bmVyID0gb3duZXI7XG59XG5mdW5jdGlvbiBydW5Db21wdXRhdGlvbihub2RlLCB2YWx1ZSwgdGltZSkge1xuICBsZXQgbmV4dFZhbHVlO1xuICB0cnkge1xuICAgIG5leHRWYWx1ZSA9IG5vZGUuZm4odmFsdWUpO1xuICB9IGNhdGNoIChlcnIpIHtcbiAgICBpZiAobm9kZS5wdXJlKSB7XG4gICAgICBpZiAoVHJhbnNpdGlvbiAmJiBUcmFuc2l0aW9uLnJ1bm5pbmcpIHtcbiAgICAgICAgbm9kZS50U3RhdGUgPSBTVEFMRTtcbiAgICAgICAgbm9kZS50T3duZWQgJiYgbm9kZS50T3duZWQuZm9yRWFjaChjbGVhbk5vZGUpO1xuICAgICAgICBub2RlLnRPd25lZCA9IHVuZGVmaW5lZDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG5vZGUuc3RhdGUgPSBTVEFMRTtcbiAgICAgICAgbm9kZS5vd25lZCAmJiBub2RlLm93bmVkLmZvckVhY2goY2xlYW5Ob2RlKTtcbiAgICAgICAgbm9kZS5vd25lZCA9IG51bGw7XG4gICAgICB9XG4gICAgfVxuICAgIGhhbmRsZUVycm9yKGVycik7XG4gIH1cbiAgaWYgKCFub2RlLnVwZGF0ZWRBdCB8fCBub2RlLnVwZGF0ZWRBdCA8PSB0aW1lKSB7XG4gICAgaWYgKG5vZGUudXBkYXRlZEF0ICE9IG51bGwgJiYgXCJvYnNlcnZlcnNcIiBpbiBub2RlKSB7XG4gICAgICB3cml0ZVNpZ25hbChub2RlLCBuZXh0VmFsdWUsIHRydWUpO1xuICAgIH0gZWxzZSBpZiAoVHJhbnNpdGlvbiAmJiBUcmFuc2l0aW9uLnJ1bm5pbmcgJiYgbm9kZS5wdXJlKSB7XG4gICAgICBUcmFuc2l0aW9uLnNvdXJjZXMuYWRkKG5vZGUpO1xuICAgICAgbm9kZS50VmFsdWUgPSBuZXh0VmFsdWU7XG4gICAgfSBlbHNlIG5vZGUudmFsdWUgPSBuZXh0VmFsdWU7XG4gICAgbm9kZS51cGRhdGVkQXQgPSB0aW1lO1xuICB9XG59XG5mdW5jdGlvbiBjcmVhdGVDb21wdXRhdGlvbihmbiwgaW5pdCwgcHVyZSwgc3RhdGUgPSBTVEFMRSwgb3B0aW9ucykge1xuICBjb25zdCBjID0ge1xuICAgIGZuLFxuICAgIHN0YXRlOiBzdGF0ZSxcbiAgICB1cGRhdGVkQXQ6IG51bGwsXG4gICAgb3duZWQ6IG51bGwsXG4gICAgc291cmNlczogbnVsbCxcbiAgICBzb3VyY2VTbG90czogbnVsbCxcbiAgICBjbGVhbnVwczogbnVsbCxcbiAgICB2YWx1ZTogaW5pdCxcbiAgICBvd25lcjogT3duZXIsXG4gICAgY29udGV4dDogbnVsbCxcbiAgICBwdXJlXG4gIH07XG4gIGlmIChUcmFuc2l0aW9uICYmIFRyYW5zaXRpb24ucnVubmluZykge1xuICAgIGMuc3RhdGUgPSAwO1xuICAgIGMudFN0YXRlID0gc3RhdGU7XG4gIH1cbiAgaWYgKE93bmVyID09PSBudWxsKSA7ZWxzZSBpZiAoT3duZXIgIT09IFVOT1dORUQpIHtcbiAgICBpZiAoVHJhbnNpdGlvbiAmJiBUcmFuc2l0aW9uLnJ1bm5pbmcgJiYgT3duZXIucHVyZSkge1xuICAgICAgaWYgKCFPd25lci50T3duZWQpIE93bmVyLnRPd25lZCA9IFtjXTtlbHNlIE93bmVyLnRPd25lZC5wdXNoKGMpO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoIU93bmVyLm93bmVkKSBPd25lci5vd25lZCA9IFtjXTtlbHNlIE93bmVyLm93bmVkLnB1c2goYyk7XG4gICAgfVxuICB9XG4gIGlmIChFeHRlcm5hbFNvdXJjZUZhY3RvcnkpIHtcbiAgICBjb25zdCBbdHJhY2ssIHRyaWdnZXJdID0gY3JlYXRlU2lnbmFsKHVuZGVmaW5lZCwge1xuICAgICAgZXF1YWxzOiBmYWxzZVxuICAgIH0pO1xuICAgIGNvbnN0IG9yZGluYXJ5ID0gRXh0ZXJuYWxTb3VyY2VGYWN0b3J5KGMuZm4sIHRyaWdnZXIpO1xuICAgIG9uQ2xlYW51cCgoKSA9PiBvcmRpbmFyeS5kaXNwb3NlKCkpO1xuICAgIGNvbnN0IHRyaWdnZXJJblRyYW5zaXRpb24gPSAoKSA9PiBzdGFydFRyYW5zaXRpb24odHJpZ2dlcikudGhlbigoKSA9PiBpblRyYW5zaXRpb24uZGlzcG9zZSgpKTtcbiAgICBjb25zdCBpblRyYW5zaXRpb24gPSBFeHRlcm5hbFNvdXJjZUZhY3RvcnkoYy5mbiwgdHJpZ2dlckluVHJhbnNpdGlvbik7XG4gICAgYy5mbiA9IHggPT4ge1xuICAgICAgdHJhY2soKTtcbiAgICAgIHJldHVybiBUcmFuc2l0aW9uICYmIFRyYW5zaXRpb24ucnVubmluZyA/IGluVHJhbnNpdGlvbi50cmFjayh4KSA6IG9yZGluYXJ5LnRyYWNrKHgpO1xuICAgIH07XG4gIH1cbiAgcmV0dXJuIGM7XG59XG5mdW5jdGlvbiBydW5Ub3Aobm9kZSkge1xuICBjb25zdCBydW5uaW5nVHJhbnNpdGlvbiA9IFRyYW5zaXRpb24gJiYgVHJhbnNpdGlvbi5ydW5uaW5nO1xuICBpZiAoIXJ1bm5pbmdUcmFuc2l0aW9uICYmIG5vZGUuc3RhdGUgPT09IDAgfHwgcnVubmluZ1RyYW5zaXRpb24gJiYgbm9kZS50U3RhdGUgPT09IDApIHJldHVybjtcbiAgaWYgKCFydW5uaW5nVHJhbnNpdGlvbiAmJiBub2RlLnN0YXRlID09PSBQRU5ESU5HIHx8IHJ1bm5pbmdUcmFuc2l0aW9uICYmIG5vZGUudFN0YXRlID09PSBQRU5ESU5HKSByZXR1cm4gbG9va1Vwc3RyZWFtKG5vZGUpO1xuICBpZiAobm9kZS5zdXNwZW5zZSAmJiB1bnRyYWNrKG5vZGUuc3VzcGVuc2UuaW5GYWxsYmFjaykpIHJldHVybiBub2RlLnN1c3BlbnNlLmVmZmVjdHMucHVzaChub2RlKTtcbiAgY29uc3QgYW5jZXN0b3JzID0gW25vZGVdO1xuICB3aGlsZSAoKG5vZGUgPSBub2RlLm93bmVyKSAmJiAoIW5vZGUudXBkYXRlZEF0IHx8IG5vZGUudXBkYXRlZEF0IDwgRXhlY0NvdW50KSkge1xuICAgIGlmIChydW5uaW5nVHJhbnNpdGlvbiAmJiBUcmFuc2l0aW9uLmRpc3Bvc2VkLmhhcyhub2RlKSkgcmV0dXJuO1xuICAgIGlmICghcnVubmluZ1RyYW5zaXRpb24gJiYgbm9kZS5zdGF0ZSB8fCBydW5uaW5nVHJhbnNpdGlvbiAmJiBub2RlLnRTdGF0ZSkgYW5jZXN0b3JzLnB1c2gobm9kZSk7XG4gIH1cbiAgZm9yIChsZXQgaSA9IGFuY2VzdG9ycy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgIG5vZGUgPSBhbmNlc3RvcnNbaV07XG4gICAgaWYgKHJ1bm5pbmdUcmFuc2l0aW9uKSB7XG4gICAgICBsZXQgdG9wID0gbm9kZSxcbiAgICAgICAgcHJldiA9IGFuY2VzdG9yc1tpICsgMV07XG4gICAgICB3aGlsZSAoKHRvcCA9IHRvcC5vd25lcikgJiYgdG9wICE9PSBwcmV2KSB7XG4gICAgICAgIGlmIChUcmFuc2l0aW9uLmRpc3Bvc2VkLmhhcyh0b3ApKSByZXR1cm47XG4gICAgICB9XG4gICAgfVxuICAgIGlmICghcnVubmluZ1RyYW5zaXRpb24gJiYgbm9kZS5zdGF0ZSA9PT0gU1RBTEUgfHwgcnVubmluZ1RyYW5zaXRpb24gJiYgbm9kZS50U3RhdGUgPT09IFNUQUxFKSB7XG4gICAgICB1cGRhdGVDb21wdXRhdGlvbihub2RlKTtcbiAgICB9IGVsc2UgaWYgKCFydW5uaW5nVHJhbnNpdGlvbiAmJiBub2RlLnN0YXRlID09PSBQRU5ESU5HIHx8IHJ1bm5pbmdUcmFuc2l0aW9uICYmIG5vZGUudFN0YXRlID09PSBQRU5ESU5HKSB7XG4gICAgICBjb25zdCB1cGRhdGVzID0gVXBkYXRlcztcbiAgICAgIFVwZGF0ZXMgPSBudWxsO1xuICAgICAgcnVuVXBkYXRlcygoKSA9PiBsb29rVXBzdHJlYW0obm9kZSwgYW5jZXN0b3JzWzBdKSwgZmFsc2UpO1xuICAgICAgVXBkYXRlcyA9IHVwZGF0ZXM7XG4gICAgfVxuICB9XG59XG5mdW5jdGlvbiBydW5VcGRhdGVzKGZuLCBpbml0KSB7XG4gIGlmIChVcGRhdGVzKSByZXR1cm4gZm4oKTtcbiAgbGV0IHdhaXQgPSBmYWxzZTtcbiAgaWYgKCFpbml0KSBVcGRhdGVzID0gW107XG4gIGlmIChFZmZlY3RzKSB3YWl0ID0gdHJ1ZTtlbHNlIEVmZmVjdHMgPSBbXTtcbiAgRXhlY0NvdW50Kys7XG4gIHRyeSB7XG4gICAgY29uc3QgcmVzID0gZm4oKTtcbiAgICBjb21wbGV0ZVVwZGF0ZXMod2FpdCk7XG4gICAgcmV0dXJuIHJlcztcbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgaWYgKCFVcGRhdGVzKSBFZmZlY3RzID0gbnVsbDtcbiAgICBoYW5kbGVFcnJvcihlcnIpO1xuICB9XG59XG5mdW5jdGlvbiBjb21wbGV0ZVVwZGF0ZXMod2FpdCkge1xuICBpZiAoVXBkYXRlcykge1xuICAgIGlmIChTY2hlZHVsZXIgJiYgVHJhbnNpdGlvbiAmJiBUcmFuc2l0aW9uLnJ1bm5pbmcpIHNjaGVkdWxlUXVldWUoVXBkYXRlcyk7ZWxzZSBydW5RdWV1ZShVcGRhdGVzKTtcbiAgICBVcGRhdGVzID0gbnVsbDtcbiAgfVxuICBpZiAod2FpdCkgcmV0dXJuO1xuICBsZXQgcmVzO1xuICBpZiAoVHJhbnNpdGlvbikge1xuICAgIGlmICghVHJhbnNpdGlvbi5wcm9taXNlcy5zaXplICYmICFUcmFuc2l0aW9uLnF1ZXVlLnNpemUpIHtcbiAgICAgIGNvbnN0IHNvdXJjZXMgPSBUcmFuc2l0aW9uLnNvdXJjZXM7XG4gICAgICBjb25zdCBkaXNwb3NlZCA9IFRyYW5zaXRpb24uZGlzcG9zZWQ7XG4gICAgICBFZmZlY3RzLnB1c2guYXBwbHkoRWZmZWN0cywgVHJhbnNpdGlvbi5lZmZlY3RzKTtcbiAgICAgIHJlcyA9IFRyYW5zaXRpb24ucmVzb2x2ZTtcbiAgICAgIGZvciAoY29uc3QgZSBvZiBFZmZlY3RzKSB7XG4gICAgICAgIFwidFN0YXRlXCIgaW4gZSAmJiAoZS5zdGF0ZSA9IGUudFN0YXRlKTtcbiAgICAgICAgZGVsZXRlIGUudFN0YXRlO1xuICAgICAgfVxuICAgICAgVHJhbnNpdGlvbiA9IG51bGw7XG4gICAgICBydW5VcGRhdGVzKCgpID0+IHtcbiAgICAgICAgZm9yIChjb25zdCBkIG9mIGRpc3Bvc2VkKSBjbGVhbk5vZGUoZCk7XG4gICAgICAgIGZvciAoY29uc3QgdiBvZiBzb3VyY2VzKSB7XG4gICAgICAgICAgdi52YWx1ZSA9IHYudFZhbHVlO1xuICAgICAgICAgIGlmICh2Lm93bmVkKSB7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMCwgbGVuID0gdi5vd25lZC5sZW5ndGg7IGkgPCBsZW47IGkrKykgY2xlYW5Ob2RlKHYub3duZWRbaV0pO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAodi50T3duZWQpIHYub3duZWQgPSB2LnRPd25lZDtcbiAgICAgICAgICBkZWxldGUgdi50VmFsdWU7XG4gICAgICAgICAgZGVsZXRlIHYudE93bmVkO1xuICAgICAgICAgIHYudFN0YXRlID0gMDtcbiAgICAgICAgfVxuICAgICAgICBzZXRUcmFuc1BlbmRpbmcoZmFsc2UpO1xuICAgICAgfSwgZmFsc2UpO1xuICAgIH0gZWxzZSBpZiAoVHJhbnNpdGlvbi5ydW5uaW5nKSB7XG4gICAgICBUcmFuc2l0aW9uLnJ1bm5pbmcgPSBmYWxzZTtcbiAgICAgIFRyYW5zaXRpb24uZWZmZWN0cy5wdXNoLmFwcGx5KFRyYW5zaXRpb24uZWZmZWN0cywgRWZmZWN0cyk7XG4gICAgICBFZmZlY3RzID0gbnVsbDtcbiAgICAgIHNldFRyYW5zUGVuZGluZyh0cnVlKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gIH1cbiAgY29uc3QgZSA9IEVmZmVjdHM7XG4gIEVmZmVjdHMgPSBudWxsO1xuICBpZiAoZS5sZW5ndGgpIHJ1blVwZGF0ZXMoKCkgPT4gcnVuRWZmZWN0cyhlKSwgZmFsc2UpO1xuICBpZiAocmVzKSByZXMoKTtcbn1cbmZ1bmN0aW9uIHJ1blF1ZXVlKHF1ZXVlKSB7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgcXVldWUubGVuZ3RoOyBpKyspIHJ1blRvcChxdWV1ZVtpXSk7XG59XG5mdW5jdGlvbiBzY2hlZHVsZVF1ZXVlKHF1ZXVlKSB7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgcXVldWUubGVuZ3RoOyBpKyspIHtcbiAgICBjb25zdCBpdGVtID0gcXVldWVbaV07XG4gICAgY29uc3QgdGFza3MgPSBUcmFuc2l0aW9uLnF1ZXVlO1xuICAgIGlmICghdGFza3MuaGFzKGl0ZW0pKSB7XG4gICAgICB0YXNrcy5hZGQoaXRlbSk7XG4gICAgICBTY2hlZHVsZXIoKCkgPT4ge1xuICAgICAgICB0YXNrcy5kZWxldGUoaXRlbSk7XG4gICAgICAgIHJ1blVwZGF0ZXMoKCkgPT4ge1xuICAgICAgICAgIFRyYW5zaXRpb24ucnVubmluZyA9IHRydWU7XG4gICAgICAgICAgcnVuVG9wKGl0ZW0pO1xuICAgICAgICB9LCBmYWxzZSk7XG4gICAgICAgIFRyYW5zaXRpb24gJiYgKFRyYW5zaXRpb24ucnVubmluZyA9IGZhbHNlKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxufVxuZnVuY3Rpb24gcnVuVXNlckVmZmVjdHMocXVldWUpIHtcbiAgbGV0IGksXG4gICAgdXNlckxlbmd0aCA9IDA7XG4gIGZvciAoaSA9IDA7IGkgPCBxdWV1ZS5sZW5ndGg7IGkrKykge1xuICAgIGNvbnN0IGUgPSBxdWV1ZVtpXTtcbiAgICBpZiAoIWUudXNlcikgcnVuVG9wKGUpO2Vsc2UgcXVldWVbdXNlckxlbmd0aCsrXSA9IGU7XG4gIH1cbiAgaWYgKHNoYXJlZENvbmZpZy5jb250ZXh0KSBzZXRIeWRyYXRlQ29udGV4dCgpO1xuICBmb3IgKGkgPSAwOyBpIDwgdXNlckxlbmd0aDsgaSsrKSBydW5Ub3AocXVldWVbaV0pO1xufVxuZnVuY3Rpb24gbG9va1Vwc3RyZWFtKG5vZGUsIGlnbm9yZSkge1xuICBjb25zdCBydW5uaW5nVHJhbnNpdGlvbiA9IFRyYW5zaXRpb24gJiYgVHJhbnNpdGlvbi5ydW5uaW5nO1xuICBpZiAocnVubmluZ1RyYW5zaXRpb24pIG5vZGUudFN0YXRlID0gMDtlbHNlIG5vZGUuc3RhdGUgPSAwO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IG5vZGUuc291cmNlcy5sZW5ndGg7IGkgKz0gMSkge1xuICAgIGNvbnN0IHNvdXJjZSA9IG5vZGUuc291cmNlc1tpXTtcbiAgICBpZiAoc291cmNlLnNvdXJjZXMpIHtcbiAgICAgIGlmICghcnVubmluZ1RyYW5zaXRpb24gJiYgc291cmNlLnN0YXRlID09PSBTVEFMRSB8fCBydW5uaW5nVHJhbnNpdGlvbiAmJiBzb3VyY2UudFN0YXRlID09PSBTVEFMRSkge1xuICAgICAgICBpZiAoc291cmNlICE9PSBpZ25vcmUpIHJ1blRvcChzb3VyY2UpO1xuICAgICAgfSBlbHNlIGlmICghcnVubmluZ1RyYW5zaXRpb24gJiYgc291cmNlLnN0YXRlID09PSBQRU5ESU5HIHx8IHJ1bm5pbmdUcmFuc2l0aW9uICYmIHNvdXJjZS50U3RhdGUgPT09IFBFTkRJTkcpIGxvb2tVcHN0cmVhbShzb3VyY2UsIGlnbm9yZSk7XG4gICAgfVxuICB9XG59XG5mdW5jdGlvbiBtYXJrRG93bnN0cmVhbShub2RlKSB7XG4gIGNvbnN0IHJ1bm5pbmdUcmFuc2l0aW9uID0gVHJhbnNpdGlvbiAmJiBUcmFuc2l0aW9uLnJ1bm5pbmc7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgbm9kZS5vYnNlcnZlcnMubGVuZ3RoOyBpICs9IDEpIHtcbiAgICBjb25zdCBvID0gbm9kZS5vYnNlcnZlcnNbaV07XG4gICAgaWYgKCFydW5uaW5nVHJhbnNpdGlvbiAmJiAhby5zdGF0ZSB8fCBydW5uaW5nVHJhbnNpdGlvbiAmJiAhby50U3RhdGUpIHtcbiAgICAgIGlmIChydW5uaW5nVHJhbnNpdGlvbikgby50U3RhdGUgPSBQRU5ESU5HO2Vsc2Ugby5zdGF0ZSA9IFBFTkRJTkc7XG4gICAgICBpZiAoby5wdXJlKSBVcGRhdGVzLnB1c2gobyk7ZWxzZSBFZmZlY3RzLnB1c2gobyk7XG4gICAgICBvLm9ic2VydmVycyAmJiBtYXJrRG93bnN0cmVhbShvKTtcbiAgICB9XG4gIH1cbn1cbmZ1bmN0aW9uIGNsZWFuTm9kZShub2RlKSB7XG4gIGxldCBpO1xuICBpZiAobm9kZS5zb3VyY2VzKSB7XG4gICAgd2hpbGUgKG5vZGUuc291cmNlcy5sZW5ndGgpIHtcbiAgICAgIGNvbnN0IHNvdXJjZSA9IG5vZGUuc291cmNlcy5wb3AoKSxcbiAgICAgICAgaW5kZXggPSBub2RlLnNvdXJjZVNsb3RzLnBvcCgpLFxuICAgICAgICBvYnMgPSBzb3VyY2Uub2JzZXJ2ZXJzO1xuICAgICAgaWYgKG9icyAmJiBvYnMubGVuZ3RoKSB7XG4gICAgICAgIGNvbnN0IG4gPSBvYnMucG9wKCksXG4gICAgICAgICAgcyA9IHNvdXJjZS5vYnNlcnZlclNsb3RzLnBvcCgpO1xuICAgICAgICBpZiAoaW5kZXggPCBvYnMubGVuZ3RoKSB7XG4gICAgICAgICAgbi5zb3VyY2VTbG90c1tzXSA9IGluZGV4O1xuICAgICAgICAgIG9ic1tpbmRleF0gPSBuO1xuICAgICAgICAgIHNvdXJjZS5vYnNlcnZlclNsb3RzW2luZGV4XSA9IHM7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgaWYgKFRyYW5zaXRpb24gJiYgVHJhbnNpdGlvbi5ydW5uaW5nICYmIG5vZGUucHVyZSkge1xuICAgIGlmIChub2RlLnRPd25lZCkge1xuICAgICAgZm9yIChpID0gMDsgaSA8IG5vZGUudE93bmVkLmxlbmd0aDsgaSsrKSBjbGVhbk5vZGUobm9kZS50T3duZWRbaV0pO1xuICAgICAgZGVsZXRlIG5vZGUudE93bmVkO1xuICAgIH1cbiAgICByZXNldChub2RlLCB0cnVlKTtcbiAgfSBlbHNlIGlmIChub2RlLm93bmVkKSB7XG4gICAgZm9yIChpID0gMDsgaSA8IG5vZGUub3duZWQubGVuZ3RoOyBpKyspIGNsZWFuTm9kZShub2RlLm93bmVkW2ldKTtcbiAgICBub2RlLm93bmVkID0gbnVsbDtcbiAgfVxuICBpZiAobm9kZS5jbGVhbnVwcykge1xuICAgIGZvciAoaSA9IDA7IGkgPCBub2RlLmNsZWFudXBzLmxlbmd0aDsgaSsrKSBub2RlLmNsZWFudXBzW2ldKCk7XG4gICAgbm9kZS5jbGVhbnVwcyA9IG51bGw7XG4gIH1cbiAgaWYgKFRyYW5zaXRpb24gJiYgVHJhbnNpdGlvbi5ydW5uaW5nKSBub2RlLnRTdGF0ZSA9IDA7ZWxzZSBub2RlLnN0YXRlID0gMDtcbiAgbm9kZS5jb250ZXh0ID0gbnVsbDtcbn1cbmZ1bmN0aW9uIHJlc2V0KG5vZGUsIHRvcCkge1xuICBpZiAoIXRvcCkge1xuICAgIG5vZGUudFN0YXRlID0gMDtcbiAgICBUcmFuc2l0aW9uLmRpc3Bvc2VkLmFkZChub2RlKTtcbiAgfVxuICBpZiAobm9kZS5vd25lZCkge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbm9kZS5vd25lZC5sZW5ndGg7IGkrKykgcmVzZXQobm9kZS5vd25lZFtpXSk7XG4gIH1cbn1cbmZ1bmN0aW9uIGNhc3RFcnJvcihlcnIpIHtcbiAgaWYgKGVyciBpbnN0YW5jZW9mIEVycm9yIHx8IHR5cGVvZiBlcnIgPT09IFwic3RyaW5nXCIpIHJldHVybiBlcnI7XG4gIHJldHVybiBuZXcgRXJyb3IoXCJVbmtub3duIGVycm9yXCIpO1xufVxuZnVuY3Rpb24gaGFuZGxlRXJyb3IoZXJyKSB7XG4gIGVyciA9IGNhc3RFcnJvcihlcnIpO1xuICBjb25zdCBmbnMgPSBFUlJPUiAmJiBsb29rdXAoT3duZXIsIEVSUk9SKTtcbiAgaWYgKCFmbnMpIHRocm93IGVycjtcbiAgZm9yIChjb25zdCBmIG9mIGZucykgZihlcnIpO1xufVxuZnVuY3Rpb24gbG9va3VwKG93bmVyLCBrZXkpIHtcbiAgcmV0dXJuIG93bmVyID8gb3duZXIuY29udGV4dCAmJiBvd25lci5jb250ZXh0W2tleV0gIT09IHVuZGVmaW5lZCA/IG93bmVyLmNvbnRleHRba2V5XSA6IGxvb2t1cChvd25lci5vd25lciwga2V5KSA6IHVuZGVmaW5lZDtcbn1cbmZ1bmN0aW9uIHJlc29sdmVDaGlsZHJlbihjaGlsZHJlbikge1xuICBpZiAodHlwZW9mIGNoaWxkcmVuID09PSBcImZ1bmN0aW9uXCIgJiYgIWNoaWxkcmVuLmxlbmd0aCkgcmV0dXJuIHJlc29sdmVDaGlsZHJlbihjaGlsZHJlbigpKTtcbiAgaWYgKEFycmF5LmlzQXJyYXkoY2hpbGRyZW4pKSB7XG4gICAgY29uc3QgcmVzdWx0cyA9IFtdO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNvbnN0IHJlc3VsdCA9IHJlc29sdmVDaGlsZHJlbihjaGlsZHJlbltpXSk7XG4gICAgICBBcnJheS5pc0FycmF5KHJlc3VsdCkgPyByZXN1bHRzLnB1c2guYXBwbHkocmVzdWx0cywgcmVzdWx0KSA6IHJlc3VsdHMucHVzaChyZXN1bHQpO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0cztcbiAgfVxuICByZXR1cm4gY2hpbGRyZW47XG59XG5mdW5jdGlvbiBjcmVhdGVQcm92aWRlcihpZCwgb3B0aW9ucykge1xuICByZXR1cm4gZnVuY3Rpb24gcHJvdmlkZXIocHJvcHMpIHtcbiAgICBsZXQgcmVzO1xuICAgIGNyZWF0ZVJlbmRlckVmZmVjdCgoKSA9PiByZXMgPSB1bnRyYWNrKCgpID0+IHtcbiAgICAgIE93bmVyLmNvbnRleHQgPSB7XG4gICAgICAgIFtpZF06IHByb3BzLnZhbHVlXG4gICAgICB9O1xuICAgICAgcmV0dXJuIGNoaWxkcmVuKCgpID0+IHByb3BzLmNoaWxkcmVuKTtcbiAgICB9KSwgdW5kZWZpbmVkKTtcbiAgICByZXR1cm4gcmVzO1xuICB9O1xufVxuXG5mdW5jdGlvbiBvYnNlcnZhYmxlKGlucHV0KSB7XG4gIHJldHVybiB7XG4gICAgc3Vic2NyaWJlKG9ic2VydmVyKSB7XG4gICAgICBpZiAoIShvYnNlcnZlciBpbnN0YW5jZW9mIE9iamVjdCkgfHwgb2JzZXJ2ZXIgPT0gbnVsbCkge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiRXhwZWN0ZWQgdGhlIG9ic2VydmVyIHRvIGJlIGFuIG9iamVjdC5cIik7XG4gICAgICB9XG4gICAgICBjb25zdCBoYW5kbGVyID0gdHlwZW9mIG9ic2VydmVyID09PSBcImZ1bmN0aW9uXCIgPyBvYnNlcnZlciA6IG9ic2VydmVyLm5leHQgJiYgb2JzZXJ2ZXIubmV4dC5iaW5kKG9ic2VydmVyKTtcbiAgICAgIGlmICghaGFuZGxlcikge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHVuc3Vic2NyaWJlKCkge31cbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGRpc3Bvc2UgPSBjcmVhdGVSb290KGRpc3Bvc2VyID0+IHtcbiAgICAgICAgY3JlYXRlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgICBjb25zdCB2ID0gaW5wdXQoKTtcbiAgICAgICAgICB1bnRyYWNrKCgpID0+IGhhbmRsZXIodikpO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIGRpc3Bvc2VyO1xuICAgICAgfSk7XG4gICAgICBpZiAoZ2V0T3duZXIoKSkgb25DbGVhbnVwKGRpc3Bvc2UpO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdW5zdWJzY3JpYmUoKSB7XG4gICAgICAgICAgZGlzcG9zZSgpO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgIH0sXG4gICAgW1N5bWJvbC5vYnNlcnZhYmxlIHx8IFwiQEBvYnNlcnZhYmxlXCJdKCkge1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICB9O1xufVxuZnVuY3Rpb24gZnJvbShwcm9kdWNlcikge1xuICBjb25zdCBbcywgc2V0XSA9IGNyZWF0ZVNpZ25hbCh1bmRlZmluZWQsIHtcbiAgICBlcXVhbHM6IGZhbHNlXG4gIH0pO1xuICBpZiAoXCJzdWJzY3JpYmVcIiBpbiBwcm9kdWNlcikge1xuICAgIGNvbnN0IHVuc3ViID0gcHJvZHVjZXIuc3Vic2NyaWJlKHYgPT4gc2V0KCgpID0+IHYpKTtcbiAgICBvbkNsZWFudXAoKCkgPT4gXCJ1bnN1YnNjcmliZVwiIGluIHVuc3ViID8gdW5zdWIudW5zdWJzY3JpYmUoKSA6IHVuc3ViKCkpO1xuICB9IGVsc2Uge1xuICAgIGNvbnN0IGNsZWFuID0gcHJvZHVjZXIoc2V0KTtcbiAgICBvbkNsZWFudXAoY2xlYW4pO1xuICB9XG4gIHJldHVybiBzO1xufVxuXG5jb25zdCBGQUxMQkFDSyA9IFN5bWJvbChcImZhbGxiYWNrXCIpO1xuZnVuY3Rpb24gZGlzcG9zZShkKSB7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgZC5sZW5ndGg7IGkrKykgZFtpXSgpO1xufVxuZnVuY3Rpb24gbWFwQXJyYXkobGlzdCwgbWFwRm4sIG9wdGlvbnMgPSB7fSkge1xuICBsZXQgaXRlbXMgPSBbXSxcbiAgICBtYXBwZWQgPSBbXSxcbiAgICBkaXNwb3NlcnMgPSBbXSxcbiAgICBsZW4gPSAwLFxuICAgIGluZGV4ZXMgPSBtYXBGbi5sZW5ndGggPiAxID8gW10gOiBudWxsO1xuICBvbkNsZWFudXAoKCkgPT4gZGlzcG9zZShkaXNwb3NlcnMpKTtcbiAgcmV0dXJuICgpID0+IHtcbiAgICBsZXQgbmV3SXRlbXMgPSBsaXN0KCkgfHwgW10sXG4gICAgICBpLFxuICAgICAgajtcbiAgICBuZXdJdGVtc1skVFJBQ0tdO1xuICAgIHJldHVybiB1bnRyYWNrKCgpID0+IHtcbiAgICAgIGxldCBuZXdMZW4gPSBuZXdJdGVtcy5sZW5ndGgsXG4gICAgICAgIG5ld0luZGljZXMsXG4gICAgICAgIG5ld0luZGljZXNOZXh0LFxuICAgICAgICB0ZW1wLFxuICAgICAgICB0ZW1wZGlzcG9zZXJzLFxuICAgICAgICB0ZW1wSW5kZXhlcyxcbiAgICAgICAgc3RhcnQsXG4gICAgICAgIGVuZCxcbiAgICAgICAgbmV3RW5kLFxuICAgICAgICBpdGVtO1xuICAgICAgaWYgKG5ld0xlbiA9PT0gMCkge1xuICAgICAgICBpZiAobGVuICE9PSAwKSB7XG4gICAgICAgICAgZGlzcG9zZShkaXNwb3NlcnMpO1xuICAgICAgICAgIGRpc3Bvc2VycyA9IFtdO1xuICAgICAgICAgIGl0ZW1zID0gW107XG4gICAgICAgICAgbWFwcGVkID0gW107XG4gICAgICAgICAgbGVuID0gMDtcbiAgICAgICAgICBpbmRleGVzICYmIChpbmRleGVzID0gW10pO1xuICAgICAgICB9XG4gICAgICAgIGlmIChvcHRpb25zLmZhbGxiYWNrKSB7XG4gICAgICAgICAgaXRlbXMgPSBbRkFMTEJBQ0tdO1xuICAgICAgICAgIG1hcHBlZFswXSA9IGNyZWF0ZVJvb3QoZGlzcG9zZXIgPT4ge1xuICAgICAgICAgICAgZGlzcG9zZXJzWzBdID0gZGlzcG9zZXI7XG4gICAgICAgICAgICByZXR1cm4gb3B0aW9ucy5mYWxsYmFjaygpO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIGxlbiA9IDE7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGVsc2UgaWYgKGxlbiA9PT0gMCkge1xuICAgICAgICBtYXBwZWQgPSBuZXcgQXJyYXkobmV3TGVuKTtcbiAgICAgICAgZm9yIChqID0gMDsgaiA8IG5ld0xlbjsgaisrKSB7XG4gICAgICAgICAgaXRlbXNbal0gPSBuZXdJdGVtc1tqXTtcbiAgICAgICAgICBtYXBwZWRbal0gPSBjcmVhdGVSb290KG1hcHBlcik7XG4gICAgICAgIH1cbiAgICAgICAgbGVuID0gbmV3TGVuO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGVtcCA9IG5ldyBBcnJheShuZXdMZW4pO1xuICAgICAgICB0ZW1wZGlzcG9zZXJzID0gbmV3IEFycmF5KG5ld0xlbik7XG4gICAgICAgIGluZGV4ZXMgJiYgKHRlbXBJbmRleGVzID0gbmV3IEFycmF5KG5ld0xlbikpO1xuICAgICAgICBmb3IgKHN0YXJ0ID0gMCwgZW5kID0gTWF0aC5taW4obGVuLCBuZXdMZW4pOyBzdGFydCA8IGVuZCAmJiBpdGVtc1tzdGFydF0gPT09IG5ld0l0ZW1zW3N0YXJ0XTsgc3RhcnQrKyk7XG4gICAgICAgIGZvciAoZW5kID0gbGVuIC0gMSwgbmV3RW5kID0gbmV3TGVuIC0gMTsgZW5kID49IHN0YXJ0ICYmIG5ld0VuZCA+PSBzdGFydCAmJiBpdGVtc1tlbmRdID09PSBuZXdJdGVtc1tuZXdFbmRdOyBlbmQtLSwgbmV3RW5kLS0pIHtcbiAgICAgICAgICB0ZW1wW25ld0VuZF0gPSBtYXBwZWRbZW5kXTtcbiAgICAgICAgICB0ZW1wZGlzcG9zZXJzW25ld0VuZF0gPSBkaXNwb3NlcnNbZW5kXTtcbiAgICAgICAgICBpbmRleGVzICYmICh0ZW1wSW5kZXhlc1tuZXdFbmRdID0gaW5kZXhlc1tlbmRdKTtcbiAgICAgICAgfVxuICAgICAgICBuZXdJbmRpY2VzID0gbmV3IE1hcCgpO1xuICAgICAgICBuZXdJbmRpY2VzTmV4dCA9IG5ldyBBcnJheShuZXdFbmQgKyAxKTtcbiAgICAgICAgZm9yIChqID0gbmV3RW5kOyBqID49IHN0YXJ0OyBqLS0pIHtcbiAgICAgICAgICBpdGVtID0gbmV3SXRlbXNbal07XG4gICAgICAgICAgaSA9IG5ld0luZGljZXMuZ2V0KGl0ZW0pO1xuICAgICAgICAgIG5ld0luZGljZXNOZXh0W2pdID0gaSA9PT0gdW5kZWZpbmVkID8gLTEgOiBpO1xuICAgICAgICAgIG5ld0luZGljZXMuc2V0KGl0ZW0sIGopO1xuICAgICAgICB9XG4gICAgICAgIGZvciAoaSA9IHN0YXJ0OyBpIDw9IGVuZDsgaSsrKSB7XG4gICAgICAgICAgaXRlbSA9IGl0ZW1zW2ldO1xuICAgICAgICAgIGogPSBuZXdJbmRpY2VzLmdldChpdGVtKTtcbiAgICAgICAgICBpZiAoaiAhPT0gdW5kZWZpbmVkICYmIGogIT09IC0xKSB7XG4gICAgICAgICAgICB0ZW1wW2pdID0gbWFwcGVkW2ldO1xuICAgICAgICAgICAgdGVtcGRpc3Bvc2Vyc1tqXSA9IGRpc3Bvc2Vyc1tpXTtcbiAgICAgICAgICAgIGluZGV4ZXMgJiYgKHRlbXBJbmRleGVzW2pdID0gaW5kZXhlc1tpXSk7XG4gICAgICAgICAgICBqID0gbmV3SW5kaWNlc05leHRbal07XG4gICAgICAgICAgICBuZXdJbmRpY2VzLnNldChpdGVtLCBqKTtcbiAgICAgICAgICB9IGVsc2UgZGlzcG9zZXJzW2ldKCk7XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChqID0gc3RhcnQ7IGogPCBuZXdMZW47IGorKykge1xuICAgICAgICAgIGlmIChqIGluIHRlbXApIHtcbiAgICAgICAgICAgIG1hcHBlZFtqXSA9IHRlbXBbal07XG4gICAgICAgICAgICBkaXNwb3NlcnNbal0gPSB0ZW1wZGlzcG9zZXJzW2pdO1xuICAgICAgICAgICAgaWYgKGluZGV4ZXMpIHtcbiAgICAgICAgICAgICAgaW5kZXhlc1tqXSA9IHRlbXBJbmRleGVzW2pdO1xuICAgICAgICAgICAgICBpbmRleGVzW2pdKGopO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSBtYXBwZWRbal0gPSBjcmVhdGVSb290KG1hcHBlcik7XG4gICAgICAgIH1cbiAgICAgICAgbWFwcGVkID0gbWFwcGVkLnNsaWNlKDAsIGxlbiA9IG5ld0xlbik7XG4gICAgICAgIGl0ZW1zID0gbmV3SXRlbXMuc2xpY2UoMCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gbWFwcGVkO1xuICAgIH0pO1xuICAgIGZ1bmN0aW9uIG1hcHBlcihkaXNwb3Nlcikge1xuICAgICAgZGlzcG9zZXJzW2pdID0gZGlzcG9zZXI7XG4gICAgICBpZiAoaW5kZXhlcykge1xuICAgICAgICBjb25zdCBbcywgc2V0XSA9IGNyZWF0ZVNpZ25hbChqKTtcbiAgICAgICAgaW5kZXhlc1tqXSA9IHNldDtcbiAgICAgICAgcmV0dXJuIG1hcEZuKG5ld0l0ZW1zW2pdLCBzKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBtYXBGbihuZXdJdGVtc1tqXSk7XG4gICAgfVxuICB9O1xufVxuZnVuY3Rpb24gaW5kZXhBcnJheShsaXN0LCBtYXBGbiwgb3B0aW9ucyA9IHt9KSB7XG4gIGxldCBpdGVtcyA9IFtdLFxuICAgIG1hcHBlZCA9IFtdLFxuICAgIGRpc3Bvc2VycyA9IFtdLFxuICAgIHNpZ25hbHMgPSBbXSxcbiAgICBsZW4gPSAwLFxuICAgIGk7XG4gIG9uQ2xlYW51cCgoKSA9PiBkaXNwb3NlKGRpc3Bvc2VycykpO1xuICByZXR1cm4gKCkgPT4ge1xuICAgIGNvbnN0IG5ld0l0ZW1zID0gbGlzdCgpIHx8IFtdO1xuICAgIG5ld0l0ZW1zWyRUUkFDS107XG4gICAgcmV0dXJuIHVudHJhY2soKCkgPT4ge1xuICAgICAgaWYgKG5ld0l0ZW1zLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICBpZiAobGVuICE9PSAwKSB7XG4gICAgICAgICAgZGlzcG9zZShkaXNwb3NlcnMpO1xuICAgICAgICAgIGRpc3Bvc2VycyA9IFtdO1xuICAgICAgICAgIGl0ZW1zID0gW107XG4gICAgICAgICAgbWFwcGVkID0gW107XG4gICAgICAgICAgbGVuID0gMDtcbiAgICAgICAgICBzaWduYWxzID0gW107XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG9wdGlvbnMuZmFsbGJhY2spIHtcbiAgICAgICAgICBpdGVtcyA9IFtGQUxMQkFDS107XG4gICAgICAgICAgbWFwcGVkWzBdID0gY3JlYXRlUm9vdChkaXNwb3NlciA9PiB7XG4gICAgICAgICAgICBkaXNwb3NlcnNbMF0gPSBkaXNwb3NlcjtcbiAgICAgICAgICAgIHJldHVybiBvcHRpb25zLmZhbGxiYWNrKCk7XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgbGVuID0gMTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWFwcGVkO1xuICAgICAgfVxuICAgICAgaWYgKGl0ZW1zWzBdID09PSBGQUxMQkFDSykge1xuICAgICAgICBkaXNwb3NlcnNbMF0oKTtcbiAgICAgICAgZGlzcG9zZXJzID0gW107XG4gICAgICAgIGl0ZW1zID0gW107XG4gICAgICAgIG1hcHBlZCA9IFtdO1xuICAgICAgICBsZW4gPSAwO1xuICAgICAgfVxuICAgICAgZm9yIChpID0gMDsgaSA8IG5ld0l0ZW1zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmIChpIDwgaXRlbXMubGVuZ3RoICYmIGl0ZW1zW2ldICE9PSBuZXdJdGVtc1tpXSkge1xuICAgICAgICAgIHNpZ25hbHNbaV0oKCkgPT4gbmV3SXRlbXNbaV0pO1xuICAgICAgICB9IGVsc2UgaWYgKGkgPj0gaXRlbXMubGVuZ3RoKSB7XG4gICAgICAgICAgbWFwcGVkW2ldID0gY3JlYXRlUm9vdChtYXBwZXIpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBmb3IgKDsgaSA8IGl0ZW1zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGRpc3Bvc2Vyc1tpXSgpO1xuICAgICAgfVxuICAgICAgbGVuID0gc2lnbmFscy5sZW5ndGggPSBkaXNwb3NlcnMubGVuZ3RoID0gbmV3SXRlbXMubGVuZ3RoO1xuICAgICAgaXRlbXMgPSBuZXdJdGVtcy5zbGljZSgwKTtcbiAgICAgIHJldHVybiBtYXBwZWQgPSBtYXBwZWQuc2xpY2UoMCwgbGVuKTtcbiAgICB9KTtcbiAgICBmdW5jdGlvbiBtYXBwZXIoZGlzcG9zZXIpIHtcbiAgICAgIGRpc3Bvc2Vyc1tpXSA9IGRpc3Bvc2VyO1xuICAgICAgY29uc3QgW3MsIHNldF0gPSBjcmVhdGVTaWduYWwobmV3SXRlbXNbaV0pO1xuICAgICAgc2lnbmFsc1tpXSA9IHNldDtcbiAgICAgIHJldHVybiBtYXBGbihzLCBpKTtcbiAgICB9XG4gIH07XG59XG5cbmxldCBoeWRyYXRpb25FbmFibGVkID0gZmFsc2U7XG5mdW5jdGlvbiBlbmFibGVIeWRyYXRpb24oKSB7XG4gIGh5ZHJhdGlvbkVuYWJsZWQgPSB0cnVlO1xufVxuZnVuY3Rpb24gY3JlYXRlQ29tcG9uZW50KENvbXAsIHByb3BzKSB7XG4gIGlmIChoeWRyYXRpb25FbmFibGVkKSB7XG4gICAgaWYgKHNoYXJlZENvbmZpZy5jb250ZXh0KSB7XG4gICAgICBjb25zdCBjID0gc2hhcmVkQ29uZmlnLmNvbnRleHQ7XG4gICAgICBzZXRIeWRyYXRlQ29udGV4dChuZXh0SHlkcmF0ZUNvbnRleHQoKSk7XG4gICAgICBjb25zdCByID0gdW50cmFjaygoKSA9PiBDb21wKHByb3BzIHx8IHt9KSk7XG4gICAgICBzZXRIeWRyYXRlQ29udGV4dChjKTtcbiAgICAgIHJldHVybiByO1xuICAgIH1cbiAgfVxuICByZXR1cm4gdW50cmFjaygoKSA9PiBDb21wKHByb3BzIHx8IHt9KSk7XG59XG5mdW5jdGlvbiB0cnVlRm4oKSB7XG4gIHJldHVybiB0cnVlO1xufVxuY29uc3QgcHJvcFRyYXBzID0ge1xuICBnZXQoXywgcHJvcGVydHksIHJlY2VpdmVyKSB7XG4gICAgaWYgKHByb3BlcnR5ID09PSAkUFJPWFkpIHJldHVybiByZWNlaXZlcjtcbiAgICByZXR1cm4gXy5nZXQocHJvcGVydHkpO1xuICB9LFxuICBoYXMoXywgcHJvcGVydHkpIHtcbiAgICBpZiAocHJvcGVydHkgPT09ICRQUk9YWSkgcmV0dXJuIHRydWU7XG4gICAgcmV0dXJuIF8uaGFzKHByb3BlcnR5KTtcbiAgfSxcbiAgc2V0OiB0cnVlRm4sXG4gIGRlbGV0ZVByb3BlcnR5OiB0cnVlRm4sXG4gIGdldE93blByb3BlcnR5RGVzY3JpcHRvcihfLCBwcm9wZXJ0eSkge1xuICAgIHJldHVybiB7XG4gICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgZ2V0KCkge1xuICAgICAgICByZXR1cm4gXy5nZXQocHJvcGVydHkpO1xuICAgICAgfSxcbiAgICAgIHNldDogdHJ1ZUZuLFxuICAgICAgZGVsZXRlUHJvcGVydHk6IHRydWVGblxuICAgIH07XG4gIH0sXG4gIG93bktleXMoXykge1xuICAgIHJldHVybiBfLmtleXMoKTtcbiAgfVxufTtcbmZ1bmN0aW9uIHJlc29sdmVTb3VyY2Uocykge1xuICByZXR1cm4gIShzID0gdHlwZW9mIHMgPT09IFwiZnVuY3Rpb25cIiA/IHMoKSA6IHMpID8ge30gOiBzO1xufVxuZnVuY3Rpb24gbWVyZ2VQcm9wcyguLi5zb3VyY2VzKSB7XG4gIGxldCBwcm94eSA9IGZhbHNlO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IHNvdXJjZXMubGVuZ3RoOyBpKyspIHtcbiAgICBjb25zdCBzID0gc291cmNlc1tpXTtcbiAgICBwcm94eSA9IHByb3h5IHx8ICEhcyAmJiAkUFJPWFkgaW4gcztcbiAgICBzb3VyY2VzW2ldID0gdHlwZW9mIHMgPT09IFwiZnVuY3Rpb25cIiA/IChwcm94eSA9IHRydWUsIGNyZWF0ZU1lbW8ocykpIDogcztcbiAgfVxuICBpZiAocHJveHkpIHtcbiAgICByZXR1cm4gbmV3IFByb3h5KHtcbiAgICAgIGdldChwcm9wZXJ0eSkge1xuICAgICAgICBmb3IgKGxldCBpID0gc291cmNlcy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICAgIGNvbnN0IHYgPSByZXNvbHZlU291cmNlKHNvdXJjZXNbaV0pW3Byb3BlcnR5XTtcbiAgICAgICAgICBpZiAodiAhPT0gdW5kZWZpbmVkKSByZXR1cm4gdjtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIGhhcyhwcm9wZXJ0eSkge1xuICAgICAgICBmb3IgKGxldCBpID0gc291cmNlcy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICAgIGlmIChwcm9wZXJ0eSBpbiByZXNvbHZlU291cmNlKHNvdXJjZXNbaV0pKSByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9LFxuICAgICAga2V5cygpIHtcbiAgICAgICAgY29uc3Qga2V5cyA9IFtdO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNvdXJjZXMubGVuZ3RoOyBpKyspIGtleXMucHVzaCguLi5PYmplY3Qua2V5cyhyZXNvbHZlU291cmNlKHNvdXJjZXNbaV0pKSk7XG4gICAgICAgIHJldHVybiBbLi4ubmV3IFNldChrZXlzKV07XG4gICAgICB9XG4gICAgfSwgcHJvcFRyYXBzKTtcbiAgfVxuICBjb25zdCB0YXJnZXQgPSB7fTtcbiAgZm9yIChsZXQgaSA9IHNvdXJjZXMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICBpZiAoc291cmNlc1tpXSkge1xuICAgICAgY29uc3QgZGVzY3JpcHRvcnMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhzb3VyY2VzW2ldKTtcbiAgICAgIGZvciAoY29uc3Qga2V5IGluIGRlc2NyaXB0b3JzKSB7XG4gICAgICAgIGlmIChrZXkgaW4gdGFyZ2V0KSBjb250aW51ZTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCB7XG4gICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICBnZXQoKSB7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gc291cmNlcy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICAgICAgICBjb25zdCB2ID0gKHNvdXJjZXNbaV0gfHwge30pW2tleV07XG4gICAgICAgICAgICAgIGlmICh2ICE9PSB1bmRlZmluZWQpIHJldHVybiB2O1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHJldHVybiB0YXJnZXQ7XG59XG5mdW5jdGlvbiBzcGxpdFByb3BzKHByb3BzLCAuLi5rZXlzKSB7XG4gIGNvbnN0IGJsb2NrZWQgPSBuZXcgU2V0KGtleXMuZmxhdCgpKTtcbiAgaWYgKCRQUk9YWSBpbiBwcm9wcykge1xuICAgIGNvbnN0IHJlcyA9IGtleXMubWFwKGsgPT4ge1xuICAgICAgcmV0dXJuIG5ldyBQcm94eSh7XG4gICAgICAgIGdldChwcm9wZXJ0eSkge1xuICAgICAgICAgIHJldHVybiBrLmluY2x1ZGVzKHByb3BlcnR5KSA/IHByb3BzW3Byb3BlcnR5XSA6IHVuZGVmaW5lZDtcbiAgICAgICAgfSxcbiAgICAgICAgaGFzKHByb3BlcnR5KSB7XG4gICAgICAgICAgcmV0dXJuIGsuaW5jbHVkZXMocHJvcGVydHkpICYmIHByb3BlcnR5IGluIHByb3BzO1xuICAgICAgICB9LFxuICAgICAgICBrZXlzKCkge1xuICAgICAgICAgIHJldHVybiBrLmZpbHRlcihwcm9wZXJ0eSA9PiBwcm9wZXJ0eSBpbiBwcm9wcyk7XG4gICAgICAgIH1cbiAgICAgIH0sIHByb3BUcmFwcyk7XG4gICAgfSk7XG4gICAgcmVzLnB1c2gobmV3IFByb3h5KHtcbiAgICAgIGdldChwcm9wZXJ0eSkge1xuICAgICAgICByZXR1cm4gYmxvY2tlZC5oYXMocHJvcGVydHkpID8gdW5kZWZpbmVkIDogcHJvcHNbcHJvcGVydHldO1xuICAgICAgfSxcbiAgICAgIGhhcyhwcm9wZXJ0eSkge1xuICAgICAgICByZXR1cm4gYmxvY2tlZC5oYXMocHJvcGVydHkpID8gZmFsc2UgOiBwcm9wZXJ0eSBpbiBwcm9wcztcbiAgICAgIH0sXG4gICAgICBrZXlzKCkge1xuICAgICAgICByZXR1cm4gT2JqZWN0LmtleXMocHJvcHMpLmZpbHRlcihrID0+ICFibG9ja2VkLmhhcyhrKSk7XG4gICAgICB9XG4gICAgfSwgcHJvcFRyYXBzKSk7XG4gICAgcmV0dXJuIHJlcztcbiAgfVxuICBjb25zdCBkZXNjcmlwdG9ycyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHByb3BzKTtcbiAga2V5cy5wdXNoKE9iamVjdC5rZXlzKGRlc2NyaXB0b3JzKS5maWx0ZXIoayA9PiAhYmxvY2tlZC5oYXMoaykpKTtcbiAgcmV0dXJuIGtleXMubWFwKGsgPT4ge1xuICAgIGNvbnN0IGNsb25lID0ge307XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBrLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zdCBrZXkgPSBrW2ldO1xuICAgICAgaWYgKCEoa2V5IGluIHByb3BzKSkgY29udGludWU7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoY2xvbmUsIGtleSwgZGVzY3JpcHRvcnNba2V5XSA/IGRlc2NyaXB0b3JzW2tleV0gOiB7XG4gICAgICAgIGdldCgpIHtcbiAgICAgICAgICByZXR1cm4gcHJvcHNba2V5XTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0KCkge1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlXG4gICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIGNsb25lO1xuICB9KTtcbn1cbmZ1bmN0aW9uIGxhenkoZm4pIHtcbiAgbGV0IGNvbXA7XG4gIGxldCBwO1xuICBjb25zdCB3cmFwID0gcHJvcHMgPT4ge1xuICAgIGNvbnN0IGN0eCA9IHNoYXJlZENvbmZpZy5jb250ZXh0O1xuICAgIGlmIChjdHgpIHtcbiAgICAgIGNvbnN0IFtzLCBzZXRdID0gY3JlYXRlU2lnbmFsKCk7XG4gICAgICAocCB8fCAocCA9IGZuKCkpKS50aGVuKG1vZCA9PiB7XG4gICAgICAgIHNldEh5ZHJhdGVDb250ZXh0KGN0eCk7XG4gICAgICAgIHNldCgoKSA9PiBtb2QuZGVmYXVsdCk7XG4gICAgICAgIHNldEh5ZHJhdGVDb250ZXh0KCk7XG4gICAgICB9KTtcbiAgICAgIGNvbXAgPSBzO1xuICAgIH0gZWxzZSBpZiAoIWNvbXApIHtcbiAgICAgIGNvbnN0IFtzXSA9IGNyZWF0ZVJlc291cmNlKCgpID0+IChwIHx8IChwID0gZm4oKSkpLnRoZW4obW9kID0+IG1vZC5kZWZhdWx0KSk7XG4gICAgICBjb21wID0gcztcbiAgICB9XG4gICAgbGV0IENvbXA7XG4gICAgcmV0dXJuIGNyZWF0ZU1lbW8oKCkgPT4gKENvbXAgPSBjb21wKCkpICYmIHVudHJhY2soKCkgPT4ge1xuICAgICAgaWYgKGZhbHNlKSA7XG4gICAgICBpZiAoIWN0eCkgcmV0dXJuIENvbXAocHJvcHMpO1xuICAgICAgY29uc3QgYyA9IHNoYXJlZENvbmZpZy5jb250ZXh0O1xuICAgICAgc2V0SHlkcmF0ZUNvbnRleHQoY3R4KTtcbiAgICAgIGNvbnN0IHIgPSBDb21wKHByb3BzKTtcbiAgICAgIHNldEh5ZHJhdGVDb250ZXh0KGMpO1xuICAgICAgcmV0dXJuIHI7XG4gICAgfSkpO1xuICB9O1xuICB3cmFwLnByZWxvYWQgPSAoKSA9PiBwIHx8ICgocCA9IGZuKCkpLnRoZW4obW9kID0+IGNvbXAgPSAoKSA9PiBtb2QuZGVmYXVsdCksIHApO1xuICByZXR1cm4gd3JhcDtcbn1cbmxldCBjb3VudGVyID0gMDtcbmZ1bmN0aW9uIGNyZWF0ZVVuaXF1ZUlkKCkge1xuICBjb25zdCBjdHggPSBzaGFyZWRDb25maWcuY29udGV4dDtcbiAgcmV0dXJuIGN0eCA/IGAke2N0eC5pZH0ke2N0eC5jb3VudCsrfWAgOiBgY2wtJHtjb3VudGVyKyt9YDtcbn1cblxuZnVuY3Rpb24gRm9yKHByb3BzKSB7XG4gIGNvbnN0IGZhbGxiYWNrID0gXCJmYWxsYmFja1wiIGluIHByb3BzICYmIHtcbiAgICBmYWxsYmFjazogKCkgPT4gcHJvcHMuZmFsbGJhY2tcbiAgfTtcbiAgcmV0dXJuIGNyZWF0ZU1lbW8obWFwQXJyYXkoKCkgPT4gcHJvcHMuZWFjaCwgcHJvcHMuY2hpbGRyZW4sIGZhbGxiYWNrIHx8IHVuZGVmaW5lZCkpO1xufVxuZnVuY3Rpb24gSW5kZXgocHJvcHMpIHtcbiAgY29uc3QgZmFsbGJhY2sgPSBcImZhbGxiYWNrXCIgaW4gcHJvcHMgJiYge1xuICAgIGZhbGxiYWNrOiAoKSA9PiBwcm9wcy5mYWxsYmFja1xuICB9O1xuICByZXR1cm4gY3JlYXRlTWVtbyhpbmRleEFycmF5KCgpID0+IHByb3BzLmVhY2gsIHByb3BzLmNoaWxkcmVuLCBmYWxsYmFjayB8fCB1bmRlZmluZWQpKTtcbn1cbmZ1bmN0aW9uIFNob3cocHJvcHMpIHtcbiAgbGV0IHN0cmljdEVxdWFsID0gZmFsc2U7XG4gIGNvbnN0IGtleWVkID0gcHJvcHMua2V5ZWQ7XG4gIGNvbnN0IGNvbmRpdGlvbiA9IGNyZWF0ZU1lbW8oKCkgPT4gcHJvcHMud2hlbiwgdW5kZWZpbmVkLCB7XG4gICAgZXF1YWxzOiAoYSwgYikgPT4gc3RyaWN0RXF1YWwgPyBhID09PSBiIDogIWEgPT09ICFiXG4gIH0pO1xuICByZXR1cm4gY3JlYXRlTWVtbygoKSA9PiB7XG4gICAgY29uc3QgYyA9IGNvbmRpdGlvbigpO1xuICAgIGlmIChjKSB7XG4gICAgICBjb25zdCBjaGlsZCA9IHByb3BzLmNoaWxkcmVuO1xuICAgICAgY29uc3QgZm4gPSB0eXBlb2YgY2hpbGQgPT09IFwiZnVuY3Rpb25cIiAmJiBjaGlsZC5sZW5ndGggPiAwO1xuICAgICAgc3RyaWN0RXF1YWwgPSBrZXllZCB8fCBmbjtcbiAgICAgIHJldHVybiBmbiA/IHVudHJhY2soKCkgPT4gY2hpbGQoYykpIDogY2hpbGQ7XG4gICAgfVxuICAgIHJldHVybiBwcm9wcy5mYWxsYmFjaztcbiAgfSwgdW5kZWZpbmVkLCB1bmRlZmluZWQpO1xufVxuZnVuY3Rpb24gU3dpdGNoKHByb3BzKSB7XG4gIGxldCBzdHJpY3RFcXVhbCA9IGZhbHNlO1xuICBsZXQga2V5ZWQgPSBmYWxzZTtcbiAgY29uc3QgZXF1YWxzID0gKGEsIGIpID0+IGFbMF0gPT09IGJbMF0gJiYgKHN0cmljdEVxdWFsID8gYVsxXSA9PT0gYlsxXSA6ICFhWzFdID09PSAhYlsxXSkgJiYgYVsyXSA9PT0gYlsyXTtcbiAgY29uc3QgY29uZGl0aW9ucyA9IGNoaWxkcmVuKCgpID0+IHByb3BzLmNoaWxkcmVuKSxcbiAgICBldmFsQ29uZGl0aW9ucyA9IGNyZWF0ZU1lbW8oKCkgPT4ge1xuICAgICAgbGV0IGNvbmRzID0gY29uZGl0aW9ucygpO1xuICAgICAgaWYgKCFBcnJheS5pc0FycmF5KGNvbmRzKSkgY29uZHMgPSBbY29uZHNdO1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjb25kcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBjb25zdCBjID0gY29uZHNbaV0ud2hlbjtcbiAgICAgICAgaWYgKGMpIHtcbiAgICAgICAgICBrZXllZCA9ICEhY29uZHNbaV0ua2V5ZWQ7XG4gICAgICAgICAgcmV0dXJuIFtpLCBjLCBjb25kc1tpXV07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBbLTFdO1xuICAgIH0sIHVuZGVmaW5lZCwge1xuICAgICAgZXF1YWxzXG4gICAgfSk7XG4gIHJldHVybiBjcmVhdGVNZW1vKCgpID0+IHtcbiAgICBjb25zdCBbaW5kZXgsIHdoZW4sIGNvbmRdID0gZXZhbENvbmRpdGlvbnMoKTtcbiAgICBpZiAoaW5kZXggPCAwKSByZXR1cm4gcHJvcHMuZmFsbGJhY2s7XG4gICAgY29uc3QgYyA9IGNvbmQuY2hpbGRyZW47XG4gICAgY29uc3QgZm4gPSB0eXBlb2YgYyA9PT0gXCJmdW5jdGlvblwiICYmIGMubGVuZ3RoID4gMDtcbiAgICBzdHJpY3RFcXVhbCA9IGtleWVkIHx8IGZuO1xuICAgIHJldHVybiBmbiA/IHVudHJhY2soKCkgPT4gYyh3aGVuKSkgOiBjO1xuICB9LCB1bmRlZmluZWQsIHVuZGVmaW5lZCk7XG59XG5mdW5jdGlvbiBNYXRjaChwcm9wcykge1xuICByZXR1cm4gcHJvcHM7XG59XG5sZXQgRXJyb3JzO1xuZnVuY3Rpb24gcmVzZXRFcnJvckJvdW5kYXJpZXMoKSB7XG4gIEVycm9ycyAmJiBbLi4uRXJyb3JzXS5mb3JFYWNoKGZuID0+IGZuKCkpO1xufVxuZnVuY3Rpb24gRXJyb3JCb3VuZGFyeShwcm9wcykge1xuICBsZXQgZXJyO1xuICBsZXQgdjtcbiAgaWYgKHNoYXJlZENvbmZpZy5jb250ZXh0ICYmIHNoYXJlZENvbmZpZy5sb2FkICYmICh2ID0gc2hhcmVkQ29uZmlnLmxvYWQoc2hhcmVkQ29uZmlnLmNvbnRleHQuaWQgKyBzaGFyZWRDb25maWcuY29udGV4dC5jb3VudCkpKSBlcnIgPSB2WzBdO1xuICBjb25zdCBbZXJyb3JlZCwgc2V0RXJyb3JlZF0gPSBjcmVhdGVTaWduYWwoZXJyLCB1bmRlZmluZWQpO1xuICBFcnJvcnMgfHwgKEVycm9ycyA9IG5ldyBTZXQoKSk7XG4gIEVycm9ycy5hZGQoc2V0RXJyb3JlZCk7XG4gIG9uQ2xlYW51cCgoKSA9PiBFcnJvcnMuZGVsZXRlKHNldEVycm9yZWQpKTtcbiAgcmV0dXJuIGNyZWF0ZU1lbW8oKCkgPT4ge1xuICAgIGxldCBlO1xuICAgIGlmIChlID0gZXJyb3JlZCgpKSB7XG4gICAgICBjb25zdCBmID0gcHJvcHMuZmFsbGJhY2s7XG4gICAgICBjb25zdCByZXMgPSB0eXBlb2YgZiA9PT0gXCJmdW5jdGlvblwiICYmIGYubGVuZ3RoID8gdW50cmFjaygoKSA9PiBmKGUsICgpID0+IHNldEVycm9yZWQoKSkpIDogZjtcbiAgICAgIG9uRXJyb3Ioc2V0RXJyb3JlZCk7XG4gICAgICByZXR1cm4gcmVzO1xuICAgIH1cbiAgICBvbkVycm9yKHNldEVycm9yZWQpO1xuICAgIHJldHVybiBwcm9wcy5jaGlsZHJlbjtcbiAgfSwgdW5kZWZpbmVkLCB1bmRlZmluZWQpO1xufVxuXG5jb25zdCBzdXNwZW5zZUxpc3RFcXVhbHMgPSAoYSwgYikgPT4gYS5zaG93Q29udGVudCA9PT0gYi5zaG93Q29udGVudCAmJiBhLnNob3dGYWxsYmFjayA9PT0gYi5zaG93RmFsbGJhY2s7XG5jb25zdCBTdXNwZW5zZUxpc3RDb250ZXh0ID0gY3JlYXRlQ29udGV4dCgpO1xuZnVuY3Rpb24gU3VzcGVuc2VMaXN0KHByb3BzKSB7XG4gIGxldCBbd3JhcHBlciwgc2V0V3JhcHBlcl0gPSBjcmVhdGVTaWduYWwoKCkgPT4gKHtcbiAgICAgIGluRmFsbGJhY2s6IGZhbHNlXG4gICAgfSkpLFxuICAgIHNob3c7XG4gIGNvbnN0IGxpc3RDb250ZXh0ID0gdXNlQ29udGV4dChTdXNwZW5zZUxpc3RDb250ZXh0KTtcbiAgY29uc3QgW3JlZ2lzdHJ5LCBzZXRSZWdpc3RyeV0gPSBjcmVhdGVTaWduYWwoW10pO1xuICBpZiAobGlzdENvbnRleHQpIHtcbiAgICBzaG93ID0gbGlzdENvbnRleHQucmVnaXN0ZXIoY3JlYXRlTWVtbygoKSA9PiB3cmFwcGVyKCkoKS5pbkZhbGxiYWNrKSk7XG4gIH1cbiAgY29uc3QgcmVzb2x2ZWQgPSBjcmVhdGVNZW1vKHByZXYgPT4ge1xuICAgIGNvbnN0IHJldmVhbCA9IHByb3BzLnJldmVhbE9yZGVyLFxuICAgICAgdGFpbCA9IHByb3BzLnRhaWwsXG4gICAgICB7XG4gICAgICAgIHNob3dDb250ZW50ID0gdHJ1ZSxcbiAgICAgICAgc2hvd0ZhbGxiYWNrID0gdHJ1ZVxuICAgICAgfSA9IHNob3cgPyBzaG93KCkgOiB7fSxcbiAgICAgIHJlZyA9IHJlZ2lzdHJ5KCksXG4gICAgICByZXZlcnNlID0gcmV2ZWFsID09PSBcImJhY2t3YXJkc1wiO1xuICAgIGlmIChyZXZlYWwgPT09IFwidG9nZXRoZXJcIikge1xuICAgICAgY29uc3QgYWxsID0gcmVnLmV2ZXJ5KGluRmFsbGJhY2sgPT4gIWluRmFsbGJhY2soKSk7XG4gICAgICBjb25zdCByZXMgPSByZWcubWFwKCgpID0+ICh7XG4gICAgICAgIHNob3dDb250ZW50OiBhbGwgJiYgc2hvd0NvbnRlbnQsXG4gICAgICAgIHNob3dGYWxsYmFja1xuICAgICAgfSkpO1xuICAgICAgcmVzLmluRmFsbGJhY2sgPSAhYWxsO1xuICAgICAgcmV0dXJuIHJlcztcbiAgICB9XG4gICAgbGV0IHN0b3AgPSBmYWxzZTtcbiAgICBsZXQgaW5GYWxsYmFjayA9IHByZXYuaW5GYWxsYmFjaztcbiAgICBjb25zdCByZXMgPSBbXTtcbiAgICBmb3IgKGxldCBpID0gMCwgbGVuID0gcmVnLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICBjb25zdCBuID0gcmV2ZXJzZSA/IGxlbiAtIGkgLSAxIDogaSxcbiAgICAgICAgcyA9IHJlZ1tuXSgpO1xuICAgICAgaWYgKCFzdG9wICYmICFzKSB7XG4gICAgICAgIHJlc1tuXSA9IHtcbiAgICAgICAgICBzaG93Q29udGVudCxcbiAgICAgICAgICBzaG93RmFsbGJhY2tcbiAgICAgICAgfTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnN0IG5leHQgPSAhc3RvcDtcbiAgICAgICAgaWYgKG5leHQpIGluRmFsbGJhY2sgPSB0cnVlO1xuICAgICAgICByZXNbbl0gPSB7XG4gICAgICAgICAgc2hvd0NvbnRlbnQ6IG5leHQsXG4gICAgICAgICAgc2hvd0ZhbGxiYWNrOiAhdGFpbCB8fCBuZXh0ICYmIHRhaWwgPT09IFwiY29sbGFwc2VkXCIgPyBzaG93RmFsbGJhY2sgOiBmYWxzZVxuICAgICAgICB9O1xuICAgICAgICBzdG9wID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKCFzdG9wKSBpbkZhbGxiYWNrID0gZmFsc2U7XG4gICAgcmVzLmluRmFsbGJhY2sgPSBpbkZhbGxiYWNrO1xuICAgIHJldHVybiByZXM7XG4gIH0sIHtcbiAgICBpbkZhbGxiYWNrOiBmYWxzZVxuICB9KTtcbiAgc2V0V3JhcHBlcigoKSA9PiByZXNvbHZlZCk7XG4gIHJldHVybiBjcmVhdGVDb21wb25lbnQoU3VzcGVuc2VMaXN0Q29udGV4dC5Qcm92aWRlciwge1xuICAgIHZhbHVlOiB7XG4gICAgICByZWdpc3RlcjogaW5GYWxsYmFjayA9PiB7XG4gICAgICAgIGxldCBpbmRleDtcbiAgICAgICAgc2V0UmVnaXN0cnkocmVnaXN0cnkgPT4ge1xuICAgICAgICAgIGluZGV4ID0gcmVnaXN0cnkubGVuZ3RoO1xuICAgICAgICAgIHJldHVybiBbLi4ucmVnaXN0cnksIGluRmFsbGJhY2tdO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIGNyZWF0ZU1lbW8oKCkgPT4gcmVzb2x2ZWQoKVtpbmRleF0sIHVuZGVmaW5lZCwge1xuICAgICAgICAgIGVxdWFsczogc3VzcGVuc2VMaXN0RXF1YWxzXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0sXG4gICAgZ2V0IGNoaWxkcmVuKCkge1xuICAgICAgcmV0dXJuIHByb3BzLmNoaWxkcmVuO1xuICAgIH1cbiAgfSk7XG59XG5mdW5jdGlvbiBTdXNwZW5zZShwcm9wcykge1xuICBsZXQgY291bnRlciA9IDAsXG4gICAgc2hvdyxcbiAgICBjdHgsXG4gICAgcCxcbiAgICBmbGlja2VyLFxuICAgIGVycm9yO1xuICBjb25zdCBbaW5GYWxsYmFjaywgc2V0RmFsbGJhY2tdID0gY3JlYXRlU2lnbmFsKGZhbHNlKSxcbiAgICBTdXNwZW5zZUNvbnRleHQgPSBnZXRTdXNwZW5zZUNvbnRleHQoKSxcbiAgICBzdG9yZSA9IHtcbiAgICAgIGluY3JlbWVudDogKCkgPT4ge1xuICAgICAgICBpZiAoKytjb3VudGVyID09PSAxKSBzZXRGYWxsYmFjayh0cnVlKTtcbiAgICAgIH0sXG4gICAgICBkZWNyZW1lbnQ6ICgpID0+IHtcbiAgICAgICAgaWYgKC0tY291bnRlciA9PT0gMCkgc2V0RmFsbGJhY2soZmFsc2UpO1xuICAgICAgfSxcbiAgICAgIGluRmFsbGJhY2ssXG4gICAgICBlZmZlY3RzOiBbXSxcbiAgICAgIHJlc29sdmVkOiBmYWxzZVxuICAgIH0sXG4gICAgb3duZXIgPSBnZXRPd25lcigpO1xuICBpZiAoc2hhcmVkQ29uZmlnLmNvbnRleHQgJiYgc2hhcmVkQ29uZmlnLmxvYWQpIHtcbiAgICBjb25zdCBrZXkgPSBzaGFyZWRDb25maWcuY29udGV4dC5pZCArIHNoYXJlZENvbmZpZy5jb250ZXh0LmNvdW50O1xuICAgIGxldCByZWYgPSBzaGFyZWRDb25maWcubG9hZChrZXkpO1xuICAgIGlmIChyZWYgJiYgKHAgPSByZWZbMF0pICYmIHAgIT09IFwiJCRmXCIpIHtcbiAgICAgIGlmICh0eXBlb2YgcCAhPT0gXCJvYmplY3RcIiB8fCAhKFwidGhlblwiIGluIHApKSBwID0gUHJvbWlzZS5yZXNvbHZlKHApO1xuICAgICAgY29uc3QgW3MsIHNldF0gPSBjcmVhdGVTaWduYWwodW5kZWZpbmVkLCB7XG4gICAgICAgIGVxdWFsczogZmFsc2VcbiAgICAgIH0pO1xuICAgICAgZmxpY2tlciA9IHM7XG4gICAgICBwLnRoZW4oZXJyID0+IHtcbiAgICAgICAgaWYgKGVyciB8fCBzaGFyZWRDb25maWcuZG9uZSkge1xuICAgICAgICAgIGVyciAmJiAoZXJyb3IgPSBlcnIpO1xuICAgICAgICAgIHJldHVybiBzZXQoKTtcbiAgICAgICAgfVxuICAgICAgICBzaGFyZWRDb25maWcuZ2F0aGVyKGtleSk7XG4gICAgICAgIHNldEh5ZHJhdGVDb250ZXh0KGN0eCk7XG4gICAgICAgIHNldCgpO1xuICAgICAgICBzZXRIeWRyYXRlQ29udGV4dCgpO1xuICAgICAgfSk7XG4gICAgfVxuICB9XG4gIGNvbnN0IGxpc3RDb250ZXh0ID0gdXNlQ29udGV4dChTdXNwZW5zZUxpc3RDb250ZXh0KTtcbiAgaWYgKGxpc3RDb250ZXh0KSBzaG93ID0gbGlzdENvbnRleHQucmVnaXN0ZXIoc3RvcmUuaW5GYWxsYmFjayk7XG4gIGxldCBkaXNwb3NlO1xuICBvbkNsZWFudXAoKCkgPT4gZGlzcG9zZSAmJiBkaXNwb3NlKCkpO1xuICByZXR1cm4gY3JlYXRlQ29tcG9uZW50KFN1c3BlbnNlQ29udGV4dC5Qcm92aWRlciwge1xuICAgIHZhbHVlOiBzdG9yZSxcbiAgICBnZXQgY2hpbGRyZW4oKSB7XG4gICAgICByZXR1cm4gY3JlYXRlTWVtbygoKSA9PiB7XG4gICAgICAgIGlmIChlcnJvcikgdGhyb3cgZXJyb3I7XG4gICAgICAgIGN0eCA9IHNoYXJlZENvbmZpZy5jb250ZXh0O1xuICAgICAgICBpZiAoZmxpY2tlcikge1xuICAgICAgICAgIGZsaWNrZXIoKTtcbiAgICAgICAgICByZXR1cm4gZmxpY2tlciA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY3R4ICYmIHAgPT09IFwiJCRmXCIpIHNldEh5ZHJhdGVDb250ZXh0KCk7XG4gICAgICAgIGNvbnN0IHJlbmRlcmVkID0gY3JlYXRlTWVtbygoKSA9PiBwcm9wcy5jaGlsZHJlbik7XG4gICAgICAgIHJldHVybiBjcmVhdGVNZW1vKHByZXYgPT4ge1xuICAgICAgICAgIGNvbnN0IGluRmFsbGJhY2sgPSBzdG9yZS5pbkZhbGxiYWNrKCksXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIHNob3dDb250ZW50ID0gdHJ1ZSxcbiAgICAgICAgICAgICAgc2hvd0ZhbGxiYWNrID0gdHJ1ZVxuICAgICAgICAgICAgfSA9IHNob3cgPyBzaG93KCkgOiB7fTtcbiAgICAgICAgICBpZiAoKCFpbkZhbGxiYWNrIHx8IHAgJiYgcCAhPT0gXCIkJGZcIikgJiYgc2hvd0NvbnRlbnQpIHtcbiAgICAgICAgICAgIHN0b3JlLnJlc29sdmVkID0gdHJ1ZTtcbiAgICAgICAgICAgIGRpc3Bvc2UgJiYgZGlzcG9zZSgpO1xuICAgICAgICAgICAgZGlzcG9zZSA9IGN0eCA9IHAgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICByZXN1bWVFZmZlY3RzKHN0b3JlLmVmZmVjdHMpO1xuICAgICAgICAgICAgcmV0dXJuIHJlbmRlcmVkKCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmICghc2hvd0ZhbGxiYWNrKSByZXR1cm47XG4gICAgICAgICAgaWYgKGRpc3Bvc2UpIHJldHVybiBwcmV2O1xuICAgICAgICAgIHJldHVybiBjcmVhdGVSb290KGRpc3Bvc2VyID0+IHtcbiAgICAgICAgICAgIGRpc3Bvc2UgPSBkaXNwb3NlcjtcbiAgICAgICAgICAgIGlmIChjdHgpIHtcbiAgICAgICAgICAgICAgc2V0SHlkcmF0ZUNvbnRleHQoe1xuICAgICAgICAgICAgICAgIGlkOiBjdHguaWQgKyBcImZcIixcbiAgICAgICAgICAgICAgICBjb3VudDogMFxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgY3R4ID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHByb3BzLmZhbGxiYWNrO1xuICAgICAgICAgIH0sIG93bmVyKTtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9XG4gIH0pO1xufVxuXG5sZXQgREVWO1xuXG5leHBvcnQgeyAkREVWQ09NUCwgJFBST1hZLCAkVFJBQ0ssIERFViwgRXJyb3JCb3VuZGFyeSwgRm9yLCBJbmRleCwgTWF0Y2gsIFNob3csIFN1c3BlbnNlLCBTdXNwZW5zZUxpc3QsIFN3aXRjaCwgYmF0Y2gsIGNhbmNlbENhbGxiYWNrLCBjaGlsZHJlbiwgY3JlYXRlQ29tcG9uZW50LCBjcmVhdGVDb21wdXRlZCwgY3JlYXRlQ29udGV4dCwgY3JlYXRlRGVmZXJyZWQsIGNyZWF0ZUVmZmVjdCwgY3JlYXRlTWVtbywgY3JlYXRlUmVhY3Rpb24sIGNyZWF0ZVJlbmRlckVmZmVjdCwgY3JlYXRlUmVzb3VyY2UsIGNyZWF0ZVJvb3QsIGNyZWF0ZVNlbGVjdG9yLCBjcmVhdGVTaWduYWwsIGNyZWF0ZVVuaXF1ZUlkLCBlbmFibGVFeHRlcm5hbFNvdXJjZSwgZW5hYmxlSHlkcmF0aW9uLCBlbmFibGVTY2hlZHVsaW5nLCBlcXVhbEZuLCBmcm9tLCBnZXRMaXN0ZW5lciwgZ2V0T3duZXIsIGluZGV4QXJyYXksIGxhenksIG1hcEFycmF5LCBtZXJnZVByb3BzLCBvYnNlcnZhYmxlLCBvbiwgb25DbGVhbnVwLCBvbkVycm9yLCBvbk1vdW50LCByZXF1ZXN0Q2FsbGJhY2ssIHJlc2V0RXJyb3JCb3VuZGFyaWVzLCBydW5XaXRoT3duZXIsIHNoYXJlZENvbmZpZywgc3BsaXRQcm9wcywgc3RhcnRUcmFuc2l0aW9uLCB1bnRyYWNrLCB1c2VDb250ZXh0LCB1c2VUcmFuc2l0aW9uIH07XG4iLCJpbXBvcnQgeyBjcmVhdGVSb290LCBjcmVhdGVSZW5kZXJFZmZlY3QsIHNoYXJlZENvbmZpZywgdW50cmFjaywgZW5hYmxlSHlkcmF0aW9uLCBjcmVhdGVTaWduYWwsIG9uQ2xlYW51cCwgc3BsaXRQcm9wcywgY3JlYXRlTWVtbyB9IGZyb20gJ3NvbGlkLWpzJztcbmV4cG9ydCB7IEVycm9yQm91bmRhcnksIEZvciwgSW5kZXgsIE1hdGNoLCBTaG93LCBTdXNwZW5zZSwgU3VzcGVuc2VMaXN0LCBTd2l0Y2gsIGNyZWF0ZUNvbXBvbmVudCwgY3JlYXRlUmVuZGVyRWZmZWN0IGFzIGVmZmVjdCwgZ2V0T3duZXIsIGNyZWF0ZU1lbW8gYXMgbWVtbywgbWVyZ2VQcm9wcywgdW50cmFjayB9IGZyb20gJ3NvbGlkLWpzJztcblxuY29uc3QgYm9vbGVhbnMgPSBbXCJhbGxvd2Z1bGxzY3JlZW5cIiwgXCJhc3luY1wiLCBcImF1dG9mb2N1c1wiLCBcImF1dG9wbGF5XCIsIFwiY2hlY2tlZFwiLCBcImNvbnRyb2xzXCIsIFwiZGVmYXVsdFwiLCBcImRpc2FibGVkXCIsIFwiZm9ybW5vdmFsaWRhdGVcIiwgXCJoaWRkZW5cIiwgXCJpbmRldGVybWluYXRlXCIsIFwiaXNtYXBcIiwgXCJsb29wXCIsIFwibXVsdGlwbGVcIiwgXCJtdXRlZFwiLCBcIm5vbW9kdWxlXCIsIFwibm92YWxpZGF0ZVwiLCBcIm9wZW5cIiwgXCJwbGF5c2lubGluZVwiLCBcInJlYWRvbmx5XCIsIFwicmVxdWlyZWRcIiwgXCJyZXZlcnNlZFwiLCBcInNlYW1sZXNzXCIsIFwic2VsZWN0ZWRcIl07XG5jb25zdCBQcm9wZXJ0aWVzID0gLyojX19QVVJFX18qL25ldyBTZXQoW1wiY2xhc3NOYW1lXCIsIFwidmFsdWVcIiwgXCJyZWFkT25seVwiLCBcImZvcm1Ob1ZhbGlkYXRlXCIsIFwiaXNNYXBcIiwgXCJub01vZHVsZVwiLCBcInBsYXlzSW5saW5lXCIsIC4uLmJvb2xlYW5zXSk7XG5jb25zdCBDaGlsZFByb3BlcnRpZXMgPSAvKiNfX1BVUkVfXyovbmV3IFNldChbXCJpbm5lckhUTUxcIiwgXCJ0ZXh0Q29udGVudFwiLCBcImlubmVyVGV4dFwiLCBcImNoaWxkcmVuXCJdKTtcbmNvbnN0IEFsaWFzZXMgPSAvKiNfX1BVUkVfXyovT2JqZWN0LmFzc2lnbihPYmplY3QuY3JlYXRlKG51bGwpLCB7XG4gIGNsYXNzTmFtZTogXCJjbGFzc1wiLFxuICBodG1sRm9yOiBcImZvclwiXG59KTtcbmNvbnN0IFByb3BBbGlhc2VzID0gLyojX19QVVJFX18qL09iamVjdC5hc3NpZ24oT2JqZWN0LmNyZWF0ZShudWxsKSwge1xuICBjbGFzczogXCJjbGFzc05hbWVcIixcbiAgZm9ybW5vdmFsaWRhdGU6IFwiZm9ybU5vVmFsaWRhdGVcIixcbiAgaXNtYXA6IFwiaXNNYXBcIixcbiAgbm9tb2R1bGU6IFwibm9Nb2R1bGVcIixcbiAgcGxheXNpbmxpbmU6IFwicGxheXNJbmxpbmVcIixcbiAgcmVhZG9ubHk6IFwicmVhZE9ubHlcIlxufSk7XG5jb25zdCBEZWxlZ2F0ZWRFdmVudHMgPSAvKiNfX1BVUkVfXyovbmV3IFNldChbXCJiZWZvcmVpbnB1dFwiLCBcImNsaWNrXCIsIFwiZGJsY2xpY2tcIiwgXCJjb250ZXh0bWVudVwiLCBcImZvY3VzaW5cIiwgXCJmb2N1c291dFwiLCBcImlucHV0XCIsIFwia2V5ZG93blwiLCBcImtleXVwXCIsIFwibW91c2Vkb3duXCIsIFwibW91c2Vtb3ZlXCIsIFwibW91c2VvdXRcIiwgXCJtb3VzZW92ZXJcIiwgXCJtb3VzZXVwXCIsIFwicG9pbnRlcmRvd25cIiwgXCJwb2ludGVybW92ZVwiLCBcInBvaW50ZXJvdXRcIiwgXCJwb2ludGVyb3ZlclwiLCBcInBvaW50ZXJ1cFwiLCBcInRvdWNoZW5kXCIsIFwidG91Y2htb3ZlXCIsIFwidG91Y2hzdGFydFwiXSk7XG5jb25zdCBTVkdFbGVtZW50cyA9IC8qI19fUFVSRV9fKi9uZXcgU2V0KFtcblwiYWx0R2x5cGhcIiwgXCJhbHRHbHlwaERlZlwiLCBcImFsdEdseXBoSXRlbVwiLCBcImFuaW1hdGVcIiwgXCJhbmltYXRlQ29sb3JcIiwgXCJhbmltYXRlTW90aW9uXCIsIFwiYW5pbWF0ZVRyYW5zZm9ybVwiLCBcImNpcmNsZVwiLCBcImNsaXBQYXRoXCIsIFwiY29sb3ItcHJvZmlsZVwiLCBcImN1cnNvclwiLCBcImRlZnNcIiwgXCJkZXNjXCIsIFwiZWxsaXBzZVwiLCBcImZlQmxlbmRcIiwgXCJmZUNvbG9yTWF0cml4XCIsIFwiZmVDb21wb25lbnRUcmFuc2ZlclwiLCBcImZlQ29tcG9zaXRlXCIsIFwiZmVDb252b2x2ZU1hdHJpeFwiLCBcImZlRGlmZnVzZUxpZ2h0aW5nXCIsIFwiZmVEaXNwbGFjZW1lbnRNYXBcIiwgXCJmZURpc3RhbnRMaWdodFwiLCBcImZlRmxvb2RcIiwgXCJmZUZ1bmNBXCIsIFwiZmVGdW5jQlwiLCBcImZlRnVuY0dcIiwgXCJmZUZ1bmNSXCIsIFwiZmVHYXVzc2lhbkJsdXJcIiwgXCJmZUltYWdlXCIsIFwiZmVNZXJnZVwiLCBcImZlTWVyZ2VOb2RlXCIsIFwiZmVNb3JwaG9sb2d5XCIsIFwiZmVPZmZzZXRcIiwgXCJmZVBvaW50TGlnaHRcIiwgXCJmZVNwZWN1bGFyTGlnaHRpbmdcIiwgXCJmZVNwb3RMaWdodFwiLCBcImZlVGlsZVwiLCBcImZlVHVyYnVsZW5jZVwiLCBcImZpbHRlclwiLCBcImZvbnRcIiwgXCJmb250LWZhY2VcIiwgXCJmb250LWZhY2UtZm9ybWF0XCIsIFwiZm9udC1mYWNlLW5hbWVcIiwgXCJmb250LWZhY2Utc3JjXCIsIFwiZm9udC1mYWNlLXVyaVwiLCBcImZvcmVpZ25PYmplY3RcIiwgXCJnXCIsIFwiZ2x5cGhcIiwgXCJnbHlwaFJlZlwiLCBcImhrZXJuXCIsIFwiaW1hZ2VcIiwgXCJsaW5lXCIsIFwibGluZWFyR3JhZGllbnRcIiwgXCJtYXJrZXJcIiwgXCJtYXNrXCIsIFwibWV0YWRhdGFcIiwgXCJtaXNzaW5nLWdseXBoXCIsIFwibXBhdGhcIiwgXCJwYXRoXCIsIFwicGF0dGVyblwiLCBcInBvbHlnb25cIiwgXCJwb2x5bGluZVwiLCBcInJhZGlhbEdyYWRpZW50XCIsIFwicmVjdFwiLFxuXCJzZXRcIiwgXCJzdG9wXCIsXG5cInN2Z1wiLCBcInN3aXRjaFwiLCBcInN5bWJvbFwiLCBcInRleHRcIiwgXCJ0ZXh0UGF0aFwiLFxuXCJ0cmVmXCIsIFwidHNwYW5cIiwgXCJ1c2VcIiwgXCJ2aWV3XCIsIFwidmtlcm5cIl0pO1xuY29uc3QgU1ZHTmFtZXNwYWNlID0ge1xuICB4bGluazogXCJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rXCIsXG4gIHhtbDogXCJodHRwOi8vd3d3LnczLm9yZy9YTUwvMTk5OC9uYW1lc3BhY2VcIlxufTtcbmNvbnN0IERPTUVsZW1lbnRzID0gLyojX19QVVJFX18qL25ldyBTZXQoW1wiaHRtbFwiLCBcImJhc2VcIiwgXCJoZWFkXCIsIFwibGlua1wiLCBcIm1ldGFcIiwgXCJzdHlsZVwiLCBcInRpdGxlXCIsIFwiYm9keVwiLCBcImFkZHJlc3NcIiwgXCJhcnRpY2xlXCIsIFwiYXNpZGVcIiwgXCJmb290ZXJcIiwgXCJoZWFkZXJcIiwgXCJtYWluXCIsIFwibmF2XCIsIFwic2VjdGlvblwiLCBcImJvZHlcIiwgXCJibG9ja3F1b3RlXCIsIFwiZGRcIiwgXCJkaXZcIiwgXCJkbFwiLCBcImR0XCIsIFwiZmlnY2FwdGlvblwiLCBcImZpZ3VyZVwiLCBcImhyXCIsIFwibGlcIiwgXCJvbFwiLCBcInBcIiwgXCJwcmVcIiwgXCJ1bFwiLCBcImFcIiwgXCJhYmJyXCIsIFwiYlwiLCBcImJkaVwiLCBcImJkb1wiLCBcImJyXCIsIFwiY2l0ZVwiLCBcImNvZGVcIiwgXCJkYXRhXCIsIFwiZGZuXCIsIFwiZW1cIiwgXCJpXCIsIFwia2JkXCIsIFwibWFya1wiLCBcInFcIiwgXCJycFwiLCBcInJ0XCIsIFwicnVieVwiLCBcInNcIiwgXCJzYW1wXCIsIFwic21hbGxcIiwgXCJzcGFuXCIsIFwic3Ryb25nXCIsIFwic3ViXCIsIFwic3VwXCIsIFwidGltZVwiLCBcInVcIiwgXCJ2YXJcIiwgXCJ3YnJcIiwgXCJhcmVhXCIsIFwiYXVkaW9cIiwgXCJpbWdcIiwgXCJtYXBcIiwgXCJ0cmFja1wiLCBcInZpZGVvXCIsIFwiZW1iZWRcIiwgXCJpZnJhbWVcIiwgXCJvYmplY3RcIiwgXCJwYXJhbVwiLCBcInBpY3R1cmVcIiwgXCJwb3J0YWxcIiwgXCJzb3VyY2VcIiwgXCJzdmdcIiwgXCJtYXRoXCIsIFwiY2FudmFzXCIsIFwibm9zY3JpcHRcIiwgXCJzY3JpcHRcIiwgXCJkZWxcIiwgXCJpbnNcIiwgXCJjYXB0aW9uXCIsIFwiY29sXCIsIFwiY29sZ3JvdXBcIiwgXCJ0YWJsZVwiLCBcInRib2R5XCIsIFwidGRcIiwgXCJ0Zm9vdFwiLCBcInRoXCIsIFwidGhlYWRcIiwgXCJ0clwiLCBcImJ1dHRvblwiLCBcImRhdGFsaXN0XCIsIFwiZmllbGRzZXRcIiwgXCJmb3JtXCIsIFwiaW5wdXRcIiwgXCJsYWJlbFwiLCBcImxlZ2VuZFwiLCBcIm1ldGVyXCIsIFwib3B0Z3JvdXBcIiwgXCJvcHRpb25cIiwgXCJvdXRwdXRcIiwgXCJwcm9ncmVzc1wiLCBcInNlbGVjdFwiLCBcInRleHRhcmVhXCIsIFwiZGV0YWlsc1wiLCBcImRpYWxvZ1wiLCBcIm1lbnVcIiwgXCJzdW1tYXJ5XCIsIFwiZGV0YWlsc1wiLCBcInNsb3RcIiwgXCJ0ZW1wbGF0ZVwiLCBcImFjcm9ueW1cIiwgXCJhcHBsZXRcIiwgXCJiYXNlZm9udFwiLCBcImJnc291bmRcIiwgXCJiaWdcIiwgXCJibGlua1wiLCBcImNlbnRlclwiLCBcImNvbnRlbnRcIiwgXCJkaXJcIiwgXCJmb250XCIsIFwiZnJhbWVcIiwgXCJmcmFtZXNldFwiLCBcImhncm91cFwiLCBcImltYWdlXCIsIFwia2V5Z2VuXCIsIFwibWFycXVlZVwiLCBcIm1lbnVpdGVtXCIsIFwibm9iclwiLCBcIm5vZW1iZWRcIiwgXCJub2ZyYW1lc1wiLCBcInBsYWludGV4dFwiLCBcInJiXCIsIFwicnRjXCIsIFwic2hhZG93XCIsIFwic3BhY2VyXCIsIFwic3RyaWtlXCIsIFwidHRcIiwgXCJ4bXBcIiwgXCJhXCIsIFwiYWJiclwiLCBcImFjcm9ueW1cIiwgXCJhZGRyZXNzXCIsIFwiYXBwbGV0XCIsIFwiYXJlYVwiLCBcImFydGljbGVcIiwgXCJhc2lkZVwiLCBcImF1ZGlvXCIsIFwiYlwiLCBcImJhc2VcIiwgXCJiYXNlZm9udFwiLCBcImJkaVwiLCBcImJkb1wiLCBcImJnc291bmRcIiwgXCJiaWdcIiwgXCJibGlua1wiLCBcImJsb2NrcXVvdGVcIiwgXCJib2R5XCIsIFwiYnJcIiwgXCJidXR0b25cIiwgXCJjYW52YXNcIiwgXCJjYXB0aW9uXCIsIFwiY2VudGVyXCIsIFwiY2l0ZVwiLCBcImNvZGVcIiwgXCJjb2xcIiwgXCJjb2xncm91cFwiLCBcImNvbnRlbnRcIiwgXCJkYXRhXCIsIFwiZGF0YWxpc3RcIiwgXCJkZFwiLCBcImRlbFwiLCBcImRldGFpbHNcIiwgXCJkZm5cIiwgXCJkaWFsb2dcIiwgXCJkaXJcIiwgXCJkaXZcIiwgXCJkbFwiLCBcImR0XCIsIFwiZW1cIiwgXCJlbWJlZFwiLCBcImZpZWxkc2V0XCIsIFwiZmlnY2FwdGlvblwiLCBcImZpZ3VyZVwiLCBcImZvbnRcIiwgXCJmb290ZXJcIiwgXCJmb3JtXCIsIFwiZnJhbWVcIiwgXCJmcmFtZXNldFwiLCBcImhlYWRcIiwgXCJoZWFkZXJcIiwgXCJoZ3JvdXBcIiwgXCJoclwiLCBcImh0bWxcIiwgXCJpXCIsIFwiaWZyYW1lXCIsIFwiaW1hZ2VcIiwgXCJpbWdcIiwgXCJpbnB1dFwiLCBcImluc1wiLCBcImtiZFwiLCBcImtleWdlblwiLCBcImxhYmVsXCIsIFwibGVnZW5kXCIsIFwibGlcIiwgXCJsaW5rXCIsIFwibWFpblwiLCBcIm1hcFwiLCBcIm1hcmtcIiwgXCJtYXJxdWVlXCIsIFwibWVudVwiLCBcIm1lbnVpdGVtXCIsIFwibWV0YVwiLCBcIm1ldGVyXCIsIFwibmF2XCIsIFwibm9iclwiLCBcIm5vZW1iZWRcIiwgXCJub2ZyYW1lc1wiLCBcIm5vc2NyaXB0XCIsIFwib2JqZWN0XCIsIFwib2xcIiwgXCJvcHRncm91cFwiLCBcIm9wdGlvblwiLCBcIm91dHB1dFwiLCBcInBcIiwgXCJwYXJhbVwiLCBcInBpY3R1cmVcIiwgXCJwbGFpbnRleHRcIiwgXCJwb3J0YWxcIiwgXCJwcmVcIiwgXCJwcm9ncmVzc1wiLCBcInFcIiwgXCJyYlwiLCBcInJwXCIsIFwicnRcIiwgXCJydGNcIiwgXCJydWJ5XCIsIFwic1wiLCBcInNhbXBcIiwgXCJzY3JpcHRcIiwgXCJzZWN0aW9uXCIsIFwic2VsZWN0XCIsIFwic2hhZG93XCIsIFwic2xvdFwiLCBcInNtYWxsXCIsIFwic291cmNlXCIsIFwic3BhY2VyXCIsIFwic3BhblwiLCBcInN0cmlrZVwiLCBcInN0cm9uZ1wiLCBcInN0eWxlXCIsIFwic3ViXCIsIFwic3VtbWFyeVwiLCBcInN1cFwiLCBcInRhYmxlXCIsIFwidGJvZHlcIiwgXCJ0ZFwiLCBcInRlbXBsYXRlXCIsIFwidGV4dGFyZWFcIiwgXCJ0Zm9vdFwiLCBcInRoXCIsIFwidGhlYWRcIiwgXCJ0aW1lXCIsIFwidGl0bGVcIiwgXCJ0clwiLCBcInRyYWNrXCIsIFwidHRcIiwgXCJ1XCIsIFwidWxcIiwgXCJ2YXJcIiwgXCJ2aWRlb1wiLCBcIndiclwiLCBcInhtcFwiLCBcImlucHV0XCJdKTtcblxuZnVuY3Rpb24gcmVjb25jaWxlQXJyYXlzKHBhcmVudE5vZGUsIGEsIGIpIHtcbiAgbGV0IGJMZW5ndGggPSBiLmxlbmd0aCxcbiAgICBhRW5kID0gYS5sZW5ndGgsXG4gICAgYkVuZCA9IGJMZW5ndGgsXG4gICAgYVN0YXJ0ID0gMCxcbiAgICBiU3RhcnQgPSAwLFxuICAgIGFmdGVyID0gYVthRW5kIC0gMV0ubmV4dFNpYmxpbmcsXG4gICAgbWFwID0gbnVsbDtcbiAgd2hpbGUgKGFTdGFydCA8IGFFbmQgfHwgYlN0YXJ0IDwgYkVuZCkge1xuICAgIGlmIChhW2FTdGFydF0gPT09IGJbYlN0YXJ0XSkge1xuICAgICAgYVN0YXJ0Kys7XG4gICAgICBiU3RhcnQrKztcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cbiAgICB3aGlsZSAoYVthRW5kIC0gMV0gPT09IGJbYkVuZCAtIDFdKSB7XG4gICAgICBhRW5kLS07XG4gICAgICBiRW5kLS07XG4gICAgfVxuICAgIGlmIChhRW5kID09PSBhU3RhcnQpIHtcbiAgICAgIGNvbnN0IG5vZGUgPSBiRW5kIDwgYkxlbmd0aCA/IGJTdGFydCA/IGJbYlN0YXJ0IC0gMV0ubmV4dFNpYmxpbmcgOiBiW2JFbmQgLSBiU3RhcnRdIDogYWZ0ZXI7XG4gICAgICB3aGlsZSAoYlN0YXJ0IDwgYkVuZCkgcGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoYltiU3RhcnQrK10sIG5vZGUpO1xuICAgIH0gZWxzZSBpZiAoYkVuZCA9PT0gYlN0YXJ0KSB7XG4gICAgICB3aGlsZSAoYVN0YXJ0IDwgYUVuZCkge1xuICAgICAgICBpZiAoIW1hcCB8fCAhbWFwLmhhcyhhW2FTdGFydF0pKSBhW2FTdGFydF0ucmVtb3ZlKCk7XG4gICAgICAgIGFTdGFydCsrO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoYVthU3RhcnRdID09PSBiW2JFbmQgLSAxXSAmJiBiW2JTdGFydF0gPT09IGFbYUVuZCAtIDFdKSB7XG4gICAgICBjb25zdCBub2RlID0gYVstLWFFbmRdLm5leHRTaWJsaW5nO1xuICAgICAgcGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoYltiU3RhcnQrK10sIGFbYVN0YXJ0KytdLm5leHRTaWJsaW5nKTtcbiAgICAgIHBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGJbLS1iRW5kXSwgbm9kZSk7XG4gICAgICBhW2FFbmRdID0gYltiRW5kXTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKCFtYXApIHtcbiAgICAgICAgbWFwID0gbmV3IE1hcCgpO1xuICAgICAgICBsZXQgaSA9IGJTdGFydDtcbiAgICAgICAgd2hpbGUgKGkgPCBiRW5kKSBtYXAuc2V0KGJbaV0sIGkrKyk7XG4gICAgICB9XG4gICAgICBjb25zdCBpbmRleCA9IG1hcC5nZXQoYVthU3RhcnRdKTtcbiAgICAgIGlmIChpbmRleCAhPSBudWxsKSB7XG4gICAgICAgIGlmIChiU3RhcnQgPCBpbmRleCAmJiBpbmRleCA8IGJFbmQpIHtcbiAgICAgICAgICBsZXQgaSA9IGFTdGFydCxcbiAgICAgICAgICAgIHNlcXVlbmNlID0gMSxcbiAgICAgICAgICAgIHQ7XG4gICAgICAgICAgd2hpbGUgKCsraSA8IGFFbmQgJiYgaSA8IGJFbmQpIHtcbiAgICAgICAgICAgIGlmICgodCA9IG1hcC5nZXQoYVtpXSkpID09IG51bGwgfHwgdCAhPT0gaW5kZXggKyBzZXF1ZW5jZSkgYnJlYWs7XG4gICAgICAgICAgICBzZXF1ZW5jZSsrO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoc2VxdWVuY2UgPiBpbmRleCAtIGJTdGFydCkge1xuICAgICAgICAgICAgY29uc3Qgbm9kZSA9IGFbYVN0YXJ0XTtcbiAgICAgICAgICAgIHdoaWxlIChiU3RhcnQgPCBpbmRleCkgcGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoYltiU3RhcnQrK10sIG5vZGUpO1xuICAgICAgICAgIH0gZWxzZSBwYXJlbnROb2RlLnJlcGxhY2VDaGlsZChiW2JTdGFydCsrXSwgYVthU3RhcnQrK10pO1xuICAgICAgICB9IGVsc2UgYVN0YXJ0Kys7XG4gICAgICB9IGVsc2UgYVthU3RhcnQrK10ucmVtb3ZlKCk7XG4gICAgfVxuICB9XG59XG5cbmNvbnN0ICQkRVZFTlRTID0gXCJfJERYX0RFTEVHQVRFXCI7XG5mdW5jdGlvbiByZW5kZXIoY29kZSwgZWxlbWVudCwgaW5pdCwgb3B0aW9ucyA9IHt9KSB7XG4gIGxldCBkaXNwb3NlcjtcbiAgY3JlYXRlUm9vdChkaXNwb3NlID0+IHtcbiAgICBkaXNwb3NlciA9IGRpc3Bvc2U7XG4gICAgZWxlbWVudCA9PT0gZG9jdW1lbnQgPyBjb2RlKCkgOiBpbnNlcnQoZWxlbWVudCwgY29kZSgpLCBlbGVtZW50LmZpcnN0Q2hpbGQgPyBudWxsIDogdW5kZWZpbmVkLCBpbml0KTtcbiAgfSwgb3B0aW9ucy5vd25lcik7XG4gIHJldHVybiAoKSA9PiB7XG4gICAgZGlzcG9zZXIoKTtcbiAgICBlbGVtZW50LnRleHRDb250ZW50ID0gXCJcIjtcbiAgfTtcbn1cbmZ1bmN0aW9uIHRlbXBsYXRlKGh0bWwsIGNoZWNrLCBpc1NWRykge1xuICBjb25zdCB0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRlbXBsYXRlXCIpO1xuICB0LmlubmVySFRNTCA9IGh0bWw7XG4gIGxldCBub2RlID0gdC5jb250ZW50LmZpcnN0Q2hpbGQ7XG4gIGlmIChpc1NWRykgbm9kZSA9IG5vZGUuZmlyc3RDaGlsZDtcbiAgcmV0dXJuIG5vZGU7XG59XG5mdW5jdGlvbiBkZWxlZ2F0ZUV2ZW50cyhldmVudE5hbWVzLCBkb2N1bWVudCA9IHdpbmRvdy5kb2N1bWVudCkge1xuICBjb25zdCBlID0gZG9jdW1lbnRbJCRFVkVOVFNdIHx8IChkb2N1bWVudFskJEVWRU5UU10gPSBuZXcgU2V0KCkpO1xuICBmb3IgKGxldCBpID0gMCwgbCA9IGV2ZW50TmFtZXMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgY29uc3QgbmFtZSA9IGV2ZW50TmFtZXNbaV07XG4gICAgaWYgKCFlLmhhcyhuYW1lKSkge1xuICAgICAgZS5hZGQobmFtZSk7XG4gICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKG5hbWUsIGV2ZW50SGFuZGxlcik7XG4gICAgfVxuICB9XG59XG5mdW5jdGlvbiBjbGVhckRlbGVnYXRlZEV2ZW50cyhkb2N1bWVudCA9IHdpbmRvdy5kb2N1bWVudCkge1xuICBpZiAoZG9jdW1lbnRbJCRFVkVOVFNdKSB7XG4gICAgZm9yIChsZXQgbmFtZSBvZiBkb2N1bWVudFskJEVWRU5UU10ua2V5cygpKSBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKG5hbWUsIGV2ZW50SGFuZGxlcik7XG4gICAgZGVsZXRlIGRvY3VtZW50WyQkRVZFTlRTXTtcbiAgfVxufVxuZnVuY3Rpb24gc2V0QXR0cmlidXRlKG5vZGUsIG5hbWUsIHZhbHVlKSB7XG4gIGlmICh2YWx1ZSA9PSBudWxsKSBub2RlLnJlbW92ZUF0dHJpYnV0ZShuYW1lKTtlbHNlIG5vZGUuc2V0QXR0cmlidXRlKG5hbWUsIHZhbHVlKTtcbn1cbmZ1bmN0aW9uIHNldEF0dHJpYnV0ZU5TKG5vZGUsIG5hbWVzcGFjZSwgbmFtZSwgdmFsdWUpIHtcbiAgaWYgKHZhbHVlID09IG51bGwpIG5vZGUucmVtb3ZlQXR0cmlidXRlTlMobmFtZXNwYWNlLCBuYW1lKTtlbHNlIG5vZGUuc2V0QXR0cmlidXRlTlMobmFtZXNwYWNlLCBuYW1lLCB2YWx1ZSk7XG59XG5mdW5jdGlvbiBjbGFzc05hbWUobm9kZSwgdmFsdWUpIHtcbiAgaWYgKHZhbHVlID09IG51bGwpIG5vZGUucmVtb3ZlQXR0cmlidXRlKFwiY2xhc3NcIik7ZWxzZSBub2RlLmNsYXNzTmFtZSA9IHZhbHVlO1xufVxuZnVuY3Rpb24gYWRkRXZlbnRMaXN0ZW5lcihub2RlLCBuYW1lLCBoYW5kbGVyLCBkZWxlZ2F0ZSkge1xuICBpZiAoZGVsZWdhdGUpIHtcbiAgICBpZiAoQXJyYXkuaXNBcnJheShoYW5kbGVyKSkge1xuICAgICAgbm9kZVtgJCQke25hbWV9YF0gPSBoYW5kbGVyWzBdO1xuICAgICAgbm9kZVtgJCQke25hbWV9RGF0YWBdID0gaGFuZGxlclsxXTtcbiAgICB9IGVsc2Ugbm9kZVtgJCQke25hbWV9YF0gPSBoYW5kbGVyO1xuICB9IGVsc2UgaWYgKEFycmF5LmlzQXJyYXkoaGFuZGxlcikpIHtcbiAgICBjb25zdCBoYW5kbGVyRm4gPSBoYW5kbGVyWzBdO1xuICAgIG5vZGUuYWRkRXZlbnRMaXN0ZW5lcihuYW1lLCBoYW5kbGVyWzBdID0gZSA9PiBoYW5kbGVyRm4uY2FsbChub2RlLCBoYW5kbGVyWzFdLCBlKSk7XG4gIH0gZWxzZSBub2RlLmFkZEV2ZW50TGlzdGVuZXIobmFtZSwgaGFuZGxlcik7XG59XG5mdW5jdGlvbiBjbGFzc0xpc3Qobm9kZSwgdmFsdWUsIHByZXYgPSB7fSkge1xuICBjb25zdCBjbGFzc0tleXMgPSBPYmplY3Qua2V5cyh2YWx1ZSB8fCB7fSksXG4gICAgcHJldktleXMgPSBPYmplY3Qua2V5cyhwcmV2KTtcbiAgbGV0IGksIGxlbjtcbiAgZm9yIChpID0gMCwgbGVuID0gcHJldktleXMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICBjb25zdCBrZXkgPSBwcmV2S2V5c1tpXTtcbiAgICBpZiAoIWtleSB8fCBrZXkgPT09IFwidW5kZWZpbmVkXCIgfHwgdmFsdWVba2V5XSkgY29udGludWU7XG4gICAgdG9nZ2xlQ2xhc3NLZXkobm9kZSwga2V5LCBmYWxzZSk7XG4gICAgZGVsZXRlIHByZXZba2V5XTtcbiAgfVxuICBmb3IgKGkgPSAwLCBsZW4gPSBjbGFzc0tleXMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICBjb25zdCBrZXkgPSBjbGFzc0tleXNbaV0sXG4gICAgICBjbGFzc1ZhbHVlID0gISF2YWx1ZVtrZXldO1xuICAgIGlmICgha2V5IHx8IGtleSA9PT0gXCJ1bmRlZmluZWRcIiB8fCBwcmV2W2tleV0gPT09IGNsYXNzVmFsdWUgfHwgIWNsYXNzVmFsdWUpIGNvbnRpbnVlO1xuICAgIHRvZ2dsZUNsYXNzS2V5KG5vZGUsIGtleSwgdHJ1ZSk7XG4gICAgcHJldltrZXldID0gY2xhc3NWYWx1ZTtcbiAgfVxuICByZXR1cm4gcHJldjtcbn1cbmZ1bmN0aW9uIHN0eWxlKG5vZGUsIHZhbHVlLCBwcmV2KSB7XG4gIGlmICghdmFsdWUpIHJldHVybiBwcmV2ID8gc2V0QXR0cmlidXRlKG5vZGUsIFwic3R5bGVcIikgOiB2YWx1ZTtcbiAgY29uc3Qgbm9kZVN0eWxlID0gbm9kZS5zdHlsZTtcbiAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJzdHJpbmdcIikgcmV0dXJuIG5vZGVTdHlsZS5jc3NUZXh0ID0gdmFsdWU7XG4gIHR5cGVvZiBwcmV2ID09PSBcInN0cmluZ1wiICYmIChub2RlU3R5bGUuY3NzVGV4dCA9IHByZXYgPSB1bmRlZmluZWQpO1xuICBwcmV2IHx8IChwcmV2ID0ge30pO1xuICB2YWx1ZSB8fCAodmFsdWUgPSB7fSk7XG4gIGxldCB2LCBzO1xuICBmb3IgKHMgaW4gcHJldikge1xuICAgIHZhbHVlW3NdID09IG51bGwgJiYgbm9kZVN0eWxlLnJlbW92ZVByb3BlcnR5KHMpO1xuICAgIGRlbGV0ZSBwcmV2W3NdO1xuICB9XG4gIGZvciAocyBpbiB2YWx1ZSkge1xuICAgIHYgPSB2YWx1ZVtzXTtcbiAgICBpZiAodiAhPT0gcHJldltzXSkge1xuICAgICAgbm9kZVN0eWxlLnNldFByb3BlcnR5KHMsIHYpO1xuICAgICAgcHJldltzXSA9IHY7XG4gICAgfVxuICB9XG4gIHJldHVybiBwcmV2O1xufVxuZnVuY3Rpb24gc3ByZWFkKG5vZGUsIHByb3BzID0ge30sIGlzU1ZHLCBza2lwQ2hpbGRyZW4pIHtcbiAgY29uc3QgcHJldlByb3BzID0ge307XG4gIGlmICghc2tpcENoaWxkcmVuKSB7XG4gICAgY3JlYXRlUmVuZGVyRWZmZWN0KCgpID0+IHByZXZQcm9wcy5jaGlsZHJlbiA9IGluc2VydEV4cHJlc3Npb24obm9kZSwgcHJvcHMuY2hpbGRyZW4sIHByZXZQcm9wcy5jaGlsZHJlbikpO1xuICB9XG4gIGNyZWF0ZVJlbmRlckVmZmVjdCgoKSA9PiBwcm9wcy5yZWYgJiYgcHJvcHMucmVmKG5vZGUpKTtcbiAgY3JlYXRlUmVuZGVyRWZmZWN0KCgpID0+IGFzc2lnbihub2RlLCBwcm9wcywgaXNTVkcsIHRydWUsIHByZXZQcm9wcywgdHJ1ZSkpO1xuICByZXR1cm4gcHJldlByb3BzO1xufVxuZnVuY3Rpb24gZHluYW1pY1Byb3BlcnR5KHByb3BzLCBrZXkpIHtcbiAgY29uc3Qgc3JjID0gcHJvcHNba2V5XTtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHByb3BzLCBrZXksIHtcbiAgICBnZXQoKSB7XG4gICAgICByZXR1cm4gc3JjKCk7XG4gICAgfSxcbiAgICBlbnVtZXJhYmxlOiB0cnVlXG4gIH0pO1xuICByZXR1cm4gcHJvcHM7XG59XG5mdW5jdGlvbiBpbm5lckhUTUwocGFyZW50LCBjb250ZW50KSB7XG4gICFzaGFyZWRDb25maWcuY29udGV4dCAmJiAocGFyZW50LmlubmVySFRNTCA9IGNvbnRlbnQpO1xufVxuZnVuY3Rpb24gdXNlKGZuLCBlbGVtZW50LCBhcmcpIHtcbiAgcmV0dXJuIHVudHJhY2soKCkgPT4gZm4oZWxlbWVudCwgYXJnKSk7XG59XG5mdW5jdGlvbiBpbnNlcnQocGFyZW50LCBhY2Nlc3NvciwgbWFya2VyLCBpbml0aWFsKSB7XG4gIGlmIChtYXJrZXIgIT09IHVuZGVmaW5lZCAmJiAhaW5pdGlhbCkgaW5pdGlhbCA9IFtdO1xuICBpZiAodHlwZW9mIGFjY2Vzc29yICE9PSBcImZ1bmN0aW9uXCIpIHJldHVybiBpbnNlcnRFeHByZXNzaW9uKHBhcmVudCwgYWNjZXNzb3IsIGluaXRpYWwsIG1hcmtlcik7XG4gIGNyZWF0ZVJlbmRlckVmZmVjdChjdXJyZW50ID0+IGluc2VydEV4cHJlc3Npb24ocGFyZW50LCBhY2Nlc3NvcigpLCBjdXJyZW50LCBtYXJrZXIpLCBpbml0aWFsKTtcbn1cbmZ1bmN0aW9uIGFzc2lnbihub2RlLCBwcm9wcywgaXNTVkcsIHNraXBDaGlsZHJlbiwgcHJldlByb3BzID0ge30sIHNraXBSZWYgPSBmYWxzZSkge1xuICBwcm9wcyB8fCAocHJvcHMgPSB7fSk7XG4gIGZvciAoY29uc3QgcHJvcCBpbiBwcmV2UHJvcHMpIHtcbiAgICBpZiAoIShwcm9wIGluIHByb3BzKSkge1xuICAgICAgaWYgKHByb3AgPT09IFwiY2hpbGRyZW5cIikgY29udGludWU7XG4gICAgICBwcmV2UHJvcHNbcHJvcF0gPSBhc3NpZ25Qcm9wKG5vZGUsIHByb3AsIG51bGwsIHByZXZQcm9wc1twcm9wXSwgaXNTVkcsIHNraXBSZWYpO1xuICAgIH1cbiAgfVxuICBmb3IgKGNvbnN0IHByb3AgaW4gcHJvcHMpIHtcbiAgICBpZiAocHJvcCA9PT0gXCJjaGlsZHJlblwiKSB7XG4gICAgICBpZiAoIXNraXBDaGlsZHJlbikgaW5zZXJ0RXhwcmVzc2lvbihub2RlLCBwcm9wcy5jaGlsZHJlbik7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG4gICAgY29uc3QgdmFsdWUgPSBwcm9wc1twcm9wXTtcbiAgICBwcmV2UHJvcHNbcHJvcF0gPSBhc3NpZ25Qcm9wKG5vZGUsIHByb3AsIHZhbHVlLCBwcmV2UHJvcHNbcHJvcF0sIGlzU1ZHLCBza2lwUmVmKTtcbiAgfVxufVxuZnVuY3Rpb24gaHlkcmF0ZSQxKGNvZGUsIGVsZW1lbnQsIG9wdGlvbnMgPSB7fSkge1xuICBzaGFyZWRDb25maWcuY29tcGxldGVkID0gZ2xvYmFsVGhpcy5fJEhZLmNvbXBsZXRlZDtcbiAgc2hhcmVkQ29uZmlnLmV2ZW50cyA9IGdsb2JhbFRoaXMuXyRIWS5ldmVudHM7XG4gIHNoYXJlZENvbmZpZy5sb2FkID0gZ2xvYmFsVGhpcy5fJEhZLmxvYWQ7XG4gIHNoYXJlZENvbmZpZy5nYXRoZXIgPSByb290ID0+IGdhdGhlckh5ZHJhdGFibGUoZWxlbWVudCwgcm9vdCk7XG4gIHNoYXJlZENvbmZpZy5yZWdpc3RyeSA9IG5ldyBNYXAoKTtcbiAgc2hhcmVkQ29uZmlnLmNvbnRleHQgPSB7XG4gICAgaWQ6IG9wdGlvbnMucmVuZGVySWQgfHwgXCJcIixcbiAgICBjb3VudDogMFxuICB9O1xuICBnYXRoZXJIeWRyYXRhYmxlKGVsZW1lbnQsIG9wdGlvbnMucmVuZGVySWQpO1xuICBjb25zdCBkaXNwb3NlID0gcmVuZGVyKGNvZGUsIGVsZW1lbnQsIFsuLi5lbGVtZW50LmNoaWxkTm9kZXNdLCBvcHRpb25zKTtcbiAgc2hhcmVkQ29uZmlnLmNvbnRleHQgPSBudWxsO1xuICByZXR1cm4gZGlzcG9zZTtcbn1cbmZ1bmN0aW9uIGdldE5leHRFbGVtZW50KHRlbXBsYXRlKSB7XG4gIGxldCBub2RlLCBrZXk7XG4gIGlmICghc2hhcmVkQ29uZmlnLmNvbnRleHQgfHwgIShub2RlID0gc2hhcmVkQ29uZmlnLnJlZ2lzdHJ5LmdldChrZXkgPSBnZXRIeWRyYXRpb25LZXkoKSkpKSB7XG4gICAgcmV0dXJuIHRlbXBsYXRlLmNsb25lTm9kZSh0cnVlKTtcbiAgfVxuICBpZiAoc2hhcmVkQ29uZmlnLmNvbXBsZXRlZCkgc2hhcmVkQ29uZmlnLmNvbXBsZXRlZC5hZGQobm9kZSk7XG4gIHNoYXJlZENvbmZpZy5yZWdpc3RyeS5kZWxldGUoa2V5KTtcbiAgcmV0dXJuIG5vZGU7XG59XG5mdW5jdGlvbiBnZXROZXh0TWF0Y2goZWwsIG5vZGVOYW1lKSB7XG4gIHdoaWxlIChlbCAmJiBlbC5sb2NhbE5hbWUgIT09IG5vZGVOYW1lKSBlbCA9IGVsLm5leHRTaWJsaW5nO1xuICByZXR1cm4gZWw7XG59XG5mdW5jdGlvbiBnZXROZXh0TWFya2VyKHN0YXJ0KSB7XG4gIGxldCBlbmQgPSBzdGFydCxcbiAgICBjb3VudCA9IDAsXG4gICAgY3VycmVudCA9IFtdO1xuICBpZiAoc2hhcmVkQ29uZmlnLmNvbnRleHQpIHtcbiAgICB3aGlsZSAoZW5kKSB7XG4gICAgICBpZiAoZW5kLm5vZGVUeXBlID09PSA4KSB7XG4gICAgICAgIGNvbnN0IHYgPSBlbmQubm9kZVZhbHVlO1xuICAgICAgICBpZiAodiA9PT0gXCIjXCIpIGNvdW50Kys7ZWxzZSBpZiAodiA9PT0gXCIvXCIpIHtcbiAgICAgICAgICBpZiAoY291bnQgPT09IDApIHJldHVybiBbZW5kLCBjdXJyZW50XTtcbiAgICAgICAgICBjb3VudC0tO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBjdXJyZW50LnB1c2goZW5kKTtcbiAgICAgIGVuZCA9IGVuZC5uZXh0U2libGluZztcbiAgICB9XG4gIH1cbiAgcmV0dXJuIFtlbmQsIGN1cnJlbnRdO1xufVxuZnVuY3Rpb24gcnVuSHlkcmF0aW9uRXZlbnRzKCkge1xuICBpZiAoc2hhcmVkQ29uZmlnLmV2ZW50cyAmJiAhc2hhcmVkQ29uZmlnLmV2ZW50cy5xdWV1ZWQpIHtcbiAgICBxdWV1ZU1pY3JvdGFzaygoKSA9PiB7XG4gICAgICBjb25zdCB7XG4gICAgICAgIGNvbXBsZXRlZCxcbiAgICAgICAgZXZlbnRzXG4gICAgICB9ID0gc2hhcmVkQ29uZmlnO1xuICAgICAgZXZlbnRzLnF1ZXVlZCA9IGZhbHNlO1xuICAgICAgd2hpbGUgKGV2ZW50cy5sZW5ndGgpIHtcbiAgICAgICAgY29uc3QgW2VsLCBlXSA9IGV2ZW50c1swXTtcbiAgICAgICAgaWYgKCFjb21wbGV0ZWQuaGFzKGVsKSkgcmV0dXJuO1xuICAgICAgICBldmVudEhhbmRsZXIoZSk7XG4gICAgICAgIGV2ZW50cy5zaGlmdCgpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHNoYXJlZENvbmZpZy5ldmVudHMucXVldWVkID0gdHJ1ZTtcbiAgfVxufVxuZnVuY3Rpb24gdG9Qcm9wZXJ0eU5hbWUobmFtZSkge1xuICByZXR1cm4gbmFtZS50b0xvd2VyQ2FzZSgpLnJlcGxhY2UoLy0oW2Etel0pL2csIChfLCB3KSA9PiB3LnRvVXBwZXJDYXNlKCkpO1xufVxuZnVuY3Rpb24gdG9nZ2xlQ2xhc3NLZXkobm9kZSwga2V5LCB2YWx1ZSkge1xuICBjb25zdCBjbGFzc05hbWVzID0ga2V5LnRyaW0oKS5zcGxpdCgvXFxzKy8pO1xuICBmb3IgKGxldCBpID0gMCwgbmFtZUxlbiA9IGNsYXNzTmFtZXMubGVuZ3RoOyBpIDwgbmFtZUxlbjsgaSsrKSBub2RlLmNsYXNzTGlzdC50b2dnbGUoY2xhc3NOYW1lc1tpXSwgdmFsdWUpO1xufVxuZnVuY3Rpb24gYXNzaWduUHJvcChub2RlLCBwcm9wLCB2YWx1ZSwgcHJldiwgaXNTVkcsIHNraXBSZWYpIHtcbiAgbGV0IGlzQ0UsIGlzUHJvcCwgaXNDaGlsZFByb3A7XG4gIGlmIChwcm9wID09PSBcInN0eWxlXCIpIHJldHVybiBzdHlsZShub2RlLCB2YWx1ZSwgcHJldik7XG4gIGlmIChwcm9wID09PSBcImNsYXNzTGlzdFwiKSByZXR1cm4gY2xhc3NMaXN0KG5vZGUsIHZhbHVlLCBwcmV2KTtcbiAgaWYgKHZhbHVlID09PSBwcmV2KSByZXR1cm4gcHJldjtcbiAgaWYgKHByb3AgPT09IFwicmVmXCIpIHtcbiAgICBpZiAoIXNraXBSZWYpIHZhbHVlKG5vZGUpO1xuICB9IGVsc2UgaWYgKHByb3Auc2xpY2UoMCwgMykgPT09IFwib246XCIpIHtcbiAgICBjb25zdCBlID0gcHJvcC5zbGljZSgzKTtcbiAgICBwcmV2ICYmIG5vZGUucmVtb3ZlRXZlbnRMaXN0ZW5lcihlLCBwcmV2KTtcbiAgICB2YWx1ZSAmJiBub2RlLmFkZEV2ZW50TGlzdGVuZXIoZSwgdmFsdWUpO1xuICB9IGVsc2UgaWYgKHByb3Auc2xpY2UoMCwgMTApID09PSBcIm9uY2FwdHVyZTpcIikge1xuICAgIGNvbnN0IGUgPSBwcm9wLnNsaWNlKDEwKTtcbiAgICBwcmV2ICYmIG5vZGUucmVtb3ZlRXZlbnRMaXN0ZW5lcihlLCBwcmV2LCB0cnVlKTtcbiAgICB2YWx1ZSAmJiBub2RlLmFkZEV2ZW50TGlzdGVuZXIoZSwgdmFsdWUsIHRydWUpO1xuICB9IGVsc2UgaWYgKHByb3Auc2xpY2UoMCwgMikgPT09IFwib25cIikge1xuICAgIGNvbnN0IG5hbWUgPSBwcm9wLnNsaWNlKDIpLnRvTG93ZXJDYXNlKCk7XG4gICAgY29uc3QgZGVsZWdhdGUgPSBEZWxlZ2F0ZWRFdmVudHMuaGFzKG5hbWUpO1xuICAgIGlmICghZGVsZWdhdGUgJiYgcHJldikge1xuICAgICAgY29uc3QgaCA9IEFycmF5LmlzQXJyYXkocHJldikgPyBwcmV2WzBdIDogcHJldjtcbiAgICAgIG5vZGUucmVtb3ZlRXZlbnRMaXN0ZW5lcihuYW1lLCBoKTtcbiAgICB9XG4gICAgaWYgKGRlbGVnYXRlIHx8IHZhbHVlKSB7XG4gICAgICBhZGRFdmVudExpc3RlbmVyKG5vZGUsIG5hbWUsIHZhbHVlLCBkZWxlZ2F0ZSk7XG4gICAgICBkZWxlZ2F0ZSAmJiBkZWxlZ2F0ZUV2ZW50cyhbbmFtZV0pO1xuICAgIH1cbiAgfSBlbHNlIGlmICgoaXNDaGlsZFByb3AgPSBDaGlsZFByb3BlcnRpZXMuaGFzKHByb3ApKSB8fCAhaXNTVkcgJiYgKFByb3BBbGlhc2VzW3Byb3BdIHx8IChpc1Byb3AgPSBQcm9wZXJ0aWVzLmhhcyhwcm9wKSkpIHx8IChpc0NFID0gbm9kZS5ub2RlTmFtZS5pbmNsdWRlcyhcIi1cIikpKSB7XG4gICAgaWYgKHByb3AgPT09IFwiY2xhc3NcIiB8fCBwcm9wID09PSBcImNsYXNzTmFtZVwiKSBjbGFzc05hbWUobm9kZSwgdmFsdWUpO2Vsc2UgaWYgKGlzQ0UgJiYgIWlzUHJvcCAmJiAhaXNDaGlsZFByb3ApIG5vZGVbdG9Qcm9wZXJ0eU5hbWUocHJvcCldID0gdmFsdWU7ZWxzZSBub2RlW1Byb3BBbGlhc2VzW3Byb3BdIHx8IHByb3BdID0gdmFsdWU7XG4gIH0gZWxzZSB7XG4gICAgY29uc3QgbnMgPSBpc1NWRyAmJiBwcm9wLmluZGV4T2YoXCI6XCIpID4gLTEgJiYgU1ZHTmFtZXNwYWNlW3Byb3Auc3BsaXQoXCI6XCIpWzBdXTtcbiAgICBpZiAobnMpIHNldEF0dHJpYnV0ZU5TKG5vZGUsIG5zLCBwcm9wLCB2YWx1ZSk7ZWxzZSBzZXRBdHRyaWJ1dGUobm9kZSwgQWxpYXNlc1twcm9wXSB8fCBwcm9wLCB2YWx1ZSk7XG4gIH1cbiAgcmV0dXJuIHZhbHVlO1xufVxuZnVuY3Rpb24gZXZlbnRIYW5kbGVyKGUpIHtcbiAgY29uc3Qga2V5ID0gYCQkJHtlLnR5cGV9YDtcbiAgbGV0IG5vZGUgPSBlLmNvbXBvc2VkUGF0aCAmJiBlLmNvbXBvc2VkUGF0aCgpWzBdIHx8IGUudGFyZ2V0O1xuICBpZiAoZS50YXJnZXQgIT09IG5vZGUpIHtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwgXCJ0YXJnZXRcIiwge1xuICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgdmFsdWU6IG5vZGVcbiAgICB9KTtcbiAgfVxuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwgXCJjdXJyZW50VGFyZ2V0XCIsIHtcbiAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgZ2V0KCkge1xuICAgICAgcmV0dXJuIG5vZGUgfHwgZG9jdW1lbnQ7XG4gICAgfVxuICB9KTtcbiAgaWYgKHNoYXJlZENvbmZpZy5yZWdpc3RyeSAmJiAhc2hhcmVkQ29uZmlnLmRvbmUpIHtcbiAgICBzaGFyZWRDb25maWcuZG9uZSA9IHRydWU7XG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIltpZF49cGwtXVwiKS5mb3JFYWNoKGVsZW0gPT4ge1xuICAgICAgd2hpbGUgKGVsZW0gJiYgZWxlbS5ub2RlVHlwZSAhPT0gOCAmJiBlbGVtLm5vZGVWYWx1ZSAhPT0gXCJwbC1cIiArIGUpIHtcbiAgICAgICAgbGV0IHggPSBlbGVtLm5leHRTaWJsaW5nO1xuICAgICAgICBlbGVtLnJlbW92ZSgpO1xuICAgICAgICBlbGVtID0geDtcbiAgICAgIH1cbiAgICAgIGVsZW0gJiYgZWxlbS5yZW1vdmUoKTtcbiAgICB9KTtcbiAgfVxuICB3aGlsZSAobm9kZSkge1xuICAgIGNvbnN0IGhhbmRsZXIgPSBub2RlW2tleV07XG4gICAgaWYgKGhhbmRsZXIgJiYgIW5vZGUuZGlzYWJsZWQpIHtcbiAgICAgIGNvbnN0IGRhdGEgPSBub2RlW2Ake2tleX1EYXRhYF07XG4gICAgICBkYXRhICE9PSB1bmRlZmluZWQgPyBoYW5kbGVyLmNhbGwobm9kZSwgZGF0YSwgZSkgOiBoYW5kbGVyLmNhbGwobm9kZSwgZSk7XG4gICAgICBpZiAoZS5jYW5jZWxCdWJibGUpIHJldHVybjtcbiAgICB9XG4gICAgbm9kZSA9IG5vZGUuXyRob3N0IHx8IG5vZGUucGFyZW50Tm9kZSB8fCBub2RlLmhvc3Q7XG4gIH1cbn1cbmZ1bmN0aW9uIGluc2VydEV4cHJlc3Npb24ocGFyZW50LCB2YWx1ZSwgY3VycmVudCwgbWFya2VyLCB1bndyYXBBcnJheSkge1xuICBpZiAoc2hhcmVkQ29uZmlnLmNvbnRleHQgJiYgIWN1cnJlbnQpIGN1cnJlbnQgPSBbLi4ucGFyZW50LmNoaWxkTm9kZXNdO1xuICB3aGlsZSAodHlwZW9mIGN1cnJlbnQgPT09IFwiZnVuY3Rpb25cIikgY3VycmVudCA9IGN1cnJlbnQoKTtcbiAgaWYgKHZhbHVlID09PSBjdXJyZW50KSByZXR1cm4gY3VycmVudDtcbiAgY29uc3QgdCA9IHR5cGVvZiB2YWx1ZSxcbiAgICBtdWx0aSA9IG1hcmtlciAhPT0gdW5kZWZpbmVkO1xuICBwYXJlbnQgPSBtdWx0aSAmJiBjdXJyZW50WzBdICYmIGN1cnJlbnRbMF0ucGFyZW50Tm9kZSB8fCBwYXJlbnQ7XG4gIGlmICh0ID09PSBcInN0cmluZ1wiIHx8IHQgPT09IFwibnVtYmVyXCIpIHtcbiAgICBpZiAoc2hhcmVkQ29uZmlnLmNvbnRleHQpIHJldHVybiBjdXJyZW50O1xuICAgIGlmICh0ID09PSBcIm51bWJlclwiKSB2YWx1ZSA9IHZhbHVlLnRvU3RyaW5nKCk7XG4gICAgaWYgKG11bHRpKSB7XG4gICAgICBsZXQgbm9kZSA9IGN1cnJlbnRbMF07XG4gICAgICBpZiAobm9kZSAmJiBub2RlLm5vZGVUeXBlID09PSAzKSB7XG4gICAgICAgIG5vZGUuZGF0YSA9IHZhbHVlO1xuICAgICAgfSBlbHNlIG5vZGUgPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSh2YWx1ZSk7XG4gICAgICBjdXJyZW50ID0gY2xlYW5DaGlsZHJlbihwYXJlbnQsIGN1cnJlbnQsIG1hcmtlciwgbm9kZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChjdXJyZW50ICE9PSBcIlwiICYmIHR5cGVvZiBjdXJyZW50ID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgIGN1cnJlbnQgPSBwYXJlbnQuZmlyc3RDaGlsZC5kYXRhID0gdmFsdWU7XG4gICAgICB9IGVsc2UgY3VycmVudCA9IHBhcmVudC50ZXh0Q29udGVudCA9IHZhbHVlO1xuICAgIH1cbiAgfSBlbHNlIGlmICh2YWx1ZSA9PSBudWxsIHx8IHQgPT09IFwiYm9vbGVhblwiKSB7XG4gICAgaWYgKHNoYXJlZENvbmZpZy5jb250ZXh0KSByZXR1cm4gY3VycmVudDtcbiAgICBjdXJyZW50ID0gY2xlYW5DaGlsZHJlbihwYXJlbnQsIGN1cnJlbnQsIG1hcmtlcik7XG4gIH0gZWxzZSBpZiAodCA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgY3JlYXRlUmVuZGVyRWZmZWN0KCgpID0+IHtcbiAgICAgIGxldCB2ID0gdmFsdWUoKTtcbiAgICAgIHdoaWxlICh0eXBlb2YgdiA9PT0gXCJmdW5jdGlvblwiKSB2ID0gdigpO1xuICAgICAgY3VycmVudCA9IGluc2VydEV4cHJlc3Npb24ocGFyZW50LCB2LCBjdXJyZW50LCBtYXJrZXIpO1xuICAgIH0pO1xuICAgIHJldHVybiAoKSA9PiBjdXJyZW50O1xuICB9IGVsc2UgaWYgKEFycmF5LmlzQXJyYXkodmFsdWUpKSB7XG4gICAgY29uc3QgYXJyYXkgPSBbXTtcbiAgICBjb25zdCBjdXJyZW50QXJyYXkgPSBjdXJyZW50ICYmIEFycmF5LmlzQXJyYXkoY3VycmVudCk7XG4gICAgaWYgKG5vcm1hbGl6ZUluY29taW5nQXJyYXkoYXJyYXksIHZhbHVlLCBjdXJyZW50LCB1bndyYXBBcnJheSkpIHtcbiAgICAgIGNyZWF0ZVJlbmRlckVmZmVjdCgoKSA9PiBjdXJyZW50ID0gaW5zZXJ0RXhwcmVzc2lvbihwYXJlbnQsIGFycmF5LCBjdXJyZW50LCBtYXJrZXIsIHRydWUpKTtcbiAgICAgIHJldHVybiAoKSA9PiBjdXJyZW50O1xuICAgIH1cbiAgICBpZiAoc2hhcmVkQ29uZmlnLmNvbnRleHQpIHtcbiAgICAgIGlmICghYXJyYXkubGVuZ3RoKSByZXR1cm4gY3VycmVudDtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYXJyYXkubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKGFycmF5W2ldLnBhcmVudE5vZGUpIHJldHVybiBjdXJyZW50ID0gYXJyYXk7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChhcnJheS5sZW5ndGggPT09IDApIHtcbiAgICAgIGN1cnJlbnQgPSBjbGVhbkNoaWxkcmVuKHBhcmVudCwgY3VycmVudCwgbWFya2VyKTtcbiAgICAgIGlmIChtdWx0aSkgcmV0dXJuIGN1cnJlbnQ7XG4gICAgfSBlbHNlIGlmIChjdXJyZW50QXJyYXkpIHtcbiAgICAgIGlmIChjdXJyZW50Lmxlbmd0aCA9PT0gMCkge1xuICAgICAgICBhcHBlbmROb2RlcyhwYXJlbnQsIGFycmF5LCBtYXJrZXIpO1xuICAgICAgfSBlbHNlIHJlY29uY2lsZUFycmF5cyhwYXJlbnQsIGN1cnJlbnQsIGFycmF5KTtcbiAgICB9IGVsc2Uge1xuICAgICAgY3VycmVudCAmJiBjbGVhbkNoaWxkcmVuKHBhcmVudCk7XG4gICAgICBhcHBlbmROb2RlcyhwYXJlbnQsIGFycmF5KTtcbiAgICB9XG4gICAgY3VycmVudCA9IGFycmF5O1xuICB9IGVsc2UgaWYgKHZhbHVlIGluc3RhbmNlb2YgTm9kZSkge1xuICAgIGlmIChzaGFyZWRDb25maWcuY29udGV4dCAmJiB2YWx1ZS5wYXJlbnROb2RlKSByZXR1cm4gY3VycmVudCA9IG11bHRpID8gW3ZhbHVlXSA6IHZhbHVlO1xuICAgIGlmIChBcnJheS5pc0FycmF5KGN1cnJlbnQpKSB7XG4gICAgICBpZiAobXVsdGkpIHJldHVybiBjdXJyZW50ID0gY2xlYW5DaGlsZHJlbihwYXJlbnQsIGN1cnJlbnQsIG1hcmtlciwgdmFsdWUpO1xuICAgICAgY2xlYW5DaGlsZHJlbihwYXJlbnQsIGN1cnJlbnQsIG51bGwsIHZhbHVlKTtcbiAgICB9IGVsc2UgaWYgKGN1cnJlbnQgPT0gbnVsbCB8fCBjdXJyZW50ID09PSBcIlwiIHx8ICFwYXJlbnQuZmlyc3RDaGlsZCkge1xuICAgICAgcGFyZW50LmFwcGVuZENoaWxkKHZhbHVlKTtcbiAgICB9IGVsc2UgcGFyZW50LnJlcGxhY2VDaGlsZCh2YWx1ZSwgcGFyZW50LmZpcnN0Q2hpbGQpO1xuICAgIGN1cnJlbnQgPSB2YWx1ZTtcbiAgfSBlbHNlIDtcbiAgcmV0dXJuIGN1cnJlbnQ7XG59XG5mdW5jdGlvbiBub3JtYWxpemVJbmNvbWluZ0FycmF5KG5vcm1hbGl6ZWQsIGFycmF5LCBjdXJyZW50LCB1bndyYXApIHtcbiAgbGV0IGR5bmFtaWMgPSBmYWxzZTtcbiAgZm9yIChsZXQgaSA9IDAsIGxlbiA9IGFycmF5Lmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgbGV0IGl0ZW0gPSBhcnJheVtpXSxcbiAgICAgIHByZXYgPSBjdXJyZW50ICYmIGN1cnJlbnRbaV07XG4gICAgaWYgKGl0ZW0gaW5zdGFuY2VvZiBOb2RlKSB7XG4gICAgICBub3JtYWxpemVkLnB1c2goaXRlbSk7XG4gICAgfSBlbHNlIGlmIChpdGVtID09IG51bGwgfHwgaXRlbSA9PT0gdHJ1ZSB8fCBpdGVtID09PSBmYWxzZSkgOyBlbHNlIGlmIChBcnJheS5pc0FycmF5KGl0ZW0pKSB7XG4gICAgICBkeW5hbWljID0gbm9ybWFsaXplSW5jb21pbmdBcnJheShub3JtYWxpemVkLCBpdGVtLCBwcmV2KSB8fCBkeW5hbWljO1xuICAgIH0gZWxzZSBpZiAoKHR5cGVvZiBpdGVtKSA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICBpZiAodW53cmFwKSB7XG4gICAgICAgIHdoaWxlICh0eXBlb2YgaXRlbSA9PT0gXCJmdW5jdGlvblwiKSBpdGVtID0gaXRlbSgpO1xuICAgICAgICBkeW5hbWljID0gbm9ybWFsaXplSW5jb21pbmdBcnJheShub3JtYWxpemVkLCBBcnJheS5pc0FycmF5KGl0ZW0pID8gaXRlbSA6IFtpdGVtXSwgQXJyYXkuaXNBcnJheShwcmV2KSA/IHByZXYgOiBbcHJldl0pIHx8IGR5bmFtaWM7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBub3JtYWxpemVkLnB1c2goaXRlbSk7XG4gICAgICAgIGR5bmFtaWMgPSB0cnVlO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCB2YWx1ZSA9IFN0cmluZyhpdGVtKTtcbiAgICAgIGlmIChwcmV2ICYmIHByZXYubm9kZVR5cGUgPT09IDMgJiYgcHJldi5kYXRhID09PSB2YWx1ZSkge1xuICAgICAgICBub3JtYWxpemVkLnB1c2gocHJldik7XG4gICAgICB9IGVsc2Ugbm9ybWFsaXplZC5wdXNoKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKHZhbHVlKSk7XG4gICAgfVxuICB9XG4gIHJldHVybiBkeW5hbWljO1xufVxuZnVuY3Rpb24gYXBwZW5kTm9kZXMocGFyZW50LCBhcnJheSwgbWFya2VyID0gbnVsbCkge1xuICBmb3IgKGxldCBpID0gMCwgbGVuID0gYXJyYXkubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHBhcmVudC5pbnNlcnRCZWZvcmUoYXJyYXlbaV0sIG1hcmtlcik7XG59XG5mdW5jdGlvbiBjbGVhbkNoaWxkcmVuKHBhcmVudCwgY3VycmVudCwgbWFya2VyLCByZXBsYWNlbWVudCkge1xuICBpZiAobWFya2VyID09PSB1bmRlZmluZWQpIHJldHVybiBwYXJlbnQudGV4dENvbnRlbnQgPSBcIlwiO1xuICBjb25zdCBub2RlID0gcmVwbGFjZW1lbnQgfHwgZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoXCJcIik7XG4gIGlmIChjdXJyZW50Lmxlbmd0aCkge1xuICAgIGxldCBpbnNlcnRlZCA9IGZhbHNlO1xuICAgIGZvciAobGV0IGkgPSBjdXJyZW50Lmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICBjb25zdCBlbCA9IGN1cnJlbnRbaV07XG4gICAgICBpZiAobm9kZSAhPT0gZWwpIHtcbiAgICAgICAgY29uc3QgaXNQYXJlbnQgPSBlbC5wYXJlbnROb2RlID09PSBwYXJlbnQ7XG4gICAgICAgIGlmICghaW5zZXJ0ZWQgJiYgIWkpIGlzUGFyZW50ID8gcGFyZW50LnJlcGxhY2VDaGlsZChub2RlLCBlbCkgOiBwYXJlbnQuaW5zZXJ0QmVmb3JlKG5vZGUsIG1hcmtlcik7ZWxzZSBpc1BhcmVudCAmJiBlbC5yZW1vdmUoKTtcbiAgICAgIH0gZWxzZSBpbnNlcnRlZCA9IHRydWU7XG4gICAgfVxuICB9IGVsc2UgcGFyZW50Lmluc2VydEJlZm9yZShub2RlLCBtYXJrZXIpO1xuICByZXR1cm4gW25vZGVdO1xufVxuZnVuY3Rpb24gZ2F0aGVySHlkcmF0YWJsZShlbGVtZW50LCByb290KSB7XG4gIGNvbnN0IHRlbXBsYXRlcyA9IGVsZW1lbnQucXVlcnlTZWxlY3RvckFsbChgKltkYXRhLWhrXWApO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IHRlbXBsYXRlcy5sZW5ndGg7IGkrKykge1xuICAgIGNvbnN0IG5vZGUgPSB0ZW1wbGF0ZXNbaV07XG4gICAgY29uc3Qga2V5ID0gbm9kZS5nZXRBdHRyaWJ1dGUoXCJkYXRhLWhrXCIpO1xuICAgIGlmICgoIXJvb3QgfHwga2V5LnN0YXJ0c1dpdGgocm9vdCkpICYmICFzaGFyZWRDb25maWcucmVnaXN0cnkuaGFzKGtleSkpIHNoYXJlZENvbmZpZy5yZWdpc3RyeS5zZXQoa2V5LCBub2RlKTtcbiAgfVxufVxuZnVuY3Rpb24gZ2V0SHlkcmF0aW9uS2V5KCkge1xuICBjb25zdCBoeWRyYXRlID0gc2hhcmVkQ29uZmlnLmNvbnRleHQ7XG4gIHJldHVybiBgJHtoeWRyYXRlLmlkfSR7aHlkcmF0ZS5jb3VudCsrfWA7XG59XG5mdW5jdGlvbiBOb0h5ZHJhdGlvbihwcm9wcykge1xuICByZXR1cm4gc2hhcmVkQ29uZmlnLmNvbnRleHQgPyB1bmRlZmluZWQgOiBwcm9wcy5jaGlsZHJlbjtcbn1cbmZ1bmN0aW9uIEh5ZHJhdGlvbihwcm9wcykge1xuICByZXR1cm4gcHJvcHMuY2hpbGRyZW47XG59XG5mdW5jdGlvbiB2b2lkRm4oKSB7fVxuXG5mdW5jdGlvbiB0aHJvd0luQnJvd3NlcihmdW5jKSB7XG4gIGNvbnN0IGVyciA9IG5ldyBFcnJvcihgJHtmdW5jLm5hbWV9IGlzIG5vdCBzdXBwb3J0ZWQgaW4gdGhlIGJyb3dzZXIsIHJldHVybmluZyB1bmRlZmluZWRgKTtcbiAgY29uc29sZS5lcnJvcihlcnIpO1xufVxuZnVuY3Rpb24gcmVuZGVyVG9TdHJpbmcoZm4sIG9wdGlvbnMpIHtcbiAgdGhyb3dJbkJyb3dzZXIocmVuZGVyVG9TdHJpbmcpO1xufVxuZnVuY3Rpb24gcmVuZGVyVG9TdHJpbmdBc3luYyhmbiwgb3B0aW9ucykge1xuICB0aHJvd0luQnJvd3NlcihyZW5kZXJUb1N0cmluZ0FzeW5jKTtcbn1cbmZ1bmN0aW9uIHJlbmRlclRvU3RyZWFtKGZuLCBvcHRpb25zKSB7XG4gIHRocm93SW5Ccm93c2VyKHJlbmRlclRvU3RyZWFtKTtcbn1cbmZ1bmN0aW9uIHNzcih0ZW1wbGF0ZSwgLi4ubm9kZXMpIHt9XG5mdW5jdGlvbiBzc3JFbGVtZW50KG5hbWUsIHByb3BzLCBjaGlsZHJlbiwgbmVlZHNJZCkge31cbmZ1bmN0aW9uIHNzckNsYXNzTGlzdCh2YWx1ZSkge31cbmZ1bmN0aW9uIHNzclN0eWxlKHZhbHVlKSB7fVxuZnVuY3Rpb24gc3NyQXR0cmlidXRlKGtleSwgdmFsdWUpIHt9XG5mdW5jdGlvbiBzc3JIeWRyYXRpb25LZXkoKSB7fVxuZnVuY3Rpb24gcmVzb2x2ZVNTUk5vZGUobm9kZSkge31cbmZ1bmN0aW9uIGVzY2FwZShodG1sKSB7fVxuZnVuY3Rpb24gc3NyU3ByZWFkKHByb3BzLCBpc1NWRywgc2tpcENoaWxkcmVuKSB7fVxuXG5jb25zdCBpc1NlcnZlciA9IGZhbHNlO1xuY29uc3QgU1ZHX05BTUVTUEFDRSA9IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIjtcbmZ1bmN0aW9uIGNyZWF0ZUVsZW1lbnQodGFnTmFtZSwgaXNTVkcgPSBmYWxzZSkge1xuICByZXR1cm4gaXNTVkcgPyBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoU1ZHX05BTUVTUEFDRSwgdGFnTmFtZSkgOiBkb2N1bWVudC5jcmVhdGVFbGVtZW50KHRhZ05hbWUpO1xufVxuY29uc3QgaHlkcmF0ZSA9ICguLi5hcmdzKSA9PiB7XG4gIGVuYWJsZUh5ZHJhdGlvbigpO1xuICByZXR1cm4gaHlkcmF0ZSQxKC4uLmFyZ3MpO1xufTtcbmZ1bmN0aW9uIFBvcnRhbChwcm9wcykge1xuICBjb25zdCB7XG4gICAgICB1c2VTaGFkb3dcbiAgICB9ID0gcHJvcHMsXG4gICAgbWFya2VyID0gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoXCJcIiksXG4gICAgbW91bnQgPSBwcm9wcy5tb3VudCB8fCBkb2N1bWVudC5ib2R5O1xuICBmdW5jdGlvbiByZW5kZXJQb3J0YWwoKSB7XG4gICAgaWYgKHNoYXJlZENvbmZpZy5jb250ZXh0KSB7XG4gICAgICBjb25zdCBbcywgc2V0XSA9IGNyZWF0ZVNpZ25hbChmYWxzZSk7XG4gICAgICBxdWV1ZU1pY3JvdGFzaygoKSA9PiBzZXQodHJ1ZSkpO1xuICAgICAgcmV0dXJuICgpID0+IHMoKSAmJiBwcm9wcy5jaGlsZHJlbjtcbiAgICB9IGVsc2UgcmV0dXJuICgpID0+IHByb3BzLmNoaWxkcmVuO1xuICB9XG4gIGlmIChtb3VudCBpbnN0YW5jZW9mIEhUTUxIZWFkRWxlbWVudCkge1xuICAgIGNvbnN0IFtjbGVhbiwgc2V0Q2xlYW5dID0gY3JlYXRlU2lnbmFsKGZhbHNlKTtcbiAgICBjb25zdCBjbGVhbnVwID0gKCkgPT4gc2V0Q2xlYW4odHJ1ZSk7XG4gICAgY3JlYXRlUm9vdChkaXNwb3NlID0+IGluc2VydChtb3VudCwgKCkgPT4gIWNsZWFuKCkgPyByZW5kZXJQb3J0YWwoKSgpIDogZGlzcG9zZSgpLCBudWxsKSk7XG4gICAgb25DbGVhbnVwKCgpID0+IHtcbiAgICAgIGlmIChzaGFyZWRDb25maWcuY29udGV4dCkgcXVldWVNaWNyb3Rhc2soY2xlYW51cCk7ZWxzZSBjbGVhbnVwKCk7XG4gICAgfSk7XG4gIH0gZWxzZSB7XG4gICAgY29uc3QgY29udGFpbmVyID0gY3JlYXRlRWxlbWVudChwcm9wcy5pc1NWRyA/IFwiZ1wiIDogXCJkaXZcIiwgcHJvcHMuaXNTVkcpLFxuICAgICAgcmVuZGVyUm9vdCA9IHVzZVNoYWRvdyAmJiBjb250YWluZXIuYXR0YWNoU2hhZG93ID8gY29udGFpbmVyLmF0dGFjaFNoYWRvdyh7XG4gICAgICAgIG1vZGU6IFwib3BlblwiXG4gICAgICB9KSA6IGNvbnRhaW5lcjtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoY29udGFpbmVyLCBcIl8kaG9zdFwiLCB7XG4gICAgICBnZXQoKSB7XG4gICAgICAgIHJldHVybiBtYXJrZXIucGFyZW50Tm9kZTtcbiAgICAgIH0sXG4gICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBpbnNlcnQocmVuZGVyUm9vdCwgcmVuZGVyUG9ydGFsKCkpO1xuICAgIG1vdW50LmFwcGVuZENoaWxkKGNvbnRhaW5lcik7XG4gICAgcHJvcHMucmVmICYmIHByb3BzLnJlZihjb250YWluZXIpO1xuICAgIG9uQ2xlYW51cCgoKSA9PiBtb3VudC5yZW1vdmVDaGlsZChjb250YWluZXIpKTtcbiAgfVxuICByZXR1cm4gbWFya2VyO1xufVxuZnVuY3Rpb24gRHluYW1pYyhwcm9wcykge1xuICBjb25zdCBbcCwgb3RoZXJzXSA9IHNwbGl0UHJvcHMocHJvcHMsIFtcImNvbXBvbmVudFwiXSk7XG4gIGNvbnN0IGNhY2hlZCA9IGNyZWF0ZU1lbW8oKCkgPT4gcC5jb21wb25lbnQpO1xuICByZXR1cm4gY3JlYXRlTWVtbygoKSA9PiB7XG4gICAgY29uc3QgY29tcG9uZW50ID0gY2FjaGVkKCk7XG4gICAgc3dpdGNoICh0eXBlb2YgY29tcG9uZW50KSB7XG4gICAgICBjYXNlIFwiZnVuY3Rpb25cIjpcbiAgICAgICAgcmV0dXJuIHVudHJhY2soKCkgPT4gY29tcG9uZW50KG90aGVycykpO1xuICAgICAgY2FzZSBcInN0cmluZ1wiOlxuICAgICAgICBjb25zdCBpc1N2ZyA9IFNWR0VsZW1lbnRzLmhhcyhjb21wb25lbnQpO1xuICAgICAgICBjb25zdCBlbCA9IHNoYXJlZENvbmZpZy5jb250ZXh0ID8gZ2V0TmV4dEVsZW1lbnQoKSA6IGNyZWF0ZUVsZW1lbnQoY29tcG9uZW50LCBpc1N2Zyk7XG4gICAgICAgIHNwcmVhZChlbCwgb3RoZXJzLCBpc1N2Zyk7XG4gICAgICAgIHJldHVybiBlbDtcbiAgICB9XG4gIH0pO1xufVxuXG5leHBvcnQgeyBBbGlhc2VzLCB2b2lkRm4gYXMgQXNzZXRzLCBDaGlsZFByb3BlcnRpZXMsIERPTUVsZW1lbnRzLCBEZWxlZ2F0ZWRFdmVudHMsIER5bmFtaWMsIEh5ZHJhdGlvbiwgdm9pZEZuIGFzIEh5ZHJhdGlvblNjcmlwdCwgTm9IeWRyYXRpb24sIFBvcnRhbCwgUHJvcEFsaWFzZXMsIFByb3BlcnRpZXMsIFNWR0VsZW1lbnRzLCBTVkdOYW1lc3BhY2UsIGFkZEV2ZW50TGlzdGVuZXIsIGFzc2lnbiwgY2xhc3NMaXN0LCBjbGFzc05hbWUsIGNsZWFyRGVsZWdhdGVkRXZlbnRzLCBkZWxlZ2F0ZUV2ZW50cywgZHluYW1pY1Byb3BlcnR5LCBlc2NhcGUsIHZvaWRGbiBhcyBnZW5lcmF0ZUh5ZHJhdGlvblNjcmlwdCwgdm9pZEZuIGFzIGdldEFzc2V0cywgZ2V0SHlkcmF0aW9uS2V5LCBnZXROZXh0RWxlbWVudCwgZ2V0TmV4dE1hcmtlciwgZ2V0TmV4dE1hdGNoLCBoeWRyYXRlLCBpbm5lckhUTUwsIGluc2VydCwgaXNTZXJ2ZXIsIHJlbmRlciwgcmVuZGVyVG9TdHJlYW0sIHJlbmRlclRvU3RyaW5nLCByZW5kZXJUb1N0cmluZ0FzeW5jLCByZXNvbHZlU1NSTm9kZSwgcnVuSHlkcmF0aW9uRXZlbnRzLCBzZXRBdHRyaWJ1dGUsIHNldEF0dHJpYnV0ZU5TLCBzcHJlYWQsIHNzciwgc3NyQXR0cmlidXRlLCBzc3JDbGFzc0xpc3QsIHNzckVsZW1lbnQsIHNzckh5ZHJhdGlvbktleSwgc3NyU3ByZWFkLCBzc3JTdHlsZSwgc3R5bGUsIHRlbXBsYXRlLCB1c2UsIHZvaWRGbiBhcyB1c2VBc3NldHMgfTtcbiIsImltcG9ydCB7IGNyZWF0ZVNpZ25hbCwgb25DbGVhbnVwIH0gZnJvbSBcInNvbGlkLWpzXCI7XG5mdW5jdGlvbiBiaW5kRXZlbnQodGFyZ2V0LCB0eXBlLCBoYW5kbGVyKSB7XG4gICAgdGFyZ2V0LmFkZEV2ZW50TGlzdGVuZXIodHlwZSwgaGFuZGxlcik7XG4gICAgcmV0dXJuICgpID0+IHRhcmdldC5yZW1vdmVFdmVudExpc3RlbmVyKHR5cGUsIGhhbmRsZXIpO1xufVxuZnVuY3Rpb24gaW50ZXJjZXB0KFt2YWx1ZSwgc2V0VmFsdWVdLCBnZXQsIHNldCkge1xuICAgIHJldHVybiBbZ2V0ID8gKCkgPT4gZ2V0KHZhbHVlKCkpIDogdmFsdWUsIHNldCA/ICh2KSA9PiBzZXRWYWx1ZShzZXQodikpIDogc2V0VmFsdWVdO1xufVxuZnVuY3Rpb24gcXVlcnlTZWxlY3RvcihzZWxlY3Rvcikge1xuICAgIC8vIEd1YXJkIGFnYWluc3Qgc2VsZWN0b3IgYmVpbmcgYW4gaW52YWxpZCBDU1Mgc2VsZWN0b3JcbiAgICB0cnkge1xuICAgICAgICByZXR1cm4gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihzZWxlY3Rvcik7XG4gICAgfVxuICAgIGNhdGNoIChlKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbn1cbmZ1bmN0aW9uIHNjcm9sbFRvSGFzaChoYXNoLCBmYWxsYmFja1RvcCkge1xuICAgIGNvbnN0IGVsID0gcXVlcnlTZWxlY3RvcihgIyR7aGFzaH1gKTtcbiAgICBpZiAoZWwpIHtcbiAgICAgICAgZWwuc2Nyb2xsSW50b1ZpZXcoKTtcbiAgICB9XG4gICAgZWxzZSBpZiAoZmFsbGJhY2tUb3ApIHtcbiAgICAgICAgd2luZG93LnNjcm9sbFRvKDAsIDApO1xuICAgIH1cbn1cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVJbnRlZ3JhdGlvbihnZXQsIHNldCwgaW5pdCwgdXRpbHMpIHtcbiAgICBsZXQgaWdub3JlID0gZmFsc2U7XG4gICAgY29uc3Qgd3JhcCA9ICh2YWx1ZSkgPT4gKHR5cGVvZiB2YWx1ZSA9PT0gXCJzdHJpbmdcIiA/IHsgdmFsdWUgfSA6IHZhbHVlKTtcbiAgICBjb25zdCBzaWduYWwgPSBpbnRlcmNlcHQoY3JlYXRlU2lnbmFsKHdyYXAoZ2V0KCkpLCB7IGVxdWFsczogKGEsIGIpID0+IGEudmFsdWUgPT09IGIudmFsdWUgfSksIHVuZGVmaW5lZCwgbmV4dCA9PiB7XG4gICAgICAgICFpZ25vcmUgJiYgc2V0KG5leHQpO1xuICAgICAgICByZXR1cm4gbmV4dDtcbiAgICB9KTtcbiAgICBpbml0ICYmXG4gICAgICAgIG9uQ2xlYW51cChpbml0KCh2YWx1ZSA9IGdldCgpKSA9PiB7XG4gICAgICAgICAgICBpZ25vcmUgPSB0cnVlO1xuICAgICAgICAgICAgc2lnbmFsWzFdKHdyYXAodmFsdWUpKTtcbiAgICAgICAgICAgIGlnbm9yZSA9IGZhbHNlO1xuICAgICAgICB9KSk7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgc2lnbmFsLFxuICAgICAgICB1dGlsc1xuICAgIH07XG59XG5leHBvcnQgZnVuY3Rpb24gbm9ybWFsaXplSW50ZWdyYXRpb24oaW50ZWdyYXRpb24pIHtcbiAgICBpZiAoIWludGVncmF0aW9uKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBzaWduYWw6IGNyZWF0ZVNpZ25hbCh7IHZhbHVlOiBcIlwiIH0pXG4gICAgICAgIH07XG4gICAgfVxuICAgIGVsc2UgaWYgKEFycmF5LmlzQXJyYXkoaW50ZWdyYXRpb24pKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBzaWduYWw6IGludGVncmF0aW9uXG4gICAgICAgIH07XG4gICAgfVxuICAgIHJldHVybiBpbnRlZ3JhdGlvbjtcbn1cbmV4cG9ydCBmdW5jdGlvbiBzdGF0aWNJbnRlZ3JhdGlvbihvYmopIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBzaWduYWw6IFsoKSA9PiBvYmosIG5leHQgPT4gT2JqZWN0LmFzc2lnbihvYmosIG5leHQpXVxuICAgIH07XG59XG5leHBvcnQgZnVuY3Rpb24gcGF0aEludGVncmF0aW9uKCkge1xuICAgIHJldHVybiBjcmVhdGVJbnRlZ3JhdGlvbigoKSA9PiAoe1xuICAgICAgICB2YWx1ZTogd2luZG93LmxvY2F0aW9uLnBhdGhuYW1lICsgd2luZG93LmxvY2F0aW9uLnNlYXJjaCArIHdpbmRvdy5sb2NhdGlvbi5oYXNoLFxuICAgICAgICBzdGF0ZTogaGlzdG9yeS5zdGF0ZVxuICAgIH0pLCAoeyB2YWx1ZSwgcmVwbGFjZSwgc2Nyb2xsLCBzdGF0ZSB9KSA9PiB7XG4gICAgICAgIGlmIChyZXBsYWNlKSB7XG4gICAgICAgICAgICB3aW5kb3cuaGlzdG9yeS5yZXBsYWNlU3RhdGUoc3RhdGUsIFwiXCIsIHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHdpbmRvdy5oaXN0b3J5LnB1c2hTdGF0ZShzdGF0ZSwgXCJcIiwgdmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIHNjcm9sbFRvSGFzaCh3aW5kb3cubG9jYXRpb24uaGFzaC5zbGljZSgxKSwgc2Nyb2xsKTtcbiAgICB9LCBub3RpZnkgPT4gYmluZEV2ZW50KHdpbmRvdywgXCJwb3BzdGF0ZVwiLCAoKSA9PiBub3RpZnkoKSksIHtcbiAgICAgICAgZ286IGRlbHRhID0+IHdpbmRvdy5oaXN0b3J5LmdvKGRlbHRhKVxuICAgIH0pO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGhhc2hJbnRlZ3JhdGlvbigpIHtcbiAgICByZXR1cm4gY3JlYXRlSW50ZWdyYXRpb24oKCkgPT4gd2luZG93LmxvY2F0aW9uLmhhc2guc2xpY2UoMSksICh7IHZhbHVlLCByZXBsYWNlLCBzY3JvbGwsIHN0YXRlIH0pID0+IHtcbiAgICAgICAgaWYgKHJlcGxhY2UpIHtcbiAgICAgICAgICAgIHdpbmRvdy5oaXN0b3J5LnJlcGxhY2VTdGF0ZShzdGF0ZSwgXCJcIiwgXCIjXCIgKyB2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB3aW5kb3cubG9jYXRpb24uaGFzaCA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGhhc2hJbmRleCA9IHZhbHVlLmluZGV4T2YoXCIjXCIpO1xuICAgICAgICBjb25zdCBoYXNoID0gaGFzaEluZGV4ID49IDAgPyB2YWx1ZS5zbGljZShoYXNoSW5kZXggKyAxKSA6IFwiXCI7XG4gICAgICAgIHNjcm9sbFRvSGFzaChoYXNoLCBzY3JvbGwpO1xuICAgIH0sIG5vdGlmeSA9PiBiaW5kRXZlbnQod2luZG93LCBcImhhc2hjaGFuZ2VcIiwgKCkgPT4gbm90aWZ5KCkpLCB7XG4gICAgICAgIGdvOiBkZWx0YSA9PiB3aW5kb3cuaGlzdG9yeS5nbyhkZWx0YSksXG4gICAgICAgIHJlbmRlclBhdGg6IHBhdGggPT4gYCMke3BhdGh9YCxcbiAgICAgICAgcGFyc2VQYXRoOiBzdHIgPT4ge1xuICAgICAgICAgICAgY29uc3QgdG8gPSBzdHIucmVwbGFjZSgvXi4qPyMvLCBcIlwiKTtcbiAgICAgICAgICAgIC8vIEhhc2gtb25seSBocmVmcyBsaWtlIGAjZm9vYCBmcm9tIHBsYWluIGFuY2hvcnMgd2lsbCBjb21lIGluIGFzIGAvI2Zvb2Agd2hlcmVhcyBhIGxpbmsgdG9cbiAgICAgICAgICAgIC8vIGAvZm9vYCB3aWxsIGJlIGAvIy9mb29gLiBDaGVjayBpZiB0aGUgdG8gc3RhcnRzIHdpdGggYSBgL2AgYW5kIGlmIG5vdCBhcHBlbmQgaXQgYXMgYSBoYXNoXG4gICAgICAgICAgICAvLyB0byB0aGUgY3VycmVudCBwYXRoIHNvIHdlIGNhbiBoYW5kbGUgdGhlc2UgaW4tcGFnZSBhbmNob3JzIGNvcnJlY3RseS5cbiAgICAgICAgICAgIGlmICghdG8uc3RhcnRzV2l0aChcIi9cIikpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBbLCBwYXRoID0gXCIvXCJdID0gd2luZG93LmxvY2F0aW9uLmhhc2guc3BsaXQoXCIjXCIsIDIpO1xuICAgICAgICAgICAgICAgIHJldHVybiBgJHtwYXRofSMke3RvfWA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdG87XG4gICAgICAgIH1cbiAgICB9KTtcbn1cbiIsImV4cG9ydCBmdW5jdGlvbiBjcmVhdGVCZWZvcmVMZWF2ZSgpIHtcbiAgICBsZXQgbGlzdGVuZXJzID0gbmV3IFNldCgpO1xuICAgIGZ1bmN0aW9uIHN1YnNjcmliZShsaXN0ZW5lcikge1xuICAgICAgICBsaXN0ZW5lcnMuYWRkKGxpc3RlbmVyKTtcbiAgICAgICAgcmV0dXJuICgpID0+IGxpc3RlbmVycy5kZWxldGUobGlzdGVuZXIpO1xuICAgIH1cbiAgICBsZXQgaWdub3JlID0gZmFsc2U7XG4gICAgZnVuY3Rpb24gY29uZmlybSh0bywgb3B0aW9ucykge1xuICAgICAgICBpZiAoaWdub3JlKVxuICAgICAgICAgICAgcmV0dXJuICEoaWdub3JlID0gZmFsc2UpO1xuICAgICAgICBjb25zdCBlID0ge1xuICAgICAgICAgICAgdG8sXG4gICAgICAgICAgICBvcHRpb25zLFxuICAgICAgICAgICAgZGVmYXVsdFByZXZlbnRlZDogZmFsc2UsXG4gICAgICAgICAgICBwcmV2ZW50RGVmYXVsdDogKCkgPT4gKGUuZGVmYXVsdFByZXZlbnRlZCA9IHRydWUpXG4gICAgICAgIH07XG4gICAgICAgIGZvciAoY29uc3QgbCBvZiBsaXN0ZW5lcnMpXG4gICAgICAgICAgICBsLmxpc3RlbmVyKHtcbiAgICAgICAgICAgICAgICAuLi5lLFxuICAgICAgICAgICAgICAgIGZyb206IGwubG9jYXRpb24sXG4gICAgICAgICAgICAgICAgcmV0cnk6IChmb3JjZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBmb3JjZSAmJiAoaWdub3JlID0gdHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgIGwubmF2aWdhdGUodG8sIG9wdGlvbnMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gIWUuZGVmYXVsdFByZXZlbnRlZDtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgICAgc3Vic2NyaWJlLFxuICAgICAgICBjb25maXJtXG4gICAgfTtcbn1cbiIsImltcG9ydCB7IGNyZWF0ZU1lbW8sIGdldE93bmVyLCBydW5XaXRoT3duZXIgfSBmcm9tIFwic29saWQtanNcIjtcbmNvbnN0IGhhc1NjaGVtZVJlZ2V4ID0gL14oPzpbYS16MC05XSs6KT9cXC9cXC8vaTtcbmNvbnN0IHRyaW1QYXRoUmVnZXggPSAvXlxcLyt8XFwvKyQvZztcbmV4cG9ydCBmdW5jdGlvbiBub3JtYWxpemVQYXRoKHBhdGgsIG9taXRTbGFzaCA9IGZhbHNlKSB7XG4gICAgY29uc3QgcyA9IHBhdGgucmVwbGFjZSh0cmltUGF0aFJlZ2V4LCBcIlwiKTtcbiAgICByZXR1cm4gcyA/IChvbWl0U2xhc2ggfHwgL15bPyNdLy50ZXN0KHMpID8gcyA6IFwiL1wiICsgcykgOiBcIlwiO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHJlc29sdmVQYXRoKGJhc2UsIHBhdGgsIGZyb20pIHtcbiAgICBpZiAoaGFzU2NoZW1lUmVnZXgudGVzdChwYXRoKSkge1xuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cbiAgICBjb25zdCBiYXNlUGF0aCA9IG5vcm1hbGl6ZVBhdGgoYmFzZSk7XG4gICAgY29uc3QgZnJvbVBhdGggPSBmcm9tICYmIG5vcm1hbGl6ZVBhdGgoZnJvbSk7XG4gICAgbGV0IHJlc3VsdCA9IFwiXCI7XG4gICAgaWYgKCFmcm9tUGF0aCB8fCBwYXRoLnN0YXJ0c1dpdGgoXCIvXCIpKSB7XG4gICAgICAgIHJlc3VsdCA9IGJhc2VQYXRoO1xuICAgIH1cbiAgICBlbHNlIGlmIChmcm9tUGF0aC50b0xvd2VyQ2FzZSgpLmluZGV4T2YoYmFzZVBhdGgudG9Mb3dlckNhc2UoKSkgIT09IDApIHtcbiAgICAgICAgcmVzdWx0ID0gYmFzZVBhdGggKyBmcm9tUGF0aDtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJlc3VsdCA9IGZyb21QYXRoO1xuICAgIH1cbiAgICByZXR1cm4gKHJlc3VsdCB8fCBcIi9cIikgKyBub3JtYWxpemVQYXRoKHBhdGgsICFyZXN1bHQpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGludmFyaWFudCh2YWx1ZSwgbWVzc2FnZSkge1xuICAgIGlmICh2YWx1ZSA9PSBudWxsKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihtZXNzYWdlKTtcbiAgICB9XG4gICAgcmV0dXJuIHZhbHVlO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGpvaW5QYXRocyhmcm9tLCB0bykge1xuICAgIHJldHVybiBub3JtYWxpemVQYXRoKGZyb20pLnJlcGxhY2UoL1xcLyooXFwqLiopPyQvZywgXCJcIikgKyBub3JtYWxpemVQYXRoKHRvKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBleHRyYWN0U2VhcmNoUGFyYW1zKHVybCkge1xuICAgIGNvbnN0IHBhcmFtcyA9IHt9O1xuICAgIHVybC5zZWFyY2hQYXJhbXMuZm9yRWFjaCgodmFsdWUsIGtleSkgPT4ge1xuICAgICAgICBwYXJhbXNba2V5XSA9IHZhbHVlO1xuICAgIH0pO1xuICAgIHJldHVybiBwYXJhbXM7XG59XG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlTWF0Y2hlcihwYXRoLCBwYXJ0aWFsKSB7XG4gICAgY29uc3QgW3BhdHRlcm4sIHNwbGF0XSA9IHBhdGguc3BsaXQoXCIvKlwiLCAyKTtcbiAgICBjb25zdCBzZWdtZW50cyA9IHBhdHRlcm4uc3BsaXQoXCIvXCIpLmZpbHRlcihCb29sZWFuKTtcbiAgICBjb25zdCBsZW4gPSBzZWdtZW50cy5sZW5ndGg7XG4gICAgcmV0dXJuIChsb2NhdGlvbikgPT4ge1xuICAgICAgICBjb25zdCBsb2NTZWdtZW50cyA9IGxvY2F0aW9uLnNwbGl0KFwiL1wiKS5maWx0ZXIoQm9vbGVhbik7XG4gICAgICAgIGNvbnN0IGxlbkRpZmYgPSBsb2NTZWdtZW50cy5sZW5ndGggLSBsZW47XG4gICAgICAgIGlmIChsZW5EaWZmIDwgMCB8fCAobGVuRGlmZiA+IDAgJiYgc3BsYXQgPT09IHVuZGVmaW5lZCAmJiAhcGFydGlhbCkpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IG1hdGNoID0ge1xuICAgICAgICAgICAgcGF0aDogbGVuID8gXCJcIiA6IFwiL1wiLFxuICAgICAgICAgICAgcGFyYW1zOiB7fVxuICAgICAgICB9O1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBzZWdtZW50ID0gc2VnbWVudHNbaV07XG4gICAgICAgICAgICBjb25zdCBsb2NTZWdtZW50ID0gbG9jU2VnbWVudHNbaV07XG4gICAgICAgICAgICBpZiAoc2VnbWVudFswXSA9PT0gXCI6XCIpIHtcbiAgICAgICAgICAgICAgICBtYXRjaC5wYXJhbXNbc2VnbWVudC5zbGljZSgxKV0gPSBsb2NTZWdtZW50O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoc2VnbWVudC5sb2NhbGVDb21wYXJlKGxvY1NlZ21lbnQsIHVuZGVmaW5lZCwgeyBzZW5zaXRpdml0eTogXCJiYXNlXCIgfSkgIT09IDApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG1hdGNoLnBhdGggKz0gYC8ke2xvY1NlZ21lbnR9YDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc3BsYXQpIHtcbiAgICAgICAgICAgIG1hdGNoLnBhcmFtc1tzcGxhdF0gPSBsZW5EaWZmID8gbG9jU2VnbWVudHMuc2xpY2UoLWxlbkRpZmYpLmpvaW4oXCIvXCIpIDogXCJcIjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWF0Y2g7XG4gICAgfTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBzY29yZVJvdXRlKHJvdXRlKSB7XG4gICAgY29uc3QgW3BhdHRlcm4sIHNwbGF0XSA9IHJvdXRlLnBhdHRlcm4uc3BsaXQoXCIvKlwiLCAyKTtcbiAgICBjb25zdCBzZWdtZW50cyA9IHBhdHRlcm4uc3BsaXQoXCIvXCIpLmZpbHRlcihCb29sZWFuKTtcbiAgICByZXR1cm4gc2VnbWVudHMucmVkdWNlKChzY29yZSwgc2VnbWVudCkgPT4gc2NvcmUgKyAoc2VnbWVudC5zdGFydHNXaXRoKFwiOlwiKSA/IDIgOiAzKSwgc2VnbWVudHMubGVuZ3RoIC0gKHNwbGF0ID09PSB1bmRlZmluZWQgPyAwIDogMSkpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZU1lbW9PYmplY3QoZm4pIHtcbiAgICBjb25zdCBtYXAgPSBuZXcgTWFwKCk7XG4gICAgY29uc3Qgb3duZXIgPSBnZXRPd25lcigpO1xuICAgIHJldHVybiBuZXcgUHJveHkoe30sIHtcbiAgICAgICAgZ2V0KF8sIHByb3BlcnR5KSB7XG4gICAgICAgICAgICBpZiAoIW1hcC5oYXMocHJvcGVydHkpKSB7XG4gICAgICAgICAgICAgICAgcnVuV2l0aE93bmVyKG93bmVyLCAoKSA9PiBtYXAuc2V0KHByb3BlcnR5LCBjcmVhdGVNZW1vKCgpID0+IGZuKClbcHJvcGVydHldKSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIG1hcC5nZXQocHJvcGVydHkpKCk7XG4gICAgICAgIH0sXG4gICAgICAgIGdldE93blByb3BlcnR5RGVzY3JpcHRvcigpIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0sXG4gICAgICAgIG93bktleXMoKSB7XG4gICAgICAgICAgICByZXR1cm4gUmVmbGVjdC5vd25LZXlzKGZuKCkpO1xuICAgICAgICB9XG4gICAgfSk7XG59XG5leHBvcnQgZnVuY3Rpb24gbWVyZ2VTZWFyY2hTdHJpbmcoc2VhcmNoLCBwYXJhbXMpIHtcbiAgICBjb25zdCBtZXJnZWQgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKHNlYXJjaCk7XG4gICAgT2JqZWN0LmVudHJpZXMocGFyYW1zKS5mb3JFYWNoKChba2V5LCB2YWx1ZV0pID0+IHtcbiAgICAgICAgaWYgKHZhbHVlID09IG51bGwgfHwgdmFsdWUgPT09IFwiXCIpIHtcbiAgICAgICAgICAgIG1lcmdlZC5kZWxldGUoa2V5KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIG1lcmdlZC5zZXQoa2V5LCBTdHJpbmcodmFsdWUpKTtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIGNvbnN0IHMgPSBtZXJnZWQudG9TdHJpbmcoKTtcbiAgICByZXR1cm4gcyA/IGA/JHtzfWAgOiBcIlwiO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGV4cGFuZE9wdGlvbmFscyhwYXR0ZXJuKSB7XG4gICAgbGV0IG1hdGNoID0gLyhcXC8/XFw6W15cXC9dKylcXD8vLmV4ZWMocGF0dGVybik7XG4gICAgaWYgKCFtYXRjaClcbiAgICAgICAgcmV0dXJuIFtwYXR0ZXJuXTtcbiAgICBsZXQgcHJlZml4ID0gcGF0dGVybi5zbGljZSgwLCBtYXRjaC5pbmRleCk7XG4gICAgbGV0IHN1ZmZpeCA9IHBhdHRlcm4uc2xpY2UobWF0Y2guaW5kZXggKyBtYXRjaFswXS5sZW5ndGgpO1xuICAgIGNvbnN0IHByZWZpeGVzID0gW3ByZWZpeCwgKHByZWZpeCArPSBtYXRjaFsxXSldO1xuICAgIC8vIFRoaXMgc2VjdGlvbiBoYW5kbGVzIGFkamFjZW50IG9wdGlvbmFsIHBhcmFtcy4gV2UgZG9uJ3QgYWN0dWFsbHkgd2FudCBhbGwgcGVybXVhdGlvbnMgc2luY2VcbiAgICAvLyB0aGF0IHdpbGwgbGVhZCB0byBlcXVpdmFsZW50IHJvdXRlcyB3aGljaCBoYXZlIHRoZSBzYW1lIG51bWJlciBvZiBwYXJhbXMuIEZvciBleGFtcGxlXG4gICAgLy8gYC86YT8vOmI/LzpjYD8gb25seSBoYXMgdGhlIHVuaXF1ZSBleHBhbnNpb246IGAvYCwgYC86YWAsIGAvOmEvOmJgLCBgLzphLzpiLzpjYCBhbmQgd2UgY2FuXG4gICAgLy8gZGlzY2FyZCBgLzpiYCwgYC86Y2AsIGAvOmIvOmNgIGJ5IGJ1aWxkaW5nIHRoZW0gdXAgaW4gb3JkZXIgYW5kIG5vdCByZWN1cnNpbmcuIFRoaXMgYWxzbyBoZWxwc1xuICAgIC8vIGVuc3VyZSBwcmVkaWN0YWJpbGl0eSB3aGVyZSBlYXJsaWVyIHBhcmFtcyBoYXZlIHByZWNpZGVuY2UuXG4gICAgd2hpbGUgKChtYXRjaCA9IC9eKFxcL1xcOlteXFwvXSspXFw/Ly5leGVjKHN1ZmZpeCkpKSB7XG4gICAgICAgIHByZWZpeGVzLnB1c2goKHByZWZpeCArPSBtYXRjaFsxXSkpO1xuICAgICAgICBzdWZmaXggPSBzdWZmaXguc2xpY2UobWF0Y2hbMF0ubGVuZ3RoKTtcbiAgICB9XG4gICAgcmV0dXJuIGV4cGFuZE9wdGlvbmFscyhzdWZmaXgpLnJlZHVjZSgocmVzdWx0cywgZXhwYW5zaW9uKSA9PiBbLi4ucmVzdWx0cywgLi4ucHJlZml4ZXMubWFwKHAgPT4gcCArIGV4cGFuc2lvbildLCBbXSk7XG59XG4iLCJpbXBvcnQgeyBjcmVhdGVDb21wb25lbnQsIGNyZWF0ZUNvbnRleHQsIGNyZWF0ZU1lbW8sIGNyZWF0ZVJlbmRlckVmZmVjdCwgY3JlYXRlU2lnbmFsLCBvbiwgb25DbGVhbnVwLCB1bnRyYWNrLCB1c2VDb250ZXh0LCBzdGFydFRyYW5zaXRpb24sIHJlc2V0RXJyb3JCb3VuZGFyaWVzIH0gZnJvbSBcInNvbGlkLWpzXCI7XG5pbXBvcnQgeyBpc1NlcnZlciwgZGVsZWdhdGVFdmVudHMgfSBmcm9tIFwic29saWQtanMvd2ViXCI7XG5pbXBvcnQgeyBub3JtYWxpemVJbnRlZ3JhdGlvbiB9IGZyb20gXCIuL2ludGVncmF0aW9uXCI7XG5pbXBvcnQgeyBjcmVhdGVCZWZvcmVMZWF2ZSB9IGZyb20gXCIuL2xpZmVjeWNsZVwiO1xuaW1wb3J0IHsgY3JlYXRlTWVtb09iamVjdCwgZXh0cmFjdFNlYXJjaFBhcmFtcywgaW52YXJpYW50LCByZXNvbHZlUGF0aCwgY3JlYXRlTWF0Y2hlciwgam9pblBhdGhzLCBzY29yZVJvdXRlLCBtZXJnZVNlYXJjaFN0cmluZywgZXhwYW5kT3B0aW9uYWxzIH0gZnJvbSBcIi4vdXRpbHNcIjtcbmNvbnN0IE1BWF9SRURJUkVDVFMgPSAxMDA7XG5leHBvcnQgY29uc3QgUm91dGVyQ29udGV4dE9iaiA9IGNyZWF0ZUNvbnRleHQoKTtcbmV4cG9ydCBjb25zdCBSb3V0ZUNvbnRleHRPYmogPSBjcmVhdGVDb250ZXh0KCk7XG5leHBvcnQgY29uc3QgdXNlUm91dGVyID0gKCkgPT4gaW52YXJpYW50KHVzZUNvbnRleHQoUm91dGVyQ29udGV4dE9iaiksIFwiTWFrZSBzdXJlIHlvdXIgYXBwIGlzIHdyYXBwZWQgaW4gYSA8Um91dGVyIC8+XCIpO1xubGV0IFRlbXBSb3V0ZTtcbmV4cG9ydCBjb25zdCB1c2VSb3V0ZSA9ICgpID0+IFRlbXBSb3V0ZSB8fCB1c2VDb250ZXh0KFJvdXRlQ29udGV4dE9iaikgfHwgdXNlUm91dGVyKCkuYmFzZTtcbmV4cG9ydCBjb25zdCB1c2VSZXNvbHZlZFBhdGggPSAocGF0aCkgPT4ge1xuICAgIGNvbnN0IHJvdXRlID0gdXNlUm91dGUoKTtcbiAgICByZXR1cm4gY3JlYXRlTWVtbygoKSA9PiByb3V0ZS5yZXNvbHZlUGF0aChwYXRoKCkpKTtcbn07XG5leHBvcnQgY29uc3QgdXNlSHJlZiA9ICh0bykgPT4ge1xuICAgIGNvbnN0IHJvdXRlciA9IHVzZVJvdXRlcigpO1xuICAgIHJldHVybiBjcmVhdGVNZW1vKCgpID0+IHtcbiAgICAgICAgY29uc3QgdG9fID0gdG8oKTtcbiAgICAgICAgcmV0dXJuIHRvXyAhPT0gdW5kZWZpbmVkID8gcm91dGVyLnJlbmRlclBhdGgodG9fKSA6IHRvXztcbiAgICB9KTtcbn07XG5leHBvcnQgY29uc3QgdXNlTmF2aWdhdGUgPSAoKSA9PiB1c2VSb3V0ZXIoKS5uYXZpZ2F0b3JGYWN0b3J5KCk7XG5leHBvcnQgY29uc3QgdXNlTG9jYXRpb24gPSAoKSA9PiB1c2VSb3V0ZXIoKS5sb2NhdGlvbjtcbmV4cG9ydCBjb25zdCB1c2VJc1JvdXRpbmcgPSAoKSA9PiB1c2VSb3V0ZXIoKS5pc1JvdXRpbmc7XG5leHBvcnQgY29uc3QgdXNlTWF0Y2ggPSAocGF0aCkgPT4ge1xuICAgIGNvbnN0IGxvY2F0aW9uID0gdXNlTG9jYXRpb24oKTtcbiAgICBjb25zdCBtYXRjaGVycyA9IGNyZWF0ZU1lbW8oKCkgPT4gZXhwYW5kT3B0aW9uYWxzKHBhdGgoKSkubWFwKChwYXRoKSA9PiBjcmVhdGVNYXRjaGVyKHBhdGgpKSk7XG4gICAgcmV0dXJuIGNyZWF0ZU1lbW8oKCkgPT4ge1xuICAgICAgICBmb3IgKGNvbnN0IG1hdGNoZXIgb2YgbWF0Y2hlcnMoKSkge1xuICAgICAgICAgICAgY29uc3QgbWF0Y2ggPSBtYXRjaGVyKGxvY2F0aW9uLnBhdGhuYW1lKTtcbiAgICAgICAgICAgIGlmIChtYXRjaClcbiAgICAgICAgICAgICAgICByZXR1cm4gbWF0Y2g7XG4gICAgICAgIH1cbiAgICB9KTtcbn07XG5leHBvcnQgY29uc3QgdXNlUGFyYW1zID0gKCkgPT4gdXNlUm91dGUoKS5wYXJhbXM7XG5leHBvcnQgY29uc3QgdXNlUm91dGVEYXRhID0gKCkgPT4gdXNlUm91dGUoKS5kYXRhO1xuZXhwb3J0IGNvbnN0IHVzZVNlYXJjaFBhcmFtcyA9ICgpID0+IHtcbiAgICBjb25zdCBsb2NhdGlvbiA9IHVzZUxvY2F0aW9uKCk7XG4gICAgY29uc3QgbmF2aWdhdGUgPSB1c2VOYXZpZ2F0ZSgpO1xuICAgIGNvbnN0IHNldFNlYXJjaFBhcmFtcyA9IChwYXJhbXMsIG9wdGlvbnMpID0+IHtcbiAgICAgICAgY29uc3Qgc2VhcmNoU3RyaW5nID0gdW50cmFjaygoKSA9PiBtZXJnZVNlYXJjaFN0cmluZyhsb2NhdGlvbi5zZWFyY2gsIHBhcmFtcykpO1xuICAgICAgICBuYXZpZ2F0ZShsb2NhdGlvbi5wYXRobmFtZSArIHNlYXJjaFN0cmluZyArIGxvY2F0aW9uLmhhc2gsIHsgc2Nyb2xsOiBmYWxzZSwgcmVzb2x2ZTogZmFsc2UsIC4uLm9wdGlvbnMgfSk7XG4gICAgfTtcbiAgICByZXR1cm4gW2xvY2F0aW9uLnF1ZXJ5LCBzZXRTZWFyY2hQYXJhbXNdO1xufTtcbmV4cG9ydCBjb25zdCB1c2VCZWZvcmVMZWF2ZSA9IChsaXN0ZW5lcikgPT4ge1xuICAgIGNvbnN0IHMgPSB1c2VSb3V0ZXIoKS5iZWZvcmVMZWF2ZS5zdWJzY3JpYmUoeyBsaXN0ZW5lciwgbG9jYXRpb246IHVzZUxvY2F0aW9uKCksIG5hdmlnYXRlOiB1c2VOYXZpZ2F0ZSgpIH0pO1xuICAgIG9uQ2xlYW51cChzKTtcbn07XG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlUm91dGVzKHJvdXRlRGVmLCBiYXNlID0gXCJcIiwgZmFsbGJhY2spIHtcbiAgICBjb25zdCB7IGNvbXBvbmVudCwgZGF0YSwgY2hpbGRyZW4gfSA9IHJvdXRlRGVmO1xuICAgIGNvbnN0IGlzTGVhZiA9ICFjaGlsZHJlbiB8fCAoQXJyYXkuaXNBcnJheShjaGlsZHJlbikgJiYgIWNoaWxkcmVuLmxlbmd0aCk7XG4gICAgY29uc3Qgc2hhcmVkID0ge1xuICAgICAgICBrZXk6IHJvdXRlRGVmLFxuICAgICAgICBlbGVtZW50OiBjb21wb25lbnRcbiAgICAgICAgICAgID8gKCkgPT4gY3JlYXRlQ29tcG9uZW50KGNvbXBvbmVudCwge30pXG4gICAgICAgICAgICA6ICgpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCB7IGVsZW1lbnQgfSA9IHJvdXRlRGVmO1xuICAgICAgICAgICAgICAgIHJldHVybiBlbGVtZW50ID09PSB1bmRlZmluZWQgJiYgZmFsbGJhY2tcbiAgICAgICAgICAgICAgICAgICAgPyBjcmVhdGVDb21wb25lbnQoZmFsbGJhY2ssIHt9KVxuICAgICAgICAgICAgICAgICAgICA6IGVsZW1lbnQ7XG4gICAgICAgICAgICB9LFxuICAgICAgICBwcmVsb2FkOiByb3V0ZURlZi5jb21wb25lbnRcbiAgICAgICAgICAgID8gY29tcG9uZW50LnByZWxvYWRcbiAgICAgICAgICAgIDogcm91dGVEZWYucHJlbG9hZCxcbiAgICAgICAgZGF0YVxuICAgIH07XG4gICAgcmV0dXJuIGFzQXJyYXkocm91dGVEZWYucGF0aCkucmVkdWNlKChhY2MsIHBhdGgpID0+IHtcbiAgICAgICAgZm9yIChjb25zdCBvcmlnaW5hbFBhdGggb2YgZXhwYW5kT3B0aW9uYWxzKHBhdGgpKSB7XG4gICAgICAgICAgICBjb25zdCBwYXRoID0gam9pblBhdGhzKGJhc2UsIG9yaWdpbmFsUGF0aCk7XG4gICAgICAgICAgICBjb25zdCBwYXR0ZXJuID0gaXNMZWFmID8gcGF0aCA6IHBhdGguc3BsaXQoXCIvKlwiLCAxKVswXTtcbiAgICAgICAgICAgIGFjYy5wdXNoKHtcbiAgICAgICAgICAgICAgICAuLi5zaGFyZWQsXG4gICAgICAgICAgICAgICAgb3JpZ2luYWxQYXRoLFxuICAgICAgICAgICAgICAgIHBhdHRlcm4sXG4gICAgICAgICAgICAgICAgbWF0Y2hlcjogY3JlYXRlTWF0Y2hlcihwYXR0ZXJuLCAhaXNMZWFmKVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGFjYztcbiAgICB9LCBbXSk7XG59XG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlQnJhbmNoKHJvdXRlcywgaW5kZXggPSAwKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgcm91dGVzLFxuICAgICAgICBzY29yZTogc2NvcmVSb3V0ZShyb3V0ZXNbcm91dGVzLmxlbmd0aCAtIDFdKSAqIDEwMDAwIC0gaW5kZXgsXG4gICAgICAgIG1hdGNoZXIobG9jYXRpb24pIHtcbiAgICAgICAgICAgIGNvbnN0IG1hdGNoZXMgPSBbXTtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSByb3V0ZXMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgICAgICAgICBjb25zdCByb3V0ZSA9IHJvdXRlc1tpXTtcbiAgICAgICAgICAgICAgICBjb25zdCBtYXRjaCA9IHJvdXRlLm1hdGNoZXIobG9jYXRpb24pO1xuICAgICAgICAgICAgICAgIGlmICghbWF0Y2gpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIG1hdGNoZXMudW5zaGlmdCh7XG4gICAgICAgICAgICAgICAgICAgIC4uLm1hdGNoLFxuICAgICAgICAgICAgICAgICAgICByb3V0ZVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIG1hdGNoZXM7XG4gICAgICAgIH1cbiAgICB9O1xufVxuZnVuY3Rpb24gYXNBcnJheSh2YWx1ZSkge1xuICAgIHJldHVybiBBcnJheS5pc0FycmF5KHZhbHVlKSA/IHZhbHVlIDogW3ZhbHVlXTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVCcmFuY2hlcyhyb3V0ZURlZiwgYmFzZSA9IFwiXCIsIGZhbGxiYWNrLCBzdGFjayA9IFtdLCBicmFuY2hlcyA9IFtdKSB7XG4gICAgY29uc3Qgcm91dGVEZWZzID0gYXNBcnJheShyb3V0ZURlZik7XG4gICAgZm9yIChsZXQgaSA9IDAsIGxlbiA9IHJvdXRlRGVmcy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICBjb25zdCBkZWYgPSByb3V0ZURlZnNbaV07XG4gICAgICAgIGlmIChkZWYgJiYgdHlwZW9mIGRlZiA9PT0gXCJvYmplY3RcIiAmJiBkZWYuaGFzT3duUHJvcGVydHkoXCJwYXRoXCIpKSB7XG4gICAgICAgICAgICBjb25zdCByb3V0ZXMgPSBjcmVhdGVSb3V0ZXMoZGVmLCBiYXNlLCBmYWxsYmFjayk7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IHJvdXRlIG9mIHJvdXRlcykge1xuICAgICAgICAgICAgICAgIHN0YWNrLnB1c2gocm91dGUpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGlzRW1wdHlBcnJheSA9IEFycmF5LmlzQXJyYXkoZGVmLmNoaWxkcmVuKSAmJiBkZWYuY2hpbGRyZW4ubGVuZ3RoID09PSAwO1xuICAgICAgICAgICAgICAgIGlmIChkZWYuY2hpbGRyZW4gJiYgIWlzRW1wdHlBcnJheSkge1xuICAgICAgICAgICAgICAgICAgICBjcmVhdGVCcmFuY2hlcyhkZWYuY2hpbGRyZW4sIHJvdXRlLnBhdHRlcm4sIGZhbGxiYWNrLCBzdGFjaywgYnJhbmNoZXMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYnJhbmNoID0gY3JlYXRlQnJhbmNoKFsuLi5zdGFja10sIGJyYW5jaGVzLmxlbmd0aCk7XG4gICAgICAgICAgICAgICAgICAgIGJyYW5jaGVzLnB1c2goYnJhbmNoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgc3RhY2sucG9wKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8gU3RhY2sgd2lsbCBiZSBlbXB0eSBvbiBmaW5hbCByZXR1cm5cbiAgICByZXR1cm4gc3RhY2subGVuZ3RoID8gYnJhbmNoZXMgOiBicmFuY2hlcy5zb3J0KChhLCBiKSA9PiBiLnNjb3JlIC0gYS5zY29yZSk7XG59XG5leHBvcnQgZnVuY3Rpb24gZ2V0Um91dGVNYXRjaGVzKGJyYW5jaGVzLCBsb2NhdGlvbikge1xuICAgIGZvciAobGV0IGkgPSAwLCBsZW4gPSBicmFuY2hlcy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICBjb25zdCBtYXRjaCA9IGJyYW5jaGVzW2ldLm1hdGNoZXIobG9jYXRpb24pO1xuICAgICAgICBpZiAobWF0Y2gpIHtcbiAgICAgICAgICAgIHJldHVybiBtYXRjaDtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gW107XG59XG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlTG9jYXRpb24ocGF0aCwgc3RhdGUpIHtcbiAgICBjb25zdCBvcmlnaW4gPSBuZXcgVVJMKFwiaHR0cDovL3NhclwiKTtcbiAgICBjb25zdCB1cmwgPSBjcmVhdGVNZW1vKHByZXYgPT4ge1xuICAgICAgICBjb25zdCBwYXRoXyA9IHBhdGgoKTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgVVJMKHBhdGhfLCBvcmlnaW4pO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYEludmFsaWQgcGF0aCAke3BhdGhffWApO1xuICAgICAgICAgICAgcmV0dXJuIHByZXY7XG4gICAgICAgIH1cbiAgICB9LCBvcmlnaW4sIHtcbiAgICAgICAgZXF1YWxzOiAoYSwgYikgPT4gYS5ocmVmID09PSBiLmhyZWZcbiAgICB9KTtcbiAgICBjb25zdCBwYXRobmFtZSA9IGNyZWF0ZU1lbW8oKCkgPT4gdXJsKCkucGF0aG5hbWUpO1xuICAgIGNvbnN0IHNlYXJjaCA9IGNyZWF0ZU1lbW8oKCkgPT4gdXJsKCkuc2VhcmNoLCB0cnVlKTtcbiAgICBjb25zdCBoYXNoID0gY3JlYXRlTWVtbygoKSA9PiB1cmwoKS5oYXNoKTtcbiAgICBjb25zdCBrZXkgPSBjcmVhdGVNZW1vKCgpID0+IFwiXCIpO1xuICAgIHJldHVybiB7XG4gICAgICAgIGdldCBwYXRobmFtZSgpIHtcbiAgICAgICAgICAgIHJldHVybiBwYXRobmFtZSgpO1xuICAgICAgICB9LFxuICAgICAgICBnZXQgc2VhcmNoKCkge1xuICAgICAgICAgICAgcmV0dXJuIHNlYXJjaCgpO1xuICAgICAgICB9LFxuICAgICAgICBnZXQgaGFzaCgpIHtcbiAgICAgICAgICAgIHJldHVybiBoYXNoKCk7XG4gICAgICAgIH0sXG4gICAgICAgIGdldCBzdGF0ZSgpIHtcbiAgICAgICAgICAgIHJldHVybiBzdGF0ZSgpO1xuICAgICAgICB9LFxuICAgICAgICBnZXQga2V5KCkge1xuICAgICAgICAgICAgcmV0dXJuIGtleSgpO1xuICAgICAgICB9LFxuICAgICAgICBxdWVyeTogY3JlYXRlTWVtb09iamVjdChvbihzZWFyY2gsICgpID0+IGV4dHJhY3RTZWFyY2hQYXJhbXModXJsKCkpKSlcbiAgICB9O1xufVxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVJvdXRlckNvbnRleHQoaW50ZWdyYXRpb24sIGJhc2UgPSBcIlwiLCBkYXRhLCBvdXQpIHtcbiAgICBjb25zdCB7IHNpZ25hbDogW3NvdXJjZSwgc2V0U291cmNlXSwgdXRpbHMgPSB7fSB9ID0gbm9ybWFsaXplSW50ZWdyYXRpb24oaW50ZWdyYXRpb24pO1xuICAgIGNvbnN0IHBhcnNlUGF0aCA9IHV0aWxzLnBhcnNlUGF0aCB8fCAocCA9PiBwKTtcbiAgICBjb25zdCByZW5kZXJQYXRoID0gdXRpbHMucmVuZGVyUGF0aCB8fCAocCA9PiBwKTtcbiAgICBjb25zdCBiZWZvcmVMZWF2ZSA9IHV0aWxzLmJlZm9yZUxlYXZlIHx8IGNyZWF0ZUJlZm9yZUxlYXZlKCk7XG4gICAgY29uc3QgYmFzZVBhdGggPSByZXNvbHZlUGF0aChcIlwiLCBiYXNlKTtcbiAgICBjb25zdCBvdXRwdXQgPSBpc1NlcnZlciAmJiBvdXRcbiAgICAgICAgPyBPYmplY3QuYXNzaWduKG91dCwge1xuICAgICAgICAgICAgbWF0Y2hlczogW10sXG4gICAgICAgICAgICB1cmw6IHVuZGVmaW5lZFxuICAgICAgICB9KVxuICAgICAgICA6IHVuZGVmaW5lZDtcbiAgICBpZiAoYmFzZVBhdGggPT09IHVuZGVmaW5lZCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYCR7YmFzZVBhdGh9IGlzIG5vdCBhIHZhbGlkIGJhc2UgcGF0aGApO1xuICAgIH1cbiAgICBlbHNlIGlmIChiYXNlUGF0aCAmJiAhc291cmNlKCkudmFsdWUpIHtcbiAgICAgICAgc2V0U291cmNlKHsgdmFsdWU6IGJhc2VQYXRoLCByZXBsYWNlOiB0cnVlLCBzY3JvbGw6IGZhbHNlIH0pO1xuICAgIH1cbiAgICBjb25zdCBbaXNSb3V0aW5nLCBzZXRJc1JvdXRpbmddID0gY3JlYXRlU2lnbmFsKGZhbHNlKTtcbiAgICBjb25zdCBzdGFydCA9IGFzeW5jIChjYWxsYmFjaykgPT4ge1xuICAgICAgICBzZXRJc1JvdXRpbmcodHJ1ZSk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBhd2FpdCBzdGFydFRyYW5zaXRpb24oY2FsbGJhY2spO1xuICAgICAgICB9XG4gICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgc2V0SXNSb3V0aW5nKGZhbHNlKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgY29uc3QgW3JlZmVyZW5jZSwgc2V0UmVmZXJlbmNlXSA9IGNyZWF0ZVNpZ25hbChzb3VyY2UoKS52YWx1ZSk7XG4gICAgY29uc3QgW3N0YXRlLCBzZXRTdGF0ZV0gPSBjcmVhdGVTaWduYWwoc291cmNlKCkuc3RhdGUpO1xuICAgIGNvbnN0IGxvY2F0aW9uID0gY3JlYXRlTG9jYXRpb24ocmVmZXJlbmNlLCBzdGF0ZSk7XG4gICAgY29uc3QgcmVmZXJyZXJzID0gW107XG4gICAgY29uc3QgYmFzZVJvdXRlID0ge1xuICAgICAgICBwYXR0ZXJuOiBiYXNlUGF0aCxcbiAgICAgICAgcGFyYW1zOiB7fSxcbiAgICAgICAgcGF0aDogKCkgPT4gYmFzZVBhdGgsXG4gICAgICAgIG91dGxldDogKCkgPT4gbnVsbCxcbiAgICAgICAgcmVzb2x2ZVBhdGgodG8pIHtcbiAgICAgICAgICAgIHJldHVybiByZXNvbHZlUGF0aChiYXNlUGF0aCwgdG8pO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBpZiAoZGF0YSkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgVGVtcFJvdXRlID0gYmFzZVJvdXRlO1xuICAgICAgICAgICAgYmFzZVJvdXRlLmRhdGEgPSBkYXRhKHtcbiAgICAgICAgICAgICAgICBkYXRhOiB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgcGFyYW1zOiB7fSxcbiAgICAgICAgICAgICAgICBsb2NhdGlvbixcbiAgICAgICAgICAgICAgICBuYXZpZ2F0ZTogbmF2aWdhdG9yRmFjdG9yeShiYXNlUm91dGUpXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgIFRlbXBSb3V0ZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBuYXZpZ2F0ZUZyb21Sb3V0ZShyb3V0ZSwgdG8sIG9wdGlvbnMpIHtcbiAgICAgICAgLy8gVW50cmFjayBpbiBjYXNlIHNvbWVvbmUgbmF2aWdhdGVzIGluIGFuIGVmZmVjdCAtIGRvbid0IHdhbnQgdG8gdHJhY2sgYHJlZmVyZW5jZWAgb3Igcm91dGUgcGF0aHNcbiAgICAgICAgdW50cmFjaygoKSA9PiB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIHRvID09PSBcIm51bWJlclwiKSB7XG4gICAgICAgICAgICAgICAgaWYgKCF0bykge1xuICAgICAgICAgICAgICAgICAgICAvLyBBIGRlbHRhIG9mIDAgbWVhbnMgc3RheSBhdCB0aGUgY3VycmVudCBsb2NhdGlvbiwgc28gaXQgaXMgaWdub3JlZFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmICh1dGlscy5nbykge1xuICAgICAgICAgICAgICAgICAgICBiZWZvcmVMZWF2ZS5jb25maXJtKHRvLCBvcHRpb25zKSAmJiB1dGlscy5nbyh0byk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oXCJSb3V0ZXIgaW50ZWdyYXRpb24gZG9lcyBub3Qgc3VwcG9ydCByZWxhdGl2ZSByb3V0aW5nXCIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCB7IHJlcGxhY2UsIHJlc29sdmUsIHNjcm9sbCwgc3RhdGU6IG5leHRTdGF0ZSB9ID0ge1xuICAgICAgICAgICAgICAgIHJlcGxhY2U6IGZhbHNlLFxuICAgICAgICAgICAgICAgIHJlc29sdmU6IHRydWUsXG4gICAgICAgICAgICAgICAgc2Nyb2xsOiB0cnVlLFxuICAgICAgICAgICAgICAgIC4uLm9wdGlvbnNcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCByZXNvbHZlZFRvID0gcmVzb2x2ZSA/IHJvdXRlLnJlc29sdmVQYXRoKHRvKSA6IHJlc29sdmVQYXRoKFwiXCIsIHRvKTtcbiAgICAgICAgICAgIGlmIChyZXNvbHZlZFRvID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFBhdGggJyR7dG99JyBpcyBub3QgYSByb3V0YWJsZSBwYXRoYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChyZWZlcnJlcnMubGVuZ3RoID49IE1BWF9SRURJUkVDVFMpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJUb28gbWFueSByZWRpcmVjdHNcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBjdXJyZW50ID0gcmVmZXJlbmNlKCk7XG4gICAgICAgICAgICBpZiAocmVzb2x2ZWRUbyAhPT0gY3VycmVudCB8fCBuZXh0U3RhdGUgIT09IHN0YXRlKCkpIHtcbiAgICAgICAgICAgICAgICBpZiAoaXNTZXJ2ZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG91dHB1dCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgb3V0cHV0LnVybCA9IHJlc29sdmVkVG87XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgc2V0U291cmNlKHsgdmFsdWU6IHJlc29sdmVkVG8sIHJlcGxhY2UsIHNjcm9sbCwgc3RhdGU6IG5leHRTdGF0ZSB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoYmVmb3JlTGVhdmUuY29uZmlybShyZXNvbHZlZFRvLCBvcHRpb25zKSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBsZW4gPSByZWZlcnJlcnMucHVzaCh7IHZhbHVlOiBjdXJyZW50LCByZXBsYWNlLCBzY3JvbGwsIHN0YXRlOiBzdGF0ZSgpIH0pO1xuICAgICAgICAgICAgICAgICAgICBzdGFydCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRSZWZlcmVuY2UocmVzb2x2ZWRUbyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRTdGF0ZShuZXh0U3RhdGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzZXRFcnJvckJvdW5kYXJpZXMoKTtcbiAgICAgICAgICAgICAgICAgICAgfSkudGhlbigoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVmZXJyZXJzLmxlbmd0aCA9PT0gbGVuKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmF2aWdhdGVFbmQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogcmVzb2x2ZWRUbyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGU6IG5leHRTdGF0ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBmdW5jdGlvbiBuYXZpZ2F0b3JGYWN0b3J5KHJvdXRlKSB7XG4gICAgICAgIC8vIFdvcmthcm91bmQgZm9yIHZpdGUgaXNzdWUgKGh0dHBzOi8vZ2l0aHViLmNvbS92aXRlanMvdml0ZS9pc3N1ZXMvMzgwMylcbiAgICAgICAgcm91dGUgPSByb3V0ZSB8fCB1c2VDb250ZXh0KFJvdXRlQ29udGV4dE9iaikgfHwgYmFzZVJvdXRlO1xuICAgICAgICByZXR1cm4gKHRvLCBvcHRpb25zKSA9PiBuYXZpZ2F0ZUZyb21Sb3V0ZShyb3V0ZSwgdG8sIG9wdGlvbnMpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBuYXZpZ2F0ZUVuZChuZXh0KSB7XG4gICAgICAgIGNvbnN0IGZpcnN0ID0gcmVmZXJyZXJzWzBdO1xuICAgICAgICBpZiAoZmlyc3QpIHtcbiAgICAgICAgICAgIGlmIChuZXh0LnZhbHVlICE9PSBmaXJzdC52YWx1ZSB8fCBuZXh0LnN0YXRlICE9PSBmaXJzdC5zdGF0ZSkge1xuICAgICAgICAgICAgICAgIHNldFNvdXJjZSh7XG4gICAgICAgICAgICAgICAgICAgIC4uLm5leHQsXG4gICAgICAgICAgICAgICAgICAgIHJlcGxhY2U6IGZpcnN0LnJlcGxhY2UsXG4gICAgICAgICAgICAgICAgICAgIHNjcm9sbDogZmlyc3Quc2Nyb2xsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZWZlcnJlcnMubGVuZ3RoID0gMDtcbiAgICAgICAgfVxuICAgIH1cbiAgICBjcmVhdGVSZW5kZXJFZmZlY3QoKCkgPT4ge1xuICAgICAgICBjb25zdCB7IHZhbHVlLCBzdGF0ZSB9ID0gc291cmNlKCk7XG4gICAgICAgIC8vIFVudHJhY2sgdGhpcyB3aG9sZSBibG9jayBzbyBgc3RhcnRgIGRvZXNuJ3QgY2F1c2UgU29saWQncyBMaXN0ZW5lciB0byBiZSBwcmVzZXJ2ZWRcbiAgICAgICAgdW50cmFjaygoKSA9PiB7XG4gICAgICAgICAgICBpZiAodmFsdWUgIT09IHJlZmVyZW5jZSgpKSB7XG4gICAgICAgICAgICAgICAgc3RhcnQoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBzZXRSZWZlcmVuY2UodmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICBzZXRTdGF0ZShzdGF0ZSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH0pO1xuICAgIGlmICghaXNTZXJ2ZXIpIHtcbiAgICAgICAgZnVuY3Rpb24gaGFuZGxlQW5jaG9yQ2xpY2soZXZ0KSB7XG4gICAgICAgICAgICBpZiAoZXZ0LmRlZmF1bHRQcmV2ZW50ZWQgfHxcbiAgICAgICAgICAgICAgICBldnQuYnV0dG9uICE9PSAwIHx8XG4gICAgICAgICAgICAgICAgZXZ0Lm1ldGFLZXkgfHxcbiAgICAgICAgICAgICAgICBldnQuYWx0S2V5IHx8XG4gICAgICAgICAgICAgICAgZXZ0LmN0cmxLZXkgfHxcbiAgICAgICAgICAgICAgICBldnQuc2hpZnRLZXkpXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgY29uc3QgYSA9IGV2dFxuICAgICAgICAgICAgICAgIC5jb21wb3NlZFBhdGgoKVxuICAgICAgICAgICAgICAgIC5maW5kKGVsID0+IGVsIGluc3RhbmNlb2YgTm9kZSAmJiBlbC5ub2RlTmFtZS50b1VwcGVyQ2FzZSgpID09PSBcIkFcIik7XG4gICAgICAgICAgICBpZiAoIWEgfHwgIWEuaGFzQXR0cmlidXRlKFwibGlua1wiKSlcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICBjb25zdCBocmVmID0gYS5ocmVmO1xuICAgICAgICAgICAgaWYgKGEudGFyZ2V0IHx8ICghaHJlZiAmJiAhYS5oYXNBdHRyaWJ1dGUoXCJzdGF0ZVwiKSkpXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgY29uc3QgcmVsID0gKGEuZ2V0QXR0cmlidXRlKFwicmVsXCIpIHx8IFwiXCIpLnNwbGl0KC9cXHMrLyk7XG4gICAgICAgICAgICBpZiAoYS5oYXNBdHRyaWJ1dGUoXCJkb3dubG9hZFwiKSB8fCAocmVsICYmIHJlbC5pbmNsdWRlcyhcImV4dGVybmFsXCIpKSlcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICBjb25zdCB1cmwgPSBuZXcgVVJMKGhyZWYpO1xuICAgICAgICAgICAgaWYgKHVybC5vcmlnaW4gIT09IHdpbmRvdy5sb2NhdGlvbi5vcmlnaW4gfHxcbiAgICAgICAgICAgICAgICAoYmFzZVBhdGggJiYgdXJsLnBhdGhuYW1lICYmICF1cmwucGF0aG5hbWUudG9Mb3dlckNhc2UoKS5zdGFydHNXaXRoKGJhc2VQYXRoLnRvTG93ZXJDYXNlKCkpKSlcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICBjb25zdCB0byA9IHBhcnNlUGF0aCh1cmwucGF0aG5hbWUgKyB1cmwuc2VhcmNoICsgdXJsLmhhc2gpO1xuICAgICAgICAgICAgY29uc3Qgc3RhdGUgPSBhLmdldEF0dHJpYnV0ZShcInN0YXRlXCIpO1xuICAgICAgICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICBuYXZpZ2F0ZUZyb21Sb3V0ZShiYXNlUm91dGUsIHRvLCB7XG4gICAgICAgICAgICAgICAgcmVzb2x2ZTogZmFsc2UsXG4gICAgICAgICAgICAgICAgcmVwbGFjZTogYS5oYXNBdHRyaWJ1dGUoXCJyZXBsYWNlXCIpLFxuICAgICAgICAgICAgICAgIHNjcm9sbDogIWEuaGFzQXR0cmlidXRlKFwibm9zY3JvbGxcIiksXG4gICAgICAgICAgICAgICAgc3RhdGU6IHN0YXRlICYmIEpTT04ucGFyc2Uoc3RhdGUpXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICAvLyBlbnN1cmUgZGVsZWdhdGVkIGV2ZW50cyBydW4gZmlyc3RcbiAgICAgICAgZGVsZWdhdGVFdmVudHMoW1wiY2xpY2tcIl0pO1xuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgaGFuZGxlQW5jaG9yQ2xpY2spO1xuICAgICAgICBvbkNsZWFudXAoKCkgPT4gZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGhhbmRsZUFuY2hvckNsaWNrKSk7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICAgIGJhc2U6IGJhc2VSb3V0ZSxcbiAgICAgICAgb3V0OiBvdXRwdXQsXG4gICAgICAgIGxvY2F0aW9uLFxuICAgICAgICBpc1JvdXRpbmcsXG4gICAgICAgIHJlbmRlclBhdGgsXG4gICAgICAgIHBhcnNlUGF0aCxcbiAgICAgICAgbmF2aWdhdG9yRmFjdG9yeSxcbiAgICAgICAgYmVmb3JlTGVhdmVcbiAgICB9O1xufVxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVJvdXRlQ29udGV4dChyb3V0ZXIsIHBhcmVudCwgY2hpbGQsIG1hdGNoKSB7XG4gICAgY29uc3QgeyBiYXNlLCBsb2NhdGlvbiwgbmF2aWdhdG9yRmFjdG9yeSB9ID0gcm91dGVyO1xuICAgIGNvbnN0IHsgcGF0dGVybiwgZWxlbWVudDogb3V0bGV0LCBwcmVsb2FkLCBkYXRhIH0gPSBtYXRjaCgpLnJvdXRlO1xuICAgIGNvbnN0IHBhdGggPSBjcmVhdGVNZW1vKCgpID0+IG1hdGNoKCkucGF0aCk7XG4gICAgY29uc3QgcGFyYW1zID0gY3JlYXRlTWVtb09iamVjdCgoKSA9PiBtYXRjaCgpLnBhcmFtcyk7XG4gICAgcHJlbG9hZCAmJiBwcmVsb2FkKCk7XG4gICAgY29uc3Qgcm91dGUgPSB7XG4gICAgICAgIHBhcmVudCxcbiAgICAgICAgcGF0dGVybixcbiAgICAgICAgZ2V0IGNoaWxkKCkge1xuICAgICAgICAgICAgcmV0dXJuIGNoaWxkKCk7XG4gICAgICAgIH0sXG4gICAgICAgIHBhdGgsXG4gICAgICAgIHBhcmFtcyxcbiAgICAgICAgZGF0YTogcGFyZW50LmRhdGEsXG4gICAgICAgIG91dGxldCxcbiAgICAgICAgcmVzb2x2ZVBhdGgodG8pIHtcbiAgICAgICAgICAgIHJldHVybiByZXNvbHZlUGF0aChiYXNlLnBhdGgoKSwgdG8sIHBhdGgoKSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIGlmIChkYXRhKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBUZW1wUm91dGUgPSByb3V0ZTtcbiAgICAgICAgICAgIHJvdXRlLmRhdGEgPSBkYXRhKHsgZGF0YTogcGFyZW50LmRhdGEsIHBhcmFtcywgbG9jYXRpb24sIG5hdmlnYXRlOiBuYXZpZ2F0b3JGYWN0b3J5KHJvdXRlKSB9KTtcbiAgICAgICAgfVxuICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgIFRlbXBSb3V0ZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcm91dGU7XG59XG4iLCIvKkByZWZyZXNoIHNraXAqL1xuaW1wb3J0IHsgY2hpbGRyZW4sIGNyZWF0ZU1lbW8sIGNyZWF0ZVJvb3QsIG1lcmdlUHJvcHMsIG9uLCBTaG93LCBzcGxpdFByb3BzIH0gZnJvbSBcInNvbGlkLWpzXCI7XG5pbXBvcnQgeyBpc1NlcnZlciB9IGZyb20gXCJzb2xpZC1qcy93ZWJcIjtcbmltcG9ydCB7IHBhdGhJbnRlZ3JhdGlvbiwgc3RhdGljSW50ZWdyYXRpb24gfSBmcm9tIFwiLi9pbnRlZ3JhdGlvblwiO1xuaW1wb3J0IHsgY3JlYXRlQnJhbmNoZXMsIGNyZWF0ZVJvdXRlQ29udGV4dCwgY3JlYXRlUm91dGVyQ29udGV4dCwgZ2V0Um91dGVNYXRjaGVzLCBSb3V0ZUNvbnRleHRPYmosIFJvdXRlckNvbnRleHRPYmosIHVzZUhyZWYsIHVzZUxvY2F0aW9uLCB1c2VOYXZpZ2F0ZSwgdXNlUmVzb2x2ZWRQYXRoLCB1c2VSb3V0ZSwgdXNlUm91dGVyIH0gZnJvbSBcIi4vcm91dGluZ1wiO1xuaW1wb3J0IHsgam9pblBhdGhzLCBub3JtYWxpemVQYXRoIH0gZnJvbSBcIi4vdXRpbHNcIjtcbmV4cG9ydCBjb25zdCBSb3V0ZXIgPSAocHJvcHMpID0+IHtcbiAgICBjb25zdCB7IHNvdXJjZSwgdXJsLCBiYXNlLCBkYXRhLCBvdXQgfSA9IHByb3BzO1xuICAgIGNvbnN0IGludGVncmF0aW9uID0gc291cmNlIHx8IChpc1NlcnZlciA/IHN0YXRpY0ludGVncmF0aW9uKHsgdmFsdWU6IHVybCB8fCBcIlwiIH0pIDogcGF0aEludGVncmF0aW9uKCkpO1xuICAgIGNvbnN0IHJvdXRlclN0YXRlID0gY3JlYXRlUm91dGVyQ29udGV4dChpbnRlZ3JhdGlvbiwgYmFzZSwgZGF0YSwgb3V0KTtcbiAgICByZXR1cm4gKDxSb3V0ZXJDb250ZXh0T2JqLlByb3ZpZGVyIHZhbHVlPXtyb3V0ZXJTdGF0ZX0+e3Byb3BzLmNoaWxkcmVufTwvUm91dGVyQ29udGV4dE9iai5Qcm92aWRlcj4pO1xufTtcbmV4cG9ydCBjb25zdCBSb3V0ZXMgPSAocHJvcHMpID0+IHtcbiAgICBjb25zdCByb3V0ZXIgPSB1c2VSb3V0ZXIoKTtcbiAgICBjb25zdCBwYXJlbnRSb3V0ZSA9IHVzZVJvdXRlKCk7XG4gICAgY29uc3Qgcm91dGVEZWZzID0gY2hpbGRyZW4oKCkgPT4gcHJvcHMuY2hpbGRyZW4pO1xuICAgIGNvbnN0IGJyYW5jaGVzID0gY3JlYXRlTWVtbygoKSA9PiBjcmVhdGVCcmFuY2hlcyhyb3V0ZURlZnMoKSwgam9pblBhdGhzKHBhcmVudFJvdXRlLnBhdHRlcm4sIHByb3BzLmJhc2UgfHwgXCJcIiksIE91dGxldCkpO1xuICAgIGNvbnN0IG1hdGNoZXMgPSBjcmVhdGVNZW1vKCgpID0+IGdldFJvdXRlTWF0Y2hlcyhicmFuY2hlcygpLCByb3V0ZXIubG9jYXRpb24ucGF0aG5hbWUpKTtcbiAgICBpZiAocm91dGVyLm91dCkge1xuICAgICAgICByb3V0ZXIub3V0Lm1hdGNoZXMucHVzaChtYXRjaGVzKCkubWFwKCh7IHJvdXRlLCBwYXRoLCBwYXJhbXMgfSkgPT4gKHtcbiAgICAgICAgICAgIG9yaWdpbmFsUGF0aDogcm91dGUub3JpZ2luYWxQYXRoLFxuICAgICAgICAgICAgcGF0dGVybjogcm91dGUucGF0dGVybixcbiAgICAgICAgICAgIHBhdGgsXG4gICAgICAgICAgICBwYXJhbXNcbiAgICAgICAgfSkpKTtcbiAgICB9XG4gICAgY29uc3QgZGlzcG9zZXJzID0gW107XG4gICAgbGV0IHJvb3Q7XG4gICAgY29uc3Qgcm91dGVTdGF0ZXMgPSBjcmVhdGVNZW1vKG9uKG1hdGNoZXMsIChuZXh0TWF0Y2hlcywgcHJldk1hdGNoZXMsIHByZXYpID0+IHtcbiAgICAgICAgbGV0IGVxdWFsID0gcHJldk1hdGNoZXMgJiYgbmV4dE1hdGNoZXMubGVuZ3RoID09PSBwcmV2TWF0Y2hlcy5sZW5ndGg7XG4gICAgICAgIGNvbnN0IG5leHQgPSBbXTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDAsIGxlbiA9IG5leHRNYXRjaGVzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBwcmV2TWF0Y2ggPSBwcmV2TWF0Y2hlcyAmJiBwcmV2TWF0Y2hlc1tpXTtcbiAgICAgICAgICAgIGNvbnN0IG5leHRNYXRjaCA9IG5leHRNYXRjaGVzW2ldO1xuICAgICAgICAgICAgaWYgKHByZXYgJiYgcHJldk1hdGNoICYmIG5leHRNYXRjaC5yb3V0ZS5rZXkgPT09IHByZXZNYXRjaC5yb3V0ZS5rZXkpIHtcbiAgICAgICAgICAgICAgICBuZXh0W2ldID0gcHJldltpXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGVxdWFsID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgaWYgKGRpc3Bvc2Vyc1tpXSkge1xuICAgICAgICAgICAgICAgICAgICBkaXNwb3NlcnNbaV0oKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY3JlYXRlUm9vdChkaXNwb3NlID0+IHtcbiAgICAgICAgICAgICAgICAgICAgZGlzcG9zZXJzW2ldID0gZGlzcG9zZTtcbiAgICAgICAgICAgICAgICAgICAgbmV4dFtpXSA9IGNyZWF0ZVJvdXRlQ29udGV4dChyb3V0ZXIsIG5leHRbaSAtIDFdIHx8IHBhcmVudFJvdXRlLCAoKSA9PiByb3V0ZVN0YXRlcygpW2kgKyAxXSwgKCkgPT4gbWF0Y2hlcygpW2ldKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBkaXNwb3NlcnMuc3BsaWNlKG5leHRNYXRjaGVzLmxlbmd0aCkuZm9yRWFjaChkaXNwb3NlID0+IGRpc3Bvc2UoKSk7XG4gICAgICAgIGlmIChwcmV2ICYmIGVxdWFsKSB7XG4gICAgICAgICAgICByZXR1cm4gcHJldjtcbiAgICAgICAgfVxuICAgICAgICByb290ID0gbmV4dFswXTtcbiAgICAgICAgcmV0dXJuIG5leHQ7XG4gICAgfSkpO1xuICAgIHJldHVybiAoPFNob3cgd2hlbj17cm91dGVTdGF0ZXMoKSAmJiByb290fT5cbiAgICAgIHsoKHJvdXRlKSA9PiAoPFJvdXRlQ29udGV4dE9iai5Qcm92aWRlciB2YWx1ZT17cm91dGV9Pntyb3V0ZS5vdXRsZXQoKX08L1JvdXRlQ29udGV4dE9iai5Qcm92aWRlcj4pKX1cbiAgICA8L1Nob3c+KTtcbn07XG5leHBvcnQgY29uc3QgdXNlUm91dGVzID0gKHJvdXRlcywgYmFzZSkgPT4ge1xuICAgIHJldHVybiAoKSA9PiA8Um91dGVzIGJhc2U9e2Jhc2V9Pntyb3V0ZXN9PC9Sb3V0ZXM+O1xufTtcbmV4cG9ydCBjb25zdCBSb3V0ZSA9IChwcm9wcykgPT4ge1xuICAgIGNvbnN0IGNoaWxkUm91dGVzID0gY2hpbGRyZW4oKCkgPT4gcHJvcHMuY2hpbGRyZW4pO1xuICAgIHJldHVybiBtZXJnZVByb3BzKHByb3BzLCB7XG4gICAgICAgIGdldCBjaGlsZHJlbigpIHtcbiAgICAgICAgICAgIHJldHVybiBjaGlsZFJvdXRlcygpO1xuICAgICAgICB9XG4gICAgfSk7XG59O1xuZXhwb3J0IGNvbnN0IE91dGxldCA9ICgpID0+IHtcbiAgICBjb25zdCByb3V0ZSA9IHVzZVJvdXRlKCk7XG4gICAgcmV0dXJuICg8U2hvdyB3aGVuPXtyb3V0ZS5jaGlsZH0+XG4gICAgICB7KChjaGlsZCkgPT4gKDxSb3V0ZUNvbnRleHRPYmouUHJvdmlkZXIgdmFsdWU9e2NoaWxkfT57Y2hpbGQub3V0bGV0KCl9PC9Sb3V0ZUNvbnRleHRPYmouUHJvdmlkZXI+KSl9XG4gICAgPC9TaG93Pik7XG59O1xuZXhwb3J0IGZ1bmN0aW9uIEEocHJvcHMpIHtcbiAgICBwcm9wcyA9IG1lcmdlUHJvcHMoeyBpbmFjdGl2ZUNsYXNzOiBcImluYWN0aXZlXCIsIGFjdGl2ZUNsYXNzOiBcImFjdGl2ZVwiIH0sIHByb3BzKTtcbiAgICBjb25zdCBbLCByZXN0XSA9IHNwbGl0UHJvcHMocHJvcHMsIFtcImhyZWZcIiwgXCJzdGF0ZVwiLCBcImNsYXNzXCIsIFwiYWN0aXZlQ2xhc3NcIiwgXCJpbmFjdGl2ZUNsYXNzXCIsIFwiZW5kXCJdKTtcbiAgICBjb25zdCB0byA9IHVzZVJlc29sdmVkUGF0aCgoKSA9PiBwcm9wcy5ocmVmKTtcbiAgICBjb25zdCBocmVmID0gdXNlSHJlZih0byk7XG4gICAgY29uc3QgbG9jYXRpb24gPSB1c2VMb2NhdGlvbigpO1xuICAgIGNvbnN0IGlzQWN0aXZlID0gY3JlYXRlTWVtbygoKSA9PiB7XG4gICAgICAgIGNvbnN0IHRvXyA9IHRvKCk7XG4gICAgICAgIGlmICh0b18gPT09IHVuZGVmaW5lZClcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgY29uc3QgcGF0aCA9IG5vcm1hbGl6ZVBhdGgodG9fLnNwbGl0KC9bPyNdLywgMSlbMF0pLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgIGNvbnN0IGxvYyA9IG5vcm1hbGl6ZVBhdGgobG9jYXRpb24ucGF0aG5hbWUpLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgIHJldHVybiBwcm9wcy5lbmQgPyBwYXRoID09PSBsb2MgOiBsb2Muc3RhcnRzV2l0aChwYXRoKTtcbiAgICB9KTtcbiAgICByZXR1cm4gKDxhIGxpbmsgey4uLnJlc3R9IGhyZWY9e2hyZWYoKSB8fCBwcm9wcy5ocmVmfSBzdGF0ZT17SlNPTi5zdHJpbmdpZnkocHJvcHMuc3RhdGUpfSBjbGFzc0xpc3Q9e3tcbiAgICAgICAgICAgIC4uLihwcm9wcy5jbGFzcyAmJiB7IFtwcm9wcy5jbGFzc106IHRydWUgfSksXG4gICAgICAgICAgICBbcHJvcHMuaW5hY3RpdmVDbGFzc106ICFpc0FjdGl2ZSgpLFxuICAgICAgICAgICAgW3Byb3BzLmFjdGl2ZUNsYXNzXTogaXNBY3RpdmUoKSxcbiAgICAgICAgICAgIC4uLnJlc3QuY2xhc3NMaXN0XG4gICAgICAgIH19IGFyaWEtY3VycmVudD17aXNBY3RpdmUoKSA/IFwicGFnZVwiIDogdW5kZWZpbmVkfS8+KTtcbn1cbi8vIGRlcHJlY2F0ZWQgYWxpYXMgZXhwb3J0c1xuZXhwb3J0IHsgQSBhcyBMaW5rLCBBIGFzIE5hdkxpbmsgfTtcbmV4cG9ydCBmdW5jdGlvbiBOYXZpZ2F0ZShwcm9wcykge1xuICAgIGNvbnN0IG5hdmlnYXRlID0gdXNlTmF2aWdhdGUoKTtcbiAgICBjb25zdCBsb2NhdGlvbiA9IHVzZUxvY2F0aW9uKCk7XG4gICAgY29uc3QgeyBocmVmLCBzdGF0ZSB9ID0gcHJvcHM7XG4gICAgY29uc3QgcGF0aCA9IHR5cGVvZiBocmVmID09PSBcImZ1bmN0aW9uXCIgPyBocmVmKHsgbmF2aWdhdGUsIGxvY2F0aW9uIH0pIDogaHJlZjtcbiAgICBuYXZpZ2F0ZShwYXRoLCB7IHJlcGxhY2U6IHRydWUsIHN0YXRlIH0pO1xuICAgIHJldHVybiBudWxsO1xufVxuIiwiY2xhc3MgU3Vic2NyaWJhYmxlIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5saXN0ZW5lcnMgPSBbXTtcbiAgICB0aGlzLnN1YnNjcmliZSA9IHRoaXMuc3Vic2NyaWJlLmJpbmQodGhpcyk7XG4gIH1cblxuICBzdWJzY3JpYmUobGlzdGVuZXIpIHtcbiAgICB0aGlzLmxpc3RlbmVycy5wdXNoKGxpc3RlbmVyKTtcbiAgICB0aGlzLm9uU3Vic2NyaWJlKCk7XG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIHRoaXMubGlzdGVuZXJzID0gdGhpcy5saXN0ZW5lcnMuZmlsdGVyKHggPT4geCAhPT0gbGlzdGVuZXIpO1xuICAgICAgdGhpcy5vblVuc3Vic2NyaWJlKCk7XG4gICAgfTtcbiAgfVxuXG4gIGhhc0xpc3RlbmVycygpIHtcbiAgICByZXR1cm4gdGhpcy5saXN0ZW5lcnMubGVuZ3RoID4gMDtcbiAgfVxuXG4gIG9uU3Vic2NyaWJlKCkgey8vIERvIG5vdGhpbmdcbiAgfVxuXG4gIG9uVW5zdWJzY3JpYmUoKSB7Ly8gRG8gbm90aGluZ1xuICB9XG5cbn1cblxuZXhwb3J0IHsgU3Vic2NyaWJhYmxlIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zdWJzY3JpYmFibGUuZXNtLmpzLm1hcFxuIiwiLy8gVFlQRVNcbi8vIFVUSUxTXG5jb25zdCBpc1NlcnZlciA9IHR5cGVvZiB3aW5kb3cgPT09ICd1bmRlZmluZWQnIHx8ICdEZW5vJyBpbiB3aW5kb3c7XG5mdW5jdGlvbiBub29wKCkge1xuICByZXR1cm4gdW5kZWZpbmVkO1xufVxuZnVuY3Rpb24gZnVuY3Rpb25hbFVwZGF0ZSh1cGRhdGVyLCBpbnB1dCkge1xuICByZXR1cm4gdHlwZW9mIHVwZGF0ZXIgPT09ICdmdW5jdGlvbicgPyB1cGRhdGVyKGlucHV0KSA6IHVwZGF0ZXI7XG59XG5mdW5jdGlvbiBpc1ZhbGlkVGltZW91dCh2YWx1ZSkge1xuICByZXR1cm4gdHlwZW9mIHZhbHVlID09PSAnbnVtYmVyJyAmJiB2YWx1ZSA+PSAwICYmIHZhbHVlICE9PSBJbmZpbml0eTtcbn1cbmZ1bmN0aW9uIGRpZmZlcmVuY2UoYXJyYXkxLCBhcnJheTIpIHtcbiAgcmV0dXJuIGFycmF5MS5maWx0ZXIoeCA9PiBhcnJheTIuaW5kZXhPZih4KSA9PT0gLTEpO1xufVxuZnVuY3Rpb24gcmVwbGFjZUF0KGFycmF5LCBpbmRleCwgdmFsdWUpIHtcbiAgY29uc3QgY29weSA9IGFycmF5LnNsaWNlKDApO1xuICBjb3B5W2luZGV4XSA9IHZhbHVlO1xuICByZXR1cm4gY29weTtcbn1cbmZ1bmN0aW9uIHRpbWVVbnRpbFN0YWxlKHVwZGF0ZWRBdCwgc3RhbGVUaW1lKSB7XG4gIHJldHVybiBNYXRoLm1heCh1cGRhdGVkQXQgKyAoc3RhbGVUaW1lIHx8IDApIC0gRGF0ZS5ub3coKSwgMCk7XG59XG5mdW5jdGlvbiBwYXJzZVF1ZXJ5QXJncyhhcmcxLCBhcmcyLCBhcmczKSB7XG4gIGlmICghaXNRdWVyeUtleShhcmcxKSkge1xuICAgIHJldHVybiBhcmcxO1xuICB9XG5cbiAgaWYgKHR5cGVvZiBhcmcyID09PSAnZnVuY3Rpb24nKSB7XG4gICAgcmV0dXJuIHsgLi4uYXJnMyxcbiAgICAgIHF1ZXJ5S2V5OiBhcmcxLFxuICAgICAgcXVlcnlGbjogYXJnMlxuICAgIH07XG4gIH1cblxuICByZXR1cm4geyAuLi5hcmcyLFxuICAgIHF1ZXJ5S2V5OiBhcmcxXG4gIH07XG59XG5mdW5jdGlvbiBwYXJzZU11dGF0aW9uQXJncyhhcmcxLCBhcmcyLCBhcmczKSB7XG4gIGlmIChpc1F1ZXJ5S2V5KGFyZzEpKSB7XG4gICAgaWYgKHR5cGVvZiBhcmcyID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICByZXR1cm4geyAuLi5hcmczLFxuICAgICAgICBtdXRhdGlvbktleTogYXJnMSxcbiAgICAgICAgbXV0YXRpb25GbjogYXJnMlxuICAgICAgfTtcbiAgICB9XG5cbiAgICByZXR1cm4geyAuLi5hcmcyLFxuICAgICAgbXV0YXRpb25LZXk6IGFyZzFcbiAgICB9O1xuICB9XG5cbiAgaWYgKHR5cGVvZiBhcmcxID09PSAnZnVuY3Rpb24nKSB7XG4gICAgcmV0dXJuIHsgLi4uYXJnMixcbiAgICAgIG11dGF0aW9uRm46IGFyZzFcbiAgICB9O1xuICB9XG5cbiAgcmV0dXJuIHsgLi4uYXJnMVxuICB9O1xufVxuZnVuY3Rpb24gcGFyc2VGaWx0ZXJBcmdzKGFyZzEsIGFyZzIsIGFyZzMpIHtcbiAgcmV0dXJuIGlzUXVlcnlLZXkoYXJnMSkgPyBbeyAuLi5hcmcyLFxuICAgIHF1ZXJ5S2V5OiBhcmcxXG4gIH0sIGFyZzNdIDogW2FyZzEgfHwge30sIGFyZzJdO1xufVxuZnVuY3Rpb24gcGFyc2VNdXRhdGlvbkZpbHRlckFyZ3MoYXJnMSwgYXJnMiwgYXJnMykge1xuICByZXR1cm4gaXNRdWVyeUtleShhcmcxKSA/IFt7IC4uLmFyZzIsXG4gICAgbXV0YXRpb25LZXk6IGFyZzFcbiAgfSwgYXJnM10gOiBbYXJnMSB8fCB7fSwgYXJnMl07XG59XG5mdW5jdGlvbiBtYXRjaFF1ZXJ5KGZpbHRlcnMsIHF1ZXJ5KSB7XG4gIGNvbnN0IHtcbiAgICB0eXBlID0gJ2FsbCcsXG4gICAgZXhhY3QsXG4gICAgZmV0Y2hTdGF0dXMsXG4gICAgcHJlZGljYXRlLFxuICAgIHF1ZXJ5S2V5LFxuICAgIHN0YWxlXG4gIH0gPSBmaWx0ZXJzO1xuXG4gIGlmIChpc1F1ZXJ5S2V5KHF1ZXJ5S2V5KSkge1xuICAgIGlmIChleGFjdCkge1xuICAgICAgaWYgKHF1ZXJ5LnF1ZXJ5SGFzaCAhPT0gaGFzaFF1ZXJ5S2V5QnlPcHRpb25zKHF1ZXJ5S2V5LCBxdWVyeS5vcHRpb25zKSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmICghcGFydGlhbE1hdGNoS2V5KHF1ZXJ5LnF1ZXJ5S2V5LCBxdWVyeUtleSkpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cblxuICBpZiAodHlwZSAhPT0gJ2FsbCcpIHtcbiAgICBjb25zdCBpc0FjdGl2ZSA9IHF1ZXJ5LmlzQWN0aXZlKCk7XG5cbiAgICBpZiAodHlwZSA9PT0gJ2FjdGl2ZScgJiYgIWlzQWN0aXZlKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgaWYgKHR5cGUgPT09ICdpbmFjdGl2ZScgJiYgaXNBY3RpdmUpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cblxuICBpZiAodHlwZW9mIHN0YWxlID09PSAnYm9vbGVhbicgJiYgcXVlcnkuaXNTdGFsZSgpICE9PSBzdGFsZSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIGlmICh0eXBlb2YgZmV0Y2hTdGF0dXMgIT09ICd1bmRlZmluZWQnICYmIGZldGNoU3RhdHVzICE9PSBxdWVyeS5zdGF0ZS5mZXRjaFN0YXR1cykge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIGlmIChwcmVkaWNhdGUgJiYgIXByZWRpY2F0ZShxdWVyeSkpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICByZXR1cm4gdHJ1ZTtcbn1cbmZ1bmN0aW9uIG1hdGNoTXV0YXRpb24oZmlsdGVycywgbXV0YXRpb24pIHtcbiAgY29uc3Qge1xuICAgIGV4YWN0LFxuICAgIGZldGNoaW5nLFxuICAgIHByZWRpY2F0ZSxcbiAgICBtdXRhdGlvbktleVxuICB9ID0gZmlsdGVycztcblxuICBpZiAoaXNRdWVyeUtleShtdXRhdGlvbktleSkpIHtcbiAgICBpZiAoIW11dGF0aW9uLm9wdGlvbnMubXV0YXRpb25LZXkpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBpZiAoZXhhY3QpIHtcbiAgICAgIGlmIChoYXNoUXVlcnlLZXkobXV0YXRpb24ub3B0aW9ucy5tdXRhdGlvbktleSkgIT09IGhhc2hRdWVyeUtleShtdXRhdGlvbktleSkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoIXBhcnRpYWxNYXRjaEtleShtdXRhdGlvbi5vcHRpb25zLm11dGF0aW9uS2V5LCBtdXRhdGlvbktleSkpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cblxuICBpZiAodHlwZW9mIGZldGNoaW5nID09PSAnYm9vbGVhbicgJiYgbXV0YXRpb24uc3RhdGUuc3RhdHVzID09PSAnbG9hZGluZycgIT09IGZldGNoaW5nKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgaWYgKHByZWRpY2F0ZSAmJiAhcHJlZGljYXRlKG11dGF0aW9uKSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHJldHVybiB0cnVlO1xufVxuZnVuY3Rpb24gaGFzaFF1ZXJ5S2V5QnlPcHRpb25zKHF1ZXJ5S2V5LCBvcHRpb25zKSB7XG4gIGNvbnN0IGhhc2hGbiA9IChvcHRpb25zID09IG51bGwgPyB2b2lkIDAgOiBvcHRpb25zLnF1ZXJ5S2V5SGFzaEZuKSB8fCBoYXNoUXVlcnlLZXk7XG4gIHJldHVybiBoYXNoRm4ocXVlcnlLZXkpO1xufVxuLyoqXG4gKiBEZWZhdWx0IHF1ZXJ5IGtleXMgaGFzaCBmdW5jdGlvbi5cbiAqIEhhc2hlcyB0aGUgdmFsdWUgaW50byBhIHN0YWJsZSBoYXNoLlxuICovXG5cbmZ1bmN0aW9uIGhhc2hRdWVyeUtleShxdWVyeUtleSkge1xuICByZXR1cm4gSlNPTi5zdHJpbmdpZnkocXVlcnlLZXksIChfLCB2YWwpID0+IGlzUGxhaW5PYmplY3QodmFsKSA/IE9iamVjdC5rZXlzKHZhbCkuc29ydCgpLnJlZHVjZSgocmVzdWx0LCBrZXkpID0+IHtcbiAgICByZXN1bHRba2V5XSA9IHZhbFtrZXldO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH0sIHt9KSA6IHZhbCk7XG59XG4vKipcbiAqIENoZWNrcyBpZiBrZXkgYGJgIHBhcnRpYWxseSBtYXRjaGVzIHdpdGgga2V5IGBhYC5cbiAqL1xuXG5mdW5jdGlvbiBwYXJ0aWFsTWF0Y2hLZXkoYSwgYikge1xuICByZXR1cm4gcGFydGlhbERlZXBFcXVhbChhLCBiKTtcbn1cbi8qKlxuICogQ2hlY2tzIGlmIGBiYCBwYXJ0aWFsbHkgbWF0Y2hlcyB3aXRoIGBhYC5cbiAqL1xuXG5mdW5jdGlvbiBwYXJ0aWFsRGVlcEVxdWFsKGEsIGIpIHtcbiAgaWYgKGEgPT09IGIpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIGlmICh0eXBlb2YgYSAhPT0gdHlwZW9mIGIpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBpZiAoYSAmJiBiICYmIHR5cGVvZiBhID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgYiA9PT0gJ29iamVjdCcpIHtcbiAgICByZXR1cm4gIU9iamVjdC5rZXlzKGIpLnNvbWUoa2V5ID0+ICFwYXJ0aWFsRGVlcEVxdWFsKGFba2V5XSwgYltrZXldKSk7XG4gIH1cblxuICByZXR1cm4gZmFsc2U7XG59XG4vKipcbiAqIFRoaXMgZnVuY3Rpb24gcmV0dXJucyBgYWAgaWYgYGJgIGlzIGRlZXBseSBlcXVhbC5cbiAqIElmIG5vdCwgaXQgd2lsbCByZXBsYWNlIGFueSBkZWVwbHkgZXF1YWwgY2hpbGRyZW4gb2YgYGJgIHdpdGggdGhvc2Ugb2YgYGFgLlxuICogVGhpcyBjYW4gYmUgdXNlZCBmb3Igc3RydWN0dXJhbCBzaGFyaW5nIGJldHdlZW4gSlNPTiB2YWx1ZXMgZm9yIGV4YW1wbGUuXG4gKi9cblxuZnVuY3Rpb24gcmVwbGFjZUVxdWFsRGVlcChhLCBiKSB7XG4gIGlmIChhID09PSBiKSB7XG4gICAgcmV0dXJuIGE7XG4gIH1cblxuICBjb25zdCBhcnJheSA9IGlzUGxhaW5BcnJheShhKSAmJiBpc1BsYWluQXJyYXkoYik7XG5cbiAgaWYgKGFycmF5IHx8IGlzUGxhaW5PYmplY3QoYSkgJiYgaXNQbGFpbk9iamVjdChiKSkge1xuICAgIGNvbnN0IGFTaXplID0gYXJyYXkgPyBhLmxlbmd0aCA6IE9iamVjdC5rZXlzKGEpLmxlbmd0aDtcbiAgICBjb25zdCBiSXRlbXMgPSBhcnJheSA/IGIgOiBPYmplY3Qua2V5cyhiKTtcbiAgICBjb25zdCBiU2l6ZSA9IGJJdGVtcy5sZW5ndGg7XG4gICAgY29uc3QgY29weSA9IGFycmF5ID8gW10gOiB7fTtcbiAgICBsZXQgZXF1YWxJdGVtcyA9IDA7XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGJTaXplOyBpKyspIHtcbiAgICAgIGNvbnN0IGtleSA9IGFycmF5ID8gaSA6IGJJdGVtc1tpXTtcbiAgICAgIGNvcHlba2V5XSA9IHJlcGxhY2VFcXVhbERlZXAoYVtrZXldLCBiW2tleV0pO1xuXG4gICAgICBpZiAoY29weVtrZXldID09PSBhW2tleV0pIHtcbiAgICAgICAgZXF1YWxJdGVtcysrO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBhU2l6ZSA9PT0gYlNpemUgJiYgZXF1YWxJdGVtcyA9PT0gYVNpemUgPyBhIDogY29weTtcbiAgfVxuXG4gIHJldHVybiBiO1xufVxuLyoqXG4gKiBTaGFsbG93IGNvbXBhcmUgb2JqZWN0cy4gT25seSB3b3JrcyB3aXRoIG9iamVjdHMgdGhhdCBhbHdheXMgaGF2ZSB0aGUgc2FtZSBwcm9wZXJ0aWVzLlxuICovXG5cbmZ1bmN0aW9uIHNoYWxsb3dFcXVhbE9iamVjdHMoYSwgYikge1xuICBpZiAoYSAmJiAhYiB8fCBiICYmICFhKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgZm9yIChjb25zdCBrZXkgaW4gYSkge1xuICAgIGlmIChhW2tleV0gIT09IGJba2V5XSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiB0cnVlO1xufVxuZnVuY3Rpb24gaXNQbGFpbkFycmF5KHZhbHVlKSB7XG4gIHJldHVybiBBcnJheS5pc0FycmF5KHZhbHVlKSAmJiB2YWx1ZS5sZW5ndGggPT09IE9iamVjdC5rZXlzKHZhbHVlKS5sZW5ndGg7XG59IC8vIENvcGllZCBmcm9tOiBodHRwczovL2dpdGh1Yi5jb20vam9uc2NobGlua2VydC9pcy1wbGFpbi1vYmplY3RcblxuZnVuY3Rpb24gaXNQbGFpbk9iamVjdChvKSB7XG4gIGlmICghaGFzT2JqZWN0UHJvdG90eXBlKG8pKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9IC8vIElmIGhhcyBtb2RpZmllZCBjb25zdHJ1Y3RvclxuXG5cbiAgY29uc3QgY3RvciA9IG8uY29uc3RydWN0b3I7XG5cbiAgaWYgKHR5cGVvZiBjdG9yID09PSAndW5kZWZpbmVkJykge1xuICAgIHJldHVybiB0cnVlO1xuICB9IC8vIElmIGhhcyBtb2RpZmllZCBwcm90b3R5cGVcblxuXG4gIGNvbnN0IHByb3QgPSBjdG9yLnByb3RvdHlwZTtcblxuICBpZiAoIWhhc09iamVjdFByb3RvdHlwZShwcm90KSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfSAvLyBJZiBjb25zdHJ1Y3RvciBkb2VzIG5vdCBoYXZlIGFuIE9iamVjdC1zcGVjaWZpYyBtZXRob2RcblxuXG4gIGlmICghcHJvdC5oYXNPd25Qcm9wZXJ0eSgnaXNQcm90b3R5cGVPZicpKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9IC8vIE1vc3QgbGlrZWx5IGEgcGxhaW4gT2JqZWN0XG5cblxuICByZXR1cm4gdHJ1ZTtcbn1cblxuZnVuY3Rpb24gaGFzT2JqZWN0UHJvdG90eXBlKG8pIHtcbiAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvKSA9PT0gJ1tvYmplY3QgT2JqZWN0XSc7XG59XG5cbmZ1bmN0aW9uIGlzUXVlcnlLZXkodmFsdWUpIHtcbiAgcmV0dXJuIEFycmF5LmlzQXJyYXkodmFsdWUpO1xufVxuZnVuY3Rpb24gaXNFcnJvcih2YWx1ZSkge1xuICByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBFcnJvcjtcbn1cbmZ1bmN0aW9uIHNsZWVwKHRpbWVvdXQpIHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKHJlc29sdmUgPT4ge1xuICAgIHNldFRpbWVvdXQocmVzb2x2ZSwgdGltZW91dCk7XG4gIH0pO1xufVxuLyoqXG4gKiBTY2hlZHVsZXMgYSBtaWNyb3Rhc2suXG4gKiBUaGlzIGNhbiBiZSB1c2VmdWwgdG8gc2NoZWR1bGUgc3RhdGUgdXBkYXRlcyBhZnRlciByZW5kZXJpbmcuXG4gKi9cblxuZnVuY3Rpb24gc2NoZWR1bGVNaWNyb3Rhc2soY2FsbGJhY2spIHtcbiAgc2xlZXAoMCkudGhlbihjYWxsYmFjayk7XG59XG5mdW5jdGlvbiBnZXRBYm9ydENvbnRyb2xsZXIoKSB7XG4gIGlmICh0eXBlb2YgQWJvcnRDb250cm9sbGVyID09PSAnZnVuY3Rpb24nKSB7XG4gICAgcmV0dXJuIG5ldyBBYm9ydENvbnRyb2xsZXIoKTtcbiAgfVxuXG4gIHJldHVybjtcbn1cbmZ1bmN0aW9uIHJlcGxhY2VEYXRhKHByZXZEYXRhLCBkYXRhLCBvcHRpb25zKSB7XG4gIC8vIFVzZSBwcmV2IGRhdGEgaWYgYW4gaXNEYXRhRXF1YWwgZnVuY3Rpb24gaXMgZGVmaW5lZCBhbmQgcmV0dXJucyBgdHJ1ZWBcbiAgaWYgKG9wdGlvbnMuaXNEYXRhRXF1YWwgIT0gbnVsbCAmJiBvcHRpb25zLmlzRGF0YUVxdWFsKHByZXZEYXRhLCBkYXRhKSkge1xuICAgIHJldHVybiBwcmV2RGF0YTtcbiAgfSBlbHNlIGlmICh0eXBlb2Ygb3B0aW9ucy5zdHJ1Y3R1cmFsU2hhcmluZyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIHJldHVybiBvcHRpb25zLnN0cnVjdHVyYWxTaGFyaW5nKHByZXZEYXRhLCBkYXRhKTtcbiAgfSBlbHNlIGlmIChvcHRpb25zLnN0cnVjdHVyYWxTaGFyaW5nICE9PSBmYWxzZSkge1xuICAgIC8vIFN0cnVjdHVyYWxseSBzaGFyZSBkYXRhIGJldHdlZW4gcHJldiBhbmQgbmV3IGRhdGEgaWYgbmVlZGVkXG4gICAgcmV0dXJuIHJlcGxhY2VFcXVhbERlZXAocHJldkRhdGEsIGRhdGEpO1xuICB9XG5cbiAgcmV0dXJuIGRhdGE7XG59XG5cbmV4cG9ydCB7IGRpZmZlcmVuY2UsIGZ1bmN0aW9uYWxVcGRhdGUsIGdldEFib3J0Q29udHJvbGxlciwgaGFzaFF1ZXJ5S2V5LCBoYXNoUXVlcnlLZXlCeU9wdGlvbnMsIGlzRXJyb3IsIGlzUGxhaW5BcnJheSwgaXNQbGFpbk9iamVjdCwgaXNRdWVyeUtleSwgaXNTZXJ2ZXIsIGlzVmFsaWRUaW1lb3V0LCBtYXRjaE11dGF0aW9uLCBtYXRjaFF1ZXJ5LCBub29wLCBwYXJzZUZpbHRlckFyZ3MsIHBhcnNlTXV0YXRpb25BcmdzLCBwYXJzZU11dGF0aW9uRmlsdGVyQXJncywgcGFyc2VRdWVyeUFyZ3MsIHBhcnRpYWxEZWVwRXF1YWwsIHBhcnRpYWxNYXRjaEtleSwgcmVwbGFjZUF0LCByZXBsYWNlRGF0YSwgcmVwbGFjZUVxdWFsRGVlcCwgc2NoZWR1bGVNaWNyb3Rhc2ssIHNoYWxsb3dFcXVhbE9iamVjdHMsIHNsZWVwLCB0aW1lVW50aWxTdGFsZSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dXRpbHMuZXNtLmpzLm1hcFxuIiwiaW1wb3J0IHsgU3Vic2NyaWJhYmxlIH0gZnJvbSAnLi9zdWJzY3JpYmFibGUuZXNtLmpzJztcbmltcG9ydCB7IGlzU2VydmVyIH0gZnJvbSAnLi91dGlscy5lc20uanMnO1xuXG5jbGFzcyBGb2N1c01hbmFnZXIgZXh0ZW5kcyBTdWJzY3JpYmFibGUge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcigpO1xuXG4gICAgdGhpcy5zZXR1cCA9IG9uRm9jdXMgPT4ge1xuICAgICAgLy8gYWRkRXZlbnRMaXN0ZW5lciBkb2VzIG5vdCBleGlzdCBpbiBSZWFjdCBOYXRpdmUsIGJ1dCB3aW5kb3cgZG9lc1xuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby11bm5lY2Vzc2FyeS1jb25kaXRpb25cbiAgICAgIGlmICghaXNTZXJ2ZXIgJiYgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIpIHtcbiAgICAgICAgY29uc3QgbGlzdGVuZXIgPSAoKSA9PiBvbkZvY3VzKCk7IC8vIExpc3RlbiB0byB2aXNpYmlsbGl0eWNoYW5nZSBhbmQgZm9jdXNcblxuXG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCd2aXNpYmlsaXR5Y2hhbmdlJywgbGlzdGVuZXIsIGZhbHNlKTtcbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2ZvY3VzJywgbGlzdGVuZXIsIGZhbHNlKTtcbiAgICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgICAvLyBCZSBzdXJlIHRvIHVuc3Vic2NyaWJlIGlmIGEgbmV3IGhhbmRsZXIgaXMgc2V0XG4gICAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Zpc2liaWxpdHljaGFuZ2UnLCBsaXN0ZW5lcik7XG4gICAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2ZvY3VzJywgbGlzdGVuZXIpO1xuICAgICAgICB9O1xuICAgICAgfVxuXG4gICAgICByZXR1cm47XG4gICAgfTtcbiAgfVxuXG4gIG9uU3Vic2NyaWJlKCkge1xuICAgIGlmICghdGhpcy5jbGVhbnVwKSB7XG4gICAgICB0aGlzLnNldEV2ZW50TGlzdGVuZXIodGhpcy5zZXR1cCk7XG4gICAgfVxuICB9XG5cbiAgb25VbnN1YnNjcmliZSgpIHtcbiAgICBpZiAoIXRoaXMuaGFzTGlzdGVuZXJzKCkpIHtcbiAgICAgIHZhciBfdGhpcyRjbGVhbnVwO1xuXG4gICAgICAoX3RoaXMkY2xlYW51cCA9IHRoaXMuY2xlYW51cCkgPT0gbnVsbCA/IHZvaWQgMCA6IF90aGlzJGNsZWFudXAuY2FsbCh0aGlzKTtcbiAgICAgIHRoaXMuY2xlYW51cCA9IHVuZGVmaW5lZDtcbiAgICB9XG4gIH1cblxuICBzZXRFdmVudExpc3RlbmVyKHNldHVwKSB7XG4gICAgdmFyIF90aGlzJGNsZWFudXAyO1xuXG4gICAgdGhpcy5zZXR1cCA9IHNldHVwO1xuICAgIChfdGhpcyRjbGVhbnVwMiA9IHRoaXMuY2xlYW51cCkgPT0gbnVsbCA/IHZvaWQgMCA6IF90aGlzJGNsZWFudXAyLmNhbGwodGhpcyk7XG4gICAgdGhpcy5jbGVhbnVwID0gc2V0dXAoZm9jdXNlZCA9PiB7XG4gICAgICBpZiAodHlwZW9mIGZvY3VzZWQgPT09ICdib29sZWFuJykge1xuICAgICAgICB0aGlzLnNldEZvY3VzZWQoZm9jdXNlZCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLm9uRm9jdXMoKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIHNldEZvY3VzZWQoZm9jdXNlZCkge1xuICAgIHRoaXMuZm9jdXNlZCA9IGZvY3VzZWQ7XG5cbiAgICBpZiAoZm9jdXNlZCkge1xuICAgICAgdGhpcy5vbkZvY3VzKCk7XG4gICAgfVxuICB9XG5cbiAgb25Gb2N1cygpIHtcbiAgICB0aGlzLmxpc3RlbmVycy5mb3JFYWNoKGxpc3RlbmVyID0+IHtcbiAgICAgIGxpc3RlbmVyKCk7XG4gICAgfSk7XG4gIH1cblxuICBpc0ZvY3VzZWQoKSB7XG4gICAgaWYgKHR5cGVvZiB0aGlzLmZvY3VzZWQgPT09ICdib29sZWFuJykge1xuICAgICAgcmV0dXJuIHRoaXMuZm9jdXNlZDtcbiAgICB9IC8vIGRvY3VtZW50IGdsb2JhbCBjYW4gYmUgdW5hdmFpbGFibGUgaW4gcmVhY3QgbmF0aXZlXG5cblxuICAgIGlmICh0eXBlb2YgZG9jdW1lbnQgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICByZXR1cm4gW3VuZGVmaW5lZCwgJ3Zpc2libGUnLCAncHJlcmVuZGVyJ10uaW5jbHVkZXMoZG9jdW1lbnQudmlzaWJpbGl0eVN0YXRlKTtcbiAgfVxuXG59XG5jb25zdCBmb2N1c01hbmFnZXIgPSBuZXcgRm9jdXNNYW5hZ2VyKCk7XG5cbmV4cG9ydCB7IEZvY3VzTWFuYWdlciwgZm9jdXNNYW5hZ2VyIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1mb2N1c01hbmFnZXIuZXNtLmpzLm1hcFxuIiwiaW1wb3J0IHsgU3Vic2NyaWJhYmxlIH0gZnJvbSAnLi9zdWJzY3JpYmFibGUuZXNtLmpzJztcbmltcG9ydCB7IGlzU2VydmVyIH0gZnJvbSAnLi91dGlscy5lc20uanMnO1xuXG5jbGFzcyBPbmxpbmVNYW5hZ2VyIGV4dGVuZHMgU3Vic2NyaWJhYmxlIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoKTtcblxuICAgIHRoaXMuc2V0dXAgPSBvbk9ubGluZSA9PiB7XG4gICAgICAvLyBhZGRFdmVudExpc3RlbmVyIGRvZXMgbm90IGV4aXN0IGluIFJlYWN0IE5hdGl2ZSwgYnV0IHdpbmRvdyBkb2VzXG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXVubmVjZXNzYXJ5LWNvbmRpdGlvblxuICAgICAgaWYgKCFpc1NlcnZlciAmJiB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcikge1xuICAgICAgICBjb25zdCBsaXN0ZW5lciA9ICgpID0+IG9uT25saW5lKCk7IC8vIExpc3RlbiB0byBvbmxpbmVcblxuXG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdvbmxpbmUnLCBsaXN0ZW5lciwgZmFsc2UpO1xuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignb2ZmbGluZScsIGxpc3RlbmVyLCBmYWxzZSk7XG4gICAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgICAgLy8gQmUgc3VyZSB0byB1bnN1YnNjcmliZSBpZiBhIG5ldyBoYW5kbGVyIGlzIHNldFxuICAgICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdvbmxpbmUnLCBsaXN0ZW5lcik7XG4gICAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ29mZmxpbmUnLCBsaXN0ZW5lcik7XG4gICAgICAgIH07XG4gICAgICB9XG5cbiAgICAgIHJldHVybjtcbiAgICB9O1xuICB9XG5cbiAgb25TdWJzY3JpYmUoKSB7XG4gICAgaWYgKCF0aGlzLmNsZWFudXApIHtcbiAgICAgIHRoaXMuc2V0RXZlbnRMaXN0ZW5lcih0aGlzLnNldHVwKTtcbiAgICB9XG4gIH1cblxuICBvblVuc3Vic2NyaWJlKCkge1xuICAgIGlmICghdGhpcy5oYXNMaXN0ZW5lcnMoKSkge1xuICAgICAgdmFyIF90aGlzJGNsZWFudXA7XG5cbiAgICAgIChfdGhpcyRjbGVhbnVwID0gdGhpcy5jbGVhbnVwKSA9PSBudWxsID8gdm9pZCAwIDogX3RoaXMkY2xlYW51cC5jYWxsKHRoaXMpO1xuICAgICAgdGhpcy5jbGVhbnVwID0gdW5kZWZpbmVkO1xuICAgIH1cbiAgfVxuXG4gIHNldEV2ZW50TGlzdGVuZXIoc2V0dXApIHtcbiAgICB2YXIgX3RoaXMkY2xlYW51cDI7XG5cbiAgICB0aGlzLnNldHVwID0gc2V0dXA7XG4gICAgKF90aGlzJGNsZWFudXAyID0gdGhpcy5jbGVhbnVwKSA9PSBudWxsID8gdm9pZCAwIDogX3RoaXMkY2xlYW51cDIuY2FsbCh0aGlzKTtcbiAgICB0aGlzLmNsZWFudXAgPSBzZXR1cChvbmxpbmUgPT4ge1xuICAgICAgaWYgKHR5cGVvZiBvbmxpbmUgPT09ICdib29sZWFuJykge1xuICAgICAgICB0aGlzLnNldE9ubGluZShvbmxpbmUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5vbk9ubGluZSgpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgc2V0T25saW5lKG9ubGluZSkge1xuICAgIHRoaXMub25saW5lID0gb25saW5lO1xuXG4gICAgaWYgKG9ubGluZSkge1xuICAgICAgdGhpcy5vbk9ubGluZSgpO1xuICAgIH1cbiAgfVxuXG4gIG9uT25saW5lKCkge1xuICAgIHRoaXMubGlzdGVuZXJzLmZvckVhY2gobGlzdGVuZXIgPT4ge1xuICAgICAgbGlzdGVuZXIoKTtcbiAgICB9KTtcbiAgfVxuXG4gIGlzT25saW5lKCkge1xuICAgIGlmICh0eXBlb2YgdGhpcy5vbmxpbmUgPT09ICdib29sZWFuJykge1xuICAgICAgcmV0dXJuIHRoaXMub25saW5lO1xuICAgIH1cblxuICAgIGlmICh0eXBlb2YgbmF2aWdhdG9yID09PSAndW5kZWZpbmVkJyB8fCB0eXBlb2YgbmF2aWdhdG9yLm9uTGluZSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIHJldHVybiBuYXZpZ2F0b3Iub25MaW5lO1xuICB9XG5cbn1cbmNvbnN0IG9ubGluZU1hbmFnZXIgPSBuZXcgT25saW5lTWFuYWdlcigpO1xuXG5leHBvcnQgeyBPbmxpbmVNYW5hZ2VyLCBvbmxpbmVNYW5hZ2VyIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1vbmxpbmVNYW5hZ2VyLmVzbS5qcy5tYXBcbiIsImltcG9ydCB7IGZvY3VzTWFuYWdlciB9IGZyb20gJy4vZm9jdXNNYW5hZ2VyLmVzbS5qcyc7XG5pbXBvcnQgeyBvbmxpbmVNYW5hZ2VyIH0gZnJvbSAnLi9vbmxpbmVNYW5hZ2VyLmVzbS5qcyc7XG5pbXBvcnQgeyBzbGVlcCB9IGZyb20gJy4vdXRpbHMuZXNtLmpzJztcblxuZnVuY3Rpb24gZGVmYXVsdFJldHJ5RGVsYXkoZmFpbHVyZUNvdW50KSB7XG4gIHJldHVybiBNYXRoLm1pbigxMDAwICogMiAqKiBmYWlsdXJlQ291bnQsIDMwMDAwKTtcbn1cblxuZnVuY3Rpb24gY2FuRmV0Y2gobmV0d29ya01vZGUpIHtcbiAgcmV0dXJuIChuZXR3b3JrTW9kZSAhPSBudWxsID8gbmV0d29ya01vZGUgOiAnb25saW5lJykgPT09ICdvbmxpbmUnID8gb25saW5lTWFuYWdlci5pc09ubGluZSgpIDogdHJ1ZTtcbn1cbmNsYXNzIENhbmNlbGxlZEVycm9yIHtcbiAgY29uc3RydWN0b3Iob3B0aW9ucykge1xuICAgIHRoaXMucmV2ZXJ0ID0gb3B0aW9ucyA9PSBudWxsID8gdm9pZCAwIDogb3B0aW9ucy5yZXZlcnQ7XG4gICAgdGhpcy5zaWxlbnQgPSBvcHRpb25zID09IG51bGwgPyB2b2lkIDAgOiBvcHRpb25zLnNpbGVudDtcbiAgfVxuXG59XG5mdW5jdGlvbiBpc0NhbmNlbGxlZEVycm9yKHZhbHVlKSB7XG4gIHJldHVybiB2YWx1ZSBpbnN0YW5jZW9mIENhbmNlbGxlZEVycm9yO1xufVxuZnVuY3Rpb24gY3JlYXRlUmV0cnllcihjb25maWcpIHtcbiAgbGV0IGlzUmV0cnlDYW5jZWxsZWQgPSBmYWxzZTtcbiAgbGV0IGZhaWx1cmVDb3VudCA9IDA7XG4gIGxldCBpc1Jlc29sdmVkID0gZmFsc2U7XG4gIGxldCBjb250aW51ZUZuO1xuICBsZXQgcHJvbWlzZVJlc29sdmU7XG4gIGxldCBwcm9taXNlUmVqZWN0O1xuICBjb25zdCBwcm9taXNlID0gbmV3IFByb21pc2UoKG91dGVyUmVzb2x2ZSwgb3V0ZXJSZWplY3QpID0+IHtcbiAgICBwcm9taXNlUmVzb2x2ZSA9IG91dGVyUmVzb2x2ZTtcbiAgICBwcm9taXNlUmVqZWN0ID0gb3V0ZXJSZWplY3Q7XG4gIH0pO1xuXG4gIGNvbnN0IGNhbmNlbCA9IGNhbmNlbE9wdGlvbnMgPT4ge1xuICAgIGlmICghaXNSZXNvbHZlZCkge1xuICAgICAgcmVqZWN0KG5ldyBDYW5jZWxsZWRFcnJvcihjYW5jZWxPcHRpb25zKSk7XG4gICAgICBjb25maWcuYWJvcnQgPT0gbnVsbCA/IHZvaWQgMCA6IGNvbmZpZy5hYm9ydCgpO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCBjYW5jZWxSZXRyeSA9ICgpID0+IHtcbiAgICBpc1JldHJ5Q2FuY2VsbGVkID0gdHJ1ZTtcbiAgfTtcblxuICBjb25zdCBjb250aW51ZVJldHJ5ID0gKCkgPT4ge1xuICAgIGlzUmV0cnlDYW5jZWxsZWQgPSBmYWxzZTtcbiAgfTtcblxuICBjb25zdCBzaG91bGRQYXVzZSA9ICgpID0+ICFmb2N1c01hbmFnZXIuaXNGb2N1c2VkKCkgfHwgY29uZmlnLm5ldHdvcmtNb2RlICE9PSAnYWx3YXlzJyAmJiAhb25saW5lTWFuYWdlci5pc09ubGluZSgpO1xuXG4gIGNvbnN0IHJlc29sdmUgPSB2YWx1ZSA9PiB7XG4gICAgaWYgKCFpc1Jlc29sdmVkKSB7XG4gICAgICBpc1Jlc29sdmVkID0gdHJ1ZTtcbiAgICAgIGNvbmZpZy5vblN1Y2Nlc3MgPT0gbnVsbCA/IHZvaWQgMCA6IGNvbmZpZy5vblN1Y2Nlc3ModmFsdWUpO1xuICAgICAgY29udGludWVGbiA9PSBudWxsID8gdm9pZCAwIDogY29udGludWVGbigpO1xuICAgICAgcHJvbWlzZVJlc29sdmUodmFsdWUpO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCByZWplY3QgPSB2YWx1ZSA9PiB7XG4gICAgaWYgKCFpc1Jlc29sdmVkKSB7XG4gICAgICBpc1Jlc29sdmVkID0gdHJ1ZTtcbiAgICAgIGNvbmZpZy5vbkVycm9yID09IG51bGwgPyB2b2lkIDAgOiBjb25maWcub25FcnJvcih2YWx1ZSk7XG4gICAgICBjb250aW51ZUZuID09IG51bGwgPyB2b2lkIDAgOiBjb250aW51ZUZuKCk7XG4gICAgICBwcm9taXNlUmVqZWN0KHZhbHVlKTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgcGF1c2UgPSAoKSA9PiB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKGNvbnRpbnVlUmVzb2x2ZSA9PiB7XG4gICAgICBjb250aW51ZUZuID0gdmFsdWUgPT4ge1xuICAgICAgICBjb25zdCBjYW5Db250aW51ZSA9IGlzUmVzb2x2ZWQgfHwgIXNob3VsZFBhdXNlKCk7XG5cbiAgICAgICAgaWYgKGNhbkNvbnRpbnVlKSB7XG4gICAgICAgICAgY29udGludWVSZXNvbHZlKHZhbHVlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBjYW5Db250aW51ZTtcbiAgICAgIH07XG5cbiAgICAgIGNvbmZpZy5vblBhdXNlID09IG51bGwgPyB2b2lkIDAgOiBjb25maWcub25QYXVzZSgpO1xuICAgIH0pLnRoZW4oKCkgPT4ge1xuICAgICAgY29udGludWVGbiA9IHVuZGVmaW5lZDtcblxuICAgICAgaWYgKCFpc1Jlc29sdmVkKSB7XG4gICAgICAgIGNvbmZpZy5vbkNvbnRpbnVlID09IG51bGwgPyB2b2lkIDAgOiBjb25maWcub25Db250aW51ZSgpO1xuICAgICAgfVxuICAgIH0pO1xuICB9OyAvLyBDcmVhdGUgbG9vcCBmdW5jdGlvblxuXG5cbiAgY29uc3QgcnVuID0gKCkgPT4ge1xuICAgIC8vIERvIG5vdGhpbmcgaWYgYWxyZWFkeSByZXNvbHZlZFxuICAgIGlmIChpc1Jlc29sdmVkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgbGV0IHByb21pc2VPclZhbHVlOyAvLyBFeGVjdXRlIHF1ZXJ5XG5cbiAgICB0cnkge1xuICAgICAgcHJvbWlzZU9yVmFsdWUgPSBjb25maWcuZm4oKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgcHJvbWlzZU9yVmFsdWUgPSBQcm9taXNlLnJlamVjdChlcnJvcik7XG4gICAgfVxuXG4gICAgUHJvbWlzZS5yZXNvbHZlKHByb21pc2VPclZhbHVlKS50aGVuKHJlc29sdmUpLmNhdGNoKGVycm9yID0+IHtcbiAgICAgIHZhciBfY29uZmlnJHJldHJ5LCBfY29uZmlnJHJldHJ5RGVsYXk7XG5cbiAgICAgIC8vIFN0b3AgaWYgdGhlIGZldGNoIGlzIGFscmVhZHkgcmVzb2x2ZWRcbiAgICAgIGlmIChpc1Jlc29sdmVkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH0gLy8gRG8gd2UgbmVlZCB0byByZXRyeSB0aGUgcmVxdWVzdD9cblxuXG4gICAgICBjb25zdCByZXRyeSA9IChfY29uZmlnJHJldHJ5ID0gY29uZmlnLnJldHJ5KSAhPSBudWxsID8gX2NvbmZpZyRyZXRyeSA6IDM7XG4gICAgICBjb25zdCByZXRyeURlbGF5ID0gKF9jb25maWckcmV0cnlEZWxheSA9IGNvbmZpZy5yZXRyeURlbGF5KSAhPSBudWxsID8gX2NvbmZpZyRyZXRyeURlbGF5IDogZGVmYXVsdFJldHJ5RGVsYXk7XG4gICAgICBjb25zdCBkZWxheSA9IHR5cGVvZiByZXRyeURlbGF5ID09PSAnZnVuY3Rpb24nID8gcmV0cnlEZWxheShmYWlsdXJlQ291bnQsIGVycm9yKSA6IHJldHJ5RGVsYXk7XG4gICAgICBjb25zdCBzaG91bGRSZXRyeSA9IHJldHJ5ID09PSB0cnVlIHx8IHR5cGVvZiByZXRyeSA9PT0gJ251bWJlcicgJiYgZmFpbHVyZUNvdW50IDwgcmV0cnkgfHwgdHlwZW9mIHJldHJ5ID09PSAnZnVuY3Rpb24nICYmIHJldHJ5KGZhaWx1cmVDb3VudCwgZXJyb3IpO1xuXG4gICAgICBpZiAoaXNSZXRyeUNhbmNlbGxlZCB8fCAhc2hvdWxkUmV0cnkpIHtcbiAgICAgICAgLy8gV2UgYXJlIGRvbmUgaWYgdGhlIHF1ZXJ5IGRvZXMgbm90IG5lZWQgdG8gYmUgcmV0cmllZFxuICAgICAgICByZWplY3QoZXJyb3IpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGZhaWx1cmVDb3VudCsrOyAvLyBOb3RpZnkgb24gZmFpbFxuXG4gICAgICBjb25maWcub25GYWlsID09IG51bGwgPyB2b2lkIDAgOiBjb25maWcub25GYWlsKGZhaWx1cmVDb3VudCwgZXJyb3IpOyAvLyBEZWxheVxuXG4gICAgICBzbGVlcChkZWxheSkgLy8gUGF1c2UgaWYgdGhlIGRvY3VtZW50IGlzIG5vdCB2aXNpYmxlIG9yIHdoZW4gdGhlIGRldmljZSBpcyBvZmZsaW5lXG4gICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgIGlmIChzaG91bGRQYXVzZSgpKSB7XG4gICAgICAgICAgcmV0dXJuIHBhdXNlKCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm47XG4gICAgICB9KS50aGVuKCgpID0+IHtcbiAgICAgICAgaWYgKGlzUmV0cnlDYW5jZWxsZWQpIHtcbiAgICAgICAgICByZWplY3QoZXJyb3IpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJ1bigpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfTsgLy8gU3RhcnQgbG9vcFxuXG5cbiAgaWYgKGNhbkZldGNoKGNvbmZpZy5uZXR3b3JrTW9kZSkpIHtcbiAgICBydW4oKTtcbiAgfSBlbHNlIHtcbiAgICBwYXVzZSgpLnRoZW4ocnVuKTtcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgcHJvbWlzZSxcbiAgICBjYW5jZWwsXG4gICAgY29udGludWU6ICgpID0+IHtcbiAgICAgIGNvbnN0IGRpZENvbnRpbnVlID0gY29udGludWVGbiA9PSBudWxsID8gdm9pZCAwIDogY29udGludWVGbigpO1xuICAgICAgcmV0dXJuIGRpZENvbnRpbnVlID8gcHJvbWlzZSA6IFByb21pc2UucmVzb2x2ZSgpO1xuICAgIH0sXG4gICAgY2FuY2VsUmV0cnksXG4gICAgY29udGludWVSZXRyeVxuICB9O1xufVxuXG5leHBvcnQgeyBDYW5jZWxsZWRFcnJvciwgY2FuRmV0Y2gsIGNyZWF0ZVJldHJ5ZXIsIGlzQ2FuY2VsbGVkRXJyb3IgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXJldHJ5ZXIuZXNtLmpzLm1hcFxuIiwiY29uc3QgZGVmYXVsdExvZ2dlciA9IGNvbnNvbGU7XG5cbmV4cG9ydCB7IGRlZmF1bHRMb2dnZXIgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWxvZ2dlci5lc20uanMubWFwXG4iLCJpbXBvcnQgeyBzY2hlZHVsZU1pY3JvdGFzayB9IGZyb20gJy4vdXRpbHMuZXNtLmpzJztcblxuZnVuY3Rpb24gY3JlYXRlTm90aWZ5TWFuYWdlcigpIHtcbiAgbGV0IHF1ZXVlID0gW107XG4gIGxldCB0cmFuc2FjdGlvbnMgPSAwO1xuXG4gIGxldCBub3RpZnlGbiA9IGNhbGxiYWNrID0+IHtcbiAgICBjYWxsYmFjaygpO1xuICB9O1xuXG4gIGxldCBiYXRjaE5vdGlmeUZuID0gY2FsbGJhY2sgPT4ge1xuICAgIGNhbGxiYWNrKCk7XG4gIH07XG5cbiAgY29uc3QgYmF0Y2ggPSBjYWxsYmFjayA9PiB7XG4gICAgbGV0IHJlc3VsdDtcbiAgICB0cmFuc2FjdGlvbnMrKztcblxuICAgIHRyeSB7XG4gICAgICByZXN1bHQgPSBjYWxsYmFjaygpO1xuICAgIH0gZmluYWxseSB7XG4gICAgICB0cmFuc2FjdGlvbnMtLTtcblxuICAgICAgaWYgKCF0cmFuc2FjdGlvbnMpIHtcbiAgICAgICAgZmx1c2goKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9O1xuXG4gIGNvbnN0IHNjaGVkdWxlID0gY2FsbGJhY2sgPT4ge1xuICAgIGlmICh0cmFuc2FjdGlvbnMpIHtcbiAgICAgIHF1ZXVlLnB1c2goY2FsbGJhY2spO1xuICAgIH0gZWxzZSB7XG4gICAgICBzY2hlZHVsZU1pY3JvdGFzaygoKSA9PiB7XG4gICAgICAgIG5vdGlmeUZuKGNhbGxiYWNrKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcbiAgLyoqXG4gICAqIEFsbCBjYWxscyB0byB0aGUgd3JhcHBlZCBmdW5jdGlvbiB3aWxsIGJlIGJhdGNoZWQuXG4gICAqL1xuXG5cbiAgY29uc3QgYmF0Y2hDYWxscyA9IGNhbGxiYWNrID0+IHtcbiAgICByZXR1cm4gKC4uLmFyZ3MpID0+IHtcbiAgICAgIHNjaGVkdWxlKCgpID0+IHtcbiAgICAgICAgY2FsbGJhY2soLi4uYXJncyk7XG4gICAgICB9KTtcbiAgICB9O1xuICB9O1xuXG4gIGNvbnN0IGZsdXNoID0gKCkgPT4ge1xuICAgIGNvbnN0IG9yaWdpbmFsUXVldWUgPSBxdWV1ZTtcbiAgICBxdWV1ZSA9IFtdO1xuXG4gICAgaWYgKG9yaWdpbmFsUXVldWUubGVuZ3RoKSB7XG4gICAgICBzY2hlZHVsZU1pY3JvdGFzaygoKSA9PiB7XG4gICAgICAgIGJhdGNoTm90aWZ5Rm4oKCkgPT4ge1xuICAgICAgICAgIG9yaWdpbmFsUXVldWUuZm9yRWFjaChjYWxsYmFjayA9PiB7XG4gICAgICAgICAgICBub3RpZnlGbihjYWxsYmFjayk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfVxuICB9O1xuICAvKipcbiAgICogVXNlIHRoaXMgbWV0aG9kIHRvIHNldCBhIGN1c3RvbSBub3RpZnkgZnVuY3Rpb24uXG4gICAqIFRoaXMgY2FuIGJlIHVzZWQgdG8gZm9yIGV4YW1wbGUgd3JhcCBub3RpZmljYXRpb25zIHdpdGggYFJlYWN0LmFjdGAgd2hpbGUgcnVubmluZyB0ZXN0cy5cbiAgICovXG5cblxuICBjb25zdCBzZXROb3RpZnlGdW5jdGlvbiA9IGZuID0+IHtcbiAgICBub3RpZnlGbiA9IGZuO1xuICB9O1xuICAvKipcbiAgICogVXNlIHRoaXMgbWV0aG9kIHRvIHNldCBhIGN1c3RvbSBmdW5jdGlvbiB0byBiYXRjaCBub3RpZmljYXRpb25zIHRvZ2V0aGVyIGludG8gYSBzaW5nbGUgdGljay5cbiAgICogQnkgZGVmYXVsdCBSZWFjdCBRdWVyeSB3aWxsIHVzZSB0aGUgYmF0Y2ggZnVuY3Rpb24gcHJvdmlkZWQgYnkgUmVhY3RET00gb3IgUmVhY3QgTmF0aXZlLlxuICAgKi9cblxuXG4gIGNvbnN0IHNldEJhdGNoTm90aWZ5RnVuY3Rpb24gPSBmbiA9PiB7XG4gICAgYmF0Y2hOb3RpZnlGbiA9IGZuO1xuICB9O1xuXG4gIHJldHVybiB7XG4gICAgYmF0Y2gsXG4gICAgYmF0Y2hDYWxscyxcbiAgICBzY2hlZHVsZSxcbiAgICBzZXROb3RpZnlGdW5jdGlvbixcbiAgICBzZXRCYXRjaE5vdGlmeUZ1bmN0aW9uXG4gIH07XG59IC8vIFNJTkdMRVRPTlxuXG5jb25zdCBub3RpZnlNYW5hZ2VyID0gY3JlYXRlTm90aWZ5TWFuYWdlcigpO1xuXG5leHBvcnQgeyBjcmVhdGVOb3RpZnlNYW5hZ2VyLCBub3RpZnlNYW5hZ2VyIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1ub3RpZnlNYW5hZ2VyLmVzbS5qcy5tYXBcbiIsImltcG9ydCB7IGlzVmFsaWRUaW1lb3V0LCBpc1NlcnZlciB9IGZyb20gJy4vdXRpbHMuZXNtLmpzJztcblxuY2xhc3MgUmVtb3ZhYmxlIHtcbiAgZGVzdHJveSgpIHtcbiAgICB0aGlzLmNsZWFyR2NUaW1lb3V0KCk7XG4gIH1cblxuICBzY2hlZHVsZUdjKCkge1xuICAgIHRoaXMuY2xlYXJHY1RpbWVvdXQoKTtcblxuICAgIGlmIChpc1ZhbGlkVGltZW91dCh0aGlzLmNhY2hlVGltZSkpIHtcbiAgICAgIHRoaXMuZ2NUaW1lb3V0ID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIHRoaXMub3B0aW9uYWxSZW1vdmUoKTtcbiAgICAgIH0sIHRoaXMuY2FjaGVUaW1lKTtcbiAgICB9XG4gIH1cblxuICB1cGRhdGVDYWNoZVRpbWUobmV3Q2FjaGVUaW1lKSB7XG4gICAgLy8gRGVmYXVsdCB0byA1IG1pbnV0ZXMgKEluZmluaXR5IGZvciBzZXJ2ZXItc2lkZSkgaWYgbm8gY2FjaGUgdGltZSBpcyBzZXRcbiAgICB0aGlzLmNhY2hlVGltZSA9IE1hdGgubWF4KHRoaXMuY2FjaGVUaW1lIHx8IDAsIG5ld0NhY2hlVGltZSAhPSBudWxsID8gbmV3Q2FjaGVUaW1lIDogaXNTZXJ2ZXIgPyBJbmZpbml0eSA6IDUgKiA2MCAqIDEwMDApO1xuICB9XG5cbiAgY2xlYXJHY1RpbWVvdXQoKSB7XG4gICAgaWYgKHRoaXMuZ2NUaW1lb3V0KSB7XG4gICAgICBjbGVhclRpbWVvdXQodGhpcy5nY1RpbWVvdXQpO1xuICAgICAgdGhpcy5nY1RpbWVvdXQgPSB1bmRlZmluZWQ7XG4gICAgfVxuICB9XG5cbn1cblxuZXhwb3J0IHsgUmVtb3ZhYmxlIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1yZW1vdmFibGUuZXNtLmpzLm1hcFxuIiwiaW1wb3J0IHsgcmVwbGFjZURhdGEsIG5vb3AsIHRpbWVVbnRpbFN0YWxlLCBnZXRBYm9ydENvbnRyb2xsZXIgfSBmcm9tICcuL3V0aWxzLmVzbS5qcyc7XG5pbXBvcnQgeyBkZWZhdWx0TG9nZ2VyIH0gZnJvbSAnLi9sb2dnZXIuZXNtLmpzJztcbmltcG9ydCB7IG5vdGlmeU1hbmFnZXIgfSBmcm9tICcuL25vdGlmeU1hbmFnZXIuZXNtLmpzJztcbmltcG9ydCB7IGNyZWF0ZVJldHJ5ZXIsIGlzQ2FuY2VsbGVkRXJyb3IsIGNhbkZldGNoIH0gZnJvbSAnLi9yZXRyeWVyLmVzbS5qcyc7XG5pbXBvcnQgeyBSZW1vdmFibGUgfSBmcm9tICcuL3JlbW92YWJsZS5lc20uanMnO1xuXG4vLyBDTEFTU1xuY2xhc3MgUXVlcnkgZXh0ZW5kcyBSZW1vdmFibGUge1xuICBjb25zdHJ1Y3Rvcihjb25maWcpIHtcbiAgICBzdXBlcigpO1xuICAgIHRoaXMuYWJvcnRTaWduYWxDb25zdW1lZCA9IGZhbHNlO1xuICAgIHRoaXMuZGVmYXVsdE9wdGlvbnMgPSBjb25maWcuZGVmYXVsdE9wdGlvbnM7XG4gICAgdGhpcy5zZXRPcHRpb25zKGNvbmZpZy5vcHRpb25zKTtcbiAgICB0aGlzLm9ic2VydmVycyA9IFtdO1xuICAgIHRoaXMuY2FjaGUgPSBjb25maWcuY2FjaGU7XG4gICAgdGhpcy5sb2dnZXIgPSBjb25maWcubG9nZ2VyIHx8IGRlZmF1bHRMb2dnZXI7XG4gICAgdGhpcy5xdWVyeUtleSA9IGNvbmZpZy5xdWVyeUtleTtcbiAgICB0aGlzLnF1ZXJ5SGFzaCA9IGNvbmZpZy5xdWVyeUhhc2g7XG4gICAgdGhpcy5pbml0aWFsU3RhdGUgPSBjb25maWcuc3RhdGUgfHwgZ2V0RGVmYXVsdFN0YXRlKHRoaXMub3B0aW9ucyk7XG4gICAgdGhpcy5zdGF0ZSA9IHRoaXMuaW5pdGlhbFN0YXRlO1xuICAgIHRoaXMuc2NoZWR1bGVHYygpO1xuICB9XG5cbiAgZ2V0IG1ldGEoKSB7XG4gICAgcmV0dXJuIHRoaXMub3B0aW9ucy5tZXRhO1xuICB9XG5cbiAgc2V0T3B0aW9ucyhvcHRpb25zKSB7XG4gICAgdGhpcy5vcHRpb25zID0geyAuLi50aGlzLmRlZmF1bHRPcHRpb25zLFxuICAgICAgLi4ub3B0aW9uc1xuICAgIH07XG4gICAgdGhpcy51cGRhdGVDYWNoZVRpbWUodGhpcy5vcHRpb25zLmNhY2hlVGltZSk7XG4gIH1cblxuICBvcHRpb25hbFJlbW92ZSgpIHtcbiAgICBpZiAoIXRoaXMub2JzZXJ2ZXJzLmxlbmd0aCAmJiB0aGlzLnN0YXRlLmZldGNoU3RhdHVzID09PSAnaWRsZScpIHtcbiAgICAgIHRoaXMuY2FjaGUucmVtb3ZlKHRoaXMpO1xuICAgIH1cbiAgfVxuXG4gIHNldERhdGEobmV3RGF0YSwgb3B0aW9ucykge1xuICAgIGNvbnN0IGRhdGEgPSByZXBsYWNlRGF0YSh0aGlzLnN0YXRlLmRhdGEsIG5ld0RhdGEsIHRoaXMub3B0aW9ucyk7IC8vIFNldCBkYXRhIGFuZCBtYXJrIGl0IGFzIGNhY2hlZFxuXG4gICAgdGhpcy5kaXNwYXRjaCh7XG4gICAgICBkYXRhLFxuICAgICAgdHlwZTogJ3N1Y2Nlc3MnLFxuICAgICAgZGF0YVVwZGF0ZWRBdDogb3B0aW9ucyA9PSBudWxsID8gdm9pZCAwIDogb3B0aW9ucy51cGRhdGVkQXQsXG4gICAgICBtYW51YWw6IG9wdGlvbnMgPT0gbnVsbCA/IHZvaWQgMCA6IG9wdGlvbnMubWFudWFsXG4gICAgfSk7XG4gICAgcmV0dXJuIGRhdGE7XG4gIH1cblxuICBzZXRTdGF0ZShzdGF0ZSwgc2V0U3RhdGVPcHRpb25zKSB7XG4gICAgdGhpcy5kaXNwYXRjaCh7XG4gICAgICB0eXBlOiAnc2V0U3RhdGUnLFxuICAgICAgc3RhdGUsXG4gICAgICBzZXRTdGF0ZU9wdGlvbnNcbiAgICB9KTtcbiAgfVxuXG4gIGNhbmNlbChvcHRpb25zKSB7XG4gICAgdmFyIF90aGlzJHJldHJ5ZXI7XG5cbiAgICBjb25zdCBwcm9taXNlID0gdGhpcy5wcm9taXNlO1xuICAgIChfdGhpcyRyZXRyeWVyID0gdGhpcy5yZXRyeWVyKSA9PSBudWxsID8gdm9pZCAwIDogX3RoaXMkcmV0cnllci5jYW5jZWwob3B0aW9ucyk7XG4gICAgcmV0dXJuIHByb21pc2UgPyBwcm9taXNlLnRoZW4obm9vcCkuY2F0Y2gobm9vcCkgOiBQcm9taXNlLnJlc29sdmUoKTtcbiAgfVxuXG4gIGRlc3Ryb3koKSB7XG4gICAgc3VwZXIuZGVzdHJveSgpO1xuICAgIHRoaXMuY2FuY2VsKHtcbiAgICAgIHNpbGVudDogdHJ1ZVxuICAgIH0pO1xuICB9XG5cbiAgcmVzZXQoKSB7XG4gICAgdGhpcy5kZXN0cm95KCk7XG4gICAgdGhpcy5zZXRTdGF0ZSh0aGlzLmluaXRpYWxTdGF0ZSk7XG4gIH1cblxuICBpc0FjdGl2ZSgpIHtcbiAgICByZXR1cm4gdGhpcy5vYnNlcnZlcnMuc29tZShvYnNlcnZlciA9PiBvYnNlcnZlci5vcHRpb25zLmVuYWJsZWQgIT09IGZhbHNlKTtcbiAgfVxuXG4gIGlzRGlzYWJsZWQoKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0T2JzZXJ2ZXJzQ291bnQoKSA+IDAgJiYgIXRoaXMuaXNBY3RpdmUoKTtcbiAgfVxuXG4gIGlzU3RhbGUoKSB7XG4gICAgcmV0dXJuIHRoaXMuc3RhdGUuaXNJbnZhbGlkYXRlZCB8fCAhdGhpcy5zdGF0ZS5kYXRhVXBkYXRlZEF0IHx8IHRoaXMub2JzZXJ2ZXJzLnNvbWUob2JzZXJ2ZXIgPT4gb2JzZXJ2ZXIuZ2V0Q3VycmVudFJlc3VsdCgpLmlzU3RhbGUpO1xuICB9XG5cbiAgaXNTdGFsZUJ5VGltZShzdGFsZVRpbWUgPSAwKSB7XG4gICAgcmV0dXJuIHRoaXMuc3RhdGUuaXNJbnZhbGlkYXRlZCB8fCAhdGhpcy5zdGF0ZS5kYXRhVXBkYXRlZEF0IHx8ICF0aW1lVW50aWxTdGFsZSh0aGlzLnN0YXRlLmRhdGFVcGRhdGVkQXQsIHN0YWxlVGltZSk7XG4gIH1cblxuICBvbkZvY3VzKCkge1xuICAgIHZhciBfdGhpcyRyZXRyeWVyMjtcblxuICAgIGNvbnN0IG9ic2VydmVyID0gdGhpcy5vYnNlcnZlcnMuZmluZCh4ID0+IHguc2hvdWxkRmV0Y2hPbldpbmRvd0ZvY3VzKCkpO1xuXG4gICAgaWYgKG9ic2VydmVyKSB7XG4gICAgICBvYnNlcnZlci5yZWZldGNoKHtcbiAgICAgICAgY2FuY2VsUmVmZXRjaDogZmFsc2VcbiAgICAgIH0pO1xuICAgIH0gLy8gQ29udGludWUgZmV0Y2ggaWYgY3VycmVudGx5IHBhdXNlZFxuXG5cbiAgICAoX3RoaXMkcmV0cnllcjIgPSB0aGlzLnJldHJ5ZXIpID09IG51bGwgPyB2b2lkIDAgOiBfdGhpcyRyZXRyeWVyMi5jb250aW51ZSgpO1xuICB9XG5cbiAgb25PbmxpbmUoKSB7XG4gICAgdmFyIF90aGlzJHJldHJ5ZXIzO1xuXG4gICAgY29uc3Qgb2JzZXJ2ZXIgPSB0aGlzLm9ic2VydmVycy5maW5kKHggPT4geC5zaG91bGRGZXRjaE9uUmVjb25uZWN0KCkpO1xuXG4gICAgaWYgKG9ic2VydmVyKSB7XG4gICAgICBvYnNlcnZlci5yZWZldGNoKHtcbiAgICAgICAgY2FuY2VsUmVmZXRjaDogZmFsc2VcbiAgICAgIH0pO1xuICAgIH0gLy8gQ29udGludWUgZmV0Y2ggaWYgY3VycmVudGx5IHBhdXNlZFxuXG5cbiAgICAoX3RoaXMkcmV0cnllcjMgPSB0aGlzLnJldHJ5ZXIpID09IG51bGwgPyB2b2lkIDAgOiBfdGhpcyRyZXRyeWVyMy5jb250aW51ZSgpO1xuICB9XG5cbiAgYWRkT2JzZXJ2ZXIob2JzZXJ2ZXIpIHtcbiAgICBpZiAodGhpcy5vYnNlcnZlcnMuaW5kZXhPZihvYnNlcnZlcikgPT09IC0xKSB7XG4gICAgICB0aGlzLm9ic2VydmVycy5wdXNoKG9ic2VydmVyKTsgLy8gU3RvcCB0aGUgcXVlcnkgZnJvbSBiZWluZyBnYXJiYWdlIGNvbGxlY3RlZFxuXG4gICAgICB0aGlzLmNsZWFyR2NUaW1lb3V0KCk7XG4gICAgICB0aGlzLmNhY2hlLm5vdGlmeSh7XG4gICAgICAgIHR5cGU6ICdvYnNlcnZlckFkZGVkJyxcbiAgICAgICAgcXVlcnk6IHRoaXMsXG4gICAgICAgIG9ic2VydmVyXG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICByZW1vdmVPYnNlcnZlcihvYnNlcnZlcikge1xuICAgIGlmICh0aGlzLm9ic2VydmVycy5pbmRleE9mKG9ic2VydmVyKSAhPT0gLTEpIHtcbiAgICAgIHRoaXMub2JzZXJ2ZXJzID0gdGhpcy5vYnNlcnZlcnMuZmlsdGVyKHggPT4geCAhPT0gb2JzZXJ2ZXIpO1xuXG4gICAgICBpZiAoIXRoaXMub2JzZXJ2ZXJzLmxlbmd0aCkge1xuICAgICAgICAvLyBJZiB0aGUgdHJhbnNwb3J0IGxheWVyIGRvZXMgbm90IHN1cHBvcnQgY2FuY2VsbGF0aW9uXG4gICAgICAgIC8vIHdlJ2xsIGxldCB0aGUgcXVlcnkgY29udGludWUgc28gdGhlIHJlc3VsdCBjYW4gYmUgY2FjaGVkXG4gICAgICAgIGlmICh0aGlzLnJldHJ5ZXIpIHtcbiAgICAgICAgICBpZiAodGhpcy5hYm9ydFNpZ25hbENvbnN1bWVkKSB7XG4gICAgICAgICAgICB0aGlzLnJldHJ5ZXIuY2FuY2VsKHtcbiAgICAgICAgICAgICAgcmV2ZXJ0OiB0cnVlXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5yZXRyeWVyLmNhbmNlbFJldHJ5KCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5zY2hlZHVsZUdjKCk7XG4gICAgICB9XG5cbiAgICAgIHRoaXMuY2FjaGUubm90aWZ5KHtcbiAgICAgICAgdHlwZTogJ29ic2VydmVyUmVtb3ZlZCcsXG4gICAgICAgIHF1ZXJ5OiB0aGlzLFxuICAgICAgICBvYnNlcnZlclxuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgZ2V0T2JzZXJ2ZXJzQ291bnQoKSB7XG4gICAgcmV0dXJuIHRoaXMub2JzZXJ2ZXJzLmxlbmd0aDtcbiAgfVxuXG4gIGludmFsaWRhdGUoKSB7XG4gICAgaWYgKCF0aGlzLnN0YXRlLmlzSW52YWxpZGF0ZWQpIHtcbiAgICAgIHRoaXMuZGlzcGF0Y2goe1xuICAgICAgICB0eXBlOiAnaW52YWxpZGF0ZSdcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIGZldGNoKG9wdGlvbnMsIGZldGNoT3B0aW9ucykge1xuICAgIHZhciBfdGhpcyRvcHRpb25zJGJlaGF2aW8sIF9jb250ZXh0JGZldGNoT3B0aW9ucztcblxuICAgIGlmICh0aGlzLnN0YXRlLmZldGNoU3RhdHVzICE9PSAnaWRsZScpIHtcbiAgICAgIGlmICh0aGlzLnN0YXRlLmRhdGFVcGRhdGVkQXQgJiYgZmV0Y2hPcHRpb25zICE9IG51bGwgJiYgZmV0Y2hPcHRpb25zLmNhbmNlbFJlZmV0Y2gpIHtcbiAgICAgICAgLy8gU2lsZW50bHkgY2FuY2VsIGN1cnJlbnQgZmV0Y2ggaWYgdGhlIHVzZXIgd2FudHMgdG8gY2FuY2VsIHJlZmV0Y2hlc1xuICAgICAgICB0aGlzLmNhbmNlbCh7XG4gICAgICAgICAgc2lsZW50OiB0cnVlXG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIGlmICh0aGlzLnByb21pc2UpIHtcbiAgICAgICAgdmFyIF90aGlzJHJldHJ5ZXI0O1xuXG4gICAgICAgIC8vIG1ha2Ugc3VyZSB0aGF0IHJldHJpZXMgdGhhdCB3ZXJlIHBvdGVudGlhbGx5IGNhbmNlbGxlZCBkdWUgdG8gdW5tb3VudHMgY2FuIGNvbnRpbnVlXG4gICAgICAgIChfdGhpcyRyZXRyeWVyNCA9IHRoaXMucmV0cnllcikgPT0gbnVsbCA/IHZvaWQgMCA6IF90aGlzJHJldHJ5ZXI0LmNvbnRpbnVlUmV0cnkoKTsgLy8gUmV0dXJuIGN1cnJlbnQgcHJvbWlzZSBpZiB3ZSBhcmUgYWxyZWFkeSBmZXRjaGluZ1xuXG4gICAgICAgIHJldHVybiB0aGlzLnByb21pc2U7XG4gICAgICB9XG4gICAgfSAvLyBVcGRhdGUgY29uZmlnIGlmIHBhc3NlZCwgb3RoZXJ3aXNlIHRoZSBjb25maWcgZnJvbSB0aGUgbGFzdCBleGVjdXRpb24gaXMgdXNlZFxuXG5cbiAgICBpZiAob3B0aW9ucykge1xuICAgICAgdGhpcy5zZXRPcHRpb25zKG9wdGlvbnMpO1xuICAgIH0gLy8gVXNlIHRoZSBvcHRpb25zIGZyb20gdGhlIGZpcnN0IG9ic2VydmVyIHdpdGggYSBxdWVyeSBmdW5jdGlvbiBpZiBubyBmdW5jdGlvbiBpcyBmb3VuZC5cbiAgICAvLyBUaGlzIGNhbiBoYXBwZW4gd2hlbiB0aGUgcXVlcnkgaXMgaHlkcmF0ZWQgb3IgY3JlYXRlZCB3aXRoIHNldFF1ZXJ5RGF0YS5cblxuXG4gICAgaWYgKCF0aGlzLm9wdGlvbnMucXVlcnlGbikge1xuICAgICAgY29uc3Qgb2JzZXJ2ZXIgPSB0aGlzLm9ic2VydmVycy5maW5kKHggPT4geC5vcHRpb25zLnF1ZXJ5Rm4pO1xuXG4gICAgICBpZiAob2JzZXJ2ZXIpIHtcbiAgICAgICAgdGhpcy5zZXRPcHRpb25zKG9ic2VydmVyLm9wdGlvbnMpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmICghQXJyYXkuaXNBcnJheSh0aGlzLm9wdGlvbnMucXVlcnlLZXkpKSB7XG4gICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICB0aGlzLmxvZ2dlci5lcnJvcihcIkFzIG9mIHY0LCBxdWVyeUtleSBuZWVkcyB0byBiZSBhbiBBcnJheS4gSWYgeW91IGFyZSB1c2luZyBhIHN0cmluZyBsaWtlICdyZXBvRGF0YScsIHBsZWFzZSBjaGFuZ2UgaXQgdG8gYW4gQXJyYXksIGUuZy4gWydyZXBvRGF0YSddXCIpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGNvbnN0IGFib3J0Q29udHJvbGxlciA9IGdldEFib3J0Q29udHJvbGxlcigpOyAvLyBDcmVhdGUgcXVlcnkgZnVuY3Rpb24gY29udGV4dFxuXG4gICAgY29uc3QgcXVlcnlGbkNvbnRleHQgPSB7XG4gICAgICBxdWVyeUtleTogdGhpcy5xdWVyeUtleSxcbiAgICAgIHBhZ2VQYXJhbTogdW5kZWZpbmVkLFxuICAgICAgbWV0YTogdGhpcy5tZXRhXG4gICAgfTsgLy8gQWRkcyBhbiBlbnVtZXJhYmxlIHNpZ25hbCBwcm9wZXJ0eSB0byB0aGUgb2JqZWN0IHRoYXRcbiAgICAvLyB3aGljaCBzZXRzIGFib3J0U2lnbmFsQ29uc3VtZWQgdG8gdHJ1ZSB3aGVuIHRoZSBzaWduYWxcbiAgICAvLyBpcyByZWFkLlxuXG4gICAgY29uc3QgYWRkU2lnbmFsUHJvcGVydHkgPSBvYmplY3QgPT4ge1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iamVjdCwgJ3NpZ25hbCcsIHtcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgZ2V0OiAoKSA9PiB7XG4gICAgICAgICAgaWYgKGFib3J0Q29udHJvbGxlcikge1xuICAgICAgICAgICAgdGhpcy5hYm9ydFNpZ25hbENvbnN1bWVkID0gdHJ1ZTtcbiAgICAgICAgICAgIHJldHVybiBhYm9ydENvbnRyb2xsZXIuc2lnbmFsO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICBhZGRTaWduYWxQcm9wZXJ0eShxdWVyeUZuQ29udGV4dCk7IC8vIENyZWF0ZSBmZXRjaCBmdW5jdGlvblxuXG4gICAgY29uc3QgZmV0Y2hGbiA9ICgpID0+IHtcbiAgICAgIGlmICghdGhpcy5vcHRpb25zLnF1ZXJ5Rm4pIHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KCdNaXNzaW5nIHF1ZXJ5Rm4nKTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5hYm9ydFNpZ25hbENvbnN1bWVkID0gZmFsc2U7XG4gICAgICByZXR1cm4gdGhpcy5vcHRpb25zLnF1ZXJ5Rm4ocXVlcnlGbkNvbnRleHQpO1xuICAgIH07IC8vIFRyaWdnZXIgYmVoYXZpb3IgaG9va1xuXG5cbiAgICBjb25zdCBjb250ZXh0ID0ge1xuICAgICAgZmV0Y2hPcHRpb25zLFxuICAgICAgb3B0aW9uczogdGhpcy5vcHRpb25zLFxuICAgICAgcXVlcnlLZXk6IHRoaXMucXVlcnlLZXksXG4gICAgICBzdGF0ZTogdGhpcy5zdGF0ZSxcbiAgICAgIGZldGNoRm5cbiAgICB9O1xuICAgIGFkZFNpZ25hbFByb3BlcnR5KGNvbnRleHQpO1xuICAgIChfdGhpcyRvcHRpb25zJGJlaGF2aW8gPSB0aGlzLm9wdGlvbnMuYmVoYXZpb3IpID09IG51bGwgPyB2b2lkIDAgOiBfdGhpcyRvcHRpb25zJGJlaGF2aW8ub25GZXRjaChjb250ZXh0KTsgLy8gU3RvcmUgc3RhdGUgaW4gY2FzZSB0aGUgY3VycmVudCBmZXRjaCBuZWVkcyB0byBiZSByZXZlcnRlZFxuXG4gICAgdGhpcy5yZXZlcnRTdGF0ZSA9IHRoaXMuc3RhdGU7IC8vIFNldCB0byBmZXRjaGluZyBzdGF0ZSBpZiBub3QgYWxyZWFkeSBpbiBpdFxuXG4gICAgaWYgKHRoaXMuc3RhdGUuZmV0Y2hTdGF0dXMgPT09ICdpZGxlJyB8fCB0aGlzLnN0YXRlLmZldGNoTWV0YSAhPT0gKChfY29udGV4dCRmZXRjaE9wdGlvbnMgPSBjb250ZXh0LmZldGNoT3B0aW9ucykgPT0gbnVsbCA/IHZvaWQgMCA6IF9jb250ZXh0JGZldGNoT3B0aW9ucy5tZXRhKSkge1xuICAgICAgdmFyIF9jb250ZXh0JGZldGNoT3B0aW9uczI7XG5cbiAgICAgIHRoaXMuZGlzcGF0Y2goe1xuICAgICAgICB0eXBlOiAnZmV0Y2gnLFxuICAgICAgICBtZXRhOiAoX2NvbnRleHQkZmV0Y2hPcHRpb25zMiA9IGNvbnRleHQuZmV0Y2hPcHRpb25zKSA9PSBudWxsID8gdm9pZCAwIDogX2NvbnRleHQkZmV0Y2hPcHRpb25zMi5tZXRhXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBjb25zdCBvbkVycm9yID0gZXJyb3IgPT4ge1xuICAgICAgLy8gT3B0aW1pc3RpY2FsbHkgdXBkYXRlIHN0YXRlIGlmIG5lZWRlZFxuICAgICAgaWYgKCEoaXNDYW5jZWxsZWRFcnJvcihlcnJvcikgJiYgZXJyb3Iuc2lsZW50KSkge1xuICAgICAgICB0aGlzLmRpc3BhdGNoKHtcbiAgICAgICAgICB0eXBlOiAnZXJyb3InLFxuICAgICAgICAgIGVycm9yOiBlcnJvclxuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgaWYgKCFpc0NhbmNlbGxlZEVycm9yKGVycm9yKSkge1xuICAgICAgICB2YXIgX3RoaXMkY2FjaGUkY29uZmlnJG9uLCBfdGhpcyRjYWNoZSRjb25maWc7XG5cbiAgICAgICAgLy8gTm90aWZ5IGNhY2hlIGNhbGxiYWNrXG4gICAgICAgIChfdGhpcyRjYWNoZSRjb25maWckb24gPSAoX3RoaXMkY2FjaGUkY29uZmlnID0gdGhpcy5jYWNoZS5jb25maWcpLm9uRXJyb3IpID09IG51bGwgPyB2b2lkIDAgOiBfdGhpcyRjYWNoZSRjb25maWckb24uY2FsbChfdGhpcyRjYWNoZSRjb25maWcsIGVycm9yLCB0aGlzKTtcblxuICAgICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICAgIHRoaXMubG9nZ2VyLmVycm9yKGVycm9yKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAoIXRoaXMuaXNGZXRjaGluZ09wdGltaXN0aWMpIHtcbiAgICAgICAgLy8gU2NoZWR1bGUgcXVlcnkgZ2MgYWZ0ZXIgZmV0Y2hpbmdcbiAgICAgICAgdGhpcy5zY2hlZHVsZUdjKCk7XG4gICAgICB9XG5cbiAgICAgIHRoaXMuaXNGZXRjaGluZ09wdGltaXN0aWMgPSBmYWxzZTtcbiAgICB9OyAvLyBUcnkgdG8gZmV0Y2ggdGhlIGRhdGFcblxuXG4gICAgdGhpcy5yZXRyeWVyID0gY3JlYXRlUmV0cnllcih7XG4gICAgICBmbjogY29udGV4dC5mZXRjaEZuLFxuICAgICAgYWJvcnQ6IGFib3J0Q29udHJvbGxlciA9PSBudWxsID8gdm9pZCAwIDogYWJvcnRDb250cm9sbGVyLmFib3J0LmJpbmQoYWJvcnRDb250cm9sbGVyKSxcbiAgICAgIG9uU3VjY2VzczogZGF0YSA9PiB7XG4gICAgICAgIHZhciBfdGhpcyRjYWNoZSRjb25maWckb24yLCBfdGhpcyRjYWNoZSRjb25maWcyO1xuXG4gICAgICAgIGlmICh0eXBlb2YgZGF0YSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICAgICAgdGhpcy5sb2dnZXIuZXJyb3IoXCJRdWVyeSBkYXRhIGNhbm5vdCBiZSB1bmRlZmluZWQuIFBsZWFzZSBtYWtlIHN1cmUgdG8gcmV0dXJuIGEgdmFsdWUgb3RoZXIgdGhhbiB1bmRlZmluZWQgZnJvbSB5b3VyIHF1ZXJ5IGZ1bmN0aW9uLiBBZmZlY3RlZCBxdWVyeSBrZXk6IFwiICsgdGhpcy5xdWVyeUhhc2gpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIG9uRXJyb3IobmV3IEVycm9yKCd1bmRlZmluZWQnKSk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5zZXREYXRhKGRhdGEpOyAvLyBOb3RpZnkgY2FjaGUgY2FsbGJhY2tcblxuICAgICAgICAoX3RoaXMkY2FjaGUkY29uZmlnJG9uMiA9IChfdGhpcyRjYWNoZSRjb25maWcyID0gdGhpcy5jYWNoZS5jb25maWcpLm9uU3VjY2VzcykgPT0gbnVsbCA/IHZvaWQgMCA6IF90aGlzJGNhY2hlJGNvbmZpZyRvbjIuY2FsbChfdGhpcyRjYWNoZSRjb25maWcyLCBkYXRhLCB0aGlzKTtcblxuICAgICAgICBpZiAoIXRoaXMuaXNGZXRjaGluZ09wdGltaXN0aWMpIHtcbiAgICAgICAgICAvLyBTY2hlZHVsZSBxdWVyeSBnYyBhZnRlciBmZXRjaGluZ1xuICAgICAgICAgIHRoaXMuc2NoZWR1bGVHYygpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5pc0ZldGNoaW5nT3B0aW1pc3RpYyA9IGZhbHNlO1xuICAgICAgfSxcbiAgICAgIG9uRXJyb3IsXG4gICAgICBvbkZhaWw6IChmYWlsdXJlQ291bnQsIGVycm9yKSA9PiB7XG4gICAgICAgIHRoaXMuZGlzcGF0Y2goe1xuICAgICAgICAgIHR5cGU6ICdmYWlsZWQnLFxuICAgICAgICAgIGZhaWx1cmVDb3VudCxcbiAgICAgICAgICBlcnJvclxuICAgICAgICB9KTtcbiAgICAgIH0sXG4gICAgICBvblBhdXNlOiAoKSA9PiB7XG4gICAgICAgIHRoaXMuZGlzcGF0Y2goe1xuICAgICAgICAgIHR5cGU6ICdwYXVzZSdcbiAgICAgICAgfSk7XG4gICAgICB9LFxuICAgICAgb25Db250aW51ZTogKCkgPT4ge1xuICAgICAgICB0aGlzLmRpc3BhdGNoKHtcbiAgICAgICAgICB0eXBlOiAnY29udGludWUnXG4gICAgICAgIH0pO1xuICAgICAgfSxcbiAgICAgIHJldHJ5OiBjb250ZXh0Lm9wdGlvbnMucmV0cnksXG4gICAgICByZXRyeURlbGF5OiBjb250ZXh0Lm9wdGlvbnMucmV0cnlEZWxheSxcbiAgICAgIG5ldHdvcmtNb2RlOiBjb250ZXh0Lm9wdGlvbnMubmV0d29ya01vZGVcbiAgICB9KTtcbiAgICB0aGlzLnByb21pc2UgPSB0aGlzLnJldHJ5ZXIucHJvbWlzZTtcbiAgICByZXR1cm4gdGhpcy5wcm9taXNlO1xuICB9XG5cbiAgZGlzcGF0Y2goYWN0aW9uKSB7XG4gICAgY29uc3QgcmVkdWNlciA9IHN0YXRlID0+IHtcbiAgICAgIHZhciBfYWN0aW9uJG1ldGEsIF9hY3Rpb24kZGF0YVVwZGF0ZWRBdDtcblxuICAgICAgc3dpdGNoIChhY3Rpb24udHlwZSkge1xuICAgICAgICBjYXNlICdmYWlsZWQnOlxuICAgICAgICAgIHJldHVybiB7IC4uLnN0YXRlLFxuICAgICAgICAgICAgZmV0Y2hGYWlsdXJlQ291bnQ6IGFjdGlvbi5mYWlsdXJlQ291bnQsXG4gICAgICAgICAgICBmZXRjaEZhaWx1cmVSZWFzb246IGFjdGlvbi5lcnJvclxuICAgICAgICAgIH07XG5cbiAgICAgICAgY2FzZSAncGF1c2UnOlxuICAgICAgICAgIHJldHVybiB7IC4uLnN0YXRlLFxuICAgICAgICAgICAgZmV0Y2hTdGF0dXM6ICdwYXVzZWQnXG4gICAgICAgICAgfTtcblxuICAgICAgICBjYXNlICdjb250aW51ZSc6XG4gICAgICAgICAgcmV0dXJuIHsgLi4uc3RhdGUsXG4gICAgICAgICAgICBmZXRjaFN0YXR1czogJ2ZldGNoaW5nJ1xuICAgICAgICAgIH07XG5cbiAgICAgICAgY2FzZSAnZmV0Y2gnOlxuICAgICAgICAgIHJldHVybiB7IC4uLnN0YXRlLFxuICAgICAgICAgICAgZmV0Y2hGYWlsdXJlQ291bnQ6IDAsXG4gICAgICAgICAgICBmZXRjaEZhaWx1cmVSZWFzb246IG51bGwsXG4gICAgICAgICAgICBmZXRjaE1ldGE6IChfYWN0aW9uJG1ldGEgPSBhY3Rpb24ubWV0YSkgIT0gbnVsbCA/IF9hY3Rpb24kbWV0YSA6IG51bGwsXG4gICAgICAgICAgICBmZXRjaFN0YXR1czogY2FuRmV0Y2godGhpcy5vcHRpb25zLm5ldHdvcmtNb2RlKSA/ICdmZXRjaGluZycgOiAncGF1c2VkJyxcbiAgICAgICAgICAgIC4uLighc3RhdGUuZGF0YVVwZGF0ZWRBdCAmJiB7XG4gICAgICAgICAgICAgIGVycm9yOiBudWxsLFxuICAgICAgICAgICAgICBzdGF0dXM6ICdsb2FkaW5nJ1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICB9O1xuXG4gICAgICAgIGNhc2UgJ3N1Y2Nlc3MnOlxuICAgICAgICAgIHJldHVybiB7IC4uLnN0YXRlLFxuICAgICAgICAgICAgZGF0YTogYWN0aW9uLmRhdGEsXG4gICAgICAgICAgICBkYXRhVXBkYXRlQ291bnQ6IHN0YXRlLmRhdGFVcGRhdGVDb3VudCArIDEsXG4gICAgICAgICAgICBkYXRhVXBkYXRlZEF0OiAoX2FjdGlvbiRkYXRhVXBkYXRlZEF0ID0gYWN0aW9uLmRhdGFVcGRhdGVkQXQpICE9IG51bGwgPyBfYWN0aW9uJGRhdGFVcGRhdGVkQXQgOiBEYXRlLm5vdygpLFxuICAgICAgICAgICAgZXJyb3I6IG51bGwsXG4gICAgICAgICAgICBpc0ludmFsaWRhdGVkOiBmYWxzZSxcbiAgICAgICAgICAgIHN0YXR1czogJ3N1Y2Nlc3MnLFxuICAgICAgICAgICAgLi4uKCFhY3Rpb24ubWFudWFsICYmIHtcbiAgICAgICAgICAgICAgZmV0Y2hTdGF0dXM6ICdpZGxlJyxcbiAgICAgICAgICAgICAgZmV0Y2hGYWlsdXJlQ291bnQ6IDAsXG4gICAgICAgICAgICAgIGZldGNoRmFpbHVyZVJlYXNvbjogbnVsbFxuICAgICAgICAgICAgfSlcbiAgICAgICAgICB9O1xuXG4gICAgICAgIGNhc2UgJ2Vycm9yJzpcbiAgICAgICAgICBjb25zdCBlcnJvciA9IGFjdGlvbi5lcnJvcjtcblxuICAgICAgICAgIGlmIChpc0NhbmNlbGxlZEVycm9yKGVycm9yKSAmJiBlcnJvci5yZXZlcnQgJiYgdGhpcy5yZXZlcnRTdGF0ZSkge1xuICAgICAgICAgICAgcmV0dXJuIHsgLi4udGhpcy5yZXZlcnRTdGF0ZVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICByZXR1cm4geyAuLi5zdGF0ZSxcbiAgICAgICAgICAgIGVycm9yOiBlcnJvcixcbiAgICAgICAgICAgIGVycm9yVXBkYXRlQ291bnQ6IHN0YXRlLmVycm9yVXBkYXRlQ291bnQgKyAxLFxuICAgICAgICAgICAgZXJyb3JVcGRhdGVkQXQ6IERhdGUubm93KCksXG4gICAgICAgICAgICBmZXRjaEZhaWx1cmVDb3VudDogc3RhdGUuZmV0Y2hGYWlsdXJlQ291bnQgKyAxLFxuICAgICAgICAgICAgZmV0Y2hGYWlsdXJlUmVhc29uOiBlcnJvcixcbiAgICAgICAgICAgIGZldGNoU3RhdHVzOiAnaWRsZScsXG4gICAgICAgICAgICBzdGF0dXM6ICdlcnJvcidcbiAgICAgICAgICB9O1xuXG4gICAgICAgIGNhc2UgJ2ludmFsaWRhdGUnOlxuICAgICAgICAgIHJldHVybiB7IC4uLnN0YXRlLFxuICAgICAgICAgICAgaXNJbnZhbGlkYXRlZDogdHJ1ZVxuICAgICAgICAgIH07XG5cbiAgICAgICAgY2FzZSAnc2V0U3RhdGUnOlxuICAgICAgICAgIHJldHVybiB7IC4uLnN0YXRlLFxuICAgICAgICAgICAgLi4uYWN0aW9uLnN0YXRlXG4gICAgICAgICAgfTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgdGhpcy5zdGF0ZSA9IHJlZHVjZXIodGhpcy5zdGF0ZSk7XG4gICAgbm90aWZ5TWFuYWdlci5iYXRjaCgoKSA9PiB7XG4gICAgICB0aGlzLm9ic2VydmVycy5mb3JFYWNoKG9ic2VydmVyID0+IHtcbiAgICAgICAgb2JzZXJ2ZXIub25RdWVyeVVwZGF0ZShhY3Rpb24pO1xuICAgICAgfSk7XG4gICAgICB0aGlzLmNhY2hlLm5vdGlmeSh7XG4gICAgICAgIHF1ZXJ5OiB0aGlzLFxuICAgICAgICB0eXBlOiAndXBkYXRlZCcsXG4gICAgICAgIGFjdGlvblxuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxufVxuXG5mdW5jdGlvbiBnZXREZWZhdWx0U3RhdGUob3B0aW9ucykge1xuICBjb25zdCBkYXRhID0gdHlwZW9mIG9wdGlvbnMuaW5pdGlhbERhdGEgPT09ICdmdW5jdGlvbicgPyBvcHRpb25zLmluaXRpYWxEYXRhKCkgOiBvcHRpb25zLmluaXRpYWxEYXRhO1xuICBjb25zdCBoYXNEYXRhID0gdHlwZW9mIGRhdGEgIT09ICd1bmRlZmluZWQnO1xuICBjb25zdCBpbml0aWFsRGF0YVVwZGF0ZWRBdCA9IGhhc0RhdGEgPyB0eXBlb2Ygb3B0aW9ucy5pbml0aWFsRGF0YVVwZGF0ZWRBdCA9PT0gJ2Z1bmN0aW9uJyA/IG9wdGlvbnMuaW5pdGlhbERhdGFVcGRhdGVkQXQoKSA6IG9wdGlvbnMuaW5pdGlhbERhdGFVcGRhdGVkQXQgOiAwO1xuICByZXR1cm4ge1xuICAgIGRhdGEsXG4gICAgZGF0YVVwZGF0ZUNvdW50OiAwLFxuICAgIGRhdGFVcGRhdGVkQXQ6IGhhc0RhdGEgPyBpbml0aWFsRGF0YVVwZGF0ZWRBdCAhPSBudWxsID8gaW5pdGlhbERhdGFVcGRhdGVkQXQgOiBEYXRlLm5vdygpIDogMCxcbiAgICBlcnJvcjogbnVsbCxcbiAgICBlcnJvclVwZGF0ZUNvdW50OiAwLFxuICAgIGVycm9yVXBkYXRlZEF0OiAwLFxuICAgIGZldGNoRmFpbHVyZUNvdW50OiAwLFxuICAgIGZldGNoRmFpbHVyZVJlYXNvbjogbnVsbCxcbiAgICBmZXRjaE1ldGE6IG51bGwsXG4gICAgaXNJbnZhbGlkYXRlZDogZmFsc2UsXG4gICAgc3RhdHVzOiBoYXNEYXRhID8gJ3N1Y2Nlc3MnIDogJ2xvYWRpbmcnLFxuICAgIGZldGNoU3RhdHVzOiAnaWRsZSdcbiAgfTtcbn1cblxuZXhwb3J0IHsgUXVlcnkgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXF1ZXJ5LmVzbS5qcy5tYXBcbiIsImltcG9ydCB7IGhhc2hRdWVyeUtleUJ5T3B0aW9ucywgcGFyc2VGaWx0ZXJBcmdzLCBtYXRjaFF1ZXJ5IH0gZnJvbSAnLi91dGlscy5lc20uanMnO1xuaW1wb3J0IHsgUXVlcnkgfSBmcm9tICcuL3F1ZXJ5LmVzbS5qcyc7XG5pbXBvcnQgeyBub3RpZnlNYW5hZ2VyIH0gZnJvbSAnLi9ub3RpZnlNYW5hZ2VyLmVzbS5qcyc7XG5pbXBvcnQgeyBTdWJzY3JpYmFibGUgfSBmcm9tICcuL3N1YnNjcmliYWJsZS5lc20uanMnO1xuXG4vLyBDTEFTU1xuY2xhc3MgUXVlcnlDYWNoZSBleHRlbmRzIFN1YnNjcmliYWJsZSB7XG4gIGNvbnN0cnVjdG9yKGNvbmZpZykge1xuICAgIHN1cGVyKCk7XG4gICAgdGhpcy5jb25maWcgPSBjb25maWcgfHwge307XG4gICAgdGhpcy5xdWVyaWVzID0gW107XG4gICAgdGhpcy5xdWVyaWVzTWFwID0ge307XG4gIH1cblxuICBidWlsZChjbGllbnQsIG9wdGlvbnMsIHN0YXRlKSB7XG4gICAgdmFyIF9vcHRpb25zJHF1ZXJ5SGFzaDtcblxuICAgIGNvbnN0IHF1ZXJ5S2V5ID0gb3B0aW9ucy5xdWVyeUtleTtcbiAgICBjb25zdCBxdWVyeUhhc2ggPSAoX29wdGlvbnMkcXVlcnlIYXNoID0gb3B0aW9ucy5xdWVyeUhhc2gpICE9IG51bGwgPyBfb3B0aW9ucyRxdWVyeUhhc2ggOiBoYXNoUXVlcnlLZXlCeU9wdGlvbnMocXVlcnlLZXksIG9wdGlvbnMpO1xuICAgIGxldCBxdWVyeSA9IHRoaXMuZ2V0KHF1ZXJ5SGFzaCk7XG5cbiAgICBpZiAoIXF1ZXJ5KSB7XG4gICAgICBxdWVyeSA9IG5ldyBRdWVyeSh7XG4gICAgICAgIGNhY2hlOiB0aGlzLFxuICAgICAgICBsb2dnZXI6IGNsaWVudC5nZXRMb2dnZXIoKSxcbiAgICAgICAgcXVlcnlLZXksXG4gICAgICAgIHF1ZXJ5SGFzaCxcbiAgICAgICAgb3B0aW9uczogY2xpZW50LmRlZmF1bHRRdWVyeU9wdGlvbnMob3B0aW9ucyksXG4gICAgICAgIHN0YXRlLFxuICAgICAgICBkZWZhdWx0T3B0aW9uczogY2xpZW50LmdldFF1ZXJ5RGVmYXVsdHMocXVlcnlLZXkpXG4gICAgICB9KTtcbiAgICAgIHRoaXMuYWRkKHF1ZXJ5KTtcbiAgICB9XG5cbiAgICByZXR1cm4gcXVlcnk7XG4gIH1cblxuICBhZGQocXVlcnkpIHtcbiAgICBpZiAoIXRoaXMucXVlcmllc01hcFtxdWVyeS5xdWVyeUhhc2hdKSB7XG4gICAgICB0aGlzLnF1ZXJpZXNNYXBbcXVlcnkucXVlcnlIYXNoXSA9IHF1ZXJ5O1xuICAgICAgdGhpcy5xdWVyaWVzLnB1c2gocXVlcnkpO1xuICAgICAgdGhpcy5ub3RpZnkoe1xuICAgICAgICB0eXBlOiAnYWRkZWQnLFxuICAgICAgICBxdWVyeVxuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgcmVtb3ZlKHF1ZXJ5KSB7XG4gICAgY29uc3QgcXVlcnlJbk1hcCA9IHRoaXMucXVlcmllc01hcFtxdWVyeS5xdWVyeUhhc2hdO1xuXG4gICAgaWYgKHF1ZXJ5SW5NYXApIHtcbiAgICAgIHF1ZXJ5LmRlc3Ryb3koKTtcbiAgICAgIHRoaXMucXVlcmllcyA9IHRoaXMucXVlcmllcy5maWx0ZXIoeCA9PiB4ICE9PSBxdWVyeSk7XG5cbiAgICAgIGlmIChxdWVyeUluTWFwID09PSBxdWVyeSkge1xuICAgICAgICBkZWxldGUgdGhpcy5xdWVyaWVzTWFwW3F1ZXJ5LnF1ZXJ5SGFzaF07XG4gICAgICB9XG5cbiAgICAgIHRoaXMubm90aWZ5KHtcbiAgICAgICAgdHlwZTogJ3JlbW92ZWQnLFxuICAgICAgICBxdWVyeVxuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgY2xlYXIoKSB7XG4gICAgbm90aWZ5TWFuYWdlci5iYXRjaCgoKSA9PiB7XG4gICAgICB0aGlzLnF1ZXJpZXMuZm9yRWFjaChxdWVyeSA9PiB7XG4gICAgICAgIHRoaXMucmVtb3ZlKHF1ZXJ5KTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgZ2V0KHF1ZXJ5SGFzaCkge1xuICAgIHJldHVybiB0aGlzLnF1ZXJpZXNNYXBbcXVlcnlIYXNoXTtcbiAgfVxuXG4gIGdldEFsbCgpIHtcbiAgICByZXR1cm4gdGhpcy5xdWVyaWVzO1xuICB9XG5cbiAgZmluZChhcmcxLCBhcmcyKSB7XG4gICAgY29uc3QgW2ZpbHRlcnNdID0gcGFyc2VGaWx0ZXJBcmdzKGFyZzEsIGFyZzIpO1xuXG4gICAgaWYgKHR5cGVvZiBmaWx0ZXJzLmV4YWN0ID09PSAndW5kZWZpbmVkJykge1xuICAgICAgZmlsdGVycy5leGFjdCA9IHRydWU7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMucXVlcmllcy5maW5kKHF1ZXJ5ID0+IG1hdGNoUXVlcnkoZmlsdGVycywgcXVlcnkpKTtcbiAgfVxuXG4gIGZpbmRBbGwoYXJnMSwgYXJnMikge1xuICAgIGNvbnN0IFtmaWx0ZXJzXSA9IHBhcnNlRmlsdGVyQXJncyhhcmcxLCBhcmcyKTtcbiAgICByZXR1cm4gT2JqZWN0LmtleXMoZmlsdGVycykubGVuZ3RoID4gMCA/IHRoaXMucXVlcmllcy5maWx0ZXIocXVlcnkgPT4gbWF0Y2hRdWVyeShmaWx0ZXJzLCBxdWVyeSkpIDogdGhpcy5xdWVyaWVzO1xuICB9XG5cbiAgbm90aWZ5KGV2ZW50KSB7XG4gICAgbm90aWZ5TWFuYWdlci5iYXRjaCgoKSA9PiB7XG4gICAgICB0aGlzLmxpc3RlbmVycy5mb3JFYWNoKGxpc3RlbmVyID0+IHtcbiAgICAgICAgbGlzdGVuZXIoZXZlbnQpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICBvbkZvY3VzKCkge1xuICAgIG5vdGlmeU1hbmFnZXIuYmF0Y2goKCkgPT4ge1xuICAgICAgdGhpcy5xdWVyaWVzLmZvckVhY2gocXVlcnkgPT4ge1xuICAgICAgICBxdWVyeS5vbkZvY3VzKCk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIG9uT25saW5lKCkge1xuICAgIG5vdGlmeU1hbmFnZXIuYmF0Y2goKCkgPT4ge1xuICAgICAgdGhpcy5xdWVyaWVzLmZvckVhY2gocXVlcnkgPT4ge1xuICAgICAgICBxdWVyeS5vbk9ubGluZSgpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxufVxuXG5leHBvcnQgeyBRdWVyeUNhY2hlIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1xdWVyeUNhY2hlLmVzbS5qcy5tYXBcbiIsImltcG9ydCB7IGRlZmF1bHRMb2dnZXIgfSBmcm9tICcuL2xvZ2dlci5lc20uanMnO1xuaW1wb3J0IHsgbm90aWZ5TWFuYWdlciB9IGZyb20gJy4vbm90aWZ5TWFuYWdlci5lc20uanMnO1xuaW1wb3J0IHsgUmVtb3ZhYmxlIH0gZnJvbSAnLi9yZW1vdmFibGUuZXNtLmpzJztcbmltcG9ydCB7IGNyZWF0ZVJldHJ5ZXIsIGNhbkZldGNoIH0gZnJvbSAnLi9yZXRyeWVyLmVzbS5qcyc7XG5cbi8vIENMQVNTXG5jbGFzcyBNdXRhdGlvbiBleHRlbmRzIFJlbW92YWJsZSB7XG4gIGNvbnN0cnVjdG9yKGNvbmZpZykge1xuICAgIHN1cGVyKCk7XG4gICAgdGhpcy5vcHRpb25zID0geyAuLi5jb25maWcuZGVmYXVsdE9wdGlvbnMsXG4gICAgICAuLi5jb25maWcub3B0aW9uc1xuICAgIH07XG4gICAgdGhpcy5tdXRhdGlvbklkID0gY29uZmlnLm11dGF0aW9uSWQ7XG4gICAgdGhpcy5tdXRhdGlvbkNhY2hlID0gY29uZmlnLm11dGF0aW9uQ2FjaGU7XG4gICAgdGhpcy5sb2dnZXIgPSBjb25maWcubG9nZ2VyIHx8IGRlZmF1bHRMb2dnZXI7XG4gICAgdGhpcy5vYnNlcnZlcnMgPSBbXTtcbiAgICB0aGlzLnN0YXRlID0gY29uZmlnLnN0YXRlIHx8IGdldERlZmF1bHRTdGF0ZSgpO1xuICAgIHRoaXMudXBkYXRlQ2FjaGVUaW1lKHRoaXMub3B0aW9ucy5jYWNoZVRpbWUpO1xuICAgIHRoaXMuc2NoZWR1bGVHYygpO1xuICB9XG5cbiAgZ2V0IG1ldGEoKSB7XG4gICAgcmV0dXJuIHRoaXMub3B0aW9ucy5tZXRhO1xuICB9XG5cbiAgc2V0U3RhdGUoc3RhdGUpIHtcbiAgICB0aGlzLmRpc3BhdGNoKHtcbiAgICAgIHR5cGU6ICdzZXRTdGF0ZScsXG4gICAgICBzdGF0ZVxuICAgIH0pO1xuICB9XG5cbiAgYWRkT2JzZXJ2ZXIob2JzZXJ2ZXIpIHtcbiAgICBpZiAodGhpcy5vYnNlcnZlcnMuaW5kZXhPZihvYnNlcnZlcikgPT09IC0xKSB7XG4gICAgICB0aGlzLm9ic2VydmVycy5wdXNoKG9ic2VydmVyKTsgLy8gU3RvcCB0aGUgbXV0YXRpb24gZnJvbSBiZWluZyBnYXJiYWdlIGNvbGxlY3RlZFxuXG4gICAgICB0aGlzLmNsZWFyR2NUaW1lb3V0KCk7XG4gICAgICB0aGlzLm11dGF0aW9uQ2FjaGUubm90aWZ5KHtcbiAgICAgICAgdHlwZTogJ29ic2VydmVyQWRkZWQnLFxuICAgICAgICBtdXRhdGlvbjogdGhpcyxcbiAgICAgICAgb2JzZXJ2ZXJcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIHJlbW92ZU9ic2VydmVyKG9ic2VydmVyKSB7XG4gICAgdGhpcy5vYnNlcnZlcnMgPSB0aGlzLm9ic2VydmVycy5maWx0ZXIoeCA9PiB4ICE9PSBvYnNlcnZlcik7XG4gICAgdGhpcy5zY2hlZHVsZUdjKCk7XG4gICAgdGhpcy5tdXRhdGlvbkNhY2hlLm5vdGlmeSh7XG4gICAgICB0eXBlOiAnb2JzZXJ2ZXJSZW1vdmVkJyxcbiAgICAgIG11dGF0aW9uOiB0aGlzLFxuICAgICAgb2JzZXJ2ZXJcbiAgICB9KTtcbiAgfVxuXG4gIG9wdGlvbmFsUmVtb3ZlKCkge1xuICAgIGlmICghdGhpcy5vYnNlcnZlcnMubGVuZ3RoKSB7XG4gICAgICBpZiAodGhpcy5zdGF0ZS5zdGF0dXMgPT09ICdsb2FkaW5nJykge1xuICAgICAgICB0aGlzLnNjaGVkdWxlR2MoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMubXV0YXRpb25DYWNoZS5yZW1vdmUodGhpcyk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgY29udGludWUoKSB7XG4gICAgdmFyIF90aGlzJHJldHJ5ZXIkY29udGludSwgX3RoaXMkcmV0cnllcjtcblxuICAgIHJldHVybiAoX3RoaXMkcmV0cnllciRjb250aW51ID0gKF90aGlzJHJldHJ5ZXIgPSB0aGlzLnJldHJ5ZXIpID09IG51bGwgPyB2b2lkIDAgOiBfdGhpcyRyZXRyeWVyLmNvbnRpbnVlKCkpICE9IG51bGwgPyBfdGhpcyRyZXRyeWVyJGNvbnRpbnUgOiB0aGlzLmV4ZWN1dGUoKTtcbiAgfVxuXG4gIGFzeW5jIGV4ZWN1dGUoKSB7XG4gICAgY29uc3QgZXhlY3V0ZU11dGF0aW9uID0gKCkgPT4ge1xuICAgICAgdmFyIF90aGlzJG9wdGlvbnMkcmV0cnk7XG5cbiAgICAgIHRoaXMucmV0cnllciA9IGNyZWF0ZVJldHJ5ZXIoe1xuICAgICAgICBmbjogKCkgPT4ge1xuICAgICAgICAgIGlmICghdGhpcy5vcHRpb25zLm11dGF0aW9uRm4pIHtcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdCgnTm8gbXV0YXRpb25GbiBmb3VuZCcpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHJldHVybiB0aGlzLm9wdGlvbnMubXV0YXRpb25Gbih0aGlzLnN0YXRlLnZhcmlhYmxlcyk7XG4gICAgICAgIH0sXG4gICAgICAgIG9uRmFpbDogKGZhaWx1cmVDb3VudCwgZXJyb3IpID0+IHtcbiAgICAgICAgICB0aGlzLmRpc3BhdGNoKHtcbiAgICAgICAgICAgIHR5cGU6ICdmYWlsZWQnLFxuICAgICAgICAgICAgZmFpbHVyZUNvdW50LFxuICAgICAgICAgICAgZXJyb3JcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSxcbiAgICAgICAgb25QYXVzZTogKCkgPT4ge1xuICAgICAgICAgIHRoaXMuZGlzcGF0Y2goe1xuICAgICAgICAgICAgdHlwZTogJ3BhdXNlJ1xuICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuICAgICAgICBvbkNvbnRpbnVlOiAoKSA9PiB7XG4gICAgICAgICAgdGhpcy5kaXNwYXRjaCh7XG4gICAgICAgICAgICB0eXBlOiAnY29udGludWUnXG4gICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIHJldHJ5OiAoX3RoaXMkb3B0aW9ucyRyZXRyeSA9IHRoaXMub3B0aW9ucy5yZXRyeSkgIT0gbnVsbCA/IF90aGlzJG9wdGlvbnMkcmV0cnkgOiAwLFxuICAgICAgICByZXRyeURlbGF5OiB0aGlzLm9wdGlvbnMucmV0cnlEZWxheSxcbiAgICAgICAgbmV0d29ya01vZGU6IHRoaXMub3B0aW9ucy5uZXR3b3JrTW9kZVxuICAgICAgfSk7XG4gICAgICByZXR1cm4gdGhpcy5yZXRyeWVyLnByb21pc2U7XG4gICAgfTtcblxuICAgIGNvbnN0IHJlc3RvcmVkID0gdGhpcy5zdGF0ZS5zdGF0dXMgPT09ICdsb2FkaW5nJztcblxuICAgIHRyeSB7XG4gICAgICB2YXIgX3RoaXMkbXV0YXRpb25DYWNoZSRjMywgX3RoaXMkbXV0YXRpb25DYWNoZSRjNCwgX3RoaXMkb3B0aW9ucyRvblN1Y2NlLCBfdGhpcyRvcHRpb25zMiwgX3RoaXMkb3B0aW9ucyRvblNldHRsLCBfdGhpcyRvcHRpb25zMztcblxuICAgICAgaWYgKCFyZXN0b3JlZCkge1xuICAgICAgICB2YXIgX3RoaXMkbXV0YXRpb25DYWNoZSRjLCBfdGhpcyRtdXRhdGlvbkNhY2hlJGMyLCBfdGhpcyRvcHRpb25zJG9uTXV0YXQsIF90aGlzJG9wdGlvbnM7XG5cbiAgICAgICAgdGhpcy5kaXNwYXRjaCh7XG4gICAgICAgICAgdHlwZTogJ2xvYWRpbmcnLFxuICAgICAgICAgIHZhcmlhYmxlczogdGhpcy5vcHRpb25zLnZhcmlhYmxlc1xuICAgICAgICB9KTsgLy8gTm90aWZ5IGNhY2hlIGNhbGxiYWNrXG5cbiAgICAgICAgYXdhaXQgKChfdGhpcyRtdXRhdGlvbkNhY2hlJGMgPSAoX3RoaXMkbXV0YXRpb25DYWNoZSRjMiA9IHRoaXMubXV0YXRpb25DYWNoZS5jb25maWcpLm9uTXV0YXRlKSA9PSBudWxsID8gdm9pZCAwIDogX3RoaXMkbXV0YXRpb25DYWNoZSRjLmNhbGwoX3RoaXMkbXV0YXRpb25DYWNoZSRjMiwgdGhpcy5zdGF0ZS52YXJpYWJsZXMsIHRoaXMpKTtcbiAgICAgICAgY29uc3QgY29udGV4dCA9IGF3YWl0ICgoX3RoaXMkb3B0aW9ucyRvbk11dGF0ID0gKF90aGlzJG9wdGlvbnMgPSB0aGlzLm9wdGlvbnMpLm9uTXV0YXRlKSA9PSBudWxsID8gdm9pZCAwIDogX3RoaXMkb3B0aW9ucyRvbk11dGF0LmNhbGwoX3RoaXMkb3B0aW9ucywgdGhpcy5zdGF0ZS52YXJpYWJsZXMpKTtcblxuICAgICAgICBpZiAoY29udGV4dCAhPT0gdGhpcy5zdGF0ZS5jb250ZXh0KSB7XG4gICAgICAgICAgdGhpcy5kaXNwYXRjaCh7XG4gICAgICAgICAgICB0eXBlOiAnbG9hZGluZycsXG4gICAgICAgICAgICBjb250ZXh0LFxuICAgICAgICAgICAgdmFyaWFibGVzOiB0aGlzLnN0YXRlLnZhcmlhYmxlc1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCBleGVjdXRlTXV0YXRpb24oKTsgLy8gTm90aWZ5IGNhY2hlIGNhbGxiYWNrXG5cbiAgICAgIGF3YWl0ICgoX3RoaXMkbXV0YXRpb25DYWNoZSRjMyA9IChfdGhpcyRtdXRhdGlvbkNhY2hlJGM0ID0gdGhpcy5tdXRhdGlvbkNhY2hlLmNvbmZpZykub25TdWNjZXNzKSA9PSBudWxsID8gdm9pZCAwIDogX3RoaXMkbXV0YXRpb25DYWNoZSRjMy5jYWxsKF90aGlzJG11dGF0aW9uQ2FjaGUkYzQsIGRhdGEsIHRoaXMuc3RhdGUudmFyaWFibGVzLCB0aGlzLnN0YXRlLmNvbnRleHQsIHRoaXMpKTtcbiAgICAgIGF3YWl0ICgoX3RoaXMkb3B0aW9ucyRvblN1Y2NlID0gKF90aGlzJG9wdGlvbnMyID0gdGhpcy5vcHRpb25zKS5vblN1Y2Nlc3MpID09IG51bGwgPyB2b2lkIDAgOiBfdGhpcyRvcHRpb25zJG9uU3VjY2UuY2FsbChfdGhpcyRvcHRpb25zMiwgZGF0YSwgdGhpcy5zdGF0ZS52YXJpYWJsZXMsIHRoaXMuc3RhdGUuY29udGV4dCkpO1xuICAgICAgYXdhaXQgKChfdGhpcyRvcHRpb25zJG9uU2V0dGwgPSAoX3RoaXMkb3B0aW9uczMgPSB0aGlzLm9wdGlvbnMpLm9uU2V0dGxlZCkgPT0gbnVsbCA/IHZvaWQgMCA6IF90aGlzJG9wdGlvbnMkb25TZXR0bC5jYWxsKF90aGlzJG9wdGlvbnMzLCBkYXRhLCBudWxsLCB0aGlzLnN0YXRlLnZhcmlhYmxlcywgdGhpcy5zdGF0ZS5jb250ZXh0KSk7XG4gICAgICB0aGlzLmRpc3BhdGNoKHtcbiAgICAgICAgdHlwZTogJ3N1Y2Nlc3MnLFxuICAgICAgICBkYXRhXG4gICAgICB9KTtcbiAgICAgIHJldHVybiBkYXRhO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICB0cnkge1xuICAgICAgICB2YXIgX3RoaXMkbXV0YXRpb25DYWNoZSRjNSwgX3RoaXMkbXV0YXRpb25DYWNoZSRjNiwgX3RoaXMkb3B0aW9ucyRvbkVycm9yLCBfdGhpcyRvcHRpb25zNCwgX3RoaXMkb3B0aW9ucyRvblNldHRsMiwgX3RoaXMkb3B0aW9uczU7XG5cbiAgICAgICAgLy8gTm90aWZ5IGNhY2hlIGNhbGxiYWNrXG4gICAgICAgIGF3YWl0ICgoX3RoaXMkbXV0YXRpb25DYWNoZSRjNSA9IChfdGhpcyRtdXRhdGlvbkNhY2hlJGM2ID0gdGhpcy5tdXRhdGlvbkNhY2hlLmNvbmZpZykub25FcnJvcikgPT0gbnVsbCA/IHZvaWQgMCA6IF90aGlzJG11dGF0aW9uQ2FjaGUkYzUuY2FsbChfdGhpcyRtdXRhdGlvbkNhY2hlJGM2LCBlcnJvciwgdGhpcy5zdGF0ZS52YXJpYWJsZXMsIHRoaXMuc3RhdGUuY29udGV4dCwgdGhpcykpO1xuXG4gICAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgICAgdGhpcy5sb2dnZXIuZXJyb3IoZXJyb3IpO1xuICAgICAgICB9XG5cbiAgICAgICAgYXdhaXQgKChfdGhpcyRvcHRpb25zJG9uRXJyb3IgPSAoX3RoaXMkb3B0aW9uczQgPSB0aGlzLm9wdGlvbnMpLm9uRXJyb3IpID09IG51bGwgPyB2b2lkIDAgOiBfdGhpcyRvcHRpb25zJG9uRXJyb3IuY2FsbChfdGhpcyRvcHRpb25zNCwgZXJyb3IsIHRoaXMuc3RhdGUudmFyaWFibGVzLCB0aGlzLnN0YXRlLmNvbnRleHQpKTtcbiAgICAgICAgYXdhaXQgKChfdGhpcyRvcHRpb25zJG9uU2V0dGwyID0gKF90aGlzJG9wdGlvbnM1ID0gdGhpcy5vcHRpb25zKS5vblNldHRsZWQpID09IG51bGwgPyB2b2lkIDAgOiBfdGhpcyRvcHRpb25zJG9uU2V0dGwyLmNhbGwoX3RoaXMkb3B0aW9uczUsIHVuZGVmaW5lZCwgZXJyb3IsIHRoaXMuc3RhdGUudmFyaWFibGVzLCB0aGlzLnN0YXRlLmNvbnRleHQpKTtcbiAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICB0aGlzLmRpc3BhdGNoKHtcbiAgICAgICAgICB0eXBlOiAnZXJyb3InLFxuICAgICAgICAgIGVycm9yOiBlcnJvclxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBkaXNwYXRjaChhY3Rpb24pIHtcbiAgICBjb25zdCByZWR1Y2VyID0gc3RhdGUgPT4ge1xuICAgICAgc3dpdGNoIChhY3Rpb24udHlwZSkge1xuICAgICAgICBjYXNlICdmYWlsZWQnOlxuICAgICAgICAgIHJldHVybiB7IC4uLnN0YXRlLFxuICAgICAgICAgICAgZmFpbHVyZUNvdW50OiBhY3Rpb24uZmFpbHVyZUNvdW50LFxuICAgICAgICAgICAgZmFpbHVyZVJlYXNvbjogYWN0aW9uLmVycm9yXG4gICAgICAgICAgfTtcblxuICAgICAgICBjYXNlICdwYXVzZSc6XG4gICAgICAgICAgcmV0dXJuIHsgLi4uc3RhdGUsXG4gICAgICAgICAgICBpc1BhdXNlZDogdHJ1ZVxuICAgICAgICAgIH07XG5cbiAgICAgICAgY2FzZSAnY29udGludWUnOlxuICAgICAgICAgIHJldHVybiB7IC4uLnN0YXRlLFxuICAgICAgICAgICAgaXNQYXVzZWQ6IGZhbHNlXG4gICAgICAgICAgfTtcblxuICAgICAgICBjYXNlICdsb2FkaW5nJzpcbiAgICAgICAgICByZXR1cm4geyAuLi5zdGF0ZSxcbiAgICAgICAgICAgIGNvbnRleHQ6IGFjdGlvbi5jb250ZXh0LFxuICAgICAgICAgICAgZGF0YTogdW5kZWZpbmVkLFxuICAgICAgICAgICAgZmFpbHVyZUNvdW50OiAwLFxuICAgICAgICAgICAgZmFpbHVyZVJlYXNvbjogbnVsbCxcbiAgICAgICAgICAgIGVycm9yOiBudWxsLFxuICAgICAgICAgICAgaXNQYXVzZWQ6ICFjYW5GZXRjaCh0aGlzLm9wdGlvbnMubmV0d29ya01vZGUpLFxuICAgICAgICAgICAgc3RhdHVzOiAnbG9hZGluZycsXG4gICAgICAgICAgICB2YXJpYWJsZXM6IGFjdGlvbi52YXJpYWJsZXNcbiAgICAgICAgICB9O1xuXG4gICAgICAgIGNhc2UgJ3N1Y2Nlc3MnOlxuICAgICAgICAgIHJldHVybiB7IC4uLnN0YXRlLFxuICAgICAgICAgICAgZGF0YTogYWN0aW9uLmRhdGEsXG4gICAgICAgICAgICBmYWlsdXJlQ291bnQ6IDAsXG4gICAgICAgICAgICBmYWlsdXJlUmVhc29uOiBudWxsLFxuICAgICAgICAgICAgZXJyb3I6IG51bGwsXG4gICAgICAgICAgICBzdGF0dXM6ICdzdWNjZXNzJyxcbiAgICAgICAgICAgIGlzUGF1c2VkOiBmYWxzZVxuICAgICAgICAgIH07XG5cbiAgICAgICAgY2FzZSAnZXJyb3InOlxuICAgICAgICAgIHJldHVybiB7IC4uLnN0YXRlLFxuICAgICAgICAgICAgZGF0YTogdW5kZWZpbmVkLFxuICAgICAgICAgICAgZXJyb3I6IGFjdGlvbi5lcnJvcixcbiAgICAgICAgICAgIGZhaWx1cmVDb3VudDogc3RhdGUuZmFpbHVyZUNvdW50ICsgMSxcbiAgICAgICAgICAgIGZhaWx1cmVSZWFzb246IGFjdGlvbi5lcnJvcixcbiAgICAgICAgICAgIGlzUGF1c2VkOiBmYWxzZSxcbiAgICAgICAgICAgIHN0YXR1czogJ2Vycm9yJ1xuICAgICAgICAgIH07XG5cbiAgICAgICAgY2FzZSAnc2V0U3RhdGUnOlxuICAgICAgICAgIHJldHVybiB7IC4uLnN0YXRlLFxuICAgICAgICAgICAgLi4uYWN0aW9uLnN0YXRlXG4gICAgICAgICAgfTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgdGhpcy5zdGF0ZSA9IHJlZHVjZXIodGhpcy5zdGF0ZSk7XG4gICAgbm90aWZ5TWFuYWdlci5iYXRjaCgoKSA9PiB7XG4gICAgICB0aGlzLm9ic2VydmVycy5mb3JFYWNoKG9ic2VydmVyID0+IHtcbiAgICAgICAgb2JzZXJ2ZXIub25NdXRhdGlvblVwZGF0ZShhY3Rpb24pO1xuICAgICAgfSk7XG4gICAgICB0aGlzLm11dGF0aW9uQ2FjaGUubm90aWZ5KHtcbiAgICAgICAgbXV0YXRpb246IHRoaXMsXG4gICAgICAgIHR5cGU6ICd1cGRhdGVkJyxcbiAgICAgICAgYWN0aW9uXG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG59XG5mdW5jdGlvbiBnZXREZWZhdWx0U3RhdGUoKSB7XG4gIHJldHVybiB7XG4gICAgY29udGV4dDogdW5kZWZpbmVkLFxuICAgIGRhdGE6IHVuZGVmaW5lZCxcbiAgICBlcnJvcjogbnVsbCxcbiAgICBmYWlsdXJlQ291bnQ6IDAsXG4gICAgZmFpbHVyZVJlYXNvbjogbnVsbCxcbiAgICBpc1BhdXNlZDogZmFsc2UsXG4gICAgc3RhdHVzOiAnaWRsZScsXG4gICAgdmFyaWFibGVzOiB1bmRlZmluZWRcbiAgfTtcbn1cblxuZXhwb3J0IHsgTXV0YXRpb24sIGdldERlZmF1bHRTdGF0ZSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bXV0YXRpb24uZXNtLmpzLm1hcFxuIiwiaW1wb3J0IHsgbm90aWZ5TWFuYWdlciB9IGZyb20gJy4vbm90aWZ5TWFuYWdlci5lc20uanMnO1xuaW1wb3J0IHsgTXV0YXRpb24gfSBmcm9tICcuL211dGF0aW9uLmVzbS5qcyc7XG5pbXBvcnQgeyBtYXRjaE11dGF0aW9uLCBub29wIH0gZnJvbSAnLi91dGlscy5lc20uanMnO1xuaW1wb3J0IHsgU3Vic2NyaWJhYmxlIH0gZnJvbSAnLi9zdWJzY3JpYmFibGUuZXNtLmpzJztcblxuLy8gQ0xBU1NcbmNsYXNzIE11dGF0aW9uQ2FjaGUgZXh0ZW5kcyBTdWJzY3JpYmFibGUge1xuICBjb25zdHJ1Y3Rvcihjb25maWcpIHtcbiAgICBzdXBlcigpO1xuICAgIHRoaXMuY29uZmlnID0gY29uZmlnIHx8IHt9O1xuICAgIHRoaXMubXV0YXRpb25zID0gW107XG4gICAgdGhpcy5tdXRhdGlvbklkID0gMDtcbiAgfVxuXG4gIGJ1aWxkKGNsaWVudCwgb3B0aW9ucywgc3RhdGUpIHtcbiAgICBjb25zdCBtdXRhdGlvbiA9IG5ldyBNdXRhdGlvbih7XG4gICAgICBtdXRhdGlvbkNhY2hlOiB0aGlzLFxuICAgICAgbG9nZ2VyOiBjbGllbnQuZ2V0TG9nZ2VyKCksXG4gICAgICBtdXRhdGlvbklkOiArK3RoaXMubXV0YXRpb25JZCxcbiAgICAgIG9wdGlvbnM6IGNsaWVudC5kZWZhdWx0TXV0YXRpb25PcHRpb25zKG9wdGlvbnMpLFxuICAgICAgc3RhdGUsXG4gICAgICBkZWZhdWx0T3B0aW9uczogb3B0aW9ucy5tdXRhdGlvbktleSA/IGNsaWVudC5nZXRNdXRhdGlvbkRlZmF1bHRzKG9wdGlvbnMubXV0YXRpb25LZXkpIDogdW5kZWZpbmVkXG4gICAgfSk7XG4gICAgdGhpcy5hZGQobXV0YXRpb24pO1xuICAgIHJldHVybiBtdXRhdGlvbjtcbiAgfVxuXG4gIGFkZChtdXRhdGlvbikge1xuICAgIHRoaXMubXV0YXRpb25zLnB1c2gobXV0YXRpb24pO1xuICAgIHRoaXMubm90aWZ5KHtcbiAgICAgIHR5cGU6ICdhZGRlZCcsXG4gICAgICBtdXRhdGlvblxuICAgIH0pO1xuICB9XG5cbiAgcmVtb3ZlKG11dGF0aW9uKSB7XG4gICAgdGhpcy5tdXRhdGlvbnMgPSB0aGlzLm11dGF0aW9ucy5maWx0ZXIoeCA9PiB4ICE9PSBtdXRhdGlvbik7XG4gICAgdGhpcy5ub3RpZnkoe1xuICAgICAgdHlwZTogJ3JlbW92ZWQnLFxuICAgICAgbXV0YXRpb25cbiAgICB9KTtcbiAgfVxuXG4gIGNsZWFyKCkge1xuICAgIG5vdGlmeU1hbmFnZXIuYmF0Y2goKCkgPT4ge1xuICAgICAgdGhpcy5tdXRhdGlvbnMuZm9yRWFjaChtdXRhdGlvbiA9PiB7XG4gICAgICAgIHRoaXMucmVtb3ZlKG11dGF0aW9uKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgZ2V0QWxsKCkge1xuICAgIHJldHVybiB0aGlzLm11dGF0aW9ucztcbiAgfVxuXG4gIGZpbmQoZmlsdGVycykge1xuICAgIGlmICh0eXBlb2YgZmlsdGVycy5leGFjdCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIGZpbHRlcnMuZXhhY3QgPSB0cnVlO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzLm11dGF0aW9ucy5maW5kKG11dGF0aW9uID0+IG1hdGNoTXV0YXRpb24oZmlsdGVycywgbXV0YXRpb24pKTtcbiAgfVxuXG4gIGZpbmRBbGwoZmlsdGVycykge1xuICAgIHJldHVybiB0aGlzLm11dGF0aW9ucy5maWx0ZXIobXV0YXRpb24gPT4gbWF0Y2hNdXRhdGlvbihmaWx0ZXJzLCBtdXRhdGlvbikpO1xuICB9XG5cbiAgbm90aWZ5KGV2ZW50KSB7XG4gICAgbm90aWZ5TWFuYWdlci5iYXRjaCgoKSA9PiB7XG4gICAgICB0aGlzLmxpc3RlbmVycy5mb3JFYWNoKGxpc3RlbmVyID0+IHtcbiAgICAgICAgbGlzdGVuZXIoZXZlbnQpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICByZXN1bWVQYXVzZWRNdXRhdGlvbnMoKSB7XG4gICAgdmFyIF90aGlzJHJlc3VtaW5nO1xuXG4gICAgdGhpcy5yZXN1bWluZyA9ICgoX3RoaXMkcmVzdW1pbmcgPSB0aGlzLnJlc3VtaW5nKSAhPSBudWxsID8gX3RoaXMkcmVzdW1pbmcgOiBQcm9taXNlLnJlc29sdmUoKSkudGhlbigoKSA9PiB7XG4gICAgICBjb25zdCBwYXVzZWRNdXRhdGlvbnMgPSB0aGlzLm11dGF0aW9ucy5maWx0ZXIoeCA9PiB4LnN0YXRlLmlzUGF1c2VkKTtcbiAgICAgIHJldHVybiBub3RpZnlNYW5hZ2VyLmJhdGNoKCgpID0+IHBhdXNlZE11dGF0aW9ucy5yZWR1Y2UoKHByb21pc2UsIG11dGF0aW9uKSA9PiBwcm9taXNlLnRoZW4oKCkgPT4gbXV0YXRpb24uY29udGludWUoKS5jYXRjaChub29wKSksIFByb21pc2UucmVzb2x2ZSgpKSk7XG4gICAgfSkudGhlbigoKSA9PiB7XG4gICAgICB0aGlzLnJlc3VtaW5nID0gdW5kZWZpbmVkO1xuICAgIH0pO1xuICAgIHJldHVybiB0aGlzLnJlc3VtaW5nO1xuICB9XG5cbn1cblxuZXhwb3J0IHsgTXV0YXRpb25DYWNoZSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bXV0YXRpb25DYWNoZS5lc20uanMubWFwXG4iLCJmdW5jdGlvbiBpbmZpbml0ZVF1ZXJ5QmVoYXZpb3IoKSB7XG4gIHJldHVybiB7XG4gICAgb25GZXRjaDogY29udGV4dCA9PiB7XG4gICAgICBjb250ZXh0LmZldGNoRm4gPSAoKSA9PiB7XG4gICAgICAgIHZhciBfY29udGV4dCRmZXRjaE9wdGlvbnMsIF9jb250ZXh0JGZldGNoT3B0aW9uczIsIF9jb250ZXh0JGZldGNoT3B0aW9uczMsIF9jb250ZXh0JGZldGNoT3B0aW9uczQsIF9jb250ZXh0JHN0YXRlJGRhdGEsIF9jb250ZXh0JHN0YXRlJGRhdGEyO1xuXG4gICAgICAgIGNvbnN0IHJlZmV0Y2hQYWdlID0gKF9jb250ZXh0JGZldGNoT3B0aW9ucyA9IGNvbnRleHQuZmV0Y2hPcHRpb25zKSA9PSBudWxsID8gdm9pZCAwIDogKF9jb250ZXh0JGZldGNoT3B0aW9uczIgPSBfY29udGV4dCRmZXRjaE9wdGlvbnMubWV0YSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9jb250ZXh0JGZldGNoT3B0aW9uczIucmVmZXRjaFBhZ2U7XG4gICAgICAgIGNvbnN0IGZldGNoTW9yZSA9IChfY29udGV4dCRmZXRjaE9wdGlvbnMzID0gY29udGV4dC5mZXRjaE9wdGlvbnMpID09IG51bGwgPyB2b2lkIDAgOiAoX2NvbnRleHQkZmV0Y2hPcHRpb25zNCA9IF9jb250ZXh0JGZldGNoT3B0aW9uczMubWV0YSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9jb250ZXh0JGZldGNoT3B0aW9uczQuZmV0Y2hNb3JlO1xuICAgICAgICBjb25zdCBwYWdlUGFyYW0gPSBmZXRjaE1vcmUgPT0gbnVsbCA/IHZvaWQgMCA6IGZldGNoTW9yZS5wYWdlUGFyYW07XG4gICAgICAgIGNvbnN0IGlzRmV0Y2hpbmdOZXh0UGFnZSA9IChmZXRjaE1vcmUgPT0gbnVsbCA/IHZvaWQgMCA6IGZldGNoTW9yZS5kaXJlY3Rpb24pID09PSAnZm9yd2FyZCc7XG4gICAgICAgIGNvbnN0IGlzRmV0Y2hpbmdQcmV2aW91c1BhZ2UgPSAoZmV0Y2hNb3JlID09IG51bGwgPyB2b2lkIDAgOiBmZXRjaE1vcmUuZGlyZWN0aW9uKSA9PT0gJ2JhY2t3YXJkJztcbiAgICAgICAgY29uc3Qgb2xkUGFnZXMgPSAoKF9jb250ZXh0JHN0YXRlJGRhdGEgPSBjb250ZXh0LnN0YXRlLmRhdGEpID09IG51bGwgPyB2b2lkIDAgOiBfY29udGV4dCRzdGF0ZSRkYXRhLnBhZ2VzKSB8fCBbXTtcbiAgICAgICAgY29uc3Qgb2xkUGFnZVBhcmFtcyA9ICgoX2NvbnRleHQkc3RhdGUkZGF0YTIgPSBjb250ZXh0LnN0YXRlLmRhdGEpID09IG51bGwgPyB2b2lkIDAgOiBfY29udGV4dCRzdGF0ZSRkYXRhMi5wYWdlUGFyYW1zKSB8fCBbXTtcbiAgICAgICAgbGV0IG5ld1BhZ2VQYXJhbXMgPSBvbGRQYWdlUGFyYW1zO1xuICAgICAgICBsZXQgY2FuY2VsbGVkID0gZmFsc2U7XG5cbiAgICAgICAgY29uc3QgYWRkU2lnbmFsUHJvcGVydHkgPSBvYmplY3QgPT4ge1xuICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmplY3QsICdzaWduYWwnLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgZ2V0OiAoKSA9PiB7XG4gICAgICAgICAgICAgIHZhciBfY29udGV4dCRzaWduYWw7XG5cbiAgICAgICAgICAgICAgaWYgKChfY29udGV4dCRzaWduYWwgPSBjb250ZXh0LnNpZ25hbCkgIT0gbnVsbCAmJiBfY29udGV4dCRzaWduYWwuYWJvcnRlZCkge1xuICAgICAgICAgICAgICAgIGNhbmNlbGxlZCA9IHRydWU7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdmFyIF9jb250ZXh0JHNpZ25hbDI7XG5cbiAgICAgICAgICAgICAgICAoX2NvbnRleHQkc2lnbmFsMiA9IGNvbnRleHQuc2lnbmFsKSA9PSBudWxsID8gdm9pZCAwIDogX2NvbnRleHQkc2lnbmFsMi5hZGRFdmVudExpc3RlbmVyKCdhYm9ydCcsICgpID0+IHtcbiAgICAgICAgICAgICAgICAgIGNhbmNlbGxlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICByZXR1cm4gY29udGV4dC5zaWduYWw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH07IC8vIEdldCBxdWVyeSBmdW5jdGlvblxuXG5cbiAgICAgICAgY29uc3QgcXVlcnlGbiA9IGNvbnRleHQub3B0aW9ucy5xdWVyeUZuIHx8ICgoKSA9PiBQcm9taXNlLnJlamVjdCgnTWlzc2luZyBxdWVyeUZuJykpO1xuXG4gICAgICAgIGNvbnN0IGJ1aWxkTmV3UGFnZXMgPSAocGFnZXMsIHBhcmFtLCBwYWdlLCBwcmV2aW91cykgPT4ge1xuICAgICAgICAgIG5ld1BhZ2VQYXJhbXMgPSBwcmV2aW91cyA/IFtwYXJhbSwgLi4ubmV3UGFnZVBhcmFtc10gOiBbLi4ubmV3UGFnZVBhcmFtcywgcGFyYW1dO1xuICAgICAgICAgIHJldHVybiBwcmV2aW91cyA/IFtwYWdlLCAuLi5wYWdlc10gOiBbLi4ucGFnZXMsIHBhZ2VdO1xuICAgICAgICB9OyAvLyBDcmVhdGUgZnVuY3Rpb24gdG8gZmV0Y2ggYSBwYWdlXG5cblxuICAgICAgICBjb25zdCBmZXRjaFBhZ2UgPSAocGFnZXMsIG1hbnVhbCwgcGFyYW0sIHByZXZpb3VzKSA9PiB7XG4gICAgICAgICAgaWYgKGNhbmNlbGxlZCkge1xuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KCdDYW5jZWxsZWQnKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAodHlwZW9mIHBhcmFtID09PSAndW5kZWZpbmVkJyAmJiAhbWFudWFsICYmIHBhZ2VzLmxlbmd0aCkge1xuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShwYWdlcyk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgY29uc3QgcXVlcnlGbkNvbnRleHQgPSB7XG4gICAgICAgICAgICBxdWVyeUtleTogY29udGV4dC5xdWVyeUtleSxcbiAgICAgICAgICAgIHBhZ2VQYXJhbTogcGFyYW0sXG4gICAgICAgICAgICBtZXRhOiBjb250ZXh0Lm9wdGlvbnMubWV0YVxuICAgICAgICAgIH07XG4gICAgICAgICAgYWRkU2lnbmFsUHJvcGVydHkocXVlcnlGbkNvbnRleHQpO1xuICAgICAgICAgIGNvbnN0IHF1ZXJ5Rm5SZXN1bHQgPSBxdWVyeUZuKHF1ZXJ5Rm5Db250ZXh0KTtcbiAgICAgICAgICBjb25zdCBwcm9taXNlID0gUHJvbWlzZS5yZXNvbHZlKHF1ZXJ5Rm5SZXN1bHQpLnRoZW4ocGFnZSA9PiBidWlsZE5ld1BhZ2VzKHBhZ2VzLCBwYXJhbSwgcGFnZSwgcHJldmlvdXMpKTtcbiAgICAgICAgICByZXR1cm4gcHJvbWlzZTtcbiAgICAgICAgfTtcblxuICAgICAgICBsZXQgcHJvbWlzZTsgLy8gRmV0Y2ggZmlyc3QgcGFnZT9cblxuICAgICAgICBpZiAoIW9sZFBhZ2VzLmxlbmd0aCkge1xuICAgICAgICAgIHByb21pc2UgPSBmZXRjaFBhZ2UoW10pO1xuICAgICAgICB9IC8vIEZldGNoIG5leHQgcGFnZT9cbiAgICAgICAgZWxzZSBpZiAoaXNGZXRjaGluZ05leHRQYWdlKSB7XG4gICAgICAgICAgY29uc3QgbWFudWFsID0gdHlwZW9mIHBhZ2VQYXJhbSAhPT0gJ3VuZGVmaW5lZCc7XG4gICAgICAgICAgY29uc3QgcGFyYW0gPSBtYW51YWwgPyBwYWdlUGFyYW0gOiBnZXROZXh0UGFnZVBhcmFtKGNvbnRleHQub3B0aW9ucywgb2xkUGFnZXMpO1xuICAgICAgICAgIHByb21pc2UgPSBmZXRjaFBhZ2Uob2xkUGFnZXMsIG1hbnVhbCwgcGFyYW0pO1xuICAgICAgICB9IC8vIEZldGNoIHByZXZpb3VzIHBhZ2U/XG4gICAgICAgIGVsc2UgaWYgKGlzRmV0Y2hpbmdQcmV2aW91c1BhZ2UpIHtcbiAgICAgICAgICBjb25zdCBtYW51YWwgPSB0eXBlb2YgcGFnZVBhcmFtICE9PSAndW5kZWZpbmVkJztcbiAgICAgICAgICBjb25zdCBwYXJhbSA9IG1hbnVhbCA/IHBhZ2VQYXJhbSA6IGdldFByZXZpb3VzUGFnZVBhcmFtKGNvbnRleHQub3B0aW9ucywgb2xkUGFnZXMpO1xuICAgICAgICAgIHByb21pc2UgPSBmZXRjaFBhZ2Uob2xkUGFnZXMsIG1hbnVhbCwgcGFyYW0sIHRydWUpO1xuICAgICAgICB9IC8vIFJlZmV0Y2ggcGFnZXNcbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgbmV3UGFnZVBhcmFtcyA9IFtdO1xuICAgICAgICAgIGNvbnN0IG1hbnVhbCA9IHR5cGVvZiBjb250ZXh0Lm9wdGlvbnMuZ2V0TmV4dFBhZ2VQYXJhbSA9PT0gJ3VuZGVmaW5lZCc7XG4gICAgICAgICAgY29uc3Qgc2hvdWxkRmV0Y2hGaXJzdFBhZ2UgPSByZWZldGNoUGFnZSAmJiBvbGRQYWdlc1swXSA/IHJlZmV0Y2hQYWdlKG9sZFBhZ2VzWzBdLCAwLCBvbGRQYWdlcykgOiB0cnVlOyAvLyBGZXRjaCBmaXJzdCBwYWdlXG5cbiAgICAgICAgICBwcm9taXNlID0gc2hvdWxkRmV0Y2hGaXJzdFBhZ2UgPyBmZXRjaFBhZ2UoW10sIG1hbnVhbCwgb2xkUGFnZVBhcmFtc1swXSkgOiBQcm9taXNlLnJlc29sdmUoYnVpbGROZXdQYWdlcyhbXSwgb2xkUGFnZVBhcmFtc1swXSwgb2xkUGFnZXNbMF0pKTsgLy8gRmV0Y2ggcmVtYWluaW5nIHBhZ2VzXG5cbiAgICAgICAgICBmb3IgKGxldCBpID0gMTsgaSA8IG9sZFBhZ2VzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBwcm9taXNlID0gcHJvbWlzZS50aGVuKHBhZ2VzID0+IHtcbiAgICAgICAgICAgICAgY29uc3Qgc2hvdWxkRmV0Y2hOZXh0UGFnZSA9IHJlZmV0Y2hQYWdlICYmIG9sZFBhZ2VzW2ldID8gcmVmZXRjaFBhZ2Uob2xkUGFnZXNbaV0sIGksIG9sZFBhZ2VzKSA6IHRydWU7XG5cbiAgICAgICAgICAgICAgaWYgKHNob3VsZEZldGNoTmV4dFBhZ2UpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBwYXJhbSA9IG1hbnVhbCA/IG9sZFBhZ2VQYXJhbXNbaV0gOiBnZXROZXh0UGFnZVBhcmFtKGNvbnRleHQub3B0aW9ucywgcGFnZXMpO1xuICAgICAgICAgICAgICAgIHJldHVybiBmZXRjaFBhZ2UocGFnZXMsIG1hbnVhbCwgcGFyYW0pO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShidWlsZE5ld1BhZ2VzKHBhZ2VzLCBvbGRQYWdlUGFyYW1zW2ldLCBvbGRQYWdlc1tpXSkpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgZmluYWxQcm9taXNlID0gcHJvbWlzZS50aGVuKHBhZ2VzID0+ICh7XG4gICAgICAgICAgcGFnZXMsXG4gICAgICAgICAgcGFnZVBhcmFtczogbmV3UGFnZVBhcmFtc1xuICAgICAgICB9KSk7XG4gICAgICAgIHJldHVybiBmaW5hbFByb21pc2U7XG4gICAgICB9O1xuICAgIH1cbiAgfTtcbn1cbmZ1bmN0aW9uIGdldE5leHRQYWdlUGFyYW0ob3B0aW9ucywgcGFnZXMpIHtcbiAgcmV0dXJuIG9wdGlvbnMuZ2V0TmV4dFBhZ2VQYXJhbSA9PSBudWxsID8gdm9pZCAwIDogb3B0aW9ucy5nZXROZXh0UGFnZVBhcmFtKHBhZ2VzW3BhZ2VzLmxlbmd0aCAtIDFdLCBwYWdlcyk7XG59XG5mdW5jdGlvbiBnZXRQcmV2aW91c1BhZ2VQYXJhbShvcHRpb25zLCBwYWdlcykge1xuICByZXR1cm4gb3B0aW9ucy5nZXRQcmV2aW91c1BhZ2VQYXJhbSA9PSBudWxsID8gdm9pZCAwIDogb3B0aW9ucy5nZXRQcmV2aW91c1BhZ2VQYXJhbShwYWdlc1swXSwgcGFnZXMpO1xufVxuLyoqXG4gKiBDaGVja3MgaWYgdGhlcmUgaXMgYSBuZXh0IHBhZ2UuXG4gKiBSZXR1cm5zIGB1bmRlZmluZWRgIGlmIGl0IGNhbm5vdCBiZSBkZXRlcm1pbmVkLlxuICovXG5cbmZ1bmN0aW9uIGhhc05leHRQYWdlKG9wdGlvbnMsIHBhZ2VzKSB7XG4gIGlmIChvcHRpb25zLmdldE5leHRQYWdlUGFyYW0gJiYgQXJyYXkuaXNBcnJheShwYWdlcykpIHtcbiAgICBjb25zdCBuZXh0UGFnZVBhcmFtID0gZ2V0TmV4dFBhZ2VQYXJhbShvcHRpb25zLCBwYWdlcyk7XG4gICAgcmV0dXJuIHR5cGVvZiBuZXh0UGFnZVBhcmFtICE9PSAndW5kZWZpbmVkJyAmJiBuZXh0UGFnZVBhcmFtICE9PSBudWxsICYmIG5leHRQYWdlUGFyYW0gIT09IGZhbHNlO1xuICB9XG5cbiAgcmV0dXJuO1xufVxuLyoqXG4gKiBDaGVja3MgaWYgdGhlcmUgaXMgYSBwcmV2aW91cyBwYWdlLlxuICogUmV0dXJucyBgdW5kZWZpbmVkYCBpZiBpdCBjYW5ub3QgYmUgZGV0ZXJtaW5lZC5cbiAqL1xuXG5mdW5jdGlvbiBoYXNQcmV2aW91c1BhZ2Uob3B0aW9ucywgcGFnZXMpIHtcbiAgaWYgKG9wdGlvbnMuZ2V0UHJldmlvdXNQYWdlUGFyYW0gJiYgQXJyYXkuaXNBcnJheShwYWdlcykpIHtcbiAgICBjb25zdCBwcmV2aW91c1BhZ2VQYXJhbSA9IGdldFByZXZpb3VzUGFnZVBhcmFtKG9wdGlvbnMsIHBhZ2VzKTtcbiAgICByZXR1cm4gdHlwZW9mIHByZXZpb3VzUGFnZVBhcmFtICE9PSAndW5kZWZpbmVkJyAmJiBwcmV2aW91c1BhZ2VQYXJhbSAhPT0gbnVsbCAmJiBwcmV2aW91c1BhZ2VQYXJhbSAhPT0gZmFsc2U7XG4gIH1cblxuICByZXR1cm47XG59XG5cbmV4cG9ydCB7IGdldE5leHRQYWdlUGFyYW0sIGdldFByZXZpb3VzUGFnZVBhcmFtLCBoYXNOZXh0UGFnZSwgaGFzUHJldmlvdXNQYWdlLCBpbmZpbml0ZVF1ZXJ5QmVoYXZpb3IgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZmluaXRlUXVlcnlCZWhhdmlvci5lc20uanMubWFwXG4iLCJpbXBvcnQgeyBwYXJzZUZpbHRlckFyZ3MsIHBhcnNlUXVlcnlBcmdzLCBmdW5jdGlvbmFsVXBkYXRlLCBub29wLCBoYXNoUXVlcnlLZXksIHBhcnRpYWxNYXRjaEtleSwgaGFzaFF1ZXJ5S2V5QnlPcHRpb25zIH0gZnJvbSAnLi91dGlscy5lc20uanMnO1xuaW1wb3J0IHsgUXVlcnlDYWNoZSB9IGZyb20gJy4vcXVlcnlDYWNoZS5lc20uanMnO1xuaW1wb3J0IHsgTXV0YXRpb25DYWNoZSB9IGZyb20gJy4vbXV0YXRpb25DYWNoZS5lc20uanMnO1xuaW1wb3J0IHsgZm9jdXNNYW5hZ2VyIH0gZnJvbSAnLi9mb2N1c01hbmFnZXIuZXNtLmpzJztcbmltcG9ydCB7IG9ubGluZU1hbmFnZXIgfSBmcm9tICcuL29ubGluZU1hbmFnZXIuZXNtLmpzJztcbmltcG9ydCB7IG5vdGlmeU1hbmFnZXIgfSBmcm9tICcuL25vdGlmeU1hbmFnZXIuZXNtLmpzJztcbmltcG9ydCB7IGluZmluaXRlUXVlcnlCZWhhdmlvciB9IGZyb20gJy4vaW5maW5pdGVRdWVyeUJlaGF2aW9yLmVzbS5qcyc7XG5pbXBvcnQgeyBkZWZhdWx0TG9nZ2VyIH0gZnJvbSAnLi9sb2dnZXIuZXNtLmpzJztcblxuLy8gQ0xBU1NcbmNsYXNzIFF1ZXJ5Q2xpZW50IHtcbiAgY29uc3RydWN0b3IoY29uZmlnID0ge30pIHtcbiAgICB0aGlzLnF1ZXJ5Q2FjaGUgPSBjb25maWcucXVlcnlDYWNoZSB8fCBuZXcgUXVlcnlDYWNoZSgpO1xuICAgIHRoaXMubXV0YXRpb25DYWNoZSA9IGNvbmZpZy5tdXRhdGlvbkNhY2hlIHx8IG5ldyBNdXRhdGlvbkNhY2hlKCk7XG4gICAgdGhpcy5sb2dnZXIgPSBjb25maWcubG9nZ2VyIHx8IGRlZmF1bHRMb2dnZXI7XG4gICAgdGhpcy5kZWZhdWx0T3B0aW9ucyA9IGNvbmZpZy5kZWZhdWx0T3B0aW9ucyB8fCB7fTtcbiAgICB0aGlzLnF1ZXJ5RGVmYXVsdHMgPSBbXTtcbiAgICB0aGlzLm11dGF0aW9uRGVmYXVsdHMgPSBbXTtcbiAgICB0aGlzLm1vdW50Q291bnQgPSAwO1xuXG4gICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgJiYgY29uZmlnLmxvZ2dlcikge1xuICAgICAgdGhpcy5sb2dnZXIuZXJyb3IoXCJQYXNzaW5nIGEgY3VzdG9tIGxvZ2dlciBoYXMgYmVlbiBkZXByZWNhdGVkIGFuZCB3aWxsIGJlIHJlbW92ZWQgaW4gdGhlIG5leHQgbWFqb3IgdmVyc2lvbi5cIik7XG4gICAgfVxuICB9XG5cbiAgbW91bnQoKSB7XG4gICAgdGhpcy5tb3VudENvdW50Kys7XG4gICAgaWYgKHRoaXMubW91bnRDb3VudCAhPT0gMSkgcmV0dXJuO1xuICAgIHRoaXMudW5zdWJzY3JpYmVGb2N1cyA9IGZvY3VzTWFuYWdlci5zdWJzY3JpYmUoKCkgPT4ge1xuICAgICAgaWYgKGZvY3VzTWFuYWdlci5pc0ZvY3VzZWQoKSkge1xuICAgICAgICB0aGlzLnJlc3VtZVBhdXNlZE11dGF0aW9ucygpO1xuICAgICAgICB0aGlzLnF1ZXJ5Q2FjaGUub25Gb2N1cygpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHRoaXMudW5zdWJzY3JpYmVPbmxpbmUgPSBvbmxpbmVNYW5hZ2VyLnN1YnNjcmliZSgoKSA9PiB7XG4gICAgICBpZiAob25saW5lTWFuYWdlci5pc09ubGluZSgpKSB7XG4gICAgICAgIHRoaXMucmVzdW1lUGF1c2VkTXV0YXRpb25zKCk7XG4gICAgICAgIHRoaXMucXVlcnlDYWNoZS5vbk9ubGluZSgpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgdW5tb3VudCgpIHtcbiAgICB2YXIgX3RoaXMkdW5zdWJzY3JpYmVGb2N1LCBfdGhpcyR1bnN1YnNjcmliZU9ubGk7XG5cbiAgICB0aGlzLm1vdW50Q291bnQtLTtcbiAgICBpZiAodGhpcy5tb3VudENvdW50ICE9PSAwKSByZXR1cm47XG4gICAgKF90aGlzJHVuc3Vic2NyaWJlRm9jdSA9IHRoaXMudW5zdWJzY3JpYmVGb2N1cykgPT0gbnVsbCA/IHZvaWQgMCA6IF90aGlzJHVuc3Vic2NyaWJlRm9jdS5jYWxsKHRoaXMpO1xuICAgIHRoaXMudW5zdWJzY3JpYmVGb2N1cyA9IHVuZGVmaW5lZDtcbiAgICAoX3RoaXMkdW5zdWJzY3JpYmVPbmxpID0gdGhpcy51bnN1YnNjcmliZU9ubGluZSkgPT0gbnVsbCA/IHZvaWQgMCA6IF90aGlzJHVuc3Vic2NyaWJlT25saS5jYWxsKHRoaXMpO1xuICAgIHRoaXMudW5zdWJzY3JpYmVPbmxpbmUgPSB1bmRlZmluZWQ7XG4gIH1cblxuICBpc0ZldGNoaW5nKGFyZzEsIGFyZzIpIHtcbiAgICBjb25zdCBbZmlsdGVyc10gPSBwYXJzZUZpbHRlckFyZ3MoYXJnMSwgYXJnMik7XG4gICAgZmlsdGVycy5mZXRjaFN0YXR1cyA9ICdmZXRjaGluZyc7XG4gICAgcmV0dXJuIHRoaXMucXVlcnlDYWNoZS5maW5kQWxsKGZpbHRlcnMpLmxlbmd0aDtcbiAgfVxuXG4gIGlzTXV0YXRpbmcoZmlsdGVycykge1xuICAgIHJldHVybiB0aGlzLm11dGF0aW9uQ2FjaGUuZmluZEFsbCh7IC4uLmZpbHRlcnMsXG4gICAgICBmZXRjaGluZzogdHJ1ZVxuICAgIH0pLmxlbmd0aDtcbiAgfVxuXG4gIGdldFF1ZXJ5RGF0YShxdWVyeUtleSwgZmlsdGVycykge1xuICAgIHZhciBfdGhpcyRxdWVyeUNhY2hlJGZpbmQ7XG5cbiAgICByZXR1cm4gKF90aGlzJHF1ZXJ5Q2FjaGUkZmluZCA9IHRoaXMucXVlcnlDYWNoZS5maW5kKHF1ZXJ5S2V5LCBmaWx0ZXJzKSkgPT0gbnVsbCA/IHZvaWQgMCA6IF90aGlzJHF1ZXJ5Q2FjaGUkZmluZC5zdGF0ZS5kYXRhO1xuICB9XG5cbiAgZW5zdXJlUXVlcnlEYXRhKGFyZzEsIGFyZzIsIGFyZzMpIHtcbiAgICBjb25zdCBwYXJzZWRPcHRpb25zID0gcGFyc2VRdWVyeUFyZ3MoYXJnMSwgYXJnMiwgYXJnMyk7XG4gICAgY29uc3QgY2FjaGVkRGF0YSA9IHRoaXMuZ2V0UXVlcnlEYXRhKHBhcnNlZE9wdGlvbnMucXVlcnlLZXkpO1xuICAgIHJldHVybiBjYWNoZWREYXRhID8gUHJvbWlzZS5yZXNvbHZlKGNhY2hlZERhdGEpIDogdGhpcy5mZXRjaFF1ZXJ5KHBhcnNlZE9wdGlvbnMpO1xuICB9XG5cbiAgZ2V0UXVlcmllc0RhdGEocXVlcnlLZXlPckZpbHRlcnMpIHtcbiAgICByZXR1cm4gdGhpcy5nZXRRdWVyeUNhY2hlKCkuZmluZEFsbChxdWVyeUtleU9yRmlsdGVycykubWFwKCh7XG4gICAgICBxdWVyeUtleSxcbiAgICAgIHN0YXRlXG4gICAgfSkgPT4ge1xuICAgICAgY29uc3QgZGF0YSA9IHN0YXRlLmRhdGE7XG4gICAgICByZXR1cm4gW3F1ZXJ5S2V5LCBkYXRhXTtcbiAgICB9KTtcbiAgfVxuXG4gIHNldFF1ZXJ5RGF0YShxdWVyeUtleSwgdXBkYXRlciwgb3B0aW9ucykge1xuICAgIGNvbnN0IHF1ZXJ5ID0gdGhpcy5xdWVyeUNhY2hlLmZpbmQocXVlcnlLZXkpO1xuICAgIGNvbnN0IHByZXZEYXRhID0gcXVlcnkgPT0gbnVsbCA/IHZvaWQgMCA6IHF1ZXJ5LnN0YXRlLmRhdGE7XG4gICAgY29uc3QgZGF0YSA9IGZ1bmN0aW9uYWxVcGRhdGUodXBkYXRlciwgcHJldkRhdGEpO1xuXG4gICAgaWYgKHR5cGVvZiBkYXRhID09PSAndW5kZWZpbmVkJykge1xuICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICBjb25zdCBwYXJzZWRPcHRpb25zID0gcGFyc2VRdWVyeUFyZ3MocXVlcnlLZXkpO1xuICAgIGNvbnN0IGRlZmF1bHRlZE9wdGlvbnMgPSB0aGlzLmRlZmF1bHRRdWVyeU9wdGlvbnMocGFyc2VkT3B0aW9ucyk7XG4gICAgcmV0dXJuIHRoaXMucXVlcnlDYWNoZS5idWlsZCh0aGlzLCBkZWZhdWx0ZWRPcHRpb25zKS5zZXREYXRhKGRhdGEsIHsgLi4ub3B0aW9ucyxcbiAgICAgIG1hbnVhbDogdHJ1ZVxuICAgIH0pO1xuICB9XG5cbiAgc2V0UXVlcmllc0RhdGEocXVlcnlLZXlPckZpbHRlcnMsIHVwZGF0ZXIsIG9wdGlvbnMpIHtcbiAgICByZXR1cm4gbm90aWZ5TWFuYWdlci5iYXRjaCgoKSA9PiB0aGlzLmdldFF1ZXJ5Q2FjaGUoKS5maW5kQWxsKHF1ZXJ5S2V5T3JGaWx0ZXJzKS5tYXAoKHtcbiAgICAgIHF1ZXJ5S2V5XG4gICAgfSkgPT4gW3F1ZXJ5S2V5LCB0aGlzLnNldFF1ZXJ5RGF0YShxdWVyeUtleSwgdXBkYXRlciwgb3B0aW9ucyldKSk7XG4gIH1cblxuICBnZXRRdWVyeVN0YXRlKHF1ZXJ5S2V5LCBmaWx0ZXJzKSB7XG4gICAgdmFyIF90aGlzJHF1ZXJ5Q2FjaGUkZmluZDI7XG5cbiAgICByZXR1cm4gKF90aGlzJHF1ZXJ5Q2FjaGUkZmluZDIgPSB0aGlzLnF1ZXJ5Q2FjaGUuZmluZChxdWVyeUtleSwgZmlsdGVycykpID09IG51bGwgPyB2b2lkIDAgOiBfdGhpcyRxdWVyeUNhY2hlJGZpbmQyLnN0YXRlO1xuICB9XG5cbiAgcmVtb3ZlUXVlcmllcyhhcmcxLCBhcmcyKSB7XG4gICAgY29uc3QgW2ZpbHRlcnNdID0gcGFyc2VGaWx0ZXJBcmdzKGFyZzEsIGFyZzIpO1xuICAgIGNvbnN0IHF1ZXJ5Q2FjaGUgPSB0aGlzLnF1ZXJ5Q2FjaGU7XG4gICAgbm90aWZ5TWFuYWdlci5iYXRjaCgoKSA9PiB7XG4gICAgICBxdWVyeUNhY2hlLmZpbmRBbGwoZmlsdGVycykuZm9yRWFjaChxdWVyeSA9PiB7XG4gICAgICAgIHF1ZXJ5Q2FjaGUucmVtb3ZlKHF1ZXJ5KTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgcmVzZXRRdWVyaWVzKGFyZzEsIGFyZzIsIGFyZzMpIHtcbiAgICBjb25zdCBbZmlsdGVycywgb3B0aW9uc10gPSBwYXJzZUZpbHRlckFyZ3MoYXJnMSwgYXJnMiwgYXJnMyk7XG4gICAgY29uc3QgcXVlcnlDYWNoZSA9IHRoaXMucXVlcnlDYWNoZTtcbiAgICBjb25zdCByZWZldGNoRmlsdGVycyA9IHtcbiAgICAgIHR5cGU6ICdhY3RpdmUnLFxuICAgICAgLi4uZmlsdGVyc1xuICAgIH07XG4gICAgcmV0dXJuIG5vdGlmeU1hbmFnZXIuYmF0Y2goKCkgPT4ge1xuICAgICAgcXVlcnlDYWNoZS5maW5kQWxsKGZpbHRlcnMpLmZvckVhY2gocXVlcnkgPT4ge1xuICAgICAgICBxdWVyeS5yZXNldCgpO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gdGhpcy5yZWZldGNoUXVlcmllcyhyZWZldGNoRmlsdGVycywgb3B0aW9ucyk7XG4gICAgfSk7XG4gIH1cblxuICBjYW5jZWxRdWVyaWVzKGFyZzEsIGFyZzIsIGFyZzMpIHtcbiAgICBjb25zdCBbZmlsdGVycywgY2FuY2VsT3B0aW9ucyA9IHt9XSA9IHBhcnNlRmlsdGVyQXJncyhhcmcxLCBhcmcyLCBhcmczKTtcblxuICAgIGlmICh0eXBlb2YgY2FuY2VsT3B0aW9ucy5yZXZlcnQgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICBjYW5jZWxPcHRpb25zLnJldmVydCA9IHRydWU7XG4gICAgfVxuXG4gICAgY29uc3QgcHJvbWlzZXMgPSBub3RpZnlNYW5hZ2VyLmJhdGNoKCgpID0+IHRoaXMucXVlcnlDYWNoZS5maW5kQWxsKGZpbHRlcnMpLm1hcChxdWVyeSA9PiBxdWVyeS5jYW5jZWwoY2FuY2VsT3B0aW9ucykpKTtcbiAgICByZXR1cm4gUHJvbWlzZS5hbGwocHJvbWlzZXMpLnRoZW4obm9vcCkuY2F0Y2gobm9vcCk7XG4gIH1cblxuICBpbnZhbGlkYXRlUXVlcmllcyhhcmcxLCBhcmcyLCBhcmczKSB7XG4gICAgY29uc3QgW2ZpbHRlcnMsIG9wdGlvbnNdID0gcGFyc2VGaWx0ZXJBcmdzKGFyZzEsIGFyZzIsIGFyZzMpO1xuICAgIHJldHVybiBub3RpZnlNYW5hZ2VyLmJhdGNoKCgpID0+IHtcbiAgICAgIHZhciBfcmVmLCBfZmlsdGVycyRyZWZldGNoVHlwZTtcblxuICAgICAgdGhpcy5xdWVyeUNhY2hlLmZpbmRBbGwoZmlsdGVycykuZm9yRWFjaChxdWVyeSA9PiB7XG4gICAgICAgIHF1ZXJ5LmludmFsaWRhdGUoKTtcbiAgICAgIH0pO1xuXG4gICAgICBpZiAoZmlsdGVycy5yZWZldGNoVHlwZSA9PT0gJ25vbmUnKSB7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgICAgIH1cblxuICAgICAgY29uc3QgcmVmZXRjaEZpbHRlcnMgPSB7IC4uLmZpbHRlcnMsXG4gICAgICAgIHR5cGU6IChfcmVmID0gKF9maWx0ZXJzJHJlZmV0Y2hUeXBlID0gZmlsdGVycy5yZWZldGNoVHlwZSkgIT0gbnVsbCA/IF9maWx0ZXJzJHJlZmV0Y2hUeXBlIDogZmlsdGVycy50eXBlKSAhPSBudWxsID8gX3JlZiA6ICdhY3RpdmUnXG4gICAgICB9O1xuICAgICAgcmV0dXJuIHRoaXMucmVmZXRjaFF1ZXJpZXMocmVmZXRjaEZpbHRlcnMsIG9wdGlvbnMpO1xuICAgIH0pO1xuICB9XG5cbiAgcmVmZXRjaFF1ZXJpZXMoYXJnMSwgYXJnMiwgYXJnMykge1xuICAgIGNvbnN0IFtmaWx0ZXJzLCBvcHRpb25zXSA9IHBhcnNlRmlsdGVyQXJncyhhcmcxLCBhcmcyLCBhcmczKTtcbiAgICBjb25zdCBwcm9taXNlcyA9IG5vdGlmeU1hbmFnZXIuYmF0Y2goKCkgPT4gdGhpcy5xdWVyeUNhY2hlLmZpbmRBbGwoZmlsdGVycykuZmlsdGVyKHF1ZXJ5ID0+ICFxdWVyeS5pc0Rpc2FibGVkKCkpLm1hcChxdWVyeSA9PiB7XG4gICAgICB2YXIgX29wdGlvbnMkY2FuY2VsUmVmZXRjO1xuXG4gICAgICByZXR1cm4gcXVlcnkuZmV0Y2godW5kZWZpbmVkLCB7IC4uLm9wdGlvbnMsXG4gICAgICAgIGNhbmNlbFJlZmV0Y2g6IChfb3B0aW9ucyRjYW5jZWxSZWZldGMgPSBvcHRpb25zID09IG51bGwgPyB2b2lkIDAgOiBvcHRpb25zLmNhbmNlbFJlZmV0Y2gpICE9IG51bGwgPyBfb3B0aW9ucyRjYW5jZWxSZWZldGMgOiB0cnVlLFxuICAgICAgICBtZXRhOiB7XG4gICAgICAgICAgcmVmZXRjaFBhZ2U6IGZpbHRlcnMucmVmZXRjaFBhZ2VcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSkpO1xuICAgIGxldCBwcm9taXNlID0gUHJvbWlzZS5hbGwocHJvbWlzZXMpLnRoZW4obm9vcCk7XG5cbiAgICBpZiAoIShvcHRpb25zICE9IG51bGwgJiYgb3B0aW9ucy50aHJvd09uRXJyb3IpKSB7XG4gICAgICBwcm9taXNlID0gcHJvbWlzZS5jYXRjaChub29wKTtcbiAgICB9XG5cbiAgICByZXR1cm4gcHJvbWlzZTtcbiAgfVxuXG4gIGZldGNoUXVlcnkoYXJnMSwgYXJnMiwgYXJnMykge1xuICAgIGNvbnN0IHBhcnNlZE9wdGlvbnMgPSBwYXJzZVF1ZXJ5QXJncyhhcmcxLCBhcmcyLCBhcmczKTtcbiAgICBjb25zdCBkZWZhdWx0ZWRPcHRpb25zID0gdGhpcy5kZWZhdWx0UXVlcnlPcHRpb25zKHBhcnNlZE9wdGlvbnMpOyAvLyBodHRwczovL2dpdGh1Yi5jb20vdGFubmVybGluc2xleS9yZWFjdC1xdWVyeS9pc3N1ZXMvNjUyXG5cbiAgICBpZiAodHlwZW9mIGRlZmF1bHRlZE9wdGlvbnMucmV0cnkgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICBkZWZhdWx0ZWRPcHRpb25zLnJldHJ5ID0gZmFsc2U7XG4gICAgfVxuXG4gICAgY29uc3QgcXVlcnkgPSB0aGlzLnF1ZXJ5Q2FjaGUuYnVpbGQodGhpcywgZGVmYXVsdGVkT3B0aW9ucyk7XG4gICAgcmV0dXJuIHF1ZXJ5LmlzU3RhbGVCeVRpbWUoZGVmYXVsdGVkT3B0aW9ucy5zdGFsZVRpbWUpID8gcXVlcnkuZmV0Y2goZGVmYXVsdGVkT3B0aW9ucykgOiBQcm9taXNlLnJlc29sdmUocXVlcnkuc3RhdGUuZGF0YSk7XG4gIH1cblxuICBwcmVmZXRjaFF1ZXJ5KGFyZzEsIGFyZzIsIGFyZzMpIHtcbiAgICByZXR1cm4gdGhpcy5mZXRjaFF1ZXJ5KGFyZzEsIGFyZzIsIGFyZzMpLnRoZW4obm9vcCkuY2F0Y2gobm9vcCk7XG4gIH1cblxuICBmZXRjaEluZmluaXRlUXVlcnkoYXJnMSwgYXJnMiwgYXJnMykge1xuICAgIGNvbnN0IHBhcnNlZE9wdGlvbnMgPSBwYXJzZVF1ZXJ5QXJncyhhcmcxLCBhcmcyLCBhcmczKTtcbiAgICBwYXJzZWRPcHRpb25zLmJlaGF2aW9yID0gaW5maW5pdGVRdWVyeUJlaGF2aW9yKCk7XG4gICAgcmV0dXJuIHRoaXMuZmV0Y2hRdWVyeShwYXJzZWRPcHRpb25zKTtcbiAgfVxuXG4gIHByZWZldGNoSW5maW5pdGVRdWVyeShhcmcxLCBhcmcyLCBhcmczKSB7XG4gICAgcmV0dXJuIHRoaXMuZmV0Y2hJbmZpbml0ZVF1ZXJ5KGFyZzEsIGFyZzIsIGFyZzMpLnRoZW4obm9vcCkuY2F0Y2gobm9vcCk7XG4gIH1cblxuICByZXN1bWVQYXVzZWRNdXRhdGlvbnMoKSB7XG4gICAgcmV0dXJuIHRoaXMubXV0YXRpb25DYWNoZS5yZXN1bWVQYXVzZWRNdXRhdGlvbnMoKTtcbiAgfVxuXG4gIGdldFF1ZXJ5Q2FjaGUoKSB7XG4gICAgcmV0dXJuIHRoaXMucXVlcnlDYWNoZTtcbiAgfVxuXG4gIGdldE11dGF0aW9uQ2FjaGUoKSB7XG4gICAgcmV0dXJuIHRoaXMubXV0YXRpb25DYWNoZTtcbiAgfVxuXG4gIGdldExvZ2dlcigpIHtcbiAgICByZXR1cm4gdGhpcy5sb2dnZXI7XG4gIH1cblxuICBnZXREZWZhdWx0T3B0aW9ucygpIHtcbiAgICByZXR1cm4gdGhpcy5kZWZhdWx0T3B0aW9ucztcbiAgfVxuXG4gIHNldERlZmF1bHRPcHRpb25zKG9wdGlvbnMpIHtcbiAgICB0aGlzLmRlZmF1bHRPcHRpb25zID0gb3B0aW9ucztcbiAgfVxuXG4gIHNldFF1ZXJ5RGVmYXVsdHMocXVlcnlLZXksIG9wdGlvbnMpIHtcbiAgICBjb25zdCByZXN1bHQgPSB0aGlzLnF1ZXJ5RGVmYXVsdHMuZmluZCh4ID0+IGhhc2hRdWVyeUtleShxdWVyeUtleSkgPT09IGhhc2hRdWVyeUtleSh4LnF1ZXJ5S2V5KSk7XG5cbiAgICBpZiAocmVzdWx0KSB7XG4gICAgICByZXN1bHQuZGVmYXVsdE9wdGlvbnMgPSBvcHRpb25zO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnF1ZXJ5RGVmYXVsdHMucHVzaCh7XG4gICAgICAgIHF1ZXJ5S2V5LFxuICAgICAgICBkZWZhdWx0T3B0aW9uczogb3B0aW9uc1xuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgZ2V0UXVlcnlEZWZhdWx0cyhxdWVyeUtleSkge1xuICAgIGlmICghcXVlcnlLZXkpIHtcbiAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfSAvLyBHZXQgdGhlIGZpcnN0IG1hdGNoaW5nIGRlZmF1bHRzXG5cblxuICAgIGNvbnN0IGZpcnN0TWF0Y2hpbmdEZWZhdWx0cyA9IHRoaXMucXVlcnlEZWZhdWx0cy5maW5kKHggPT4gcGFydGlhbE1hdGNoS2V5KHF1ZXJ5S2V5LCB4LnF1ZXJ5S2V5KSk7IC8vIEFkZGl0aW9uYWwgY2hlY2tzIGFuZCBlcnJvciBpbiBkZXYgbW9kZVxuXG4gICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgIC8vIFJldHJpZXZlIGFsbCBtYXRjaGluZyBkZWZhdWx0cyBmb3IgdGhlIGdpdmVuIGtleVxuICAgICAgY29uc3QgbWF0Y2hpbmdEZWZhdWx0cyA9IHRoaXMucXVlcnlEZWZhdWx0cy5maWx0ZXIoeCA9PiBwYXJ0aWFsTWF0Y2hLZXkocXVlcnlLZXksIHgucXVlcnlLZXkpKTsgLy8gSXQgaXMgb2sgbm90IGhhdmluZyBkZWZhdWx0cywgYnV0IGl0IGlzIGVycm9yIHByb25lIHRvIGhhdmUgbW9yZSB0aGFuIDEgZGVmYXVsdCBmb3IgYSBnaXZlbiBrZXlcblxuICAgICAgaWYgKG1hdGNoaW5nRGVmYXVsdHMubGVuZ3RoID4gMSkge1xuICAgICAgICB0aGlzLmxvZ2dlci5lcnJvcihcIltRdWVyeUNsaWVudF0gU2V2ZXJhbCBxdWVyeSBkZWZhdWx0cyBtYXRjaCB3aXRoIGtleSAnXCIgKyBKU09OLnN0cmluZ2lmeShxdWVyeUtleSkgKyBcIicuIFRoZSBmaXJzdCBtYXRjaGluZyBxdWVyeSBkZWZhdWx0cyBhcmUgdXNlZC4gUGxlYXNlIGNoZWNrIGhvdyBxdWVyeSBkZWZhdWx0cyBhcmUgcmVnaXN0ZXJlZC4gT3JkZXIgZG9lcyBtYXR0ZXIgaGVyZS4gY2YuIGh0dHBzOi8vcmVhY3QtcXVlcnkudGFuc3RhY2suY29tL3JlZmVyZW5jZS9RdWVyeUNsaWVudCNxdWVyeWNsaWVudHNldHF1ZXJ5ZGVmYXVsdHMuXCIpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBmaXJzdE1hdGNoaW5nRGVmYXVsdHMgPT0gbnVsbCA/IHZvaWQgMCA6IGZpcnN0TWF0Y2hpbmdEZWZhdWx0cy5kZWZhdWx0T3B0aW9ucztcbiAgfVxuXG4gIHNldE11dGF0aW9uRGVmYXVsdHMobXV0YXRpb25LZXksIG9wdGlvbnMpIHtcbiAgICBjb25zdCByZXN1bHQgPSB0aGlzLm11dGF0aW9uRGVmYXVsdHMuZmluZCh4ID0+IGhhc2hRdWVyeUtleShtdXRhdGlvbktleSkgPT09IGhhc2hRdWVyeUtleSh4Lm11dGF0aW9uS2V5KSk7XG5cbiAgICBpZiAocmVzdWx0KSB7XG4gICAgICByZXN1bHQuZGVmYXVsdE9wdGlvbnMgPSBvcHRpb25zO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLm11dGF0aW9uRGVmYXVsdHMucHVzaCh7XG4gICAgICAgIG11dGF0aW9uS2V5LFxuICAgICAgICBkZWZhdWx0T3B0aW9uczogb3B0aW9uc1xuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgZ2V0TXV0YXRpb25EZWZhdWx0cyhtdXRhdGlvbktleSkge1xuICAgIGlmICghbXV0YXRpb25LZXkpIHtcbiAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfSAvLyBHZXQgdGhlIGZpcnN0IG1hdGNoaW5nIGRlZmF1bHRzXG5cblxuICAgIGNvbnN0IGZpcnN0TWF0Y2hpbmdEZWZhdWx0cyA9IHRoaXMubXV0YXRpb25EZWZhdWx0cy5maW5kKHggPT4gcGFydGlhbE1hdGNoS2V5KG11dGF0aW9uS2V5LCB4Lm11dGF0aW9uS2V5KSk7IC8vIEFkZGl0aW9uYWwgY2hlY2tzIGFuZCBlcnJvciBpbiBkZXYgbW9kZVxuXG4gICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgIC8vIFJldHJpZXZlIGFsbCBtYXRjaGluZyBkZWZhdWx0cyBmb3IgdGhlIGdpdmVuIGtleVxuICAgICAgY29uc3QgbWF0Y2hpbmdEZWZhdWx0cyA9IHRoaXMubXV0YXRpb25EZWZhdWx0cy5maWx0ZXIoeCA9PiBwYXJ0aWFsTWF0Y2hLZXkobXV0YXRpb25LZXksIHgubXV0YXRpb25LZXkpKTsgLy8gSXQgaXMgb2sgbm90IGhhdmluZyBkZWZhdWx0cywgYnV0IGl0IGlzIGVycm9yIHByb25lIHRvIGhhdmUgbW9yZSB0aGFuIDEgZGVmYXVsdCBmb3IgYSBnaXZlbiBrZXlcblxuICAgICAgaWYgKG1hdGNoaW5nRGVmYXVsdHMubGVuZ3RoID4gMSkge1xuICAgICAgICB0aGlzLmxvZ2dlci5lcnJvcihcIltRdWVyeUNsaWVudF0gU2V2ZXJhbCBtdXRhdGlvbiBkZWZhdWx0cyBtYXRjaCB3aXRoIGtleSAnXCIgKyBKU09OLnN0cmluZ2lmeShtdXRhdGlvbktleSkgKyBcIicuIFRoZSBmaXJzdCBtYXRjaGluZyBtdXRhdGlvbiBkZWZhdWx0cyBhcmUgdXNlZC4gUGxlYXNlIGNoZWNrIGhvdyBtdXRhdGlvbiBkZWZhdWx0cyBhcmUgcmVnaXN0ZXJlZC4gT3JkZXIgZG9lcyBtYXR0ZXIgaGVyZS4gY2YuIGh0dHBzOi8vcmVhY3QtcXVlcnkudGFuc3RhY2suY29tL3JlZmVyZW5jZS9RdWVyeUNsaWVudCNxdWVyeWNsaWVudHNldG11dGF0aW9uZGVmYXVsdHMuXCIpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBmaXJzdE1hdGNoaW5nRGVmYXVsdHMgPT0gbnVsbCA/IHZvaWQgMCA6IGZpcnN0TWF0Y2hpbmdEZWZhdWx0cy5kZWZhdWx0T3B0aW9ucztcbiAgfVxuXG4gIGRlZmF1bHRRdWVyeU9wdGlvbnMob3B0aW9ucykge1xuICAgIGlmIChvcHRpb25zICE9IG51bGwgJiYgb3B0aW9ucy5fZGVmYXVsdGVkKSB7XG4gICAgICByZXR1cm4gb3B0aW9ucztcbiAgICB9XG5cbiAgICBjb25zdCBkZWZhdWx0ZWRPcHRpb25zID0geyAuLi50aGlzLmRlZmF1bHRPcHRpb25zLnF1ZXJpZXMsXG4gICAgICAuLi50aGlzLmdldFF1ZXJ5RGVmYXVsdHMob3B0aW9ucyA9PSBudWxsID8gdm9pZCAwIDogb3B0aW9ucy5xdWVyeUtleSksXG4gICAgICAuLi5vcHRpb25zLFxuICAgICAgX2RlZmF1bHRlZDogdHJ1ZVxuICAgIH07XG5cbiAgICBpZiAoIWRlZmF1bHRlZE9wdGlvbnMucXVlcnlIYXNoICYmIGRlZmF1bHRlZE9wdGlvbnMucXVlcnlLZXkpIHtcbiAgICAgIGRlZmF1bHRlZE9wdGlvbnMucXVlcnlIYXNoID0gaGFzaFF1ZXJ5S2V5QnlPcHRpb25zKGRlZmF1bHRlZE9wdGlvbnMucXVlcnlLZXksIGRlZmF1bHRlZE9wdGlvbnMpO1xuICAgIH0gLy8gZGVwZW5kZW50IGRlZmF1bHQgdmFsdWVzXG5cblxuICAgIGlmICh0eXBlb2YgZGVmYXVsdGVkT3B0aW9ucy5yZWZldGNoT25SZWNvbm5lY3QgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICBkZWZhdWx0ZWRPcHRpb25zLnJlZmV0Y2hPblJlY29ubmVjdCA9IGRlZmF1bHRlZE9wdGlvbnMubmV0d29ya01vZGUgIT09ICdhbHdheXMnO1xuICAgIH1cblxuICAgIGlmICh0eXBlb2YgZGVmYXVsdGVkT3B0aW9ucy51c2VFcnJvckJvdW5kYXJ5ID09PSAndW5kZWZpbmVkJykge1xuICAgICAgZGVmYXVsdGVkT3B0aW9ucy51c2VFcnJvckJvdW5kYXJ5ID0gISFkZWZhdWx0ZWRPcHRpb25zLnN1c3BlbnNlO1xuICAgIH1cblxuICAgIHJldHVybiBkZWZhdWx0ZWRPcHRpb25zO1xuICB9XG5cbiAgZGVmYXVsdE11dGF0aW9uT3B0aW9ucyhvcHRpb25zKSB7XG4gICAgaWYgKG9wdGlvbnMgIT0gbnVsbCAmJiBvcHRpb25zLl9kZWZhdWx0ZWQpIHtcbiAgICAgIHJldHVybiBvcHRpb25zO1xuICAgIH1cblxuICAgIHJldHVybiB7IC4uLnRoaXMuZGVmYXVsdE9wdGlvbnMubXV0YXRpb25zLFxuICAgICAgLi4udGhpcy5nZXRNdXRhdGlvbkRlZmF1bHRzKG9wdGlvbnMgPT0gbnVsbCA/IHZvaWQgMCA6IG9wdGlvbnMubXV0YXRpb25LZXkpLFxuICAgICAgLi4ub3B0aW9ucyxcbiAgICAgIF9kZWZhdWx0ZWQ6IHRydWVcbiAgICB9O1xuICB9XG5cbiAgY2xlYXIoKSB7XG4gICAgdGhpcy5xdWVyeUNhY2hlLmNsZWFyKCk7XG4gICAgdGhpcy5tdXRhdGlvbkNhY2hlLmNsZWFyKCk7XG4gIH1cblxufVxuXG5leHBvcnQgeyBRdWVyeUNsaWVudCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cXVlcnlDbGllbnQuZXNtLmpzLm1hcFxuIiwiLy8gVFlQRVNcbi8vIEZVTkNUSU9OU1xuZnVuY3Rpb24gZGVoeWRyYXRlTXV0YXRpb24obXV0YXRpb24pIHtcbiAgcmV0dXJuIHtcbiAgICBtdXRhdGlvbktleTogbXV0YXRpb24ub3B0aW9ucy5tdXRhdGlvbktleSxcbiAgICBzdGF0ZTogbXV0YXRpb24uc3RhdGVcbiAgfTtcbn0gLy8gTW9zdCBjb25maWcgaXMgbm90IGRlaHlkcmF0ZWQgYnV0IGluc3RlYWQgbWVhbnQgdG8gY29uZmlndXJlIGFnYWluIHdoZW5cbi8vIGNvbnN1bWluZyB0aGUgZGUvcmVoeWRyYXRlZCBkYXRhLCB0eXBpY2FsbHkgd2l0aCB1c2VRdWVyeSBvbiB0aGUgY2xpZW50LlxuLy8gU29tZXRpbWVzIGl0IG1pZ2h0IG1ha2Ugc2Vuc2UgdG8gcHJlZmV0Y2ggZGF0YSBvbiB0aGUgc2VydmVyIGFuZCBpbmNsdWRlXG4vLyBpbiB0aGUgaHRtbC1wYXlsb2FkLCBidXQgbm90IGNvbnN1bWUgaXQgb24gdGhlIGluaXRpYWwgcmVuZGVyLlxuXG5cbmZ1bmN0aW9uIGRlaHlkcmF0ZVF1ZXJ5KHF1ZXJ5KSB7XG4gIHJldHVybiB7XG4gICAgc3RhdGU6IHF1ZXJ5LnN0YXRlLFxuICAgIHF1ZXJ5S2V5OiBxdWVyeS5xdWVyeUtleSxcbiAgICBxdWVyeUhhc2g6IHF1ZXJ5LnF1ZXJ5SGFzaFxuICB9O1xufVxuXG5mdW5jdGlvbiBkZWZhdWx0U2hvdWxkRGVoeWRyYXRlTXV0YXRpb24obXV0YXRpb24pIHtcbiAgcmV0dXJuIG11dGF0aW9uLnN0YXRlLmlzUGF1c2VkO1xufVxuZnVuY3Rpb24gZGVmYXVsdFNob3VsZERlaHlkcmF0ZVF1ZXJ5KHF1ZXJ5KSB7XG4gIHJldHVybiBxdWVyeS5zdGF0ZS5zdGF0dXMgPT09ICdzdWNjZXNzJztcbn1cbmZ1bmN0aW9uIGRlaHlkcmF0ZShjbGllbnQsIG9wdGlvbnMgPSB7fSkge1xuICBjb25zdCBtdXRhdGlvbnMgPSBbXTtcbiAgY29uc3QgcXVlcmllcyA9IFtdO1xuXG4gIGlmIChvcHRpb25zLmRlaHlkcmF0ZU11dGF0aW9ucyAhPT0gZmFsc2UpIHtcbiAgICBjb25zdCBzaG91bGREZWh5ZHJhdGVNdXRhdGlvbiA9IG9wdGlvbnMuc2hvdWxkRGVoeWRyYXRlTXV0YXRpb24gfHwgZGVmYXVsdFNob3VsZERlaHlkcmF0ZU11dGF0aW9uO1xuICAgIGNsaWVudC5nZXRNdXRhdGlvbkNhY2hlKCkuZ2V0QWxsKCkuZm9yRWFjaChtdXRhdGlvbiA9PiB7XG4gICAgICBpZiAoc2hvdWxkRGVoeWRyYXRlTXV0YXRpb24obXV0YXRpb24pKSB7XG4gICAgICAgIG11dGF0aW9ucy5wdXNoKGRlaHlkcmF0ZU11dGF0aW9uKG11dGF0aW9uKSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBpZiAob3B0aW9ucy5kZWh5ZHJhdGVRdWVyaWVzICE9PSBmYWxzZSkge1xuICAgIGNvbnN0IHNob3VsZERlaHlkcmF0ZVF1ZXJ5ID0gb3B0aW9ucy5zaG91bGREZWh5ZHJhdGVRdWVyeSB8fCBkZWZhdWx0U2hvdWxkRGVoeWRyYXRlUXVlcnk7XG4gICAgY2xpZW50LmdldFF1ZXJ5Q2FjaGUoKS5nZXRBbGwoKS5mb3JFYWNoKHF1ZXJ5ID0+IHtcbiAgICAgIGlmIChzaG91bGREZWh5ZHJhdGVRdWVyeShxdWVyeSkpIHtcbiAgICAgICAgcXVlcmllcy5wdXNoKGRlaHlkcmF0ZVF1ZXJ5KHF1ZXJ5KSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICByZXR1cm4ge1xuICAgIG11dGF0aW9ucyxcbiAgICBxdWVyaWVzXG4gIH07XG59XG5mdW5jdGlvbiBoeWRyYXRlKGNsaWVudCwgZGVoeWRyYXRlZFN0YXRlLCBvcHRpb25zKSB7XG4gIGlmICh0eXBlb2YgZGVoeWRyYXRlZFN0YXRlICE9PSAnb2JqZWN0JyB8fCBkZWh5ZHJhdGVkU3RhdGUgPT09IG51bGwpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBjb25zdCBtdXRhdGlvbkNhY2hlID0gY2xpZW50LmdldE11dGF0aW9uQ2FjaGUoKTtcbiAgY29uc3QgcXVlcnlDYWNoZSA9IGNsaWVudC5nZXRRdWVyeUNhY2hlKCk7IC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdW5uZWNlc3NhcnktY29uZGl0aW9uXG5cbiAgY29uc3QgbXV0YXRpb25zID0gZGVoeWRyYXRlZFN0YXRlLm11dGF0aW9ucyB8fCBbXTsgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby11bm5lY2Vzc2FyeS1jb25kaXRpb25cblxuICBjb25zdCBxdWVyaWVzID0gZGVoeWRyYXRlZFN0YXRlLnF1ZXJpZXMgfHwgW107XG4gIG11dGF0aW9ucy5mb3JFYWNoKGRlaHlkcmF0ZWRNdXRhdGlvbiA9PiB7XG4gICAgdmFyIF9vcHRpb25zJGRlZmF1bHRPcHRpbztcblxuICAgIG11dGF0aW9uQ2FjaGUuYnVpbGQoY2xpZW50LCB7IC4uLihvcHRpb25zID09IG51bGwgPyB2b2lkIDAgOiAoX29wdGlvbnMkZGVmYXVsdE9wdGlvID0gb3B0aW9ucy5kZWZhdWx0T3B0aW9ucykgPT0gbnVsbCA/IHZvaWQgMCA6IF9vcHRpb25zJGRlZmF1bHRPcHRpby5tdXRhdGlvbnMpLFxuICAgICAgbXV0YXRpb25LZXk6IGRlaHlkcmF0ZWRNdXRhdGlvbi5tdXRhdGlvbktleVxuICAgIH0sIGRlaHlkcmF0ZWRNdXRhdGlvbi5zdGF0ZSk7XG4gIH0pO1xuICBxdWVyaWVzLmZvckVhY2goZGVoeWRyYXRlZFF1ZXJ5ID0+IHtcbiAgICB2YXIgX29wdGlvbnMkZGVmYXVsdE9wdGlvMjtcblxuICAgIGNvbnN0IHF1ZXJ5ID0gcXVlcnlDYWNoZS5nZXQoZGVoeWRyYXRlZFF1ZXJ5LnF1ZXJ5SGFzaCk7IC8vIFJlc2V0IGZldGNoIHN0YXR1cyB0byBpZGxlIGluIHRoZSBkZWh5ZHJhdGVkIHN0YXRlIHRvIGF2b2lkXG4gICAgLy8gcXVlcnkgYmVpbmcgc3R1Y2sgaW4gZmV0Y2hpbmcgc3RhdGUgdXBvbiBoeWRyYXRpb25cblxuICAgIGNvbnN0IGRlaHlkcmF0ZWRRdWVyeVN0YXRlID0geyAuLi5kZWh5ZHJhdGVkUXVlcnkuc3RhdGUsXG4gICAgICBmZXRjaFN0YXR1czogJ2lkbGUnXG4gICAgfTsgLy8gRG8gbm90IGh5ZHJhdGUgaWYgYW4gZXhpc3RpbmcgcXVlcnkgZXhpc3RzIHdpdGggbmV3ZXIgZGF0YVxuXG4gICAgaWYgKHF1ZXJ5KSB7XG4gICAgICBpZiAocXVlcnkuc3RhdGUuZGF0YVVwZGF0ZWRBdCA8IGRlaHlkcmF0ZWRRdWVyeVN0YXRlLmRhdGFVcGRhdGVkQXQpIHtcbiAgICAgICAgcXVlcnkuc2V0U3RhdGUoZGVoeWRyYXRlZFF1ZXJ5U3RhdGUpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm47XG4gICAgfSAvLyBSZXN0b3JlIHF1ZXJ5XG5cblxuICAgIHF1ZXJ5Q2FjaGUuYnVpbGQoY2xpZW50LCB7IC4uLihvcHRpb25zID09IG51bGwgPyB2b2lkIDAgOiAoX29wdGlvbnMkZGVmYXVsdE9wdGlvMiA9IG9wdGlvbnMuZGVmYXVsdE9wdGlvbnMpID09IG51bGwgPyB2b2lkIDAgOiBfb3B0aW9ucyRkZWZhdWx0T3B0aW8yLnF1ZXJpZXMpLFxuICAgICAgcXVlcnlLZXk6IGRlaHlkcmF0ZWRRdWVyeS5xdWVyeUtleSxcbiAgICAgIHF1ZXJ5SGFzaDogZGVoeWRyYXRlZFF1ZXJ5LnF1ZXJ5SGFzaFxuICAgIH0sIGRlaHlkcmF0ZWRRdWVyeVN0YXRlKTtcbiAgfSk7XG59XG5cbmV4cG9ydCB7IGRlZmF1bHRTaG91bGREZWh5ZHJhdGVNdXRhdGlvbiwgZGVmYXVsdFNob3VsZERlaHlkcmF0ZVF1ZXJ5LCBkZWh5ZHJhdGUsIGh5ZHJhdGUgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWh5ZHJhdGlvbi5lc20uanMubWFwXG4iLCJpbXBvcnQgeyBjcmVhdGVDb250ZXh0LCB1c2VDb250ZXh0LCBvbk1vdW50LCBvbkNsZWFudXAsIG1lcmdlUHJvcHMsIH0gZnJvbSAnc29saWQtanMnO1xuZXhwb3J0IGNvbnN0IGRlZmF1bHRDb250ZXh0ID0gY3JlYXRlQ29udGV4dCh1bmRlZmluZWQpO1xuY29uc3QgUXVlcnlDbGllbnRTaGFyaW5nQ29udGV4dCA9IGNyZWF0ZUNvbnRleHQoZmFsc2UpO1xuLy8gSWYgd2UgYXJlIGdpdmVuIGEgY29udGV4dCwgd2Ugd2lsbCB1c2UgaXQuXG4vLyBPdGhlcndpc2UsIGlmIGNvbnRleHRTaGFyaW5nIGlzIG9uLCB3ZSBzaGFyZSB0aGUgZmlyc3QgYW5kIGF0IGxlYXN0IG9uZVxuLy8gaW5zdGFuY2Ugb2YgdGhlIGNvbnRleHQgYWNyb3NzIHRoZSB3aW5kb3dcbi8vIHRvIGVuc3VyZSB0aGF0IGlmIFNvbGlkIFF1ZXJ5IGlzIHVzZWQgYWNyb3NzXG4vLyBkaWZmZXJlbnQgYnVuZGxlcyBvciBtaWNyb2Zyb250ZW5kcyB0aGV5IHdpbGxcbi8vIGFsbCB1c2UgdGhlIHNhbWUgKippbnN0YW5jZSoqIG9mIGNvbnRleHQsIHJlZ2FyZGxlc3Ncbi8vIG9mIG1vZHVsZSBzY29waW5nLlxuZnVuY3Rpb24gZ2V0UXVlcnlDbGllbnRDb250ZXh0KGNvbnRleHQsIGNvbnRleHRTaGFyaW5nKSB7XG4gICAgaWYgKGNvbnRleHQpIHtcbiAgICAgICAgcmV0dXJuIGNvbnRleHQ7XG4gICAgfVxuICAgIGlmIChjb250ZXh0U2hhcmluZyAmJiB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICBpZiAoIXdpbmRvdy5Tb2xpZFF1ZXJ5Q2xpZW50Q29udGV4dCkge1xuICAgICAgICAgICAgd2luZG93LlNvbGlkUXVlcnlDbGllbnRDb250ZXh0ID0gZGVmYXVsdENvbnRleHQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHdpbmRvdy5Tb2xpZFF1ZXJ5Q2xpZW50Q29udGV4dDtcbiAgICB9XG4gICAgcmV0dXJuIGRlZmF1bHRDb250ZXh0O1xufVxuZXhwb3J0IGNvbnN0IHVzZVF1ZXJ5Q2xpZW50ID0gKHsgY29udGV4dCB9ID0ge30pID0+IHtcbiAgICBjb25zdCBxdWVyeUNsaWVudCA9IHVzZUNvbnRleHQoZ2V0UXVlcnlDbGllbnRDb250ZXh0KGNvbnRleHQsIHVzZUNvbnRleHQoUXVlcnlDbGllbnRTaGFyaW5nQ29udGV4dCkpKTtcbiAgICBpZiAoIXF1ZXJ5Q2xpZW50KSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignTm8gUXVlcnlDbGllbnQgc2V0LCB1c2UgUXVlcnlDbGllbnRQcm92aWRlciB0byBzZXQgb25lJyk7XG4gICAgfVxuICAgIHJldHVybiBxdWVyeUNsaWVudDtcbn07XG5leHBvcnQgY29uc3QgUXVlcnlDbGllbnRQcm92aWRlciA9IChwcm9wcykgPT4ge1xuICAgIGNvbnN0IG1lcmdlZFByb3BzID0gbWVyZ2VQcm9wcyh7XG4gICAgICAgIGNvbnRleHRTaGFyaW5nOiBmYWxzZSxcbiAgICB9LCBwcm9wcyk7XG4gICAgb25Nb3VudCgoKSA9PiB7XG4gICAgICAgIG1lcmdlZFByb3BzLmNsaWVudC5tb3VudCgpO1xuICAgICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyAmJiBtZXJnZWRQcm9wcy5jb250ZXh0U2hhcmluZykge1xuICAgICAgICAgICAgbWVyZ2VkUHJvcHMuY2xpZW50XG4gICAgICAgICAgICAgICAgLmdldExvZ2dlcigpXG4gICAgICAgICAgICAgICAgLmVycm9yKGBUaGUgY29udGV4dFNoYXJpbmcgb3B0aW9uIGhhcyBiZWVuIGRlcHJlY2F0ZWQgYW5kIHdpbGwgYmUgcmVtb3ZlZCBpbiB0aGUgbmV4dCBtYWpvciB2ZXJzaW9uYCk7XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICBvbkNsZWFudXAoKCkgPT4gbWVyZ2VkUHJvcHMuY2xpZW50LnVubW91bnQoKSk7XG4gICAgY29uc3QgUXVlcnlDbGllbnRDb250ZXh0ID0gZ2V0UXVlcnlDbGllbnRDb250ZXh0KG1lcmdlZFByb3BzLmNvbnRleHQsIG1lcmdlZFByb3BzLmNvbnRleHRTaGFyaW5nKTtcbiAgICByZXR1cm4gKDxRdWVyeUNsaWVudFNoYXJpbmdDb250ZXh0LlByb3ZpZGVyIHZhbHVlPXshbWVyZ2VkUHJvcHMuY29udGV4dCAmJiBtZXJnZWRQcm9wcy5jb250ZXh0U2hhcmluZ30+XG4gICAgICA8UXVlcnlDbGllbnRDb250ZXh0LlByb3ZpZGVyIHZhbHVlPXttZXJnZWRQcm9wcy5jbGllbnR9PlxuICAgICAgICB7bWVyZ2VkUHJvcHMuY2hpbGRyZW59XG4gICAgICA8L1F1ZXJ5Q2xpZW50Q29udGV4dC5Qcm92aWRlcj5cbiAgICA8L1F1ZXJ5Q2xpZW50U2hhcmluZ0NvbnRleHQuUHJvdmlkZXI+KTtcbn07XG4iLCJmdW5jdGlvbiBjcmVhdGVTeW5jU3RvcmFnZVBlcnNpc3Rlcih7XG4gIHN0b3JhZ2UsXG4gIGtleSA9IFwiUkVBQ1RfUVVFUllfT0ZGTElORV9DQUNIRVwiLFxuICB0aHJvdHRsZVRpbWUgPSAxMDAwLFxuICBzZXJpYWxpemUgPSBKU09OLnN0cmluZ2lmeSxcbiAgZGVzZXJpYWxpemUgPSBKU09OLnBhcnNlLFxuICByZXRyeVxufSkge1xuICBpZiAodHlwZW9mIHN0b3JhZ2UgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgY29uc3QgdHJ5U2F2ZSA9IHBlcnNpc3RlZENsaWVudCA9PiB7XG4gICAgICB0cnkge1xuICAgICAgICBzdG9yYWdlLnNldEl0ZW0oa2V5LCBzZXJpYWxpemUocGVyc2lzdGVkQ2xpZW50KSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIHJldHVybiBlcnJvcjtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgcmV0dXJuIHtcbiAgICAgIHBlcnNpc3RDbGllbnQ6IHRocm90dGxlKHBlcnNpc3RlZENsaWVudCA9PiB7XG4gICAgICAgIGxldCBjbGllbnQgPSBwZXJzaXN0ZWRDbGllbnQ7XG4gICAgICAgIGxldCBlcnJvciA9IHRyeVNhdmUoY2xpZW50KTtcbiAgICAgICAgbGV0IGVycm9yQ291bnQgPSAwO1xuXG4gICAgICAgIHdoaWxlIChlcnJvciAmJiBjbGllbnQpIHtcbiAgICAgICAgICBlcnJvckNvdW50Kys7XG4gICAgICAgICAgY2xpZW50ID0gcmV0cnkgPT0gbnVsbCA/IHZvaWQgMCA6IHJldHJ5KHtcbiAgICAgICAgICAgIHBlcnNpc3RlZENsaWVudDogY2xpZW50LFxuICAgICAgICAgICAgZXJyb3IsXG4gICAgICAgICAgICBlcnJvckNvdW50XG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICBpZiAoY2xpZW50KSB7XG4gICAgICAgICAgICBlcnJvciA9IHRyeVNhdmUoY2xpZW50KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0sIHRocm90dGxlVGltZSksXG4gICAgICByZXN0b3JlQ2xpZW50OiAoKSA9PiB7XG4gICAgICAgIGNvbnN0IGNhY2hlU3RyaW5nID0gc3RvcmFnZS5nZXRJdGVtKGtleSk7XG5cbiAgICAgICAgaWYgKCFjYWNoZVN0cmluZykge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBkZXNlcmlhbGl6ZShjYWNoZVN0cmluZyk7XG4gICAgICB9LFxuICAgICAgcmVtb3ZlQ2xpZW50OiAoKSA9PiB7XG4gICAgICAgIHN0b3JhZ2UucmVtb3ZlSXRlbShrZXkpO1xuICAgICAgfVxuICAgIH07XG4gIH1cblxuICByZXR1cm4ge1xuICAgIHBlcnNpc3RDbGllbnQ6IG5vb3AsXG4gICAgcmVzdG9yZUNsaWVudDogKCkgPT4gdW5kZWZpbmVkLFxuICAgIHJlbW92ZUNsaWVudDogbm9vcFxuICB9O1xufVxuXG5mdW5jdGlvbiB0aHJvdHRsZShmdW5jLCB3YWl0ID0gMTAwKSB7XG4gIGxldCB0aW1lciA9IG51bGw7XG4gIGxldCBwYXJhbXM7XG4gIHJldHVybiBmdW5jdGlvbiAoLi4uYXJncykge1xuICAgIHBhcmFtcyA9IGFyZ3M7XG5cbiAgICBpZiAodGltZXIgPT09IG51bGwpIHtcbiAgICAgIHRpbWVyID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIGZ1bmMoLi4ucGFyYW1zKTtcbiAgICAgICAgdGltZXIgPSBudWxsO1xuICAgICAgfSwgd2FpdCk7XG4gICAgfVxuICB9O1xufSAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWVtcHR5LWZ1bmN0aW9uXG5cblxuZnVuY3Rpb24gbm9vcCgpIHt9XG5cbmV4cG9ydCB7IGNyZWF0ZVN5bmNTdG9yYWdlUGVyc2lzdGVyIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5lc20uanMubWFwXG4iLCJpbXBvcnQgeyBoeWRyYXRlLCBkZWh5ZHJhdGUgfSBmcm9tICdAdGFuc3RhY2svcXVlcnktY29yZSc7XG5cbi8qKlxuICogQ2hlY2tzIGlmIGVtaXR0ZWQgZXZlbnQgaXMgYWJvdXQgY2FjaGUgY2hhbmdlIGFuZCBub3QgYWJvdXQgb2JzZXJ2ZXJzLlxuICogVXNlZnVsIGZvciBwZXJzaXN0LCB3aGVyZSB3ZSBvbmx5IHdhbnQgdG8gdHJpZ2dlciBzYXZlIHdoZW4gY2FjaGUgaXMgY2hhbmdlZC5cbiAqL1xuY29uc3QgY2FjaGVhYmxlRXZlbnRUeXBlcyA9IFsnYWRkZWQnLCAncmVtb3ZlZCcsICd1cGRhdGVkJ107XG5cbmZ1bmN0aW9uIGlzQ2FjaGVhYmxlRXZlbnRUeXBlKGV2ZW50VHlwZSkge1xuICByZXR1cm4gY2FjaGVhYmxlRXZlbnRUeXBlcy5pbmNsdWRlcyhldmVudFR5cGUpO1xufVxuLyoqXG4gKiBSZXN0b3JlcyBwZXJzaXN0ZWQgZGF0YSB0byB0aGUgUXVlcnlDYWNoZVxuICogIC0gZGF0YSBvYnRhaW5lZCBmcm9tIHBlcnNpc3Rlci5yZXN0b3JlQ2xpZW50XG4gKiAgLSBkYXRhIGlzIGh5ZHJhdGVkIHVzaW5nIGh5ZHJhdGVPcHRpb25zXG4gKiBJZiBkYXRhIGlzIGV4cGlyZWQsIGJ1c3RlZCwgZW1wdHksIG9yIHRocm93cywgaXQgcnVucyBwZXJzaXN0ZXIucmVtb3ZlQ2xpZW50XG4gKi9cblxuXG5hc3luYyBmdW5jdGlvbiBwZXJzaXN0UXVlcnlDbGllbnRSZXN0b3JlKHtcbiAgcXVlcnlDbGllbnQsXG4gIHBlcnNpc3RlcixcbiAgbWF4QWdlID0gMTAwMCAqIDYwICogNjAgKiAyNCxcbiAgYnVzdGVyID0gJycsXG4gIGh5ZHJhdGVPcHRpb25zXG59KSB7XG4gIHRyeSB7XG4gICAgY29uc3QgcGVyc2lzdGVkQ2xpZW50ID0gYXdhaXQgcGVyc2lzdGVyLnJlc3RvcmVDbGllbnQoKTtcblxuICAgIGlmIChwZXJzaXN0ZWRDbGllbnQpIHtcbiAgICAgIGlmIChwZXJzaXN0ZWRDbGllbnQudGltZXN0YW1wKSB7XG4gICAgICAgIGNvbnN0IGV4cGlyZWQgPSBEYXRlLm5vdygpIC0gcGVyc2lzdGVkQ2xpZW50LnRpbWVzdGFtcCA+IG1heEFnZTtcbiAgICAgICAgY29uc3QgYnVzdGVkID0gcGVyc2lzdGVkQ2xpZW50LmJ1c3RlciAhPT0gYnVzdGVyO1xuXG4gICAgICAgIGlmIChleHBpcmVkIHx8IGJ1c3RlZCkge1xuICAgICAgICAgIHBlcnNpc3Rlci5yZW1vdmVDbGllbnQoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBoeWRyYXRlKHF1ZXJ5Q2xpZW50LCBwZXJzaXN0ZWRDbGllbnQuY2xpZW50U3RhdGUsIGh5ZHJhdGVPcHRpb25zKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcGVyc2lzdGVyLnJlbW92ZUNsaWVudCgpO1xuICAgICAgfVxuICAgIH1cbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgIHF1ZXJ5Q2xpZW50LmdldExvZ2dlcigpLmVycm9yKGVycik7XG4gICAgICBxdWVyeUNsaWVudC5nZXRMb2dnZXIoKS53YXJuKCdFbmNvdW50ZXJlZCBhbiBlcnJvciBhdHRlbXB0aW5nIHRvIHJlc3RvcmUgY2xpZW50IGNhY2hlIGZyb20gcGVyc2lzdGVkIGxvY2F0aW9uLiBBcyBhIHByZWNhdXRpb24sIHRoZSBwZXJzaXN0ZWQgY2FjaGUgd2lsbCBiZSBkaXNjYXJkZWQuJyk7XG4gICAgfVxuXG4gICAgcGVyc2lzdGVyLnJlbW92ZUNsaWVudCgpO1xuICB9XG59XG4vKipcbiAqIFBlcnNpc3RzIGRhdGEgZnJvbSB0aGUgUXVlcnlDYWNoZVxuICogIC0gZGF0YSBkZWh5ZHJhdGVkIHVzaW5nIGRlaHlkcmF0ZU9wdGlvbnNcbiAqICAtIGRhdGEgaXMgcGVyc2lzdGVkIHVzaW5nIHBlcnNpc3Rlci5wZXJzaXN0Q2xpZW50XG4gKi9cblxuYXN5bmMgZnVuY3Rpb24gcGVyc2lzdFF1ZXJ5Q2xpZW50U2F2ZSh7XG4gIHF1ZXJ5Q2xpZW50LFxuICBwZXJzaXN0ZXIsXG4gIGJ1c3RlciA9ICcnLFxuICBkZWh5ZHJhdGVPcHRpb25zXG59KSB7XG4gIGNvbnN0IHBlcnNpc3RDbGllbnQgPSB7XG4gICAgYnVzdGVyLFxuICAgIHRpbWVzdGFtcDogRGF0ZS5ub3coKSxcbiAgICBjbGllbnRTdGF0ZTogZGVoeWRyYXRlKHF1ZXJ5Q2xpZW50LCBkZWh5ZHJhdGVPcHRpb25zKVxuICB9O1xuICBhd2FpdCBwZXJzaXN0ZXIucGVyc2lzdENsaWVudChwZXJzaXN0Q2xpZW50KTtcbn1cbi8qKlxuICogU3Vic2NyaWJlIHRvIFF1ZXJ5Q2FjaGUgYW5kIE11dGF0aW9uQ2FjaGUgdXBkYXRlcyAoZm9yIHBlcnNpc3RpbmcpXG4gKiBAcmV0dXJucyBhbiB1bnN1YnNjcmliZSBmdW5jdGlvbiAodG8gZGlzY29udGludWUgbW9uaXRvcmluZylcbiAqL1xuXG5mdW5jdGlvbiBwZXJzaXN0UXVlcnlDbGllbnRTdWJzY3JpYmUocHJvcHMpIHtcbiAgY29uc3QgdW5zdWJzY3JpYmVRdWVyeUNhY2hlID0gcHJvcHMucXVlcnlDbGllbnQuZ2V0UXVlcnlDYWNoZSgpLnN1YnNjcmliZShldmVudCA9PiB7XG4gICAgaWYgKGlzQ2FjaGVhYmxlRXZlbnRUeXBlKGV2ZW50LnR5cGUpKSB7XG4gICAgICBwZXJzaXN0UXVlcnlDbGllbnRTYXZlKHByb3BzKTtcbiAgICB9XG4gIH0pO1xuICBjb25zdCB1bnVzYnNjcmliZU11dGF0aW9uQ2FjaGUgPSBwcm9wcy5xdWVyeUNsaWVudC5nZXRNdXRhdGlvbkNhY2hlKCkuc3Vic2NyaWJlKGV2ZW50ID0+IHtcbiAgICBpZiAoaXNDYWNoZWFibGVFdmVudFR5cGUoZXZlbnQudHlwZSkpIHtcbiAgICAgIHBlcnNpc3RRdWVyeUNsaWVudFNhdmUocHJvcHMpO1xuICAgIH1cbiAgfSk7XG4gIHJldHVybiAoKSA9PiB7XG4gICAgdW5zdWJzY3JpYmVRdWVyeUNhY2hlKCk7XG4gICAgdW51c2JzY3JpYmVNdXRhdGlvbkNhY2hlKCk7XG4gIH07XG59XG4vKipcbiAqIFJlc3RvcmVzIHBlcnNpc3RlZCBkYXRhIHRvIFF1ZXJ5Q2FjaGUgYW5kIHBlcnNpc3RzIGZ1cnRoZXIgY2hhbmdlcy5cbiAqL1xuXG5mdW5jdGlvbiBwZXJzaXN0UXVlcnlDbGllbnQocHJvcHMpIHtcbiAgbGV0IGhhc1Vuc3Vic2NyaWJlZCA9IGZhbHNlO1xuICBsZXQgcGVyc2lzdFF1ZXJ5Q2xpZW50VW5zdWJzY3JpYmU7XG5cbiAgY29uc3QgdW5zdWJzY3JpYmUgPSAoKSA9PiB7XG4gICAgaGFzVW5zdWJzY3JpYmVkID0gdHJ1ZTtcbiAgICBwZXJzaXN0UXVlcnlDbGllbnRVbnN1YnNjcmliZSA9PSBudWxsID8gdm9pZCAwIDogcGVyc2lzdFF1ZXJ5Q2xpZW50VW5zdWJzY3JpYmUoKTtcbiAgfTsgLy8gQXR0ZW1wdCByZXN0b3JlXG5cblxuICBjb25zdCByZXN0b3JlUHJvbWlzZSA9IHBlcnNpc3RRdWVyeUNsaWVudFJlc3RvcmUocHJvcHMpLnRoZW4oKCkgPT4ge1xuICAgIGlmICghaGFzVW5zdWJzY3JpYmVkKSB7XG4gICAgICAvLyBTdWJzY3JpYmUgdG8gY2hhbmdlcyBpbiB0aGUgcXVlcnkgY2FjaGUgdG8gdHJpZ2dlciB0aGUgc2F2ZVxuICAgICAgcGVyc2lzdFF1ZXJ5Q2xpZW50VW5zdWJzY3JpYmUgPSBwZXJzaXN0UXVlcnlDbGllbnRTdWJzY3JpYmUocHJvcHMpO1xuICAgIH1cbiAgfSk7XG4gIHJldHVybiBbdW5zdWJzY3JpYmUsIHJlc3RvcmVQcm9taXNlXTtcbn1cblxuZXhwb3J0IHsgcGVyc2lzdFF1ZXJ5Q2xpZW50LCBwZXJzaXN0UXVlcnlDbGllbnRSZXN0b3JlLCBwZXJzaXN0UXVlcnlDbGllbnRTYXZlLCBwZXJzaXN0UXVlcnlDbGllbnRTdWJzY3JpYmUgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXBlcnNpc3QuZXNtLmpzLm1hcFxuIiwiaW1wb3J0IHsgY3JlYXRlRWZmZWN0LCBvbkNsZWFudXAsIGxhenksIHR5cGUgQ29tcG9uZW50IH0gZnJvbSAnc29saWQtanMnO1xuaW1wb3J0IHsgUm91dGVzLCBSb3V0ZSB9IGZyb20gJ0Bzb2xpZGpzL3JvdXRlcic7XG5pbXBvcnQgeyBRdWVyeUNsaWVudCwgUXVlcnlDbGllbnRQcm92aWRlciB9IGZyb20gJ0B0YW5zdGFjay9zb2xpZC1xdWVyeSc7XG5pbXBvcnQgeyBjcmVhdGVTeW5jU3RvcmFnZVBlcnNpc3RlciB9IGZyb20gJ0B0YW5zdGFjay9xdWVyeS1zeW5jLXN0b3JhZ2UtcGVyc2lzdGVyJztcbmltcG9ydCB7IHBlcnNpc3RRdWVyeUNsaWVudCB9IGZyb20gJ0B0YW5zdGFjay9xdWVyeS1wZXJzaXN0LWNsaWVudC1jb3JlJztcblxuY29uc3QgSG9tZSA9IGxhenkoKCkgPT4gaW1wb3J0KCdAL3BhZ2VzL0hvbWUnKSk7XG5jb25zdCBIZWxsbyA9IGxhenkoKCkgPT4gaW1wb3J0KCdAL3BhZ2VzL0hlbGxvJykpO1xuY29uc3QgTm90Rm91bmQgPSBsYXp5KCgpID0+IGltcG9ydCgnQC9wYWdlcy9Ob3RGb3VuZCcpKTtcblxuY29uc3QgcXVlcnlDbGllbnQgPSBuZXcgUXVlcnlDbGllbnQoe30pO1xuXG5jb25zdCBsb2NhbFN0b3JhZ2VQZXJzaXN0ZXIgPSBjcmVhdGVTeW5jU3RvcmFnZVBlcnNpc3Rlcih7XG4gIHN0b3JhZ2U6IHdpbmRvdy5sb2NhbFN0b3JhZ2UsXG59KTtcblxuY29uc3QgQXBwOiBDb21wb25lbnQgPSAoKSA9PiB7XG4gIGNyZWF0ZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3QgW3Vuc3Vic2NyaWJlXSA9IHBlcnNpc3RRdWVyeUNsaWVudCh7XG4gICAgICBxdWVyeUNsaWVudCxcbiAgICAgIHBlcnNpc3RlcjogbG9jYWxTdG9yYWdlUGVyc2lzdGVyLFxuICAgIH0pO1xuICAgIG9uQ2xlYW51cCgoKSA9PiB1bnN1YnNjcmliZSgpKTtcbiAgfSk7XG5cbiAgcmV0dXJuIChcbiAgICA8UXVlcnlDbGllbnRQcm92aWRlciBjbGllbnQ9e3F1ZXJ5Q2xpZW50fT5cbiAgICAgIDxSb3V0ZXM+XG4gICAgICAgIDxSb3V0ZSBwYXRoPVwiL2hlbGxvXCIgZWxlbWVudD17KCkgPT4gPEhlbGxvIC8+fSAvPlxuICAgICAgICA8Um91dGUgcGF0aD1cIi9cIiBlbGVtZW50PXsoKSA9PiA8SG9tZSAvPn0gLz5cbiAgICAgICAgPFJvdXRlIHBhdGg9XCIvKlwiIGVsZW1lbnQ9eygpID0+IDxOb3RGb3VuZCAvPn0gLz5cbiAgICAgIDwvUm91dGVzPlxuICAgIDwvUXVlcnlDbGllbnRQcm92aWRlcj5cbiAgKTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IEFwcDtcbiIsIi8qIEByZWZyZXNoIHJlbG9hZCAqL1xuaW1wb3J0IHsgcmVuZGVyIH0gZnJvbSAnc29saWQtanMvd2ViJztcbmltcG9ydCB7IFJvdXRlciB9IGZyb20gJ0Bzb2xpZGpzL3JvdXRlcic7XG5cbmltcG9ydCAnLi9pbmRleC5jc3MnO1xuaW1wb3J0IEFwcCBmcm9tICcuL0FwcCc7XG5cbnJlbmRlcihcbiAgKCkgPT4gKFxuICAgIDxSb3V0ZXIgYmFzZT17aW1wb3J0Lm1ldGEuZW52LkJBU0VfVVJMfT5cbiAgICAgIDxBcHAgLz5cbiAgICA8L1JvdXRlcj5cbiAgKSxcbiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Jvb3QnKSBhcyBIVE1MRWxlbWVudCxcbik7XG4iXSwibmFtZXMiOlsic2hhcmVkQ29uZmlnIiwic2V0SHlkcmF0ZUNvbnRleHQiLCJjb250ZXh0IiwiZXF1YWxGbiIsImEiLCJiIiwiJFBST1hZIiwiJFRSQUNLIiwic2lnbmFsT3B0aW9ucyIsInJ1bkVmZmVjdHMiLCJydW5RdWV1ZSIsIlNUQUxFIiwiUEVORElORyIsIlVOT1dORUQiLCJOT19JTklUIiwiT3duZXIiLCJUcmFuc2l0aW9uIiwiTGlzdGVuZXIiLCJVcGRhdGVzIiwiRWZmZWN0cyIsIkV4ZWNDb3VudCIsImNyZWF0ZVJvb3QiLCJmbiIsImRldGFjaGVkT3duZXIiLCJsaXN0ZW5lciIsIm93bmVyIiwidW5vd25lZCIsInJvb3QiLCJ1cGRhdGVGbiIsInVudHJhY2siLCJjbGVhbk5vZGUiLCJydW5VcGRhdGVzIiwiY3JlYXRlU2lnbmFsIiwidmFsdWUiLCJvcHRpb25zIiwicyIsInNldHRlciIsIndyaXRlU2lnbmFsIiwicmVhZFNpZ25hbCIsImNyZWF0ZUNvbXB1dGVkIiwiYyIsImNyZWF0ZUNvbXB1dGF0aW9uIiwidXBkYXRlQ29tcHV0YXRpb24iLCJjcmVhdGVSZW5kZXJFZmZlY3QiLCJjcmVhdGVFZmZlY3QiLCJydW5Vc2VyRWZmZWN0cyIsImNyZWF0ZU1lbW8iLCJjcmVhdGVSZXNvdXJjZSIsInBTb3VyY2UiLCJwRmV0Y2hlciIsInBPcHRpb25zIiwic291cmNlIiwiZmV0Y2hlciIsInByIiwiaW5pdFAiLCJpZCIsInNjaGVkdWxlZCIsInJlc29sdmVkIiwiZHluYW1pYyIsImNvbnRleHRzIiwic2V0VmFsdWUiLCJlcnJvciIsInNldEVycm9yIiwidHJhY2siLCJ0cmlnZ2VyIiwic3RhdGUiLCJzZXRTdGF0ZSIsInYiLCJsb2FkRW5kIiwicCIsImtleSIsImNvbXBsZXRlTG9hZCIsImVyciIsInJlYWQiLCJTdXNwZW5zZUNvbnRleHQiLCJsb2FkIiwicmVmZXRjaGluZyIsImxvb2t1cCIsImUiLCJjYXN0RXJyb3IiLCJiYXRjaCIsIm9uIiwiZGVwcyIsImlzQXJyYXkiLCJwcmV2SW5wdXQiLCJkZWZlciIsInByZXZWYWx1ZSIsImlucHV0IiwiaSIsInJlc3VsdCIsIm9uTW91bnQiLCJvbkNsZWFudXAiLCJnZXRMaXN0ZW5lciIsImdldE93bmVyIiwicnVuV2l0aE93bmVyIiwibyIsInByZXYiLCJoYW5kbGVFcnJvciIsInN0YXJ0VHJhbnNpdGlvbiIsImwiLCJ0IiwiY3JlYXRlQ29udGV4dCIsImRlZmF1bHRWYWx1ZSIsImNyZWF0ZVByb3ZpZGVyIiwidXNlQ29udGV4dCIsImN0eCIsImNoaWxkcmVuIiwibWVtbyIsInJlc29sdmVDaGlsZHJlbiIsInJ1bm5pbmdUcmFuc2l0aW9uIiwidXBkYXRlcyIsImxvb2tVcHN0cmVhbSIsInNTbG90Iiwibm9kZSIsImlzQ29tcCIsImN1cnJlbnQiLCJUcmFuc2l0aW9uUnVubmluZyIsIm1hcmtEb3duc3RyZWFtIiwidGltZSIsInJ1bkNvbXB1dGF0aW9uIiwibmV4dFZhbHVlIiwiaW5pdCIsInB1cmUiLCJydW5Ub3AiLCJhbmNlc3RvcnMiLCJ3YWl0IiwicmVzIiwiY29tcGxldGVVcGRhdGVzIiwicXVldWUiLCJ1c2VyTGVuZ3RoIiwiaWdub3JlIiwiaW5kZXgiLCJvYnMiLCJuIiwicmVzdWx0cyIsInByb3BzIiwib2JzZXJ2YWJsZSIsIm9ic2VydmVyIiwiaGFuZGxlciIsImRpc3Bvc2UiLCJkaXNwb3NlciIsIkZBTExCQUNLIiwiZCIsIm1hcEFycmF5IiwibGlzdCIsIm1hcEZuIiwiaXRlbXMiLCJtYXBwZWQiLCJkaXNwb3NlcnMiLCJsZW4iLCJpbmRleGVzIiwibmV3SXRlbXMiLCJqIiwibmV3TGVuIiwibmV3SW5kaWNlcyIsIm5ld0luZGljZXNOZXh0IiwidGVtcCIsInRlbXBkaXNwb3NlcnMiLCJ0ZW1wSW5kZXhlcyIsInN0YXJ0IiwiZW5kIiwibmV3RW5kIiwiaXRlbSIsIm1hcHBlciIsInNldCIsImNyZWF0ZUNvbXBvbmVudCIsIkNvbXAiLCJ0cnVlRm4iLCJwcm9wVHJhcHMiLCJfIiwicHJvcGVydHkiLCJyZWNlaXZlciIsInJlc29sdmVTb3VyY2UiLCJtZXJnZVByb3BzIiwic291cmNlcyIsInByb3h5Iiwia2V5cyIsInRhcmdldCIsImRlc2NyaXB0b3JzIiwibGF6eSIsImNvbXAiLCJ3cmFwIiwibW9kIiwiciIsIkZvciIsImZhbGxiYWNrIiwiU2hvdyIsInN0cmljdEVxdWFsIiwia2V5ZWQiLCJjb25kaXRpb24iLCJjaGlsZCIsIlN3aXRjaCIsImVxdWFscyIsImNvbmRpdGlvbnMiLCJldmFsQ29uZGl0aW9ucyIsImNvbmRzIiwid2hlbiIsImNvbmQiLCJNYXRjaCIsImJvb2xlYW5zIiwiUHJvcGVydGllcyIsIkNoaWxkUHJvcGVydGllcyIsIkFsaWFzZXMiLCJQcm9wQWxpYXNlcyIsIkRlbGVnYXRlZEV2ZW50cyIsIlNWR05hbWVzcGFjZSIsInJlY29uY2lsZUFycmF5cyIsInBhcmVudE5vZGUiLCJiTGVuZ3RoIiwiYUVuZCIsImJFbmQiLCJhU3RhcnQiLCJiU3RhcnQiLCJhZnRlciIsIm1hcCIsInNlcXVlbmNlIiwiJCRFVkVOVFMiLCJyZW5kZXIiLCJjb2RlIiwiZWxlbWVudCIsImluc2VydCIsInRlbXBsYXRlIiwiaHRtbCIsImNoZWNrIiwiaXNTVkciLCJkZWxlZ2F0ZUV2ZW50cyIsImV2ZW50TmFtZXMiLCJkb2N1bWVudCIsIm5hbWUiLCJldmVudEhhbmRsZXIiLCJzZXRBdHRyaWJ1dGUiLCJzZXRBdHRyaWJ1dGVOUyIsIm5hbWVzcGFjZSIsImNsYXNzTmFtZSIsImFkZEV2ZW50TGlzdGVuZXIiLCJkZWxlZ2F0ZSIsImhhbmRsZXJGbiIsImNsYXNzTGlzdCIsImNsYXNzS2V5cyIsInByZXZLZXlzIiwidG9nZ2xlQ2xhc3NLZXkiLCJjbGFzc1ZhbHVlIiwic3R5bGUiLCJub2RlU3R5bGUiLCJzcHJlYWQiLCJza2lwQ2hpbGRyZW4iLCJwcmV2UHJvcHMiLCJpbnNlcnRFeHByZXNzaW9uIiwiYXNzaWduIiwidXNlIiwiYXJnIiwicGFyZW50IiwiYWNjZXNzb3IiLCJtYXJrZXIiLCJpbml0aWFsIiwic2tpcFJlZiIsInByb3AiLCJhc3NpZ25Qcm9wIiwidG9Qcm9wZXJ0eU5hbWUiLCJ3IiwiY2xhc3NOYW1lcyIsIm5hbWVMZW4iLCJpc0NFIiwiaXNQcm9wIiwiaXNDaGlsZFByb3AiLCJucyIsImVsZW0iLCJ4IiwiZGF0YSIsInVud3JhcEFycmF5IiwibXVsdGkiLCJjbGVhbkNoaWxkcmVuIiwiYXJyYXkiLCJjdXJyZW50QXJyYXkiLCJub3JtYWxpemVJbmNvbWluZ0FycmF5IiwiYXBwZW5kTm9kZXMiLCJub3JtYWxpemVkIiwidW53cmFwIiwicmVwbGFjZW1lbnQiLCJpbnNlcnRlZCIsImVsIiwiaXNQYXJlbnQiLCJpc1NlcnZlciIsImJpbmRFdmVudCIsInR5cGUiLCJpbnRlcmNlcHQiLCJnZXQiLCJxdWVyeVNlbGVjdG9yIiwic2VsZWN0b3IiLCJzY3JvbGxUb0hhc2giLCJoYXNoIiwiZmFsbGJhY2tUb3AiLCJjcmVhdGVJbnRlZ3JhdGlvbiIsInV0aWxzIiwic2lnbmFsIiwibmV4dCIsIm5vcm1hbGl6ZUludGVncmF0aW9uIiwiaW50ZWdyYXRpb24iLCJwYXRoSW50ZWdyYXRpb24iLCJyZXBsYWNlIiwic2Nyb2xsIiwibm90aWZ5IiwiZGVsdGEiLCJjcmVhdGVCZWZvcmVMZWF2ZSIsImxpc3RlbmVycyIsInN1YnNjcmliZSIsImNvbmZpcm0iLCJ0byIsImZvcmNlIiwiaGFzU2NoZW1lUmVnZXgiLCJ0cmltUGF0aFJlZ2V4Iiwibm9ybWFsaXplUGF0aCIsInBhdGgiLCJvbWl0U2xhc2giLCJyZXNvbHZlUGF0aCIsImJhc2UiLCJmcm9tIiwiYmFzZVBhdGgiLCJmcm9tUGF0aCIsImludmFyaWFudCIsIm1lc3NhZ2UiLCJqb2luUGF0aHMiLCJleHRyYWN0U2VhcmNoUGFyYW1zIiwidXJsIiwicGFyYW1zIiwiY3JlYXRlTWF0Y2hlciIsInBhcnRpYWwiLCJwYXR0ZXJuIiwic3BsYXQiLCJzZWdtZW50cyIsImxvY2F0aW9uIiwibG9jU2VnbWVudHMiLCJsZW5EaWZmIiwibWF0Y2giLCJzZWdtZW50IiwibG9jU2VnbWVudCIsInNjb3JlUm91dGUiLCJyb3V0ZSIsInNjb3JlIiwiY3JlYXRlTWVtb09iamVjdCIsImV4cGFuZE9wdGlvbmFscyIsInByZWZpeCIsInN1ZmZpeCIsInByZWZpeGVzIiwiZXhwYW5zaW9uIiwiTUFYX1JFRElSRUNUUyIsIlJvdXRlckNvbnRleHRPYmoiLCJSb3V0ZUNvbnRleHRPYmoiLCJ1c2VSb3V0ZXIiLCJUZW1wUm91dGUiLCJ1c2VSb3V0ZSIsInVzZU5hdmlnYXRlIiwiY3JlYXRlUm91dGVzIiwicm91dGVEZWYiLCJjb21wb25lbnQiLCJpc0xlYWYiLCJzaGFyZWQiLCJhc0FycmF5IiwiYWNjIiwib3JpZ2luYWxQYXRoIiwiY3JlYXRlQnJhbmNoIiwicm91dGVzIiwibWF0Y2hlcyIsImNyZWF0ZUJyYW5jaGVzIiwic3RhY2siLCJicmFuY2hlcyIsInJvdXRlRGVmcyIsImRlZiIsImlzRW1wdHlBcnJheSIsImJyYW5jaCIsImdldFJvdXRlTWF0Y2hlcyIsImNyZWF0ZUxvY2F0aW9uIiwib3JpZ2luIiwicGF0aF8iLCJwYXRobmFtZSIsInNlYXJjaCIsImNyZWF0ZVJvdXRlckNvbnRleHQiLCJvdXQiLCJzZXRTb3VyY2UiLCJwYXJzZVBhdGgiLCJyZW5kZXJQYXRoIiwiYmVmb3JlTGVhdmUiLCJvdXRwdXQiLCJpc1JvdXRpbmciLCJzZXRJc1JvdXRpbmciLCJjYWxsYmFjayIsInJlZmVyZW5jZSIsInNldFJlZmVyZW5jZSIsInJlZmVycmVycyIsImJhc2VSb3V0ZSIsIm5hdmlnYXRvckZhY3RvcnkiLCJuYXZpZ2F0ZUZyb21Sb3V0ZSIsInJlc29sdmUiLCJuZXh0U3RhdGUiLCJyZXNvbHZlZFRvIiwibmF2aWdhdGVFbmQiLCJmaXJzdCIsImhhbmRsZUFuY2hvckNsaWNrIiwiZXZ0IiwiaHJlZiIsInJlbCIsImNyZWF0ZVJvdXRlQ29udGV4dCIsInJvdXRlciIsIm91dGxldCIsInByZWxvYWQiLCJSb3V0ZXIiLCJyb3V0ZXJTdGF0ZSIsIl8kY3JlYXRlQ29tcG9uZW50IiwiUm91dGVzIiwicGFyZW50Um91dGUiLCJPdXRsZXQiLCJwdXNoIiwicm91dGVTdGF0ZXMiLCJuZXh0TWF0Y2hlcyIsInByZXZNYXRjaGVzIiwiZXF1YWwiLCJsZW5ndGgiLCJwcmV2TWF0Y2giLCJuZXh0TWF0Y2giLCJzcGxpY2UiLCJmb3JFYWNoIiwiUm91dGUiLCJjaGlsZFJvdXRlcyIsIlN1YnNjcmliYWJsZSIsIm5vb3AiLCJmdW5jdGlvbmFsVXBkYXRlIiwidXBkYXRlciIsImlzVmFsaWRUaW1lb3V0IiwidGltZVVudGlsU3RhbGUiLCJ1cGRhdGVkQXQiLCJzdGFsZVRpbWUiLCJwYXJzZVF1ZXJ5QXJncyIsImFyZzEiLCJhcmcyIiwiYXJnMyIsImlzUXVlcnlLZXkiLCJwYXJzZU11dGF0aW9uQXJncyIsInBhcnNlRmlsdGVyQXJncyIsIm1hdGNoUXVlcnkiLCJmaWx0ZXJzIiwicXVlcnkiLCJleGFjdCIsImZldGNoU3RhdHVzIiwicHJlZGljYXRlIiwicXVlcnlLZXkiLCJzdGFsZSIsImhhc2hRdWVyeUtleUJ5T3B0aW9ucyIsInBhcnRpYWxNYXRjaEtleSIsImlzQWN0aXZlIiwibWF0Y2hNdXRhdGlvbiIsIm11dGF0aW9uIiwiZmV0Y2hpbmciLCJtdXRhdGlvbktleSIsImhhc2hRdWVyeUtleSIsInZhbCIsImlzUGxhaW5PYmplY3QiLCJwYXJ0aWFsRGVlcEVxdWFsIiwicmVwbGFjZUVxdWFsRGVlcCIsImlzUGxhaW5BcnJheSIsImFTaXplIiwiYkl0ZW1zIiwiYlNpemUiLCJjb3B5IiwiZXF1YWxJdGVtcyIsInNoYWxsb3dFcXVhbE9iamVjdHMiLCJoYXNPYmplY3RQcm90b3R5cGUiLCJjdG9yIiwicHJvdCIsInNsZWVwIiwidGltZW91dCIsInNjaGVkdWxlTWljcm90YXNrIiwiZ2V0QWJvcnRDb250cm9sbGVyIiwicmVwbGFjZURhdGEiLCJwcmV2RGF0YSIsIkZvY3VzTWFuYWdlciIsIm9uRm9jdXMiLCJfdGhpcyRjbGVhbnVwIiwic2V0dXAiLCJfdGhpcyRjbGVhbnVwMiIsImZvY3VzZWQiLCJmb2N1c01hbmFnZXIiLCJPbmxpbmVNYW5hZ2VyIiwib25PbmxpbmUiLCJvbmxpbmUiLCJvbmxpbmVNYW5hZ2VyIiwiZGVmYXVsdFJldHJ5RGVsYXkiLCJmYWlsdXJlQ291bnQiLCJjYW5GZXRjaCIsIm5ldHdvcmtNb2RlIiwiQ2FuY2VsbGVkRXJyb3IiLCJpc0NhbmNlbGxlZEVycm9yIiwiY3JlYXRlUmV0cnllciIsImNvbmZpZyIsImlzUmV0cnlDYW5jZWxsZWQiLCJpc1Jlc29sdmVkIiwiY29udGludWVGbiIsInByb21pc2VSZXNvbHZlIiwicHJvbWlzZVJlamVjdCIsInByb21pc2UiLCJvdXRlclJlc29sdmUiLCJvdXRlclJlamVjdCIsImNhbmNlbCIsImNhbmNlbE9wdGlvbnMiLCJyZWplY3QiLCJjYW5jZWxSZXRyeSIsImNvbnRpbnVlUmV0cnkiLCJzaG91bGRQYXVzZSIsInBhdXNlIiwiY29udGludWVSZXNvbHZlIiwiY2FuQ29udGludWUiLCJydW4iLCJwcm9taXNlT3JWYWx1ZSIsIl9jb25maWckcmV0cnkiLCJfY29uZmlnJHJldHJ5RGVsYXkiLCJyZXRyeSIsInJldHJ5RGVsYXkiLCJkZWxheSIsInNob3VsZFJldHJ5IiwiZGVmYXVsdExvZ2dlciIsImNyZWF0ZU5vdGlmeU1hbmFnZXIiLCJ0cmFuc2FjdGlvbnMiLCJub3RpZnlGbiIsImJhdGNoTm90aWZ5Rm4iLCJmbHVzaCIsInNjaGVkdWxlIiwiYmF0Y2hDYWxscyIsImFyZ3MiLCJvcmlnaW5hbFF1ZXVlIiwibm90aWZ5TWFuYWdlciIsIlJlbW92YWJsZSIsIm5ld0NhY2hlVGltZSIsIlF1ZXJ5IiwiZ2V0RGVmYXVsdFN0YXRlIiwibmV3RGF0YSIsInNldFN0YXRlT3B0aW9ucyIsIl90aGlzJHJldHJ5ZXIiLCJfdGhpcyRyZXRyeWVyMiIsIl90aGlzJHJldHJ5ZXIzIiwiZmV0Y2hPcHRpb25zIiwiX3RoaXMkb3B0aW9ucyRiZWhhdmlvIiwiX2NvbnRleHQkZmV0Y2hPcHRpb25zIiwiX3RoaXMkcmV0cnllcjQiLCJhYm9ydENvbnRyb2xsZXIiLCJxdWVyeUZuQ29udGV4dCIsImFkZFNpZ25hbFByb3BlcnR5Iiwib2JqZWN0IiwiZmV0Y2hGbiIsIl9jb250ZXh0JGZldGNoT3B0aW9uczIiLCJvbkVycm9yIiwiX3RoaXMkY2FjaGUkY29uZmlnJG9uIiwiX3RoaXMkY2FjaGUkY29uZmlnIiwiX3RoaXMkY2FjaGUkY29uZmlnJG9uMiIsIl90aGlzJGNhY2hlJGNvbmZpZzIiLCJhY3Rpb24iLCJyZWR1Y2VyIiwiX2FjdGlvbiRtZXRhIiwiX2FjdGlvbiRkYXRhVXBkYXRlZEF0IiwiaGFzRGF0YSIsImluaXRpYWxEYXRhVXBkYXRlZEF0IiwiUXVlcnlDYWNoZSIsImNsaWVudCIsIl9vcHRpb25zJHF1ZXJ5SGFzaCIsInF1ZXJ5SGFzaCIsInF1ZXJ5SW5NYXAiLCJldmVudCIsIk11dGF0aW9uIiwiX3RoaXMkcmV0cnllciRjb250aW51IiwiZXhlY3V0ZU11dGF0aW9uIiwiX3RoaXMkb3B0aW9ucyRyZXRyeSIsInJlc3RvcmVkIiwiX3RoaXMkbXV0YXRpb25DYWNoZSRjMyIsIl90aGlzJG11dGF0aW9uQ2FjaGUkYzQiLCJfdGhpcyRvcHRpb25zJG9uU3VjY2UiLCJfdGhpcyRvcHRpb25zMiIsIl90aGlzJG9wdGlvbnMkb25TZXR0bCIsIl90aGlzJG9wdGlvbnMzIiwiX3RoaXMkbXV0YXRpb25DYWNoZSRjIiwiX3RoaXMkbXV0YXRpb25DYWNoZSRjMiIsIl90aGlzJG9wdGlvbnMkb25NdXRhdCIsIl90aGlzJG9wdGlvbnMiLCJfdGhpcyRtdXRhdGlvbkNhY2hlJGM1IiwiX3RoaXMkbXV0YXRpb25DYWNoZSRjNiIsIl90aGlzJG9wdGlvbnMkb25FcnJvciIsIl90aGlzJG9wdGlvbnM0IiwiX3RoaXMkb3B0aW9ucyRvblNldHRsMiIsIl90aGlzJG9wdGlvbnM1IiwiTXV0YXRpb25DYWNoZSIsIl90aGlzJHJlc3VtaW5nIiwicGF1c2VkTXV0YXRpb25zIiwiaW5maW5pdGVRdWVyeUJlaGF2aW9yIiwiX2NvbnRleHQkZmV0Y2hPcHRpb25zMyIsIl9jb250ZXh0JGZldGNoT3B0aW9uczQiLCJfY29udGV4dCRzdGF0ZSRkYXRhIiwiX2NvbnRleHQkc3RhdGUkZGF0YTIiLCJyZWZldGNoUGFnZSIsImZldGNoTW9yZSIsInBhZ2VQYXJhbSIsImlzRmV0Y2hpbmdOZXh0UGFnZSIsImlzRmV0Y2hpbmdQcmV2aW91c1BhZ2UiLCJvbGRQYWdlcyIsIm9sZFBhZ2VQYXJhbXMiLCJuZXdQYWdlUGFyYW1zIiwiY2FuY2VsbGVkIiwiX2NvbnRleHQkc2lnbmFsIiwiX2NvbnRleHQkc2lnbmFsMiIsInF1ZXJ5Rm4iLCJidWlsZE5ld1BhZ2VzIiwicGFnZXMiLCJwYXJhbSIsInBhZ2UiLCJwcmV2aW91cyIsImZldGNoUGFnZSIsIm1hbnVhbCIsInF1ZXJ5Rm5SZXN1bHQiLCJnZXROZXh0UGFnZVBhcmFtIiwiZ2V0UHJldmlvdXNQYWdlUGFyYW0iLCJRdWVyeUNsaWVudCIsIl90aGlzJHVuc3Vic2NyaWJlRm9jdSIsIl90aGlzJHVuc3Vic2NyaWJlT25saSIsIl90aGlzJHF1ZXJ5Q2FjaGUkZmluZCIsInBhcnNlZE9wdGlvbnMiLCJjYWNoZWREYXRhIiwicXVlcnlLZXlPckZpbHRlcnMiLCJkZWZhdWx0ZWRPcHRpb25zIiwiX3RoaXMkcXVlcnlDYWNoZSRmaW5kMiIsInF1ZXJ5Q2FjaGUiLCJyZWZldGNoRmlsdGVycyIsInByb21pc2VzIiwiX3JlZiIsIl9maWx0ZXJzJHJlZmV0Y2hUeXBlIiwiX29wdGlvbnMkY2FuY2VsUmVmZXRjIiwiZmlyc3RNYXRjaGluZ0RlZmF1bHRzIiwiZGVoeWRyYXRlTXV0YXRpb24iLCJkZWh5ZHJhdGVRdWVyeSIsImRlZmF1bHRTaG91bGREZWh5ZHJhdGVNdXRhdGlvbiIsImRlZmF1bHRTaG91bGREZWh5ZHJhdGVRdWVyeSIsImRlaHlkcmF0ZSIsIm11dGF0aW9ucyIsInF1ZXJpZXMiLCJzaG91bGREZWh5ZHJhdGVNdXRhdGlvbiIsInNob3VsZERlaHlkcmF0ZVF1ZXJ5IiwiaHlkcmF0ZSIsImRlaHlkcmF0ZWRTdGF0ZSIsIm11dGF0aW9uQ2FjaGUiLCJkZWh5ZHJhdGVkTXV0YXRpb24iLCJfb3B0aW9ucyRkZWZhdWx0T3B0aW8iLCJkZWh5ZHJhdGVkUXVlcnkiLCJfb3B0aW9ucyRkZWZhdWx0T3B0aW8yIiwiZGVoeWRyYXRlZFF1ZXJ5U3RhdGUiLCJkZWZhdWx0Q29udGV4dCIsInVuZGVmaW5lZCIsIlF1ZXJ5Q2xpZW50U2hhcmluZ0NvbnRleHQiLCJnZXRRdWVyeUNsaWVudENvbnRleHQiLCJjb250ZXh0U2hhcmluZyIsIndpbmRvdyIsIlNvbGlkUXVlcnlDbGllbnRDb250ZXh0IiwidXNlUXVlcnlDbGllbnQiLCJxdWVyeUNsaWVudCIsIkVycm9yIiwiUXVlcnlDbGllbnRQcm92aWRlciIsIm1lcmdlZFByb3BzIiwibW91bnQiLCJ1bm1vdW50IiwiUXVlcnlDbGllbnRDb250ZXh0IiwiY3JlYXRlU3luY1N0b3JhZ2VQZXJzaXN0ZXIiLCJzdG9yYWdlIiwidGhyb3R0bGVUaW1lIiwic2VyaWFsaXplIiwiZGVzZXJpYWxpemUiLCJ0cnlTYXZlIiwicGVyc2lzdGVkQ2xpZW50IiwidGhyb3R0bGUiLCJlcnJvckNvdW50IiwiY2FjaGVTdHJpbmciLCJmdW5jIiwidGltZXIiLCJjYWNoZWFibGVFdmVudFR5cGVzIiwiaXNDYWNoZWFibGVFdmVudFR5cGUiLCJldmVudFR5cGUiLCJwZXJzaXN0UXVlcnlDbGllbnRSZXN0b3JlIiwicGVyc2lzdGVyIiwibWF4QWdlIiwiYnVzdGVyIiwiaHlkcmF0ZU9wdGlvbnMiLCJleHBpcmVkIiwiYnVzdGVkIiwicGVyc2lzdFF1ZXJ5Q2xpZW50U2F2ZSIsImRlaHlkcmF0ZU9wdGlvbnMiLCJwZXJzaXN0Q2xpZW50IiwicGVyc2lzdFF1ZXJ5Q2xpZW50U3Vic2NyaWJlIiwidW5zdWJzY3JpYmVRdWVyeUNhY2hlIiwidW51c2JzY3JpYmVNdXRhdGlvbkNhY2hlIiwicGVyc2lzdFF1ZXJ5Q2xpZW50IiwiaGFzVW5zdWJzY3JpYmVkIiwicGVyc2lzdFF1ZXJ5Q2xpZW50VW5zdWJzY3JpYmUiLCJ1bnN1YnNjcmliZSIsInJlc3RvcmVQcm9taXNlIiwiSG9tZSIsIkhlbGxvIiwiTm90Rm91bmQiLCJsb2NhbFN0b3JhZ2VQZXJzaXN0ZXIiLCJsb2NhbFN0b3JhZ2UiLCJBcHAiLCJpbXBvcnQiLCJnZXRFbGVtZW50QnlJZCJdLCJtYXBwaW5ncyI6InNzQkFvSEEsTUFBTUEsRUFBZSxDQUFBLEVBQ3JCLFNBQVNDLEdBQWtCQyxFQUFTLENBQ2xDRixFQUFhLFFBQVVFLENBQ3pCLENBU0EsTUFBTUMsR0FBVSxDQUFDQyxFQUFHQyxJQUFNRCxJQUFNQyxFQUMxQkMsR0FBUyxPQUFPLGFBQWEsRUFDN0JDLEdBQVMsT0FBTyxhQUFhLEVBRTdCQyxHQUFnQixDQUNwQixPQUFRTCxFQUNWLEVBRUEsSUFBSU0sR0FBYUMsR0FDakIsTUFBTUMsRUFBUSxFQUNSQyxHQUFVLEVBQ1ZDLEdBQVUsQ0FDZCxNQUFPLEtBQ1AsU0FBVSxLQUNWLFFBQVMsS0FDVCxNQUFPLElBQ1QsRUFDTUMsR0FBVSxDQUFBLEVBQ2hCLElBQUlDLEVBQVEsS0FDWixJQUFJQyxFQUFhLEtBR2JDLEVBQVcsS0FDWEMsRUFBVSxLQUNWQyxFQUFVLEtBQ1ZDLEdBQVksRUFFaEIsU0FBU0MsRUFBV0MsRUFBSUMsRUFBZSxDQUNyQyxNQUFNQyxFQUFXUCxFQUNmUSxFQUFRVixFQUNSVyxFQUFVSixFQUFHLFNBQVcsRUFDeEJLLEVBQU9ELEVBQVViLEdBQVUsQ0FDekIsTUFBTyxLQUNQLFNBQVUsS0FDVixRQUFTLEtBQ1QsTUFBT1UsR0FBaUJFLENBQ3pCLEVBQ0RHLEVBQVdGLEVBQVVKLEVBQUssSUFBTUEsRUFB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
