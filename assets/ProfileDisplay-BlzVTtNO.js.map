{"version":3,"file":"ProfileDisplay-BlzVTtNO.js","sources":["../../node_modules/heroicons/24/outline/arrow-path.svg","../../node_modules/heroicons/24/solid/check-circle.svg","../../node_modules/heroicons/24/solid/exclamation-circle.svg","../../src/nostr/builder/createFollowings.ts","../../src/nostr/mutation/useFollowingsMutation.ts","../../node_modules/nostr-tools/lib/esm/nip05.js","../../src/nostr/parseNip05Address.ts","../../src/nostr/useFollowers.ts","../../src/nostr/useVerification.ts","../../src/components/modal/ProfileDisplay.tsx"],"sourcesContent":["export default (props = {}) => <svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"1.5\" aria-hidden=\"true\" data-slot=\"icon\" viewBox=\"0 0 24 24\"{...props}><path stroke-linecap=\"round\" stroke-linejoin=\"round\" d=\"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0 3.181 3.183a8.25 8.25 0 0 0 13.803-3.7M4.031 9.865a8.25 8.25 0 0 1 13.803-3.7l3.181 3.182m0-4.991v4.99\"/></svg>","export default (props = {}) => <svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"currentColor\" aria-hidden=\"true\" data-slot=\"icon\" viewBox=\"0 0 24 24\"{...props}><path fill-rule=\"evenodd\" d=\"M2.25 12c0-5.385 4.365-9.75 9.75-9.75s9.75 4.365 9.75 9.75-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12m13.36-1.814a.75.75 0 1 0-1.22-.872l-3.236 4.53L9.53 12.22a.75.75 0 0 0-1.06 1.06l2.25 2.25a.75.75 0 0 0 1.14-.094z\" clip-rule=\"evenodd\"/></svg>","export default (props = {}) => <svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"currentColor\" aria-hidden=\"true\" data-slot=\"icon\" viewBox=\"0 0 24 24\"{...props}><path fill-rule=\"evenodd\" d=\"M2.25 12c0-5.385 4.365-9.75 9.75-9.75s9.75 4.365 9.75 9.75-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12M12 8.25a.75.75 0 0 1 .75.75v3.75a.75.75 0 0 1-1.5 0V9a.75.75 0 0 1 .75-.75m0 8.25a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5\" clip-rule=\"evenodd\"/></svg>","import * as Kind from 'nostr-tools/kinds';\nimport { type UnsignedEvent } from 'nostr-tools/pure';\n\nimport Tags from '@/nostr/event/Tags';\nimport epoch from '@/utils/epoch';\n\nexport const emptyFollowings = (pubkey: string): UnsignedEvent => ({\n  kind: Kind.Contacts,\n  pubkey,\n  created_at: epoch(),\n  content: '',\n  tags: [],\n});\n\nconst createFollowings = ({\n  pubkey,\n  updatedTags,\n  content,\n}: {\n  pubkey: string;\n  updatedTags: string[][];\n  content: string;\n}): UnsignedEvent => ({\n  kind: Kind.Contacts,\n  pubkey,\n  created_at: epoch(),\n  tags: updatedTags,\n  content,\n});\n\nexport const updateTags = (baseEvent: UnsignedEvent, updater: (tags: string[][]) => string[][]) =>\n  createFollowings({\n    pubkey: baseEvent.pubkey,\n    content: baseEvent.content,\n    updatedTags: updater(baseEvent.tags),\n  });\n\nexport const addPubkey = (baseEvent: UnsignedEvent, pubkey: string) => {\n  if (new Tags(baseEvent.tags).taggedPubkeys().includes(pubkey)) {\n    return baseEvent;\n  }\n  const add = (baseTags: string[][]) => [...baseTags, ['p', pubkey]];\n  return updateTags(baseEvent, add);\n};\n\nexport const removePubkey = (baseEvent: UnsignedEvent, pubkey: string) => {\n  const remove = (baseTags: string[][]) =>\n    baseTags.filter(([name, value]) => !(name === 'p' && value === pubkey));\n  return updateTags(baseEvent, remove);\n};\n\nexport default createFollowings;\n","import { createMemo } from 'solid-js';\n\nimport { useQueryClient } from '@tanstack/solid-query';\n\nimport { addPubkey, removePubkey } from '@/nostr/builder/createFollowings';\nimport usePublishEventMutation, {\n  type PublishEventResult,\n} from '@/nostr/mutation/usePublishEventMutation';\nimport { queryKeyUseFollowings } from '@/nostr/useFollowings';\n\nexport type UseFollowingsMutationProps = {\n  pubkey?: string;\n  onSuccess?: (result: PublishEventResult) => void;\n  onError?: (err: Error) => void;\n};\n\nconst useFollowingsMutation = (propsProvider: () => UseFollowingsMutationProps) => {\n  const queryClient = useQueryClient();\n\n  const props = createMemo(propsProvider);\n\n  const { mutation, wrapMutate } = usePublishEventMutation(() => ({\n    mutationKey: ['useFollowingsMutation', props().pubkey],\n    onSuccess: (results) => {\n      const { pubkey } = props();\n      if (pubkey != null) {\n        const queryKey = queryKeyUseFollowings({ pubkey });\n        queryClient\n          .invalidateQueries({ queryKey })\n          .catch((err) => console.error('failed to invalidate followings', err));\n      }\n      props().onSuccess?.(results);\n    },\n    onError: (err) => {\n      props().onError?.(err);\n    },\n  }));\n\n  const follow = wrapMutate(addPubkey);\n  const unfollow = wrapMutate(removePubkey);\n\n  return { mutation, follow, unfollow };\n};\n\nexport default useFollowingsMutation;\n","// nip05.ts\nvar NIP05_REGEX = /^(?:([\\w.+-]+)@)?([\\w_-]+(\\.[\\w_-]+)+)$/;\nvar isNip05 = (value) => NIP05_REGEX.test(value || \"\");\nvar _fetch;\ntry {\n  _fetch = fetch;\n} catch (_) {\n  null;\n}\nfunction useFetchImplementation(fetchImplementation) {\n  _fetch = fetchImplementation;\n}\nasync function searchDomain(domain, query = \"\") {\n  try {\n    const url = `https://${domain}/.well-known/nostr.json?name=${query}`;\n    const res = await _fetch(url, { redirect: \"manual\" });\n    if (res.status !== 200) {\n      throw Error(\"Wrong response code\");\n    }\n    const json = await res.json();\n    return json.names;\n  } catch (_) {\n    return {};\n  }\n}\nasync function queryProfile(fullname) {\n  const match = fullname.match(NIP05_REGEX);\n  if (!match)\n    return null;\n  const [, name = \"_\", domain] = match;\n  try {\n    const url = `https://${domain}/.well-known/nostr.json?name=${name}`;\n    const res = await _fetch(url, { redirect: \"manual\" });\n    if (res.status !== 200) {\n      throw Error(\"Wrong response code\");\n    }\n    const json = await res.json();\n    const pubkey = json.names[name];\n    return pubkey ? { pubkey, relays: json.relays?.[pubkey] } : null;\n  } catch (_e) {\n    return null;\n  }\n}\nasync function isValid(pubkey, nip05) {\n  const res = await queryProfile(nip05);\n  return res ? res.pubkey === pubkey : false;\n}\nexport {\n  NIP05_REGEX,\n  isNip05,\n  isValid,\n  queryProfile,\n  searchDomain,\n  useFetchImplementation\n};\n","import { NIP05_REGEX } from 'nostr-tools/nip05';\n\nexport type ParsedNip05Address = {\n  user?: string;\n  domain: string;\n  ident: string;\n};\n\nconst parseNip05Address = (ident: string | undefined): ParsedNip05Address | null => {\n  if (ident == null || ident.length === 0) return null;\n\n  const match = ident.match(NIP05_REGEX);\n  if (match == null) return null;\n\n  const [, user, domain] = match;\n\n  // (This is not standardized in NIP-05)\n  // local-part can be optional here. nip05 can contain only the domain name.\n  // This follows nostr-tools implementation.\n  if (user == null || user === '_') {\n    return { user: '_', domain, ident: domain };\n  }\n\n  return { user, domain, ident };\n};\n\nexport default parseNip05Address;\n","import { createMemo } from 'solid-js';\n\nimport uniq from 'lodash/uniq';\nimport * as Kind from 'nostr-tools/kinds';\n\nimport useConfig from '@/core/useConfig';\nimport useSubscription from '@/nostr/useSubscription';\n\nexport type UseFollowersProps = {\n  pubkey: string;\n};\n\nexport default function useFollowers(propsProvider: () => UseFollowersProps) {\n  const { config } = useConfig();\n  const props = createMemo(propsProvider);\n\n  const { events } = useSubscription(() => ({\n    relayUrls: config().relayUrls,\n    filters: [{ kinds: [Kind.Contacts], '#p': [props().pubkey] }],\n    limit: 1000000,\n    eoseLimit: 1000000,\n    continuous: false,\n  }));\n\n  const followersPubkeys = () => uniq(events()?.map((ev) => ev.pubkey));\n\n  const count = () => followersPubkeys().length;\n\n  return { followersPubkeys, count };\n}\n","import { createMemo, type Accessor } from 'solid-js';\n\nimport { createQuery, type UseQueryResult } from '@tanstack/solid-query';\nimport { queryProfile } from 'nostr-tools/nip05';\nimport { type ProfilePointer } from 'nostr-tools/nip19';\n\nexport type UseVerificationProps = {\n  nip05: string;\n};\n\nexport type UseVerification = {\n  verification: Accessor<ProfilePointer | null>;\n  query: UseQueryResult<ProfilePointer | null>;\n};\n\nconst useVerification = (propsProvider: () => UseVerificationProps | null): UseVerification => {\n  const props = createMemo(propsProvider);\n  const genQueryKey = () => ['useVerification', props()] as const;\n\n  const query = createQuery(() => ({\n    queryKey: genQueryKey(),\n    queryFn: ({ queryKey }) => {\n      const [, currentProps] = queryKey;\n      if (currentProps == null) return Promise.resolve(null);\n      const { nip05: nip05string } = currentProps;\n      return queryProfile(nip05string);\n    },\n    staleTime: 30 * 60 * 1000, // 30 min\n    gcTime: 24 * 60 * 60 * 1000, // 24 hour\n  }));\n\n  const verification = () => query?.data ?? null;\n\n  return { verification, query };\n};\n\nexport default useVerification;\n","import {\n  type Component,\n  createSignal,\n  createMemo,\n  Show,\n  Switch,\n  Match,\n  createEffect,\n} from 'solid-js';\n\nimport ArrowPath from 'heroicons/24/outline/arrow-path.svg';\nimport Bolt from 'heroicons/24/outline/bolt.svg';\nimport EllipsisHorizontal from 'heroicons/24/outline/ellipsis-horizontal.svg';\nimport GlobeAlt from 'heroicons/24/outline/globe-alt.svg';\nimport CheckCircle from 'heroicons/24/solid/check-circle.svg';\nimport ExclamationCircle from 'heroicons/24/solid/exclamation-circle.svg';\nimport { type UnsignedEvent } from 'nostr-tools/pure';\n\nimport LoadMore, { useLoadMore } from '@/components/column/LoadMore';\nimport TextNoteContentDisplay from '@/components/event/textNote/TextNoteContentDisplay';\nimport BasicModal from '@/components/modal/BasicModal';\nimport EventDebugModal from '@/components/modal/EventDebugModal';\nimport UserList from '@/components/modal/UserList';\nimport ZapRequestModal from '@/components/modal/ZapRequestModal';\nimport Timeline from '@/components/timeline/Timeline';\nimport SafeLink from '@/components/utils/SafeLink';\nimport useContextMenu from '@/components/utils/useContextMenu';\nimport { createFollowingColumn, createPostsColumn } from '@/core/column';\nimport useConfig from '@/core/useConfig';\nimport { useRequestCommand } from '@/hooks/useCommandBus';\nimport useModalState from '@/hooks/useModalState';\nimport { useTranslation } from '@/i18n/useTranslation';\nimport { emptyFollowings } from '@/nostr/builder/createFollowings';\nimport { genericEvent } from '@/nostr/event';\nimport useFollowingsMutation from '@/nostr/mutation/useFollowingsMutation';\nimport { type PublishEventResult } from '@/nostr/mutation/usePublishEventMutation';\nimport parseNip05Address from '@/nostr/parseNip05Address';\nimport parseTextNote, { toResolved } from '@/nostr/parseTextNote';\nimport useFollowers from '@/nostr/useFollowers';\nimport useFollowings, { fetchLatestFollowings } from '@/nostr/useFollowings';\nimport useProfile from '@/nostr/useProfile';\nimport usePubkey from '@/nostr/usePubkey';\nimport useSubscription from '@/nostr/useSubscription';\nimport useVerification from '@/nostr/useVerification';\nimport ensureNonNull from '@/utils/ensureNonNull';\nimport npubEncodeFallback from '@/utils/npubEncodeFallback';\n\nexport type ProfileDisplayProps = {\n  pubkey: string;\n  onClose?: () => void;\n};\n\nconst FollowersCount: Component<{ pubkey: string }> = (props) => {\n  const { count } = useFollowers(() => ({\n    pubkey: props.pubkey,\n  }));\n\n  return <>{count()}</>;\n};\n\nconst ProfileDisplay: Component<ProfileDisplayProps> = (props) => {\n  const i18n = useTranslation();\n  const { config, addMutedPubkey, removeMutedPubkey, isPubkeyMuted, saveColumn } = useConfig();\n  const request = useRequestCommand();\n  const myPubkey = usePubkey();\n  const { showProfileEdit } = useModalState();\n\n  const npub = createMemo(() => npubEncodeFallback(props.pubkey));\n\n  const [hoverFollowButton, setHoverFollowButton] = createSignal(false);\n  const [showFollowers, setShowFollowers] = createSignal(false);\n  const [modal, setModal] = createSignal<'Following' | 'EventDebugModal' | 'ZapRequest' | null>(\n    null,\n  );\n  const closeModal = () => setModal(null);\n\n  const {\n    profile,\n    event: profileEvent,\n    query: profileQuery,\n  } = useProfile(() => ({\n    pubkey: props.pubkey,\n  }));\n  const { verification, query: verificationQuery } = useVerification(() =>\n    ensureNonNull([profile()?.nip05] as const)(([nip05]) => ({ nip05 })),\n  );\n  const nip05Identifier = () => parseNip05Address(profile()?.nip05);\n  const isVerified = () => verification()?.pubkey === props.pubkey;\n  const isMuted = () => isPubkeyMuted(props.pubkey);\n\n  const aboutParsed = createMemo(() => {\n    const ev = profileEvent();\n    const about = profile()?.about;\n    if (ev == null || about == null) return undefined;\n\n    const parsed = parseTextNote(about);\n    const resolved = toResolved(parsed, genericEvent(ev));\n    return resolved;\n  });\n\n  const { followingPubkeys: myFollowingPubkeys, query: myFollowingQuery } = useFollowings(() =>\n    ensureNonNull([myPubkey()] as const)(([pubkeyNonNull]) => ({\n      pubkey: pubkeyNonNull,\n    })),\n  );\n  const following = () => myFollowingPubkeys().includes(props.pubkey);\n\n  const { followingPubkeys: userFollowingPubkeys, query: userFollowingQuery } = useFollowings(\n    () => ({ pubkey: props.pubkey }),\n  );\n\n  const followed = () => {\n    const p = myPubkey();\n    return p != null && userFollowingPubkeys().includes(p);\n  };\n\n  const {\n    mutation: followingsMutation,\n    follow,\n    unfollow,\n  } = useFollowingsMutation(() => ({ pubkey: myPubkey() }));\n\n  const updateFollows = async (action: (ev: UnsignedEvent) => Promise<PublishEventResult>) => {\n    try {\n      const p = myPubkey();\n      if (p == null) return;\n\n      if (followingsMutation.isPending) return;\n\n      const latest = await fetchLatestFollowings({ pubkey: p });\n\n      if (\n        (latest.data() == null || latest.followingPubkeys().length === 0) &&\n        !window.confirm(i18n.t('profile.confirmUpdateEvenIfEmpty'))\n      )\n        return;\n\n      if ((latest?.data()?.created_at ?? 0) < (myFollowingQuery.data?.created_at ?? 0)) {\n        window.alert(i18n.t('profile.failedToFetchLatestFollowList'));\n        return;\n      }\n\n      const baseEvent = latest.data() ?? emptyFollowings(p);\n      await action(baseEvent);\n    } catch (err) {\n      console.error('failed to update contact list', err);\n      window.alert(i18n.t('profile.failedToUpdateFollowList'));\n    }\n  };\n\n  const doFollow = () => {\n    updateFollows((latestEvent) => follow(latestEvent, props.pubkey)).catch((err) => {\n      console.log('failed to follow', err);\n    });\n  };\n\n  const doUnfollow = () => {\n    if (!window.confirm(i18n.t('profile.confirmUnfollow'))) return;\n\n    updateFollows((latestEvent) => unfollow(latestEvent, props.pubkey)).catch((err) => {\n      console.log('failed to unfollow', err);\n    });\n  };\n\n  const otherActionsPopup = useContextMenu(() => ({\n    menu: [\n      /*\n        {\n          content: () => 'ユーザ宛に投稿',\n          onSelect: () => {\n            navigator.clipboard.writeText(npub()).catch((err) => window.alert(err));\n          },\n        },\n       */\n      {\n        content: i18n.t('profile.copyPubkey'),\n        onSelect: () => {\n          navigator.clipboard.writeText(npub()).catch((err) => window.alert(err));\n        },\n      },\n      {\n        content: i18n.t('profile.showJSON'),\n        onSelect: () => {\n          setModal('EventDebugModal');\n        },\n      },\n      {\n        content: i18n.t('profile.addColumn'),\n        items: [\n          {\n            content: i18n.t('profile.addUserColumn'),\n            onSelect: () => {\n              const columnName = profile()?.name ?? npub();\n              saveColumn(createPostsColumn({ name: columnName, pubkey: props.pubkey }));\n              request({ command: 'moveToLastColumn' }).catch((err) => console.error(err));\n              props.onClose?.();\n            },\n          },\n          {\n            content: i18n.t('profile.addUserHomeColumn'),\n            onSelect: () => {\n              const columnName = `${i18n.t('column.home')} / ${profile()?.name ?? npub()}`;\n              saveColumn(createFollowingColumn({ name: columnName, pubkey: props.pubkey }));\n              request({ command: 'moveToLastColumn' }).catch((err) => console.error(err));\n              props.onClose?.();\n            },\n          },\n        ],\n      },\n      {\n        content: !isMuted() ? i18n.t('profile.mute') : i18n.t('profile.unmute'),\n        onSelect: () => {\n          if (!isMuted()) {\n            addMutedPubkey(props.pubkey);\n          } else {\n            removeMutedPubkey(props.pubkey);\n          }\n        },\n      },\n      {\n        when: () => props.pubkey === myPubkey(),\n        content: !following() ? i18n.t('profile.followMyself') : i18n.t('profile.unfollowMyself'),\n        onSelect: () => {\n          if (!following()) {\n            doFollow();\n          } else {\n            doUnfollow();\n          }\n        },\n      },\n    ],\n  }));\n\n  const loadMore = useLoadMore(() => ({ duration: null }));\n\n  const { events, eose } = useSubscription(() => ({\n    relayUrls: config().relayUrls,\n    filters: [\n      {\n        kinds: [1, 6],\n        authors: [props.pubkey],\n        limit: 10,\n        since: loadMore.since(),\n        until: loadMore.until(),\n      },\n    ],\n    eoseLimit: 10,\n    continuous: false,\n  }));\n\n  createEffect(() => loadMore.setEvents(events()));\n\n  return (\n    <BasicModal onClose={() => props.onClose?.()}>\n      <Show\n        when={profileQuery.isFetched && profile()?.banner}\n        fallback={<div class=\"h-12 shrink-0\" />}\n        keyed\n      >\n        {(bannerUrl) => (\n          <div class=\"h-40 w-full shrink-0 sm:h-52\">\n            <img src={bannerUrl} alt=\"header\" class=\"size-full object-cover\" />\n          </div>\n        )}\n      </Show>\n      <div class=\"mt-[-54px] flex items-end gap-4 px-4 pt-4\">\n        <div class=\"flex-1 shrink-0\">\n          <div class=\"size-28 overflow-hidden rounded-lg shadow-md\">\n            <Show when={profileQuery.isFetched && profile()?.picture} keyed>\n              {(pictureUrl) => (\n                <img src={pictureUrl} alt=\"user icon\" class=\"size-full object-cover\" />\n              )}\n            </Show>\n          </div>\n        </div>\n        <Show when={myPubkey() != null}>\n          <div class=\"flex shrink-0 flex-col items-center gap-1\">\n            <div class=\"flex flex-row justify-start gap-1\">\n              <Switch>\n                <Match when={props.pubkey === myPubkey()}>\n                  <button\n                    class=\"rounded-full border border-primary px-4 py-2 text-center font-bold text-primary hover:bg-primary hover:text-primary-fg sm:w-20\"\n                    onClick={() => showProfileEdit()}\n                  >\n                    {i18n.t('profile.editProfile')}\n                  </button>\n                </Match>\n                <Match when={followingsMutation.isPending}>\n                  <span class=\"rounded-full border border-primary px-4 py-2 text-primary sm:text-base\">\n                    {i18n.t('general.updating')}\n                  </span>\n                </Match>\n                <Match when={myFollowingQuery.isPending}>\n                  <span class=\"rounded-full border border-primary px-4 py-2 text-primary sm:text-base\">\n                    {i18n.t('general.loading')}\n                  </span>\n                </Match>\n                <Match when={following()}>\n                  <button\n                    class=\"rounded-full border border-primary bg-primary px-4 py-2 text-center font-bold text-primary-fg hover:bg-primary-hover sm:w-36\"\n                    onMouseEnter={() => setHoverFollowButton(true)}\n                    onMouseLeave={() => setHoverFollowButton(false)}\n                    onClick={() => doUnfollow()}\n                    disabled={followingsMutation.isPending}\n                  >\n                    <Show when={!hoverFollowButton()} fallback={i18n.t('profile.unfollow')}>\n                      {i18n.t('profile.followingCurrently')}\n                    </Show>\n                  </button>\n                </Match>\n                <Match when={!following()}>\n                  <button\n                    class=\"w-28 rounded-full border border-primary px-4 py-2 text-primary hover:border-primary-hover hover:text-primary-hover\"\n                    onClick={() => doFollow()}\n                    disabled={followingsMutation.isPending}\n                  >\n                    {i18n.t('profile.follow')}\n                  </button>\n                </Match>\n              </Switch>\n              <button\n                class=\"w-10 rounded-full border border-primary p-2 text-primary hover:border-primary-hover hover:text-primary-hover\"\n                onClick={() => setModal('ZapRequest')}\n              >\n                <Bolt />\n              </button>\n              <button\n                ref={otherActionsPopup.targetRef}\n                type=\"button\"\n                class=\"w-10 rounded-full border border-primary p-2 text-primary hover:border-primary-hover hover:text-primary-hover\"\n                onClick={() => otherActionsPopup.open()}\n              >\n                <EllipsisHorizontal />\n              </button>\n              {otherActionsPopup.popup()}\n            </div>\n            <Switch>\n              <Match when={userFollowingQuery.isPending}>\n                <div class=\"shrink-0 text-xs\">{i18n.t('general.loading')}</div>\n              </Match>\n              <Match when={followed()}>\n                <div class=\"shrink-0 text-xs\">{i18n.t('profile.followsYou')}</div>\n              </Match>\n            </Switch>\n          </div>\n        </Show>\n      </div>\n      <div class=\"flex items-start px-4 pt-2\">\n        <div class=\"h-16 shrink overflow-hidden\">\n          <Show when={profileQuery.isPending}>{i18n.t('general.loading')}</Show>\n          <Show when={(profile()?.display_name?.length ?? 0) > 0}>\n            <div class=\"truncate text-xl font-bold\">{profile()?.display_name}</div>\n          </Show>\n          <div class=\"flex items-center gap-2\">\n            <Show when={(profile()?.name?.length ?? 0) > 0}>\n              <div class=\"truncate text-xs\">@{profile()?.name}</div>\n            </Show>\n            <Show when={(profile()?.nip05?.length ?? 0) > 0}>\n              <div class=\"flex items-center text-xs\">\n                {nip05Identifier()?.ident}\n                <Switch\n                  fallback={\n                    <span class=\"inline-block size-4 text-danger\">\n                      <ExclamationCircle />\n                    </span>\n                  }\n                >\n                  <Match when={verificationQuery.isPending}>\n                    <span class=\"inline-block size-3\">\n                      <ArrowPath />\n                    </span>\n                  </Match>\n                  <Match when={isVerified()}>\n                    <span class=\"inline-block size-4 text-link\">\n                      <CheckCircle />\n                    </span>\n                  </Match>\n                </Switch>\n              </div>\n            </Show>\n          </div>\n          <div class=\"flex gap-1\">\n            <div class=\"truncate text-xs\">{npub()}</div>\n          </div>\n        </div>\n      </div>\n      <Show when={aboutParsed()} keyed>\n        {(parsed) => (\n          <div class=\"max-h-40 shrink-0 overflow-y-auto px-4 py-2 text-sm whitespace-pre-wrap\">\n            <TextNoteContentDisplay parsed={parsed} embedding={false} initialHidden />\n          </div>\n        )}\n      </Show>\n      <div class=\"flex border-t border-border px-4 py-2\">\n        <button class=\"flex flex-1 flex-col items-start\" onClick={() => setModal('Following')}>\n          <div class=\"text-sm\">{i18n.t('profile.following')}</div>\n          <div class=\"text-xl\">\n            <Show\n              when={userFollowingQuery.isFetched}\n              fallback={<span class=\"text-sm\">{i18n.t('general.loading')}</span>}\n            >\n              {userFollowingPubkeys().length}\n            </Show>\n          </div>\n        </button>\n        <Show when={!config().hideCount}>\n          <div class=\"flex flex-1 flex-col items-start\">\n            <div class=\"text-sm\">{i18n.t('profile.followers')}</div>\n            <div class=\"text-xl\">\n              <Show\n                when={showFollowers()}\n                fallback={\n                  <button\n                    class=\"text-sm hover:text-fg-secondary\"\n                    onClick={() => setShowFollowers(true)}\n                  >\n                    {i18n.t('profile.loadFollowers')}\n                  </button>\n                }\n                keyed\n              >\n                <FollowersCount pubkey={props.pubkey} />\n              </Show>\n            </div>\n          </div>\n        </Show>\n      </div>\n      <Show when={(profile()?.website ?? '').length > 0}>\n        <ul class=\"border-t border-border px-5 py-2 text-xs\">\n          <Show when={profile()?.website} keyed>\n            {(website) => (\n              <li class=\"flex items-center gap-1\">\n                <span class=\"inline-block size-4\" area-label=\"website\" title=\"website\">\n                  <GlobeAlt />\n                </span>\n                <SafeLink class=\"text-link underline\" href={website} />\n              </li>\n            )}\n          </Show>\n        </ul>\n      </Show>\n      <Switch>\n        <Match when={modal() === 'Following'}>\n          <UserList data={userFollowingPubkeys()} pubkeyExtractor={(e) => e} onClose={closeModal} />\n        </Match>\n        <Match when={modal() === 'EventDebugModal' && profileQuery.data} keyed>\n          {(event) => (\n            <EventDebugModal\n              event={event}\n              extra={JSON.stringify(profile(), null, 2)}\n              onClose={closeModal}\n            />\n          )}\n        </Match>\n        <Match when={modal() === 'ZapRequest'}>\n          <ZapRequestModal zapTo={{ pubkey: props.pubkey }} onClose={closeModal} />\n        </Match>\n      </Switch>\n      <ul class=\"border-t border-border p-1\">\n        <LoadMore loadMore={loadMore} eose={eose()}>\n          <Timeline events={events()} />\n        </LoadMore>\n      </ul>\n    </BasicModal>\n  );\n};\n\nexport default ProfileDisplay;\n"],"names":["ArrowPath","props","_el$","_tmpl$","_$spread","CheckCircle","ExclamationCircle","emptyFollowings","pubkey","Kind.Contacts","epoch","createFollowings","updatedTags","content","updateTags","baseEvent","updater","addPubkey","Tags","baseTags","removePubkey","name","value","useFollowingsMutation","propsProvider","queryClient","useQueryClient","createMemo","mutation","wrapMutate","usePublishEventMutation","results","queryKey","queryKeyUseFollowings","err","follow","unfollow","NIP05_REGEX","_fetch","queryProfile","fullname","match","domain","url","res","json","parseNip05Address","ident","user","useFollowers","config","useConfig","events","useSubscription","followersPubkeys","uniq","ev","useVerification","genQueryKey","query","createQuery","currentProps","nip05string","FollowersCount","count","_$memo","ProfileDisplay","i18n","useTranslation","addMutedPubkey","removeMutedPubkey","isPubkeyMuted","saveColumn","request","useRequestCommand","myPubkey","usePubkey","showProfileEdit","useModalState","npub","npubEncodeFallback","hoverFollowButton","setHoverFollowButton","createSignal","showFollowers","setShowFollowers","modal","setModal","closeModal","profile","event","profileEvent","profileQuery","useProfile","verification","verificationQuery","ensureNonNull","nip05","nip05Identifier","isVerified","isMuted","aboutParsed","about","parsed","parseTextNote","toResolved","genericEvent","followingPubkeys","myFollowingPubkeys","myFollowingQuery","useFollowings","pubkeyNonNull","following","includes","userFollowingPubkeys","userFollowingQuery","followed","p","followingsMutation","updateFollows","action","isPending","latest","fetchLatestFollowings","data","length","window","confirm","t","created_at","alert","console","error","doFollow","latestEvent","catch","log","doUnfollow","otherActionsPopup","useContextMenu","menu","onSelect","navigator","clipboard","writeText","items","columnName","createPostsColumn","command","onClose","createFollowingColumn","when","loadMore","useLoadMore","duration","eose","relayUrls","filters","kinds","authors","limit","since","until","eoseLimit","continuous","createEffect","setEvents","_$createComponent","BasicModal","children","Show","isFetched","banner","fallback","_tmpl$18","keyed","_el$36","_tmpl$19","_el$37","firstChild","_$setAttribute","bannerUrl","_tmpl$7","_el$2","_el$3","_$insert","picture","_el$38","_tmpl$20","pictureUrl","_el$4","_tmpl$6","_el$5","_el$11","_el$12","nextSibling","Switch","Match","_el$6","$$click","_el$7","_tmpl$2","_el$8","_el$9","_tmpl$3","addEventListener","_$effect","disabled","_el$10","_tmpl$4","Bolt","open","_ref$","targetRef","_$use","EllipsisHorizontal","popup","_el$13","_tmpl$5","_el$14","_el$15","_tmpl$13","_el$16","_el$18","_el$24","_el$25","display_name","_el$17","_tmpl$8","_el$19","_tmpl$9","_el$21","_tmpl$12","_el$39","_tmpl$21","_el$22","_tmpl$10","_el$23","_tmpl$11","_el$40","_tmpl$22","TextNoteContentDisplay","embedding","initialHidden","_el$26","_tmpl$15","_el$27","_el$28","_el$29","_el$41","_tmpl$23","hideCount","_el$30","_tmpl$14","_el$31","_el$32","_el$42","_tmpl$24","website","_el$33","_tmpl$16","_el$43","_tmpl$25","_el$44","GlobeAlt","SafeLink","href","UserList","pubkeyExtractor","e","EventDebugModal","extra","JSON","stringify","ZapRequestModal","zapTo","_el$34","_tmpl$17","LoadMore","Timeline","_$delegateEvents"],"mappings":"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","x_google_ignoreList":[0,1,2,5]}