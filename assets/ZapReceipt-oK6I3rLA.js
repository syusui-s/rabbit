import{s as R,t as i,u as Z,j as I,r as v,a as n,i as r,h as o,b as M,f as B,d as D}from"./index-CxTwrg8H.js";import{E as N,o as T}from"./useFollowings-Cp5cTpMT.js";import{e as h,U as V,g as j,f as d}from"./SideBar-Bf_FJLIC.js";import{u as g,Z as A,l as H,a as q}from"./lud16ToLnurlPayUrl-D61NgOZq.js";import{t as F}from"./url-DPIb-kBm.js";import"./LazyLoad-D5XniDFm.js";import"./SafeLink-CQXTJW3Y.js";import"./resolveAsset-Bf56sRAa.js";import"./_baseClone-COwGOqwt.js";const G=i('<svg xmlns=http://www.w3.org/2000/svg fill=currentColor aria-hidden=true data-slot=icon viewBox="0 0 24 24"><path fill-rule=evenodd d="M14.615 1.595a.75.75 0 0 1 .359.852L12.982 9.75h7.268a.75.75 0 0 1 .548 1.262l-10.5 11.25a.75.75 0 0 1-1.272-.71l1.992-7.302H3.75a.75.75 0 0 1-.548-1.262l10.5-11.25a.75.75 0 0 1 .913-.143"clip-rule=evenodd>'),J=(l={})=>(()=>{const s=G();return R(s,l,!0),s})(),K=i('<div class="flex items-center gap-1 text-sm"><div class="flex w-6 flex-col items-center"><div class="size-4 shrink-0 text-amber-500"aria-hidden=true></div><div class="mt-[-2px] shrink-0 text-xs"></div></div><div class="notification-user flex gap-1 overflow-hidden"><div class="author-icon size-5 shrink-0 overflow-hidden rounded"></div><div class="flex min-w-0 flex-1 overflow-hidden"><button class="select-text truncate font-bold hover:text-link hover:underline"></button><span class=shrink-0>'),O=i('<div class="ml-7 whitespace-pre-wrap break-all rounded border border-border px-1 text-sm">'),Q=i('<div class="notification-event py-1">'),W=i('<img alt=icon class="size-full object-cover">'),oe=l=>{const s=Z(),{shouldMuteEvent:x}=I(),{showProfile:b}=j(),t=v(()=>new A(l.event)),{profile:$}=h(()=>({pubkey:t().senderPubkey()})),{profile:u}=h(()=>d([t().zappedPubkey()])(([e])=>({pubkey:e}))),w=()=>{const e=u()?.lud06;return e==null?null:H(e)},_=()=>{const e=u()?.lud16;return e==null?null:q(e)},y=g(()=>d([w()])(([e])=>({lnurlPayUrl:e}))),k=g(()=>d([_()])(([e])=>({lnurlPayUrl:e}))),P=()=>{const e=t().amountSats();return e==null?null:T(e)},E=()=>y.isZapReceiptVerified(l.event)||k.isZapReceiptVerified(l.event);return n(o,{get when(){return v(()=>!x(l.event))()&&E()},get children(){return[(()=>{const e=K(),c=e.firstChild,p=c.firstChild,S=p.nextSibling,L=c.nextSibling,f=L.firstChild,z=f.nextSibling,a=z.firstChild,C=a.nextSibling;return r(p,n(J,{})),r(S,P),r(f,n(o,{get when(){return $()?.picture},keyed:!0,children:U=>(()=>{const m=W();return M(()=>B(m,"src",F(U,"icon"))),m})()})),a.$$click=()=>b(t().senderPubkey()),r(a,n(V,{get pubkey(){return t().senderPubkey()}})),r(C,()=>s.t("notification.zapped")),e})(),n(o,{get when(){return t().description().content.length>0},get children(){const e=O();return r(e,()=>t().description().content),e}}),n(o,{get when(){return t().zappedEventId()!=null},get children(){const e=Q();return r(e,n(N,{get eventId(){return t().zappedEventId()}})),e}})]}})};D(["click"]);export{oe as default};
//# sourceMappingURL=ZapReceipt-oK6I3rLA.js.map
