(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();const N={context:void 0,registry:void 0};function kt(t){N.context=t}const Oo=(t,e)=>t===e,ue=Symbol("solid-proxy"),Or=Symbol("solid-track"),fn={equals:Oo};let Pe=null,Vi=Gi;const ve=1,dn=2,Ki={owned:null,cleanups:null,context:null,owner:null},cr={};var R=null;let fr=null,F=null,W=null,ie=null,Bn=0;function Ke(t,e){const n=F,r=R,s=t.length===0,i=e===void 0?r:e,a=s?Ki:{owned:null,cleanups:null,context:i?i.context:null,owner:i},o=s?t:()=>t(()=>z(()=>Kn(a)));R=a,F=null;try{return ge(o,!0)}finally{F=n,R=r}}function q(t,e){e=e?Object.assign({},fn,e):fn;const n={value:t,observers:null,observerSlots:null,comparator:e.equals||void 0},r=s=>(typeof s=="function"&&(s=s(n.value)),Wi(n,s));return[Qi.bind(n),r]}function Le(t,e,n){const r=Vn(t,e,!0,ve);pt(r)}function he(t,e,n){const r=Vn(t,e,!1,ve);pt(r)}function dt(t,e,n){Vi=Po;const r=Vn(t,e,!1,ve);(!n||!n.render)&&(r.user=!0),ie?ie.push(r):pt(r)}function Z(t,e,n){n=n?Object.assign({},fn,n):fn;const r=Vn(t,e,!0,0);return r.observers=null,r.observerSlots=null,r.comparator=n.equals||void 0,pt(r),Qi.bind(r)}function Eo(t){return t&&typeof t=="object"&&"then"in t}function zi(t,e,n){let r,s,i;arguments.length===2&&typeof e=="object"||arguments.length===1?(r=!0,s=t,i=e||{}):(r=t,s=e,i=n||{});let a=null,o=cr,u=null,l=!1,c="initialValue"in i,f=typeof r=="function"&&Z(r);const d=new Set,[g,h]=(i.storage||q)(i.initialValue),[p,m]=q(void 0),[v,_]=q(void 0,{equals:!1}),[T,y]=q(c?"ready":"unresolved");if(N.context){u=`${N.context.id}${N.context.count++}`;let O;i.ssrLoadFrom==="initial"?o=i.initialValue:N.load&&(O=N.load(u))&&(o=O)}function b(O,C,M,X){return a===O&&(a=null,X!==void 0&&(c=!0),(O===o||C===o)&&i.onHydrated&&queueMicrotask(()=>i.onHydrated(X,{value:C})),o=cr,L(C,M)),C}function L(O,C){ge(()=>{C===void 0&&h(()=>O),y(C!==void 0?"errored":c?"ready":"unresolved"),m(C);for(const M of d.keys())M.decrement();d.clear()},!1)}function I(){const O=$o,C=g(),M=p();if(M!==void 0&&!a)throw M;return F&&!F.user&&O&&Le(()=>{v(),a&&(O.resolved||d.has(O)||(O.increment(),d.add(O)))}),C}function Y(O=!0){if(O!==!1&&l)return;l=!1;const C=f?f():r;if(C==null||C===!1){b(a,z(g));return}const M=o!==cr?o:z(()=>s(C,{value:g(),refetching:O}));return Eo(M)?(a=M,"value"in M?(M.status==="success"?b(a,M.value,void 0,C):b(a,void 0,void 0,C),M):(l=!0,queueMicrotask(()=>l=!1),ge(()=>{y(c?"refreshing":"pending"),_()},!1),M.then(X=>b(M,X,void 0,C),X=>b(M,void 0,Yi(X),C)))):(b(a,M,void 0,C),M)}return Object.defineProperties(I,{state:{get:()=>T()},error:{get:()=>p()},loading:{get(){const O=T();return O==="pending"||O==="refreshing"}},latest:{get(){if(!c)return I();const O=p();if(O&&!a)throw O;return g()}}}),f?Le(()=>Y(!1)):Y(!1),[I,{refetch:Y,mutate:h}]}function qi(t){return ge(t,!1)}function z(t){if(F===null)return t();const e=F;F=null;try{return t()}finally{F=e}}function Ve(t,e,n){const r=Array.isArray(t);let s,i=n&&n.defer;return a=>{let o;if(r){o=Array(t.length);for(let l=0;l<t.length;l++)o[l]=t[l]()}else o=t();if(i){i=!1;return}const u=z(()=>e(o,s,a));return s=o,u}}function To(t){dt(()=>z(t))}function pe(t){return R===null||(R.cleanups===null?R.cleanups=[t]:R.cleanups.push(t)),t}function Er(){return F}function Tr(){return R}function Hi(t,e){const n=R,r=F;R=t,F=null;try{return ge(e,!0)}catch(s){zn(s)}finally{R=n,F=r}}function Co(t){const e=F,n=R;return Promise.resolve().then(()=>{F=e,R=n;let r;return ge(t,!1),F=R=null,r?r.done:void 0})}function Wt(t,e){const n=Symbol("context");return{id:n,Provider:Ro(n),defaultValue:t}}function ht(t){return R&&R.context&&R.context[t.id]!==void 0?R.context[t.id]:t.defaultValue}function Zn(t){const e=Z(t),n=Z(()=>Cr(e()));return n.toArray=()=>{const r=n();return Array.isArray(r)?r:r!=null?[r]:[]},n}let $o;function Qi(){if(this.sources&&this.state)if(this.state===ve)pt(this);else{const t=W;W=null,ge(()=>pn(this),!1),W=t}if(F){const t=this.observers?this.observers.length:0;F.sources?(F.sources.push(this),F.sourceSlots.push(t)):(F.sources=[this],F.sourceSlots=[t]),this.observers?(this.observers.push(F),this.observerSlots.push(F.sources.length-1)):(this.observers=[F],this.observerSlots=[F.sources.length-1])}return this.value}function Wi(t,e,n){let r=t.value;return(!t.comparator||!t.comparator(r,e))&&(t.value=e,t.observers&&t.observers.length&&ge(()=>{for(let s=0;s<t.observers.length;s+=1){const i=t.observers[s],a=fr&&fr.running;a&&fr.disposed.has(i),(a?!i.tState:!i.state)&&(i.pure?W.push(i):ie.push(i),i.observers&&Ji(i)),a||(i.state=ve)}if(W.length>1e6)throw W=[],new Error},!1)),e}function pt(t){if(!t.fn)return;Kn(t);const e=Bn;ko(t,t.value,e)}function ko(t,e,n){let r;const s=R,i=F;F=R=t;try{r=t.fn(e)}catch(a){return t.pure&&(t.state=ve,t.owned&&t.owned.forEach(Kn),t.owned=null),t.updatedAt=n+1,zn(a)}finally{F=i,R=s}(!t.updatedAt||t.updatedAt<=n)&&(t.updatedAt!=null&&"observers"in t?Wi(t,r):t.value=r,t.updatedAt=n)}function Vn(t,e,n,r=ve,s){const i={fn:t,state:r,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:e,owner:R,context:R?R.context:null,pure:n};return R===null||R!==Ki&&(R.owned?R.owned.push(i):R.owned=[i]),i}function hn(t){if(t.state===0)return;if(t.state===dn)return pn(t);if(t.suspense&&z(t.suspense.inFallback))return t.suspense.effects.push(t);const e=[t];for(;(t=t.owner)&&(!t.updatedAt||t.updatedAt<Bn);)t.state&&e.push(t);for(let n=e.length-1;n>=0;n--)if(t=e[n],t.state===ve)pt(t);else if(t.state===dn){const r=W;W=null,ge(()=>pn(t,e[0]),!1),W=r}}function ge(t,e){if(W)return t();let n=!1;e||(W=[]),ie?n=!0:ie=[],Bn++;try{const r=t();return Ao(n),r}catch(r){n||(ie=null),W=null,zn(r)}}function Ao(t){if(W&&(Gi(W),W=null),t)return;const e=ie;ie=null,e.length&&ge(()=>Vi(e),!1)}function Gi(t){for(let e=0;e<t.length;e++)hn(t[e])}function Po(t){let e,n=0;for(e=0;e<t.length;e++){const r=t[e];r.user?t[n++]=r:hn(r)}if(N.context){if(N.count){N.effects||(N.effects=[]),N.effects.push(...t.slice(0,n));return}else N.effects&&(t=[...N.effects,...t],n+=N.effects.length,delete N.effects);kt()}for(e=0;e<n;e++)hn(t[e])}function pn(t,e){t.state=0;for(let n=0;n<t.sources.length;n+=1){const r=t.sources[n];if(r.sources){const s=r.state;s===ve?r!==e&&(!r.updatedAt||r.updatedAt<Bn)&&hn(r):s===dn&&pn(r,e)}}}function Ji(t){for(let e=0;e<t.observers.length;e+=1){const n=t.observers[e];n.state||(n.state=dn,n.pure?W.push(n):ie.push(n),n.observers&&Ji(n))}}function Kn(t){let e;if(t.sources)for(;t.sources.length;){const n=t.sources.pop(),r=t.sourceSlots.pop(),s=n.observers;if(s&&s.length){const i=s.pop(),a=n.observerSlots.pop();r<s.length&&(i.sourceSlots[a]=r,s[r]=i,n.observerSlots[r]=a)}}if(t.owned){for(e=t.owned.length-1;e>=0;e--)Kn(t.owned[e]);t.owned=null}if(t.cleanups){for(e=t.cleanups.length-1;e>=0;e--)t.cleanups[e]();t.cleanups=null}t.state=0}function Yi(t){return t instanceof Error?t:new Error(typeof t=="string"?t:"Unknown error",{cause:t})}function bs(t,e,n){try{for(const r of e)r(t)}catch(r){zn(r,n&&n.owner||null)}}function zn(t,e=R){const n=Pe&&e&&e.context&&e.context[Pe],r=Yi(t);if(!n)throw r;ie?ie.push({fn(){bs(r,n,e)},state:ve}):bs(r,n,e)}function Cr(t){if(typeof t=="function"&&!t.length)return Cr(t());if(Array.isArray(t)){const e=[];for(let n=0;n<t.length;n++){const r=Cr(t[n]);Array.isArray(r)?e.push.apply(e,r):e.push(r)}return e}return t}function Ro(t,e){return function(r){let s;return he(()=>s=z(()=>(R.context={...R.context,[t]:r.value},Zn(()=>r.children))),void 0),s}}function ix(t){Pe||(Pe=Symbol("error")),R===null||(R.context===null||!R.context[Pe]?(R.context={...R.context,[Pe]:[t]},on(R,Pe,[t])):R.context[Pe].push(t))}function on(t,e,n){if(t.owned)for(let r=0;r<t.owned.length;r++)t.owned[r].context===t.context&&on(t.owned[r],e,n),t.owned[r].context?t.owned[r].context[e]||(t.owned[r].context[e]=n,on(t.owned[r],e,n)):(t.owned[r].context=t.context,on(t.owned[r],e,n))}const Lo=Symbol("fallback");function ws(t){for(let e=0;e<t.length;e++)t[e]()}function No(t,e,n={}){let r=[],s=[],i=[],a=0,o=e.length>1?[]:null;return pe(()=>ws(i)),()=>{let u=t()||[],l,c;return u[Or],z(()=>{let d=u.length,g,h,p,m,v,_,T,y,b;if(d===0)a!==0&&(ws(i),i=[],r=[],s=[],a=0,o&&(o=[])),n.fallback&&(r=[Lo],s[0]=Ke(L=>(i[0]=L,n.fallback())),a=1);else if(a===0){for(s=new Array(d),c=0;c<d;c++)r[c]=u[c],s[c]=Ke(f);a=d}else{for(p=new Array(d),m=new Array(d),o&&(v=new Array(d)),_=0,T=Math.min(a,d);_<T&&r[_]===u[_];_++);for(T=a-1,y=d-1;T>=_&&y>=_&&r[T]===u[y];T--,y--)p[y]=s[T],m[y]=i[T],o&&(v[y]=o[T]);for(g=new Map,h=new Array(y+1),c=y;c>=_;c--)b=u[c],l=g.get(b),h[c]=l===void 0?-1:l,g.set(b,c);for(l=_;l<=T;l++)b=r[l],c=g.get(b),c!==void 0&&c!==-1?(p[c]=s[l],m[c]=i[l],o&&(v[c]=o[l]),c=h[c],g.set(b,c)):i[l]();for(c=_;c<d;c++)c in p?(s[c]=p[c],i[c]=m[c],o&&(o[c]=v[c],o[c](c))):s[c]=Ke(f);s=s.slice(0,a=d),r=u.slice(0)}return s});function f(d){if(i[c]=d,o){const[g,h]=q(c);return o[c]=h,e(u[c],g)}return e(u[c])}}}function U(t,e){return z(()=>t(e||{}))}function en(){return!0}const $r={get(t,e,n){return e===ue?n:t.get(e)},has(t,e){return e===ue?!0:t.has(e)},set:en,deleteProperty:en,getOwnPropertyDescriptor(t,e){return{configurable:!0,enumerable:!0,get(){return t.get(e)},set:en,deleteProperty:en}},ownKeys(t){return t.keys()}};function dr(t){return(t=typeof t=="function"?t():t)?t:{}}function Io(){for(let t=0,e=this.length;t<e;++t){const n=this[t]();if(n!==void 0)return n}}function Xi(...t){let e=!1;for(let i=0;i<t.length;i++){const a=t[i];e=e||!!a&&ue in a,t[i]=typeof a=="function"?(e=!0,Z(a)):a}if(e)return new Proxy({get(i){for(let a=t.length-1;a>=0;a--){const o=dr(t[a])[i];if(o!==void 0)return o}},has(i){for(let a=t.length-1;a>=0;a--)if(i in dr(t[a]))return!0;return!1},keys(){const i=[];for(let a=0;a<t.length;a++)i.push(...Object.keys(dr(t[a])));return[...new Set(i)]}},$r);const n={},r={},s=new Set;for(let i=t.length-1;i>=0;i--){const a=t[i];if(!a)continue;const o=Object.getOwnPropertyNames(a);for(let u=0,l=o.length;u<l;u++){const c=o[u];if(c==="__proto__"||c==="constructor")continue;const f=Object.getOwnPropertyDescriptor(a,c);if(!s.has(c))f.get?(s.add(c),Object.defineProperty(n,c,{enumerable:!0,configurable:!0,get:Io.bind(r[c]=[f.get.bind(a)])})):(f.value!==void 0&&s.add(c),n[c]=f.value);else{const d=r[c];d?f.get?d.push(f.get.bind(a)):f.value!==void 0&&d.push(()=>f.value):n[c]===void 0&&(n[c]=f.value)}}}return n}function ax(t,...e){if(ue in t){const s=new Set(e.length>1?e.flat():e[0]),i=e.map(a=>new Proxy({get(o){return a.includes(o)?t[o]:void 0},has(o){return a.includes(o)&&o in t},keys(){return a.filter(o=>o in t)}},$r));return i.push(new Proxy({get(a){return s.has(a)?void 0:t[a]},has(a){return s.has(a)?!1:a in t},keys(){return Object.keys(t).filter(a=>!s.has(a))}},$r)),i}const n={},r=e.map(()=>({}));for(const s of Object.getOwnPropertyNames(t)){const i=Object.getOwnPropertyDescriptor(t,s),a=!i.get&&!i.set&&i.enumerable&&i.writable&&i.configurable;let o=!1,u=0;for(const l of e)l.includes(s)&&(o=!0,a?r[u][s]=i.value:Object.defineProperty(r[u],s,i)),++u;o||(a?n[s]=i.value:Object.defineProperty(n,s,i))}return[...r,n]}function qn(t){let e,n;const r=s=>{const i=N.context;if(i){const[o,u]=q();N.count||(N.count=0),N.count++,(n||(n=t())).then(l=>{kt(i),N.count--,u(()=>l.default),kt()}),e=o}else if(!e){const[o]=zi(()=>(n||(n=t())).then(u=>u.default));e=o}let a;return Z(()=>(a=e())&&z(()=>{if(!i)return a(s);const o=N.context;kt(i);const u=a(s);return kt(o),u}))};return r.preload=()=>n||((n=t()).then(s=>e=()=>s.default),n),r}const ea=t=>`Stale read from <${t}>.`;function ox(t){const e="fallback"in t&&{fallback:()=>t.fallback};return Z(No(()=>t.each,t.children,e||void 0))}function Hn(t){const e=t.keyed,n=Z(()=>t.when,void 0,{equals:(r,s)=>e?r===s:!r==!s});return Z(()=>{const r=n();if(r){const s=t.children;return typeof s=="function"&&s.length>0?z(()=>s(e?r:()=>{if(!z(n))throw ea("Show");return t.when})):s}return t.fallback},void 0,void 0)}function ux(t){let e=!1;const n=(i,a)=>i[0]===a[0]&&(e?i[1]===a[1]:!i[1]==!a[1])&&i[2]===a[2],r=Zn(()=>t.children),s=Z(()=>{let i=r();Array.isArray(i)||(i=[i]);for(let a=0;a<i.length;a++){const o=i[a].when;if(o)return e=!!i[a].keyed,[a,o,i[a]]}return[-1]},void 0,{equals:n});return Z(()=>{const[i,a,o]=s();if(i<0)return t.fallback;const u=o.children;return typeof u=="function"&&u.length>0?z(()=>u(e?a:()=>{if(z(s)[0]!==i)throw ea("Match");return o.when})):u},void 0,void 0)}function lx(t){return t}const jo=["allowfullscreen","async","autofocus","autoplay","checked","controls","default","disabled","formnovalidate","hidden","indeterminate","inert","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","seamless","selected"],Mo=new Set(["className","value","readOnly","formNoValidate","isMap","noModule","playsInline",...jo]),Do=new Set(["innerHTML","textContent","innerText","children"]),Fo=Object.assign(Object.create(null),{className:"class",htmlFor:"for"}),Uo=Object.assign(Object.create(null),{class:"className",formnovalidate:{$:"formNoValidate",BUTTON:1,INPUT:1},ismap:{$:"isMap",IMG:1},nomodule:{$:"noModule",SCRIPT:1},playsinline:{$:"playsInline",VIDEO:1},readonly:{$:"readOnly",INPUT:1,TEXTAREA:1}});function Bo(t,e){const n=Uo[t];return typeof n=="object"?n[e]?n.$:void 0:n}const Zo=new Set(["beforeinput","click","dblclick","contextmenu","focusin","focusout","input","keydown","keyup","mousedown","mousemove","mouseout","mouseover","mouseup","pointerdown","pointermove","pointerout","pointerover","pointerup","touchend","touchmove","touchstart"]),Vo={xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace"};function Ko(t,e,n){let r=n.length,s=e.length,i=r,a=0,o=0,u=e[s-1].nextSibling,l=null;for(;a<s||o<i;){if(e[a]===n[o]){a++,o++;continue}for(;e[s-1]===n[i-1];)s--,i--;if(s===a){const c=i<r?o?n[o-1].nextSibling:n[i-o]:u;for(;o<i;)t.insertBefore(n[o++],c)}else if(i===o)for(;a<s;)(!l||!l.has(e[a]))&&e[a].remove(),a++;else if(e[a]===n[i-1]&&n[o]===e[s-1]){const c=e[--s].nextSibling;t.insertBefore(n[o++],e[a++].nextSibling),t.insertBefore(n[--i],c),e[s]=n[i]}else{if(!l){l=new Map;let f=o;for(;f<i;)l.set(n[f],f++)}const c=l.get(e[a]);if(c!=null)if(o<c&&c<i){let f=a,d=1,g;for(;++f<s&&f<i&&!((g=l.get(e[f]))==null||g!==c+d);)d++;if(d>c-o){const h=e[a];for(;o<c;)t.insertBefore(n[o++],h)}else t.replaceChild(n[o++],e[a++])}else a++;else e[a++].remove()}}}const _s="_$DX_DELEGATE";function zo(t,e,n,r={}){let s;return Ke(i=>{s=i,e===document?t():fe(e,t(),e.firstChild?null:void 0,n)},r.owner),()=>{s(),e.textContent=""}}function Gr(t,e,n){let r;const s=()=>{const a=document.createElement("template");return a.innerHTML=t,n?a.content.firstChild.firstChild:a.content.firstChild},i=e?()=>z(()=>document.importNode(r||(r=s()),!0)):()=>(r||(r=s())).cloneNode(!0);return i.cloneNode=i,i}function Jr(t,e=window.document){const n=e[_s]||(e[_s]=new Set);for(let r=0,s=t.length;r<s;r++){const i=t[r];n.has(i)||(n.add(i),e.addEventListener(i,Xo))}}function gn(t,e,n){N.context||(n==null?t.removeAttribute(e):t.setAttribute(e,n))}function qo(t,e,n,r){N.context||(r==null?t.removeAttributeNS(e,n):t.setAttributeNS(e,n,r))}function ta(t,e){N.context||(e==null?t.removeAttribute("class"):t.className=e)}function Ho(t,e,n,r){if(r)Array.isArray(n)?(t[`$$${e}`]=n[0],t[`$$${e}Data`]=n[1]):t[`$$${e}`]=n;else if(Array.isArray(n)){const s=n[0];t.addEventListener(e,n[0]=i=>s.call(t,n[1],i))}else t.addEventListener(e,n)}function Qo(t,e,n={}){const r=Object.keys(e||{}),s=Object.keys(n);let i,a;for(i=0,a=s.length;i<a;i++){const o=s[i];!o||o==="undefined"||e[o]||(xs(t,o,!1),delete n[o])}for(i=0,a=r.length;i<a;i++){const o=r[i],u=!!e[o];!o||o==="undefined"||n[o]===u||!u||(xs(t,o,!0),n[o]=u)}return n}function Wo(t,e,n){if(!e)return n?gn(t,"style"):e;const r=t.style;if(typeof e=="string")return r.cssText=e;typeof n=="string"&&(r.cssText=n=void 0),n||(n={}),e||(e={});let s,i;for(i in n)e[i]==null&&r.removeProperty(i),delete n[i];for(i in e)s=e[i],s!==n[i]&&(r.setProperty(i,s),n[i]=s);return n}function Go(t,e={},n,r){const s={};return r||he(()=>s.children=at(t,e.children,s.children)),he(()=>e.ref&&e.ref(t)),he(()=>Jo(t,e,n,!0,s,!0)),s}function cx(t,e,n){return z(()=>t(e,n))}function fe(t,e,n,r){if(n!==void 0&&!r&&(r=[]),typeof e!="function")return at(t,e,r,n);he(s=>at(t,e(),s,n),r)}function Jo(t,e,n,r,s={},i=!1){e||(e={});for(const a in s)if(!(a in e)){if(a==="children")continue;s[a]=Ss(t,a,null,s[a],n,i)}for(const a in e){if(a==="children"){r||at(t,e.children);continue}const o=e[a];s[a]=Ss(t,a,o,s[a],n,i)}}function Yo(t){return t.toLowerCase().replace(/-([a-z])/g,(e,n)=>n.toUpperCase())}function xs(t,e,n){const r=e.trim().split(/\s+/);for(let s=0,i=r.length;s<i;s++)t.classList.toggle(r[s],n)}function Ss(t,e,n,r,s,i){let a,o,u,l,c;if(e==="style")return Wo(t,n,r);if(e==="classList")return Qo(t,n,r);if(n===r)return r;if(e==="ref")i||n(t);else if(e.slice(0,3)==="on:"){const f=e.slice(3);r&&t.removeEventListener(f,r),n&&t.addEventListener(f,n)}else if(e.slice(0,10)==="oncapture:"){const f=e.slice(10);r&&t.removeEventListener(f,r,!0),n&&t.addEventListener(f,n,!0)}else if(e.slice(0,2)==="on"){const f=e.slice(2).toLowerCase(),d=Zo.has(f);if(!d&&r){const g=Array.isArray(r)?r[0]:r;t.removeEventListener(f,g)}(d||n)&&(Ho(t,f,n,d),d&&Jr([f]))}else if(e.slice(0,5)==="attr:")gn(t,e.slice(5),n);else if((c=e.slice(0,5)==="prop:")||(u=Do.has(e))||!s&&((l=Bo(e,t.tagName))||(o=Mo.has(e)))||(a=t.nodeName.includes("-"))){if(c)e=e.slice(5),o=!0;else if(N.context)return n;e==="class"||e==="className"?ta(t,n):a&&!o&&!u?t[Yo(e)]=n:t[l||e]=n}else{const f=s&&e.indexOf(":")>-1&&Vo[e.split(":")[0]];f?qo(t,f,e,n):gn(t,Fo[e]||e,n)}return n}function Xo(t){const e=`$$${t.type}`;let n=t.composedPath&&t.composedPath()[0]||t.target;for(t.target!==n&&Object.defineProperty(t,"target",{configurable:!0,value:n}),Object.defineProperty(t,"currentTarget",{configurable:!0,get(){return n||document}}),N.registry&&!N.done&&(N.done=_$HY.done=!0);n;){const r=n[e];if(r&&!n.disabled){const s=n[`${e}Data`];if(s!==void 0?r.call(n,s,t):r.call(n,t),t.cancelBubble)return}n=n._$host||n.parentNode||n.host}}function at(t,e,n,r,s){if(N.context){!n&&(n=[...t.childNodes]);let o=[];for(let u=0;u<n.length;u++){const l=n[u];l.nodeType===8&&l.data.slice(0,2)==="!$"?l.remove():o.push(l)}n=o}for(;typeof n=="function";)n=n();if(e===n)return n;const i=typeof e,a=r!==void 0;if(t=a&&n[0]&&n[0].parentNode||t,i==="string"||i==="number"){if(N.context)return n;if(i==="number"&&(e=e.toString()),a){let o=n[0];o&&o.nodeType===3?o.data=e:o=document.createTextNode(e),n=Ye(t,n,r,o)}else n!==""&&typeof n=="string"?n=t.firstChild.data=e:n=t.textContent=e}else if(e==null||i==="boolean"){if(N.context)return n;n=Ye(t,n,r)}else{if(i==="function")return he(()=>{let o=e();for(;typeof o=="function";)o=o();n=at(t,o,n,r)}),()=>n;if(Array.isArray(e)){const o=[],u=n&&Array.isArray(n);if(kr(o,e,n,s))return he(()=>n=at(t,o,n,r,!0)),()=>n;if(N.context){if(!o.length)return n;if(r===void 0)return[...t.childNodes];let l=o[0],c=[l];for(;(l=l.nextSibling)!==r;)c.push(l);return n=c}if(o.length===0){if(n=Ye(t,n,r),a)return n}else u?n.length===0?Os(t,o,r):Ko(t,n,o):(n&&Ye(t),Os(t,o));n=o}else if(e.nodeType){if(N.context&&e.parentNode)return n=a?[e]:e;if(Array.isArray(n)){if(a)return n=Ye(t,n,r,e);Ye(t,n,null,e)}else n==null||n===""||!t.firstChild?t.appendChild(e):t.replaceChild(e,t.firstChild);n=e}}return n}function kr(t,e,n,r){let s=!1;for(let i=0,a=e.length;i<a;i++){let o=e[i],u=n&&n[i],l;if(!(o==null||o===!0||o===!1))if((l=typeof o)=="object"&&o.nodeType)t.push(o);else if(Array.isArray(o))s=kr(t,o,u)||s;else if(l==="function")if(r){for(;typeof o=="function";)o=o();s=kr(t,Array.isArray(o)?o:[o],Array.isArray(u)?u:[u])||s}else t.push(o),s=!0;else{const c=String(o);u&&u.nodeType===3&&u.data===c?t.push(u):t.push(document.createTextNode(c))}}return s}function Os(t,e,n=null){for(let r=0,s=e.length;r<s;r++)t.insertBefore(e[r],n)}function Ye(t,e,n,r){if(n===void 0)return t.textContent="";const s=r||document.createTextNode("");if(e.length){let i=!1;for(let a=e.length-1;a>=0;a--){const o=e[a];if(s!==o){const u=o.parentNode===t;!i&&!a?u?t.replaceChild(s,o):t.insertBefore(s,n):u&&o.remove()}else i=!0}}else t.insertBefore(s,n);return[s]}const na=!1,eu="http://www.w3.org/2000/svg";function tu(t,e=!1){return e?document.createElementNS(eu,t):document.createElement(t)}function fx(t){const{useShadow:e}=t,n=document.createTextNode(""),r=()=>t.mount||document.body,s=Tr();let i,a=!!N.context;return dt(()=>{a&&(Tr().user=a=!1),i||(i=Hi(s,()=>Z(()=>t.children)));const o=r();if(o instanceof HTMLHeadElement){const[u,l]=q(!1),c=()=>l(!0);Ke(f=>fe(o,()=>u()?f():i(),null)),pe(c)}else{const u=tu(t.isSVG?"g":"div",t.isSVG),l=e&&u.attachShadow?u.attachShadow({mode:"open"}):u;Object.defineProperty(u,"_$host",{get(){return n.parentNode},configurable:!0}),fe(l,i),o.appendChild(u),t.ref&&t.ref(u),pe(()=>o.removeChild(u))}},void 0,{render:!a}),n}const nu="modulepreload",ru=function(t){return"/rabbit/"+t},Es={},Qn=function(e,n,r){if(!n||n.length===0)return e();const s=document.getElementsByTagName("link");return Promise.all(n.map(i=>{if(i=ru(i),i in Es)return;Es[i]=!0;const a=i.endsWith(".css"),o=a?'[rel="stylesheet"]':"";if(!!r)for(let c=s.length-1;c>=0;c--){const f=s[c];if(f.href===i&&(!a||f.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${i}"]${o}`))return;const l=document.createElement("link");if(l.rel=a?"stylesheet":nu,a||(l.as="script",l.crossOrigin=""),l.href=i,document.head.appendChild(l),a)return new Promise((c,f)=>{l.addEventListener("load",c),l.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${i}`)))})})).then(()=>e()).catch(i=>{const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=i,window.dispatchEvent(a),!a.defaultPrevented)throw i})};function su(){let t=new Set;function e(s){return t.add(s),()=>t.delete(s)}let n=!1;function r(s,i){if(n)return!(n=!1);const a={to:s,options:i,defaultPrevented:!1,preventDefault:()=>a.defaultPrevented=!0};for(const o of t)o.listener({...a,from:o.location,retry:u=>{u&&(n=!0),o.navigate(s,i)}});return!a.defaultPrevented}return{subscribe:e,confirm:r}}const iu=/^(?:[a-z0-9]+:)?\/\//i,au=/^\/+|(\/)\/+$/g;function Pt(t,e=!1){const n=t.replace(au,"$1");return n?e||/^[?#]/.test(n)?n:"/"+n:""}function un(t,e,n){if(iu.test(e))return;const r=Pt(t),s=n&&Pt(n);let i="";return!s||e.startsWith("/")?i=r:s.toLowerCase().indexOf(r.toLowerCase())!==0?i=r+s:i=s,(i||"/")+Pt(e,!i)}function ou(t,e){if(t==null)throw new Error(e);return t}function uu(t,e){return Pt(t).replace(/\/*(\*.*)?$/g,"")+Pt(e)}function ra(t){const e={};return t.searchParams.forEach((n,r)=>{e[r]=n}),e}function lu(t,e,n){const[r,s]=t.split("/*",2),i=r.split("/").filter(Boolean),a=i.length;return o=>{const u=o.split("/").filter(Boolean),l=u.length-a;if(l<0||l>0&&s===void 0&&!e)return null;const c={path:a?"":"/",params:{}},f=d=>n===void 0?void 0:n[d];for(let d=0;d<a;d++){const g=i[d],h=u[d],p=g[0]===":",m=p?g.slice(1):g;if(p&&hr(h,f(m)))c.params[m]=h;else if(p||!hr(h,g))return null;c.path+=`/${h}`}if(s){const d=l?u.slice(-l).join("/"):"";if(hr(d,f(s)))c.params[s]=d;else return null}return c}}function hr(t,e){const n=r=>r.localeCompare(t,void 0,{sensitivity:"base"})===0;return e===void 0?!0:typeof e=="string"?n(e):typeof e=="function"?e(t):Array.isArray(e)?e.some(n):e instanceof RegExp?e.test(t):!1}function cu(t){const[e,n]=t.pattern.split("/*",2),r=e.split("/").filter(Boolean);return r.reduce((s,i)=>s+(i.startsWith(":")?2:3),r.length-(n===void 0?0:1))}function sa(t){const e=new Map,n=Tr();return new Proxy({},{get(r,s){return e.has(s)||Hi(n,()=>e.set(s,Z(()=>t()[s]))),e.get(s)()},getOwnPropertyDescriptor(){return{enumerable:!0,configurable:!0}},ownKeys(){return Reflect.ownKeys(t())}})}function ia(t){let e=/(\/?\:[^\/]+)\?/.exec(t);if(!e)return[t];let n=t.slice(0,e.index),r=t.slice(e.index+e[0].length);const s=[n,n+=e[1]];for(;e=/^(\/\:[^\/]+)\?/.exec(r);)s.push(n+=e[1]),r=r.slice(e[0].length);return ia(r).reduce((i,a)=>[...i,...s.map(o=>o+a)],[])}const fu=100,aa=Wt(),Wn=Wt(),oa=()=>ou(ht(aa),"Make sure your app is wrapped in a <Router />"),du=()=>ht(Wn)||oa().base,dx=()=>oa().navigatorFactory(),hx=()=>du().params;function hu(t,e=""){const{component:n,load:r,children:s,metadata:i}=t,a=!s||Array.isArray(s)&&!s.length,o={key:t,component:n,load:r,metadata:i};return ua(t.path).reduce((u,l)=>{for(const c of ia(l)){const f=uu(e,c),d=a?f:f.split("/*",1)[0];u.push({...o,originalPath:c,pattern:d,matcher:lu(d,!a,t.matchFilters)})}return u},[])}function pu(t,e=0){return{routes:t,score:cu(t[t.length-1])*1e4-e,matcher(n){const r=[];for(let s=t.length-1;s>=0;s--){const i=t[s],a=i.matcher(n);if(!a)return null;r.unshift({...a,route:i})}return r}}}function ua(t){return Array.isArray(t)?t:[t]}function la(t,e="",n=[],r=[]){const s=ua(t);for(let i=0,a=s.length;i<a;i++){const o=s[i];if(o&&typeof o=="object"){o.hasOwnProperty("path")||(o.path="");const u=hu(o,e);for(const l of u){n.push(l);const c=Array.isArray(o.children)&&o.children.length===0;if(o.children&&!c)la(o.children,l.pattern,n,r);else{const f=pu([...n],r.length);r.push(f)}n.pop()}}}return n.length?r:r.sort((i,a)=>a.score-i.score)}function ca(t,e){for(let n=0,r=t.length;n<r;n++){const s=t[n].matcher(e);if(s)return s}return[]}function gu(t,e){const n=new URL("http://sar"),r=Z(u=>{const l=t();try{return new URL(l,n)}catch{return console.error(`Invalid path ${l}`),u}},n,{equals:(u,l)=>u.href===l.href}),s=Z(()=>r().pathname),i=Z(()=>r().search,!0),a=Z(()=>r().hash),o=()=>"";return{get pathname(){return s()},get search(){return i()},get hash(){return a()},get state(){return e()},get key(){return o()},query:sa(Ve(i,()=>ra(r())))}}let Ae;function mu(t,e,n={}){const{signal:[r,s],utils:i={}}=t,a=i.parsePath||(O=>O),o=i.renderPath||(O=>O),u=i.beforeLeave||su(),l=un("",n.base||"");if(l===void 0)throw new Error(`${l} is not a valid base path`);l&&!r().value&&s({value:l,replace:!0,scroll:!1});const[c,f]=q(!1),d=async O=>{f(!0);try{await Co(O)}finally{f(!1)}},[g,h]=q(r().value),[p,m]=q(r().state),v=gu(g,p),_=[],T=q([]),y={pattern:l,params:{},path:()=>l,outlet:()=>null,resolvePath(O){return un(l,O)}};return he(()=>{const{value:O,state:C}=r();z(()=>{O!==g()&&d(()=>{Ae="native",h(O),m(C),T[1]([])}).then(()=>{Ae=void 0})})}),{base:y,location:v,isRouting:c,renderPath:o,parsePath:a,navigatorFactory:L,beforeLeave:u,preloadRoute:Y,submissions:T};function b(O,C,M){z(()=>{if(typeof C=="number"){C&&(i.go?u.confirm(C,M)&&i.go(C):console.warn("Router integration does not support relative routing"));return}const{replace:X,resolve:we,scroll:te,state:ce}={replace:!1,resolve:!0,scroll:!0,...M},$e=we?O.resolvePath(C):un("",C);if($e===void 0)throw new Error(`Path '${C}' is not a routable path`);if(_.length>=fu)throw new Error("Too many redirects");const Q=g();if(($e!==Q||ce!==p())&&!na){if(u.confirm($e,M)){const ke=_.push({value:Q,replace:X,scroll:te,state:p()});d(()=>{Ae="navigate",h($e),m(ce),T[1]([])}).then(()=>{_.length===ke&&(Ae=void 0,I({value:$e,state:ce}))})}}})}function L(O){return O=O||ht(Wn)||y,(C,M)=>b(O,C,M)}function I(O){const C=_[0];C&&((O.value!==C.value||O.state!==C.state)&&s({...O,replace:C.replace,scroll:C.scroll}),_.length=0)}function Y(O,C){const M=ca(e(),O.pathname),X=Ae;Ae="preload";for(let we in M){const{route:te,params:ce}=M[we];te.component&&te.component.preload&&te.component.preload(),C&&te.load&&te.load({params:ce,location:{pathname:O.pathname,search:O.search,hash:O.hash,query:ra(O),state:null,key:""},intent:"preload"})}Ae=X}}function yu(t,e,n,r,s){const{base:i,location:a}=t,{pattern:o,component:u,load:l}=r().route,c=Z(()=>r().path);u&&u.preload&&u.preload();const f=l?l({params:s,location:a,intent:Ae||"initial"}):void 0;return{parent:e,pattern:o,path:c,params:s,outlet:()=>u?U(u,{params:s,location:a,data:f,get children(){return n()}}):n(),resolvePath(g){return un(i.path(),g,c())}}}const vu=t=>e=>{const{base:n}=e,r=Zn(()=>e.children),s=Z(()=>la(e.root?{component:e.root,children:r()}:r(),e.base||"")),i=mu(t,s,{base:n});return t.create&&t.create(i),U(aa.Provider,{value:i,get children(){return U(bu,{routerState:i,get branches(){return s()}})}})};function bu(t){const e=Z(()=>ca(t.branches,t.routerState.location.pathname)),n=sa(()=>{const a=e(),o={};for(let u=0;u<a.length;u++)Object.assign(o,a[u].params);return o}),r=[];let s;const i=Z(Ve(e,(a,o,u)=>{let l=o&&a.length===o.length;const c=[];for(let f=0,d=a.length;f<d;f++){const g=o&&o[f],h=a[f];u&&g&&h.route.key===g.route.key?c[f]=u[f]:(l=!1,r[f]&&r[f](),Ke(p=>{r[f]=p,c[f]=yu(t.routerState,c[f-1]||t.routerState.base,wu(()=>i()[f+1]),()=>e()[f],n)}))}return r.splice(a.length).forEach(f=>f()),u&&l?u:(s=c[0],c)}));return U(Hn,{get when(){return i()&&s},keyed:!0,children:a=>U(Wn.Provider,{value:a,get children(){return a.outlet()}})})}const wu=t=>()=>U(Hn,{get when(){return t()},keyed:!0,children:e=>U(Wn.Provider,{value:e,get children(){return e.outlet()}})}),tn=t=>{const e=Zn(()=>t.children);return Xi(t,{get children(){return e()}})};function _u([t,e],n,r){return[n?()=>n(t()):t,r?s=>e(r(s)):e]}function xu(t){if(t==="#")return null;try{return document.querySelector(t)}catch{return null}}function Su(t){let e=!1;const n=s=>typeof s=="string"?{value:s}:s,r=_u(q(n(t.get()),{equals:(s,i)=>s.value===i.value}),void 0,s=>(!e&&t.set(s),s));return t.init&&pe(t.init((s=t.get())=>{e=!0,r[1](n(s)),e=!1})),vu({signal:r,create:t.create,utils:t.utils})}function Ou(t,e,n){return t.addEventListener(e,n),()=>t.removeEventListener(e,n)}function Eu(t,e){const n=xu(`#${t}`);n?n.scrollIntoView():e&&window.scrollTo(0,0)}const Ar=Symbol("store-raw"),rt=Symbol("store-node"),_e=Symbol("store-has"),fa=Symbol("store-self");function da(t){let e=t[ue];if(!e&&(Object.defineProperty(t,ue,{value:e=new Proxy(t,$u)}),!Array.isArray(t))){const n=Object.keys(t),r=Object.getOwnPropertyDescriptors(t);for(let s=0,i=n.length;s<i;s++){const a=n[s];r[a].get&&Object.defineProperty(t,a,{enumerable:r[a].enumerable,get:r[a].get.bind(e)})}}return e}function Ne(t){let e;return t!=null&&typeof t=="object"&&(t[ue]||!(e=Object.getPrototypeOf(t))||e===Object.prototype||Array.isArray(t))}function ot(t,e=new Set){let n,r,s,i;if(n=t!=null&&t[Ar])return n;if(!Ne(t)||e.has(t))return t;if(Array.isArray(t)){Object.isFrozen(t)?t=t.slice(0):e.add(t);for(let a=0,o=t.length;a<o;a++)s=t[a],(r=ot(s,e))!==s&&(t[a]=r)}else{Object.isFrozen(t)?t=Object.assign({},t):e.add(t);const a=Object.keys(t),o=Object.getOwnPropertyDescriptors(t);for(let u=0,l=a.length;u<l;u++)i=a[u],!o[i].get&&(s=t[i],(r=ot(s,e))!==s&&(t[i]=r))}return t}function mn(t,e){let n=t[e];return n||Object.defineProperty(t,e,{value:n=Object.create(null)}),n}function Rt(t,e,n){if(t[e])return t[e];const[r,s]=q(n,{equals:!1,internal:!0});return r.$=s,t[e]=r}function Tu(t,e){const n=Reflect.getOwnPropertyDescriptor(t,e);return!n||n.get||!n.configurable||e===ue||e===rt||(delete n.value,delete n.writable,n.get=()=>t[ue][e]),n}function ha(t){Er()&&Rt(mn(t,rt),fa)()}function Cu(t){return ha(t),Reflect.ownKeys(t)}const $u={get(t,e,n){if(e===Ar)return t;if(e===ue)return n;if(e===Or)return ha(t),n;const r=mn(t,rt),s=r[e];let i=s?s():t[e];if(e===rt||e===_e||e==="__proto__")return i;if(!s){const a=Object.getOwnPropertyDescriptor(t,e);Er()&&(typeof i!="function"||t.hasOwnProperty(e))&&!(a&&a.get)&&(i=Rt(r,e,i)())}return Ne(i)?da(i):i},has(t,e){return e===Ar||e===ue||e===Or||e===rt||e===_e||e==="__proto__"?!0:(Er()&&Rt(mn(t,_e),e)(),e in t)},set(){return!0},deleteProperty(){return!0},ownKeys:Cu,getOwnPropertyDescriptor:Tu};function ne(t,e,n,r=!1){if(!r&&t[e]===n)return;const s=t[e],i=t.length;n===void 0?(delete t[e],t[_e]&&t[_e][e]&&s!==void 0&&t[_e][e].$()):(t[e]=n,t[_e]&&t[_e][e]&&s===void 0&&t[_e][e].$());let a=mn(t,rt),o;if((o=Rt(a,e,s))&&o.$(()=>n),Array.isArray(t)&&t.length!==i){for(let u=t.length;u<i;u++)(o=a[u])&&o.$();(o=Rt(a,"length",i))&&o.$(t.length)}(o=a[fa])&&o.$()}function pa(t,e){const n=Object.keys(e);for(let r=0;r<n.length;r+=1){const s=n[r];ne(t,s,e[s])}}function ku(t,e){if(typeof e=="function"&&(e=e(t)),e=ot(e),Array.isArray(e)){if(t===e)return;let n=0,r=e.length;for(;n<r;n++){const s=e[n];t[n]!==s&&ne(t,n,s)}ne(t,"length",r)}else pa(t,e)}function At(t,e,n=[]){let r,s=t;if(e.length>1){r=e.shift();const a=typeof r,o=Array.isArray(t);if(Array.isArray(r)){for(let u=0;u<r.length;u++)At(t,[r[u]].concat(e),n);return}else if(o&&a==="function"){for(let u=0;u<t.length;u++)r(t[u],u)&&At(t,[u].concat(e),n);return}else if(o&&a==="object"){const{from:u=0,to:l=t.length-1,by:c=1}=r;for(let f=u;f<=l;f+=c)At(t,[f].concat(e),n);return}else if(e.length>1){At(t[r],e,[r].concat(n));return}s=t[r],n=[r].concat(n)}let i=e[0];typeof i=="function"&&(i=i(s,n),i===s)||r===void 0&&i==null||(i=ot(i),r===void 0||Ne(s)&&Ne(i)&&!Array.isArray(i)?pa(s,i):ne(t,r,i))}function Yr(...[t,e]){const n=ot(t||{}),r=Array.isArray(n),s=da(n);function i(...a){qi(()=>{r&&a.length===1?ku(n,a[0]):At(n,a)})}return[s,i]}const Pr=Symbol("store-root");function tt(t,e,n,r,s){const i=e[n];if(t===i)return;if(n!==Pr&&(!Ne(t)||!Ne(i)||s&&t[s]!==i[s])){ne(e,n,t);return}if(Array.isArray(t)){if(t.length&&i.length&&(!r||s&&t[0]&&t[0][s]!=null)){let u,l,c,f,d,g,h,p;for(c=0,f=Math.min(i.length,t.length);c<f&&(i[c]===t[c]||s&&i[c]&&t[c]&&i[c][s]===t[c][s]);c++)tt(t[c],i,c,r,s);const m=new Array(t.length),v=new Map;for(f=i.length-1,d=t.length-1;f>=c&&d>=c&&(i[f]===t[d]||s&&i[c]&&t[c]&&i[f][s]===t[d][s]);f--,d--)m[d]=i[f];if(c>d||c>f){for(l=c;l<=d;l++)ne(i,l,t[l]);for(;l<t.length;l++)ne(i,l,m[l]),tt(t[l],i,l,r,s);i.length>t.length&&ne(i,"length",t.length);return}for(h=new Array(d+1),l=d;l>=c;l--)g=t[l],p=s&&g?g[s]:g,u=v.get(p),h[l]=u===void 0?-1:u,v.set(p,l);for(u=c;u<=f;u++)g=i[u],p=s&&g?g[s]:g,l=v.get(p),l!==void 0&&l!==-1&&(m[l]=i[u],l=h[l],v.set(p,l));for(l=c;l<t.length;l++)l in m?(ne(i,l,m[l]),tt(t[l],i,l,r,s)):ne(i,l,t[l])}else for(let u=0,l=t.length;u<l;u++)tt(t[u],i,u,r,s);i.length>t.length&&ne(i,"length",t.length);return}const a=Object.keys(t);for(let u=0,l=a.length;u<l;u++)tt(t[a[u]],i,a[u],r,s);const o=Object.keys(i);for(let u=0,l=o.length;u<l;u++)t[o[u]]===void 0&&ne(i,o[u],void 0)}function Au(t,e={}){const{merge:n,key:r="id"}=e,s=ot(t);return i=>{if(!Ne(i)||!Ne(s))return s;const a=tt(s,{[Pr]:i},Pr,n,r);return a===void 0?i:a}}const Pu=new Map;function Ru(t=!0,e=!1,n="/_server"){return r=>{const s=r.base.path(),i=r.navigatorFactory(r.base);let a={};function o(h){return h.namespaceURI==="http://www.w3.org/2000/svg"}function u(h){if(h.defaultPrevented||h.button!==0||h.metaKey||h.altKey||h.ctrlKey||h.shiftKey)return;const p=h.composedPath().find(b=>b instanceof Node&&b.nodeName.toUpperCase()==="A");if(!p||e&&!p.getAttribute("link"))return;const m=o(p),v=m?p.href.baseVal:p.href;if((m?p.target.baseVal:p.target)||!v&&!p.hasAttribute("state"))return;const T=(p.getAttribute("rel")||"").split(/\s+/);if(p.hasAttribute("download")||T&&T.includes("external"))return;const y=m?new URL(v,document.baseURI):new URL(v);if(!(y.origin!==window.location.origin||s&&y.pathname&&!y.pathname.toLowerCase().startsWith(s.toLowerCase())))return[p,y]}function l(h){const p=u(h);if(!p)return;const[m,v]=p,_=r.parsePath(v.pathname+v.search+v.hash),T=m.getAttribute("state");h.preventDefault(),i(_,{resolve:!1,replace:m.hasAttribute("replace"),scroll:!m.hasAttribute("noscroll"),state:T&&JSON.parse(T)})}function c(h){const p=u(h);if(!p)return;const[m,v]=p;a[v.pathname]||r.preloadRoute(v,m.getAttribute("preload")!=="false")}function f(h){const p=u(h);if(!p)return;const[m,v]=p;a[v.pathname]||(a[v.pathname]=setTimeout(()=>{r.preloadRoute(v,m.getAttribute("preload")!=="false"),delete a[v.pathname]},200))}function d(h){const p=u(h);if(!p)return;const[,m]=p;a[m.pathname]&&(clearTimeout(a[m.pathname]),delete a[m.pathname])}function g(h){let p=h.submitter&&h.submitter.hasAttribute("formaction")?h.submitter.formAction:h.target.action;if(!p)return;if(!p.startsWith("action:")){const v=new URL(p);if(p=r.parsePath(v.pathname+v.search),!p.startsWith(n))return}if(h.target.method.toUpperCase()!=="POST")throw new Error("Only POST forms are supported for Actions");const m=Pu.get(p);if(m){h.preventDefault();const v=new FormData(h.target);m.call(r,v)}}Jr(["click","submit"]),document.addEventListener("click",l),t&&(document.addEventListener("mouseover",f),document.addEventListener("mouseout",d),document.addEventListener("focusin",c),document.addEventListener("touchstart",c)),document.addEventListener("submit",g),pe(()=>{document.removeEventListener("click",l),t&&(document.removeEventListener("mouseover",f),document.removeEventListener("mouseout",d),document.removeEventListener("focusin",c),document.removeEventListener("touchstart",c)),document.removeEventListener("submit",g)})}}function Lu(t){const e=t.replace(/^.*?#/,"");if(!e.startsWith("/")){const[,n="/"]=window.location.hash.split("#",2);return`${n}#${e}`}return e}function Nu(t){return Su({get:()=>window.location.hash.slice(1),set({value:e,replace:n,scroll:r,state:s}){n?window.history.replaceState(s,"","#"+e):window.location.hash=e;const i=e.indexOf("#"),a=i>=0?e.slice(i+1):"";Eu(a,r)},init:e=>Ou(window,"hashchange",()=>e()),create:Ru(t.preload,t.explicitLinks,t.actionBase),utils:{go:e=>window.history.go(e),renderPath:e=>`#${e}`,parsePath:Lu}})(t)}var Iu=()=>{};function ju(t,{interval:e=1e3,onError:n=Iu}={}){if(typeof t!="function")throw new Error("argument is not function.");let r=!1,s=0,i,a=null;const o=async()=>{if(a){const l=a;a=null;try{r=!0,await t(...l)}catch(c){n(c)}finally{s=Date.now(),r=!1}}},u=async()=>{clearTimeout(i),i=setTimeout(()=>{r?u():o()},e)};return(...l)=>{a=l;const c=Date.now()-s<e;r||c?u():o()}}var Mu=({storage:t,key:e="REACT_QUERY_OFFLINE_CACHE",throttleTime:n=1e3,serialize:r=JSON.stringify,deserialize:s=JSON.parse,retry:i})=>{if(t){const a=async o=>{try{const u=await r(o);await t.setItem(e,u);return}catch(u){return u}};return{persistClient:ju(async o=>{let u=o,l=await a(u),c=0;for(;l&&u;)c++,u=await i?.({persistedClient:u,error:l,errorCount:c}),u&&(l=await a(u))},{interval:n}),restoreClient:async()=>{const o=await t.getItem(e);if(o)return await s(o)},removeClient:()=>t.removeItem(e)}}return{persistClient:Ts,restoreClient:()=>Promise.resolve(void 0),removeClient:Ts}};function Ts(){}var gt=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},ut=typeof window>"u"||"Deno"in window;function re(){}function Du(t,e){return typeof t=="function"?t(e):t}function Rr(t){return typeof t=="number"&&t>=0&&t!==1/0}function ga(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Cs(t,e){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:a,stale:o}=t;if(a){if(r){if(e.queryHash!==Xr(a,e.options))return!1}else if(!Lt(e.queryKey,a))return!1}if(n!=="all"){const u=e.isActive();if(n==="active"&&!u||n==="inactive"&&u)return!1}return!(typeof o=="boolean"&&e.isStale()!==o||typeof s<"u"&&s!==e.state.fetchStatus||i&&!i(e))}function $s(t,e){const{exact:n,status:r,predicate:s,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(n){if(qe(e.options.mutationKey)!==qe(i))return!1}else if(!Lt(e.options.mutationKey,i))return!1}return!(r&&e.state.status!==r||s&&!s(e))}function Xr(t,e){return(e?.queryKeyHashFn||qe)(t)}function qe(t){return JSON.stringify(t,(e,n)=>Lr(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function Lt(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(n=>!Lt(t[n],e[n])):!1}function ma(t,e){if(t===e)return t;const n=ks(t)&&ks(e);if(n||Lr(t)&&Lr(e)){const r=n?t.length:Object.keys(t).length,s=n?e:Object.keys(e),i=s.length,a=n?[]:{};let o=0;for(let u=0;u<i;u++){const l=n?u:s[u];a[l]=ma(t[l],e[l]),a[l]===t[l]&&o++}return r===i&&o===r?t:a}return e}function yn(t,e){if(t&&!e||e&&!t)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function ks(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Lr(t){if(!As(t))return!1;const e=t.constructor;if(typeof e>"u")return!0;const n=e.prototype;return!(!As(n)||!n.hasOwnProperty("isPrototypeOf"))}function As(t){return Object.prototype.toString.call(t)==="[object Object]"}function ya(t){return new Promise(e=>{setTimeout(e,t)})}function Ps(t){ya(0).then(t)}function Nr(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?ma(t,e):e}function Fu(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function Uu(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var Bu=class extends gt{#e;#t;#n;constructor(){super(),this.#n=t=>{if(!ut&&window.addEventListener){const e=()=>t();return window.addEventListener("visibilitychange",e,!1),()=>{window.removeEventListener("visibilitychange",e)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#n=t,this.#t?.(),this.#t=t(e=>{typeof e=="boolean"?this.setFocused(e):this.onFocus()})}setFocused(t){this.#e!==t&&(this.#e=t,this.onFocus())}onFocus(){this.listeners.forEach(t=>{t()})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},vn=new Bu,Zu=class extends gt{#e=!0;#t;#n;constructor(){super(),this.#n=t=>{if(!ut&&window.addEventListener){const e=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",e,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",n)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#n=t,this.#t?.(),this.#t=t(this.setOnline.bind(this))}setOnline(t){this.#e!==t&&(this.#e=t,this.listeners.forEach(n=>{n(t)}))}isOnline(){return this.#e}},bn=new Zu;function Vu(t){return Math.min(1e3*2**t,3e4)}function Gn(t){return(t??"online")==="online"?bn.isOnline():!0}var va=class{constructor(t){this.revert=t?.revert,this.silent=t?.silent}};function pr(t){return t instanceof va}function ba(t){let e=!1,n=0,r=!1,s,i,a;const o=new Promise((m,v)=>{i=m,a=v}),u=m=>{r||(g(new va(m)),t.abort?.())},l=()=>{e=!0},c=()=>{e=!1},f=()=>!vn.isFocused()||t.networkMode!=="always"&&!bn.isOnline(),d=m=>{r||(r=!0,t.onSuccess?.(m),s?.(),i(m))},g=m=>{r||(r=!0,t.onError?.(m),s?.(),a(m))},h=()=>new Promise(m=>{s=v=>{const _=r||!f();return _&&m(v),_},t.onPause?.()}).then(()=>{s=void 0,r||t.onContinue?.()}),p=()=>{if(r)return;let m;try{m=t.fn()}catch(v){m=Promise.reject(v)}Promise.resolve(m).then(d).catch(v=>{if(r)return;const _=t.retry??(ut?0:3),T=t.retryDelay??Vu,y=typeof T=="function"?T(n,v):T,b=_===!0||typeof _=="number"&&n<_||typeof _=="function"&&_(n,v);if(e||!b){g(v);return}n++,t.onFail?.(n,v),ya(y).then(()=>{if(f())return h()}).then(()=>{e?g(v):p()})})};return Gn(t.networkMode)?p():h().then(p),{promise:o,cancel:u,continue:()=>s?.()?o:Promise.resolve(),cancelRetry:l,continueRetry:c}}function Ku(){let t=[],e=0,n=c=>{c()},r=c=>{c()};const s=c=>{let f;e++;try{f=c()}finally{e--,e||o()}return f},i=c=>{e?t.push(c):Ps(()=>{n(c)})},a=c=>(...f)=>{i(()=>{c(...f)})},o=()=>{const c=t;t=[],c.length&&Ps(()=>{r(()=>{c.forEach(f=>{n(f)})})})};return{batch:s,batchCalls:a,schedule:i,setNotifyFunction:c=>{n=c},setBatchNotifyFunction:c=>{r=c}}}var K=Ku(),wa=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Rr(this.gcTime)&&(this.#e=setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(ut?1/0:5*60*1e3))}clearGcTimeout(){this.#e&&(clearTimeout(this.#e),this.#e=void 0)}},zu=class extends wa{constructor(t){super(),this.#u=!1,this.#a=t.defaultOptions,this.#l(t.options),this.#i=[],this.#n=t.cache,this.queryKey=t.queryKey,this.queryHash=t.queryHash,this.#e=t.state||qu(this.options),this.state=this.#e,this.scheduleGc()}#e;#t;#n;#r;#s;#i;#a;#u;get meta(){return this.options.meta}#l(t){this.options={...this.#a,...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.#i.length&&this.state.fetchStatus==="idle"&&this.#n.remove(this)}setData(t,e){const n=Nr(this.state.data,t,this.options);return this.#o({data:n,type:"success",dataUpdatedAt:e?.updatedAt,manual:e?.manual}),n}setState(t,e){this.#o({type:"setState",state:t,setStateOptions:e})}cancel(t){const e=this.#r;return this.#s?.cancel(t),e?e.then(re).catch(re):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.#i.some(t=>t.options.enabled!==!1)}isDisabled(){return this.getObserversCount()>0&&!this.isActive()}isStale(){return this.state.isInvalidated||!this.state.dataUpdatedAt||this.#i.some(t=>t.getCurrentResult().isStale)}isStaleByTime(t=0){return this.state.isInvalidated||!this.state.dataUpdatedAt||!ga(this.state.dataUpdatedAt,t)}onFocus(){this.#i.find(e=>e.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#s?.continue()}onOnline(){this.#i.find(e=>e.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#s?.continue()}addObserver(t){this.#i.includes(t)||(this.#i.push(t),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.#i.includes(t)&&(this.#i=this.#i.filter(e=>e!==t),this.#i.length||(this.#s&&(this.#u?this.#s.cancel({revert:!0}):this.#s.cancelRetry()),this.scheduleGc()),this.#n.notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.#i.length}invalidate(){this.state.isInvalidated||this.#o({type:"invalidate"})}fetch(t,e){if(this.state.fetchStatus!=="idle"){if(this.state.dataUpdatedAt&&e?.cancelRefetch)this.cancel({silent:!0});else if(this.#r)return this.#s?.continueRetry(),this.#r}if(t&&this.#l(t),!this.options.queryFn){const u=this.#i.find(l=>l.options.queryFn);u&&this.#l(u.options)}const n=new AbortController,r={queryKey:this.queryKey,meta:this.meta},s=u=>{Object.defineProperty(u,"signal",{enumerable:!0,get:()=>(this.#u=!0,n.signal)})};s(r);const i=()=>this.options.queryFn?(this.#u=!1,this.options.persister?this.options.persister(this.options.queryFn,r,this):this.options.queryFn(r)):Promise.reject(new Error(`Missing queryFn: '${this.options.queryHash}'`)),a={fetchOptions:e,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:i};s(a),this.options.behavior?.onFetch(a,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==a.fetchOptions?.meta)&&this.#o({type:"fetch",meta:a.fetchOptions?.meta});const o=u=>{pr(u)&&u.silent||this.#o({type:"error",error:u}),pr(u)||(this.#n.config.onError?.(u,this),this.#n.config.onSettled?.(this.state.data,u,this)),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1};return this.#s=ba({fn:a.fetchFn,abort:n.abort.bind(n),onSuccess:u=>{if(typeof u>"u"){o(new Error(`${this.queryHash} data is undefined`));return}this.setData(u),this.#n.config.onSuccess?.(u,this),this.#n.config.onSettled?.(u,this.state.error,this),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1},onError:o,onFail:(u,l)=>{this.#o({type:"failed",failureCount:u,error:l})},onPause:()=>{this.#o({type:"pause"})},onContinue:()=>{this.#o({type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode}),this.#r=this.#s.promise,this.#r}#o(t){const e=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:t.meta??null,fetchStatus:Gn(this.options.networkMode)?"fetching":"paused",...!n.dataUpdatedAt&&{error:null,status:"pending"}};case"success":return{...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const r=t.error;return pr(r)&&r.revert&&this.#t?{...this.#t,fetchStatus:"idle"}:{...n,error:r,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:r,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=e(this.state),K.batch(()=>{this.#i.forEach(n=>{n.onQueryUpdate()}),this.#n.notify({query:this,type:"updated",action:t})})}};function qu(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=typeof e<"u",r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Hu=class extends gt{constructor(t={}){super(),this.config=t,this.#e=new Map}#e;build(t,e,n){const r=e.queryKey,s=e.queryHash??Xr(r,e);let i=this.get(s);return i||(i=new zu({cache:this,queryKey:r,queryHash:s,options:t.defaultQueryOptions(e),state:n,defaultOptions:t.getQueryDefaults(r)}),this.add(i)),i}add(t){this.#e.has(t.queryHash)||(this.#e.set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const e=this.#e.get(t.queryHash);e&&(t.destroy(),e===t&&this.#e.delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){K.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return this.#e.get(t)}getAll(){return[...this.#e.values()]}find(t){const e={exact:!0,...t};return this.getAll().find(n=>Cs(e,n))}findAll(t={}){const e=this.getAll();return Object.keys(t).length>0?e.filter(n=>Cs(t,n)):e}notify(t){K.batch(()=>{this.listeners.forEach(e=>{e(t)})})}onFocus(){K.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){K.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Qu=class extends wa{constructor(t){super(),this.mutationId=t.mutationId,this.#t=t.defaultOptions,this.#n=t.mutationCache,this.#e=[],this.state=t.state||_a(),this.setOptions(t.options),this.scheduleGc()}#e;#t;#n;#r;setOptions(t){this.options={...this.#t,...t},this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){this.#e.includes(t)||(this.#e.push(t),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){this.#e=this.#e.filter(e=>e!==t),this.scheduleGc(),this.#n.notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){this.#e.length||(this.state.status==="pending"?this.scheduleGc():this.#n.remove(this))}continue(){return this.#r?.continue()??this.execute(this.state.variables)}async execute(t){const e=()=>(this.#r=ba({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(r,s)=>{this.#s({type:"failed",failureCount:r,error:s})},onPause:()=>{this.#s({type:"pause"})},onContinue:()=>{this.#s({type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode}),this.#r.promise),n=this.state.status==="pending";try{if(!n){this.#s({type:"pending",variables:t}),await this.#n.config.onMutate?.(t,this);const s=await this.options.onMutate?.(t);s!==this.state.context&&this.#s({type:"pending",context:s,variables:t})}const r=await e();return await this.#n.config.onSuccess?.(r,t,this.state.context,this),await this.options.onSuccess?.(r,t,this.state.context),await this.#n.config.onSettled?.(r,null,this.state.variables,this.state.context,this),await this.options.onSettled?.(r,null,t,this.state.context),this.#s({type:"success",data:r}),r}catch(r){try{throw await this.#n.config.onError?.(r,t,this.state.context,this),await this.options.onError?.(r,t,this.state.context),await this.#n.config.onSettled?.(void 0,r,this.state.variables,this.state.context,this),await this.options.onSettled?.(void 0,r,t,this.state.context),r}finally{this.#s({type:"error",error:r})}}}#s(t){const e=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:!Gn(this.options.networkMode),status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=e(this.state),K.batch(()=>{this.#e.forEach(n=>{n.onMutationUpdate(t)}),this.#n.notify({mutation:this,type:"updated",action:t})})}};function _a(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Wu=class extends gt{constructor(t={}){super(),this.config=t,this.#e=[],this.#t=0}#e;#t;#n;build(t,e,n){const r=new Qu({mutationCache:this,mutationId:++this.#t,options:t.defaultMutationOptions(e),state:n});return this.add(r),r}add(t){this.#e.push(t),this.notify({type:"added",mutation:t})}remove(t){this.#e=this.#e.filter(e=>e!==t),this.notify({type:"removed",mutation:t})}clear(){K.batch(()=>{this.#e.forEach(t=>{this.remove(t)})})}getAll(){return this.#e}find(t){const e={exact:!0,...t};return this.#e.find(n=>$s(e,n))}findAll(t={}){return this.#e.filter(e=>$s(t,e))}notify(t){K.batch(()=>{this.listeners.forEach(e=>{e(t)})})}resumePausedMutations(){return this.#n=(this.#n??Promise.resolve()).then(()=>{const t=this.#e.filter(e=>e.state.isPaused);return K.batch(()=>t.reduce((e,n)=>e.then(()=>n.continue().catch(re)),Promise.resolve()))}).then(()=>{this.#n=void 0}),this.#n}};function Gu(t){return{onFetch:(e,n)=>{const r=async()=>{const s=e.options,i=e.fetchOptions?.meta?.fetchMore?.direction,a=e.state.data?.pages||[],o=e.state.data?.pageParams||[],u={pages:[],pageParams:[]};let l=!1;const c=h=>{Object.defineProperty(h,"signal",{enumerable:!0,get:()=>(e.signal.aborted?l=!0:e.signal.addEventListener("abort",()=>{l=!0}),e.signal)})},f=e.options.queryFn||(()=>Promise.reject(new Error(`Missing queryFn: '${e.options.queryHash}'`))),d=async(h,p,m)=>{if(l)return Promise.reject();if(p==null&&h.pages.length)return Promise.resolve(h);const v={queryKey:e.queryKey,pageParam:p,direction:m?"backward":"forward",meta:e.options.meta};c(v);const _=await f(v),{maxPages:T}=e.options,y=m?Uu:Fu;return{pages:y(h.pages,_,T),pageParams:y(h.pageParams,p,T)}};let g;if(i&&a.length){const h=i==="backward",p=h?Ju:Rs,m={pages:a,pageParams:o},v=p(s,m);g=await d(m,v,h)}else{g=await d(u,o[0]??s.initialPageParam);const h=t??a.length;for(let p=1;p<h;p++){const m=Rs(s,g);g=await d(g,m)}}return g};e.options.persister?e.fetchFn=()=>e.options.persister?.(r,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n):e.fetchFn=r}}}function Rs(t,{pages:e,pageParams:n}){const r=e.length-1;return t.getNextPageParam(e[r],e,n[r],n)}function Ju(t,{pages:e,pageParams:n}){return t.getPreviousPageParam?.(e[0],e,n[0],n)}var Yu=class{#e;#t;#n;#r;#s;#i;#a;#u;constructor(e={}){this.#e=e.queryCache||new Hu,this.#t=e.mutationCache||new Wu,this.#n=e.defaultOptions||{},this.#r=new Map,this.#s=new Map,this.#i=0}mount(){this.#i++,this.#i===1&&(this.#a=vn.subscribe(()=>{vn.isFocused()&&(this.resumePausedMutations(),this.#e.onFocus())}),this.#u=bn.subscribe(()=>{bn.isOnline()&&(this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#i--,this.#i===0&&(this.#a?.(),this.#a=void 0,this.#u?.(),this.#u=void 0)}isFetching(e){return this.#e.findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return this.#t.findAll({...e,status:"pending"}).length}getQueryData(e){return this.#e.find({queryKey:e})?.state.data}ensureQueryData(e){const n=this.getQueryData(e.queryKey);return n!==void 0?Promise.resolve(n):this.fetchQuery(e)}getQueriesData(e){return this.getQueryCache().findAll(e).map(({queryKey:n,state:r})=>{const s=r.data;return[n,s]})}setQueryData(e,n,r){const i=this.#e.find({queryKey:e})?.state.data,a=Du(n,i);if(typeof a>"u")return;const o=this.defaultQueryOptions({queryKey:e});return this.#e.build(this,o).setData(a,{...r,manual:!0})}setQueriesData(e,n,r){return K.batch(()=>this.getQueryCache().findAll(e).map(({queryKey:s})=>[s,this.setQueryData(s,n,r)]))}getQueryState(e){return this.#e.find({queryKey:e})?.state}removeQueries(e){const n=this.#e;K.batch(()=>{n.findAll(e).forEach(r=>{n.remove(r)})})}resetQueries(e,n){const r=this.#e,s={type:"active",...e};return K.batch(()=>(r.findAll(e).forEach(i=>{i.reset()}),this.refetchQueries(s,n)))}cancelQueries(e={},n={}){const r={revert:!0,...n},s=K.batch(()=>this.#e.findAll(e).map(i=>i.cancel(r)));return Promise.all(s).then(re).catch(re)}invalidateQueries(e={},n={}){return K.batch(()=>{if(this.#e.findAll(e).forEach(s=>{s.invalidate()}),e.refetchType==="none")return Promise.resolve();const r={...e,type:e.refetchType??e.type??"active"};return this.refetchQueries(r,n)})}refetchQueries(e={},n){const r={...n,cancelRefetch:n?.cancelRefetch??!0},s=K.batch(()=>this.#e.findAll(e).filter(i=>!i.isDisabled()).map(i=>{let a=i.fetch(void 0,r);return r.throwOnError||(a=a.catch(re)),i.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(s).then(re)}fetchQuery(e){const n=this.defaultQueryOptions(e);typeof n.retry>"u"&&(n.retry=!1);const r=this.#e.build(this,n);return r.isStaleByTime(n.staleTime)?r.fetch(n):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(re).catch(re)}fetchInfiniteQuery(e){return e.behavior=Gu(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(re).catch(re)}resumePausedMutations(){return this.#t.resumePausedMutations()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#n}setDefaultOptions(e){this.#n=e}setQueryDefaults(e,n){this.#r.set(qe(e),{queryKey:e,defaultOptions:n})}getQueryDefaults(e){const n=[...this.#r.values()];let r={};return n.forEach(s=>{Lt(e,s.queryKey)&&(r={...r,...s.defaultOptions})}),r}setMutationDefaults(e,n){this.#s.set(qe(e),{mutationKey:e,defaultOptions:n})}getMutationDefaults(e){const n=[...this.#s.values()];let r={};return n.forEach(s=>{Lt(e,s.mutationKey)&&(r={...r,...s.defaultOptions})}),r}defaultQueryOptions(e){if(e?._defaulted)return e;const n={...this.#n.queries,...e?.queryKey&&this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return n.queryHash||(n.queryHash=Xr(n.queryKey,n)),typeof n.refetchOnReconnect>"u"&&(n.refetchOnReconnect=n.networkMode!=="always"),typeof n.throwOnError>"u"&&(n.throwOnError=!!n.suspense),typeof n.networkMode>"u"&&n.persister&&(n.networkMode="offlineFirst"),n}defaultMutationOptions(e){return e?._defaulted?e:{...this.#n.mutations,...e?.mutationKey&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},Xu=class extends gt{constructor(t,e){super(),this.#t=void 0,this.#n=void 0,this.#r=void 0,this.#h=new Set,this.#e=t,this.options=e,this.#a=null,this.bindMethods(),this.setOptions(e)}#e;#t;#n;#r;#s;#i;#a;#u;#l;#o;#f;#d;#c;#h;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#t.addObserver(this),Ls(this.#t,this.options)?this.#p():this.updateResult(),this.#v())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Ir(this.#t,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Ir(this.#t,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#b(),this.#w(),this.#t.removeObserver(this)}setOptions(t,e){const n=this.options,r=this.#t;if(this.options=this.#e.defaultQueryOptions(t),yn(n,this.options)||this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#t,observer:this}),typeof this.options.enabled<"u"&&typeof this.options.enabled!="boolean")throw new Error("Expected enabled to be a boolean");this.options.queryKey||(this.options.queryKey=n.queryKey),this.#_();const s=this.hasListeners();s&&Ns(this.#t,r,this.options,n)&&this.#p(),this.updateResult(e),s&&(this.#t!==r||this.options.enabled!==n.enabled||this.options.staleTime!==n.staleTime)&&this.#g();const i=this.#m();s&&(this.#t!==r||this.options.enabled!==n.enabled||i!==this.#c)&&this.#y(i)}getOptimisticResult(t){const e=this.#e.getQueryCache().build(this.#e,t),n=this.createResult(e,t);return tl(this,n)&&(this.#r=n,this.#i=this.options,this.#s=this.#t.state),n}getCurrentResult(){return this.#r}trackResult(t){const e={};return Object.keys(t).forEach(n=>{Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:()=>(this.#h.add(n),t[n])})}),e}getCurrentQuery(){return this.#t}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const e=this.#e.defaultQueryOptions(t),n=this.#e.getQueryCache().build(this.#e,e);return n.isFetchingOptimistic=!0,n.fetch().then(()=>this.createResult(n,e))}fetch(t){return this.#p({...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#r))}#p(t){this.#_();let e=this.#t.fetch(this.options,t);return t?.throwOnError||(e=e.catch(re)),e}#g(){if(this.#b(),ut||this.#r.isStale||!Rr(this.options.staleTime))return;const e=ga(this.#r.dataUpdatedAt,this.options.staleTime)+1;this.#f=setTimeout(()=>{this.#r.isStale||this.updateResult()},e)}#m(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#t):this.options.refetchInterval)??!1}#y(t){this.#w(),this.#c=t,!(ut||this.options.enabled===!1||!Rr(this.#c)||this.#c===0)&&(this.#d=setInterval(()=>{(this.options.refetchIntervalInBackground||vn.isFocused())&&this.#p()},this.#c))}#v(){this.#g(),this.#y(this.#m())}#b(){this.#f&&(clearTimeout(this.#f),this.#f=void 0)}#w(){this.#d&&(clearInterval(this.#d),this.#d=void 0)}createResult(t,e){const n=this.#t,r=this.options,s=this.#r,i=this.#s,a=this.#i,u=t!==n?t.state:this.#n,{state:l}=t;let{error:c,errorUpdatedAt:f,fetchStatus:d,status:g}=l,h=!1,p;if(e._optimisticResults){const b=this.hasListeners(),L=!b&&Ls(t,e),I=b&&Ns(t,n,e,r);(L||I)&&(d=Gn(t.options.networkMode)?"fetching":"paused",l.dataUpdatedAt||(g="pending")),e._optimisticResults==="isRestoring"&&(d="idle")}if(e.select&&typeof l.data<"u")if(s&&l.data===i?.data&&e.select===this.#u)p=this.#l;else try{this.#u=e.select,p=e.select(l.data),p=Nr(s?.data,p,e),this.#l=p,this.#a=null}catch(b){this.#a=b}else p=l.data;if(typeof e.placeholderData<"u"&&typeof p>"u"&&g==="pending"){let b;if(s?.isPlaceholderData&&e.placeholderData===a?.placeholderData)b=s.data;else if(b=typeof e.placeholderData=="function"?e.placeholderData(this.#o?.state.data,this.#o):e.placeholderData,e.select&&typeof b<"u")try{b=e.select(b),this.#a=null}catch(L){this.#a=L}typeof b<"u"&&(g="success",p=Nr(s?.data,b,e),h=!0)}this.#a&&(c=this.#a,p=this.#l,f=Date.now(),g="error");const m=d==="fetching",v=g==="pending",_=g==="error",T=v&&m;return{status:g,fetchStatus:d,isPending:v,isSuccess:g==="success",isError:_,isInitialLoading:T,isLoading:T,data:p,dataUpdatedAt:l.dataUpdatedAt,error:c,errorUpdatedAt:f,failureCount:l.fetchFailureCount,failureReason:l.fetchFailureReason,errorUpdateCount:l.errorUpdateCount,isFetched:l.dataUpdateCount>0||l.errorUpdateCount>0,isFetchedAfterMount:l.dataUpdateCount>u.dataUpdateCount||l.errorUpdateCount>u.errorUpdateCount,isFetching:m,isRefetching:m&&!v,isLoadingError:_&&l.dataUpdatedAt===0,isPaused:d==="paused",isPlaceholderData:h,isRefetchError:_&&l.dataUpdatedAt!==0,isStale:es(t,e),refetch:this.refetch}}updateResult(t){const e=this.#r,n=this.createResult(this.#t,this.options);if(this.#s=this.#t.state,this.#i=this.options,this.#s.data!==void 0&&(this.#o=this.#t),yn(n,e))return;this.#r=n;const r={},s=()=>{if(!e)return!0;const{notifyOnChangeProps:i}=this.options,a=typeof i=="function"?i():i;if(a==="all"||!a&&!this.#h.size)return!0;const o=new Set(a??this.#h);return this.options.throwOnError&&o.add("error"),Object.keys(this.#r).some(u=>{const l=u;return this.#r[l]!==e[l]&&o.has(l)})};t?.listeners!==!1&&s()&&(r.listeners=!0),this.#x({...r,...t})}#_(){const t=this.#e.getQueryCache().build(this.#e,this.options);if(t===this.#t)return;const e=this.#t;this.#t=t,this.#n=t.state,this.hasListeners()&&(e?.removeObserver(this),t.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#v()}#x(t){K.batch(()=>{t.listeners&&this.listeners.forEach(e=>{e(this.#r)}),this.#e.getQueryCache().notify({query:this.#t,type:"observerResultsUpdated"})})}};function el(t,e){return e.enabled!==!1&&!t.state.dataUpdatedAt&&!(t.state.status==="error"&&e.retryOnMount===!1)}function Ls(t,e){return el(t,e)||t.state.dataUpdatedAt>0&&Ir(t,e,e.refetchOnMount)}function Ir(t,e,n){if(e.enabled!==!1){const r=typeof n=="function"?n(t):n;return r==="always"||r!==!1&&es(t,e)}return!1}function Ns(t,e,n,r){return n.enabled!==!1&&(t!==e||r.enabled===!1)&&(!n.suspense||t.state.status!=="error")&&es(t,n)}function es(t,e){return t.isStaleByTime(e.staleTime)}function tl(t,e){return!yn(t.getCurrentResult(),e)}var nl=class extends gt{constructor(e,n){super(),this.#t=void 0,this.#e=e,this.setOptions(n),this.bindMethods(),this.#s()}#e;#t;#n;#r;bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){const n=this.options;this.options=this.#e.defaultMutationOptions(e),yn(n,this.options)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#n,observer:this}),this.#n?.setOptions(this.options),n?.mutationKey&&this.options.mutationKey&&qe(n.mutationKey)!==qe(this.options.mutationKey)&&this.reset()}onUnsubscribe(){this.hasListeners()||this.#n?.removeObserver(this)}onMutationUpdate(e){this.#s(),this.#i(e)}getCurrentResult(){return this.#t}reset(){this.#n?.removeObserver(this),this.#n=void 0,this.#s(),this.#i()}mutate(e,n){return this.#r=n,this.#n?.removeObserver(this),this.#n=this.#e.getMutationCache().build(this.#e,this.options),this.#n.addObserver(this),this.#n.execute(e)}#s(){const e=this.#n?.state??_a();this.#t={...e,isPending:e.status==="pending",isSuccess:e.status==="success",isError:e.status==="error",isIdle:e.status==="idle",mutate:this.mutate,reset:this.reset}}#i(e){K.batch(()=>{if(this.#r&&this.hasListeners()){const n=this.#t.variables,r=this.#t.context;e?.type==="success"?(this.#r.onSuccess?.(e.data,n,r),this.#r.onSettled?.(e.data,null,n,r)):e?.type==="error"&&(this.#r.onError?.(e.error,n,r),this.#r.onSettled?.(void 0,e.error,n,r))}this.listeners.forEach(n=>{n(this.#t)})})}};function rl(t){return{mutationKey:t.options.mutationKey,state:t.state,...t.meta&&{meta:t.meta}}}function sl(t){return{state:t.state,queryKey:t.queryKey,queryHash:t.queryHash,...t.meta&&{meta:t.meta}}}function il(t){return t.state.isPaused}function al(t){return t.state.status==="success"}function ol(t,e={}){const n=e.shouldDehydrateMutation??il,r=t.getMutationCache().getAll().flatMap(a=>n(a)?[rl(a)]:[]),s=e.shouldDehydrateQuery??al,i=t.getQueryCache().getAll().flatMap(a=>s(a)?[sl(a)]:[]);return{mutations:r,queries:i}}function xa(t,e,n){if(typeof e!="object"||e===null)return;const r=t.getMutationCache(),s=t.getQueryCache(),i=e.mutations||[],a=e.queries||[];i.forEach(o=>{r.build(t,{...n?.defaultOptions?.mutations,mutationKey:o.mutationKey,meta:o.meta},o.state)}),a.forEach(({queryKey:o,state:u,queryHash:l,meta:c})=>{const f=s.get(l);if(f){if(f.state.dataUpdatedAt<u.dataUpdatedAt){const{fetchStatus:d,...g}=u;f.setState(g)}return}s.build(t,{...n?.defaultOptions?.queries,queryKey:o,queryHash:l,meta:c},{...u,fetchStatus:"idle"})})}var ul=["added","removed","updated"];function Is(t){return ul.includes(t)}async function ll({queryClient:t,persister:e,maxAge:n=1e3*60*60*24,buster:r="",hydrateOptions:s}){try{const i=await e.restoreClient();if(i)if(i.timestamp){const a=Date.now()-i.timestamp>n,o=i.buster!==r;a||o?e.removeClient():xa(t,i.clientState,s)}else e.removeClient()}catch{e.removeClient()}}async function js({queryClient:t,persister:e,buster:n="",dehydrateOptions:r}){const s={buster:n,timestamp:Date.now(),clientState:ol(t,r)};await e.persistClient(s)}function cl(t){const e=t.queryClient.getQueryCache().subscribe(r=>{Is(r.type)&&js(t)}),n=t.queryClient.getMutationCache().subscribe(r=>{Is(r.type)&&js(t)});return()=>{e(),n()}}function fl(t){let e=!1,n;const r=()=>{e=!0,n?.()},s=ll(t).then(()=>{e||(n=cl(t))});return[r,s]}K.setBatchNotifyFunction(qi);var dl=class extends Yu{constructor(t={}){super(t)}},Sa=Wt(void 0),Oa=t=>{if(t)return t;const e=ht(Sa);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e()},hl=t=>(he(e=>(e?.(),t.client.mount(),t.client.unmount.bind(t.client))),pe(()=>t.client.unmount()),U(Sa.Provider,{value:()=>t.client,get children(){return t.children}}));function Ea(t,e){return typeof t=="function"?t(...e):!!t}var pl=Wt(()=>!1),gl=()=>ht(pl);function ml(t,e,n){if(n===!1)return e;if(typeof n=="function"){const s=n(t.data,e.data);return{...e,data:s}}const r=Au(e.data,{key:n})(t.data);return{...e,data:r}}var yl=(t,e)=>e;function vl(t,e,n){const r=Z(()=>Oa(n?.())),s=gl(),i=Z(()=>Xi(r()?.defaultQueryOptions(t())||{},{get _optimisticResults(){return s()?"isRestoring":"optimistic"},structuralSharing:!1,...na})),[a,o]=q(new e(r(),z(i)));Le(Ve(r,m=>o(new e(m,i())),{defer:!0}));const[u,l]=Yr(a().getOptimisticResult(i())),c=()=>{const m=a();return m.subscribe(v=>{K.batchCalls(()=>{const _=m.options.reconcile;l(T=>ml(T,v,_===void 0?!1:_)),d()?.data&&v.data&&!d.loading&&s()?h(u):g()})()})};let f=null;const[d,{refetch:g,mutate:h}]=zi(()=>{const m=a();return new Promise((v,_)=>{if(!f&&!s()&&(f=c()),m.updateResult(),!u.isLoading&&!s()){const T=m.getCurrentQuery();v(yl(T,u))}})},{initialValue:u,get ssrLoadFrom(){return t().initialData?"initial":"server"},get deferStream(){return t().deferStream},onHydrated(m,v){const _=i();if(v.value&&xa(r(),{queries:[{queryKey:_.queryKey,queryHash:_.queryHash,state:v.value}]}),f)return;const T={..._};(_.staleTime||!_.initialData)&&(T.refetchOnMount=!1),a().setOptions(T),l(a().getOptimisticResult(T)),f=c()}});Le(Ve([s,a],([m])=>{const v=f;queueMicrotask(()=>v?.()),f=null,m||g()},{defer:!0})),pe(()=>{f&&(f(),f=null)}),Le(Ve([a,i],([m,v])=>{m.setOptions(v),l(m.getOptimisticResult(v))},{defer:!0})),Le(Ve(()=>u.status,()=>{const m=a();if(u.isError&&!u.isFetching&&!s()&&Ea(m.options.throwOnError,[u.error,m.getCurrentQuery()]))throw u.error}));const p={get(m,v){const _=d()?.[v];return _!==void 0?_:Reflect.get(m,v)}};return new Proxy(u,p)}function mx(t,e){return vl(Z(()=>t()),Xu,e)}function yx(t,e){const n=Z(()=>Oa(e?.())),r=new nl(n(),t()),s=(u,l)=>{r.mutate(u,l).catch(bl)},[i,a]=Yr({...r.getCurrentResult(),mutate:s,mutateAsync:r.getCurrentResult().mutate});Le(()=>{r.setOptions(t())}),Le(Ve(()=>i.status,()=>{if(i.isError&&Ea(r.options.throwOnError,[i.error]))throw i.error}));const o=r.subscribe(u=>{a({...u,mutate:s,mutateAsync:u.mutate})});return pe(o),i}function bl(){}function Jn(t){return new Promise((e,n)=>{t.oncomplete=t.onsuccess=()=>e(t.result),t.onabort=t.onerror=()=>n(t.error)})}function wl(t,e){const n=indexedDB.open(t);n.onupgradeneeded=()=>n.result.createObjectStore(e);const r=Jn(n);return(s,i)=>r.then(a=>i(a.transaction(e,s).objectStore(e)))}let gr;function ts(){return gr||(gr=wl("keyval-store","keyval")),gr}function _l(t,e=ts()){return e("readonly",n=>Jn(n.get(t)))}function xl(t,e,n=ts()){return n("readwrite",r=>(r.put(e,t),Jn(r.transaction)))}function Sl(t,e=ts()){return e("readwrite",n=>(n.delete(t),Jn(n.transaction)))}const Ol=Gr('<svg xmlns=http://www.w3.org/2000/svg fill=none stroke=currentColor stroke-width=1.5 aria-hidden=true data-slot=icon viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round d="M6 18 18 6M6 6l12 12">'),El=(t={})=>(()=>{const e=Ol();return Go(e,t,!0,!0),e})(),Tl=Gr('<a target=_blank rel="noreferrer noopener">'),Ms=t=>{const e=()=>{try{const n=new URL(t.href.toString());return n.protocol==="https:"||n.protocol==="http:"}catch{return!1}};return U(Hn,{get when(){return e()},get fallback(){return t.href},get children(){const n=Tl();return fe(n,()=>t.children??t.href),he(r=>{const s=t.class,i=t.href;return s!==r._v$&&ta(n,r._v$=s),i!==r._v$2&&gn(n,"href",r._v$2=i),r},{_v$:void 0,_v$2:void 0}),n}})},Cl={type:"logger",log(t){this.output("log",t)},warn(t){this.output("warn",t)},error(t){this.output("error",t)},output(t,e){console&&console[t]&&console[t].apply(console,e)}};class wn{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.init(e,n)}init(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=n.prefix||"i18next:",this.logger=e||Cl,this.options=n,this.debug=n.debug}log(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return this.forward(n,"log","",!0)}warn(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return this.forward(n,"warn","",!0)}error(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return this.forward(n,"error","")}deprecate(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return this.forward(n,"warn","WARNING DEPRECATED: ",!0)}forward(e,n,r,s){return s&&!this.debug?null:(typeof e[0]=="string"&&(e[0]=`${r}${this.prefix} ${e[0]}`),this.logger[n](e))}create(e){return new wn(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new wn(this.logger,e)}}var de=new wn;class Yn{constructor(){this.observers={}}on(e,n){return e.split(" ").forEach(r=>{this.observers[r]=this.observers[r]||[],this.observers[r].push(n)}),this}off(e,n){if(this.observers[e]){if(!n){delete this.observers[e];return}this.observers[e]=this.observers[e].filter(r=>r!==n)}}emit(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];this.observers[e]&&[].concat(this.observers[e]).forEach(a=>{a(...r)}),this.observers["*"]&&[].concat(this.observers["*"]).forEach(a=>{a.apply(a,[e,...r])})}}function St(){let t,e;const n=new Promise((r,s)=>{t=r,e=s});return n.resolve=t,n.reject=e,n}function Ds(t){return t==null?"":""+t}function $l(t,e,n){t.forEach(r=>{e[r]&&(n[r]=e[r])})}function ns(t,e,n){function r(a){return a&&a.indexOf("###")>-1?a.replace(/###/g,"."):a}function s(){return!t||typeof t=="string"}const i=typeof e!="string"?[].concat(e):e.split(".");for(;i.length>1;){if(s())return{};const a=r(i.shift());!t[a]&&n&&(t[a]=new n),Object.prototype.hasOwnProperty.call(t,a)?t=t[a]:t={}}return s()?{}:{obj:t,k:r(i.shift())}}function Fs(t,e,n){const{obj:r,k:s}=ns(t,e,Object);r[s]=n}function kl(t,e,n,r){const{obj:s,k:i}=ns(t,e,Object);s[i]=s[i]||[],r&&(s[i]=s[i].concat(n)),r||s[i].push(n)}function _n(t,e){const{obj:n,k:r}=ns(t,e);if(n)return n[r]}function Al(t,e,n){const r=_n(t,n);return r!==void 0?r:_n(e,n)}function Ta(t,e,n){for(const r in e)r!=="__proto__"&&r!=="constructor"&&(r in t?typeof t[r]=="string"||t[r]instanceof String||typeof e[r]=="string"||e[r]instanceof String?n&&(t[r]=e[r]):Ta(t[r],e[r],n):t[r]=e[r]);return t}function Xe(t){return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var Pl={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function Rl(t){return typeof t=="string"?t.replace(/[&<>"'\/]/g,e=>Pl[e]):t}const Ll=[" ",",","?","!",";"];function Nl(t,e,n){e=e||"",n=n||"";const r=Ll.filter(a=>e.indexOf(a)<0&&n.indexOf(a)<0);if(r.length===0)return!0;const s=new RegExp(`(${r.map(a=>a==="?"?"\\?":a).join("|")})`);let i=!s.test(t);if(!i){const a=t.indexOf(n);a>0&&!s.test(t.substring(0,a))&&(i=!0)}return i}function xn(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";if(!t)return;if(t[e])return t[e];const r=e.split(n);let s=t;for(let i=0;i<r.length;++i){if(!s||typeof s[r[i]]=="string"&&i+1<r.length)return;if(s[r[i]]===void 0){let a=2,o=r.slice(i,i+a).join(n),u=s[o];for(;u===void 0&&r.length>i+a;)a++,o=r.slice(i,i+a).join(n),u=s[o];if(u===void 0)return;if(u===null)return null;if(e.endsWith(o)){if(typeof u=="string")return u;if(o&&typeof u[o]=="string")return u[o]}const l=r.slice(i+a).join(n);return l?xn(u,l,n):void 0}s=s[r[i]]}return s}function Sn(t){return t&&t.indexOf("_")>0?t.replace("_","-"):t}class Us extends Yn{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};super(),this.data=e||{},this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const n=this.options.ns.indexOf(e);n>-1&&this.options.ns.splice(n,1)}getResource(e,n,r){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const i=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator,a=s.ignoreJSONStructure!==void 0?s.ignoreJSONStructure:this.options.ignoreJSONStructure;let o=[e,n];r&&typeof r!="string"&&(o=o.concat(r)),r&&typeof r=="string"&&(o=o.concat(i?r.split(i):r)),e.indexOf(".")>-1&&(o=e.split("."));const u=_n(this.data,o);return u||!a||typeof r!="string"?u:xn(this.data&&this.data[e]&&this.data[e][n],r,i)}addResource(e,n,r,s){let i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1};const a=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator;let o=[e,n];r&&(o=o.concat(a?r.split(a):r)),e.indexOf(".")>-1&&(o=e.split("."),s=n,n=o[1]),this.addNamespaces(n),Fs(this.data,o,s),i.silent||this.emit("added",e,n,r,s)}addResources(e,n,r){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(const i in r)(typeof r[i]=="string"||Object.prototype.toString.apply(r[i])==="[object Array]")&&this.addResource(e,n,i,r[i],{silent:!0});s.silent||this.emit("added",e,n,r)}addResourceBundle(e,n,r,s,i){let a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1},o=[e,n];e.indexOf(".")>-1&&(o=e.split("."),s=r,r=n,n=o[1]),this.addNamespaces(n);let u=_n(this.data,o)||{};s?Ta(u,r,i):u={...u,...r},Fs(this.data,o,u),a.silent||this.emit("added",e,n,r)}removeResourceBundle(e,n){this.hasResourceBundle(e,n)&&delete this.data[e][n],this.removeNamespaces(n),this.emit("removed",e,n)}hasResourceBundle(e,n){return this.getResource(e,n)!==void 0}getResourceBundle(e,n){return n||(n=this.options.defaultNS),this.options.compatibilityAPI==="v1"?{...this.getResource(e,n)}:this.getResource(e,n)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const n=this.getDataByLanguage(e);return!!(n&&Object.keys(n)||[]).find(s=>n[s]&&Object.keys(n[s]).length>0)}toJSON(){return this.data}}var Ca={processors:{},addPostProcessor(t){this.processors[t.name]=t},handle(t,e,n,r,s){return t.forEach(i=>{this.processors[i]&&(e=this.processors[i].process(e,n,r,s))}),e}};const Bs={};class On extends Yn{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),$l(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=de.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};if(e==null)return!1;const r=this.resolve(e,n);return r&&r.res!==void 0}extractFromKey(e,n){let r=n.nsSeparator!==void 0?n.nsSeparator:this.options.nsSeparator;r===void 0&&(r=":");const s=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator;let i=n.ns||this.options.defaultNS||[];const a=r&&e.indexOf(r)>-1,o=!this.options.userDefinedKeySeparator&&!n.keySeparator&&!this.options.userDefinedNsSeparator&&!n.nsSeparator&&!Nl(e,r,s);if(a&&!o){const u=e.match(this.interpolator.nestingRegexp);if(u&&u.length>0)return{key:e,namespaces:i};const l=e.split(r);(r!==s||r===s&&this.options.ns.indexOf(l[0])>-1)&&(i=l.shift()),e=l.join(s)}return typeof i=="string"&&(i=[i]),{key:e,namespaces:i}}translate(e,n,r){if(typeof n!="object"&&this.options.overloadTranslationOptionHandler&&(n=this.options.overloadTranslationOptionHandler(arguments)),typeof n=="object"&&(n={...n}),n||(n={}),e==null)return"";Array.isArray(e)||(e=[String(e)]);const s=n.returnDetails!==void 0?n.returnDetails:this.options.returnDetails,i=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator,{key:a,namespaces:o}=this.extractFromKey(e[e.length-1],n),u=o[o.length-1],l=n.lng||this.language,c=n.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(l&&l.toLowerCase()==="cimode"){if(c){const y=n.nsSeparator||this.options.nsSeparator;return s?{res:`${u}${y}${a}`,usedKey:a,exactUsedKey:a,usedLng:l,usedNS:u,usedParams:this.getUsedParamsDetails(n)}:`${u}${y}${a}`}return s?{res:a,usedKey:a,exactUsedKey:a,usedLng:l,usedNS:u,usedParams:this.getUsedParamsDetails(n)}:a}const f=this.resolve(e,n);let d=f&&f.res;const g=f&&f.usedKey||a,h=f&&f.exactUsedKey||a,p=Object.prototype.toString.apply(d),m=["[object Number]","[object Function]","[object RegExp]"],v=n.joinArrays!==void 0?n.joinArrays:this.options.joinArrays,_=!this.i18nFormat||this.i18nFormat.handleAsObject;if(_&&d&&(typeof d!="string"&&typeof d!="boolean"&&typeof d!="number")&&m.indexOf(p)<0&&!(typeof v=="string"&&p==="[object Array]")){if(!n.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const y=this.options.returnedObjectHandler?this.options.returnedObjectHandler(g,d,{...n,ns:o}):`key '${a} (${this.language})' returned an object instead of string.`;return s?(f.res=y,f.usedParams=this.getUsedParamsDetails(n),f):y}if(i){const y=p==="[object Array]",b=y?[]:{},L=y?h:g;for(const I in d)if(Object.prototype.hasOwnProperty.call(d,I)){const Y=`${L}${i}${I}`;b[I]=this.translate(Y,{...n,joinArrays:!1,ns:o}),b[I]===Y&&(b[I]=d[I])}d=b}}else if(_&&typeof v=="string"&&p==="[object Array]")d=d.join(v),d&&(d=this.extendTranslation(d,e,n,r));else{let y=!1,b=!1;const L=n.count!==void 0&&typeof n.count!="string",I=On.hasDefaultValue(n),Y=L?this.pluralResolver.getSuffix(l,n.count,n):"",O=n.ordinal&&L?this.pluralResolver.getSuffix(l,n.count,{ordinal:!1}):"",C=n[`defaultValue${Y}`]||n[`defaultValue${O}`]||n.defaultValue;!this.isValidLookup(d)&&I&&(y=!0,d=C),this.isValidLookup(d)||(b=!0,d=a);const X=(n.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&b?void 0:d,we=I&&C!==d&&this.options.updateMissing;if(b||y||we){if(this.logger.log(we?"updateKey":"missingKey",l,u,a,we?C:d),i){const Q=this.resolve(a,{...n,keySeparator:!1});Q&&Q.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let te=[];const ce=this.languageUtils.getFallbackCodes(this.options.fallbackLng,n.lng||this.language);if(this.options.saveMissingTo==="fallback"&&ce&&ce[0])for(let Q=0;Q<ce.length;Q++)te.push(ce[Q]);else this.options.saveMissingTo==="all"?te=this.languageUtils.toResolveHierarchy(n.lng||this.language):te.push(n.lng||this.language);const $e=(Q,ke,ys)=>{const vs=I&&ys!==d?ys:X;this.options.missingKeyHandler?this.options.missingKeyHandler(Q,u,ke,vs,we,n):this.backendConnector&&this.backendConnector.saveMissing&&this.backendConnector.saveMissing(Q,u,ke,vs,we,n),this.emit("missingKey",Q,u,ke,d)};this.options.saveMissing&&(this.options.saveMissingPlurals&&L?te.forEach(Q=>{this.pluralResolver.getSuffixes(Q,n).forEach(ke=>{$e([Q],a+ke,n[`defaultValue${ke}`]||C)})}):$e(te,a,C))}d=this.extendTranslation(d,e,n,f,r),b&&d===a&&this.options.appendNamespaceToMissingKey&&(d=`${u}:${a}`),(b||y)&&this.options.parseMissingKeyHandler&&(this.options.compatibilityAPI!=="v1"?d=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${u}:${a}`:a,y?d:void 0):d=this.options.parseMissingKeyHandler(d))}return s?(f.res=d,f.usedParams=this.getUsedParamsDetails(n),f):d}extendTranslation(e,n,r,s,i){var a=this;if(this.i18nFormat&&this.i18nFormat.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...r},r.lng||this.language||s.usedLng,s.usedNS,s.usedKey,{resolved:s});else if(!r.skipInterpolation){r.interpolation&&this.interpolator.init({...r,interpolation:{...this.options.interpolation,...r.interpolation}});const l=typeof e=="string"&&(r&&r.interpolation&&r.interpolation.skipOnVariables!==void 0?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let c;if(l){const d=e.match(this.interpolator.nestingRegexp);c=d&&d.length}let f=r.replace&&typeof r.replace!="string"?r.replace:r;if(this.options.interpolation.defaultVariables&&(f={...this.options.interpolation.defaultVariables,...f}),e=this.interpolator.interpolate(e,f,r.lng||this.language,r),l){const d=e.match(this.interpolator.nestingRegexp),g=d&&d.length;c<g&&(r.nest=!1)}!r.lng&&this.options.compatibilityAPI!=="v1"&&s&&s.res&&(r.lng=s.usedLng),r.nest!==!1&&(e=this.interpolator.nest(e,function(){for(var d=arguments.length,g=new Array(d),h=0;h<d;h++)g[h]=arguments[h];return i&&i[0]===g[0]&&!r.context?(a.logger.warn(`It seems you are nesting recursively key: ${g[0]} in key: ${n[0]}`),null):a.translate(...g,n)},r)),r.interpolation&&this.interpolator.reset()}const o=r.postProcess||this.options.postProcess,u=typeof o=="string"?[o]:o;return e!=null&&u&&u.length&&r.applyPostProcessor!==!1&&(e=Ca.handle(u,e,n,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...s,usedParams:this.getUsedParamsDetails(r)},...r}:r,this)),e}resolve(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r,s,i,a,o;return typeof e=="string"&&(e=[e]),e.forEach(u=>{if(this.isValidLookup(r))return;const l=this.extractFromKey(u,n),c=l.key;s=c;let f=l.namespaces;this.options.fallbackNS&&(f=f.concat(this.options.fallbackNS));const d=n.count!==void 0&&typeof n.count!="string",g=d&&!n.ordinal&&n.count===0&&this.pluralResolver.shouldUseIntlApi(),h=n.context!==void 0&&(typeof n.context=="string"||typeof n.context=="number")&&n.context!=="",p=n.lngs?n.lngs:this.languageUtils.toResolveHierarchy(n.lng||this.language,n.fallbackLng);f.forEach(m=>{this.isValidLookup(r)||(o=m,!Bs[`${p[0]}-${m}`]&&this.utils&&this.utils.hasLoadedNamespace&&!this.utils.hasLoadedNamespace(o)&&(Bs[`${p[0]}-${m}`]=!0,this.logger.warn(`key "${s}" for languages "${p.join(", ")}" won't get resolved as namespace "${o}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),p.forEach(v=>{if(this.isValidLookup(r))return;a=v;const _=[c];if(this.i18nFormat&&this.i18nFormat.addLookupKeys)this.i18nFormat.addLookupKeys(_,c,v,m,n);else{let y;d&&(y=this.pluralResolver.getSuffix(v,n.count,n));const b=`${this.options.pluralSeparator}zero`,L=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(d&&(_.push(c+y),n.ordinal&&y.indexOf(L)===0&&_.push(c+y.replace(L,this.options.pluralSeparator)),g&&_.push(c+b)),h){const I=`${c}${this.options.contextSeparator}${n.context}`;_.push(I),d&&(_.push(I+y),n.ordinal&&y.indexOf(L)===0&&_.push(I+y.replace(L,this.options.pluralSeparator)),g&&_.push(I+b))}}let T;for(;T=_.pop();)this.isValidLookup(r)||(i=T,r=this.getResource(v,m,T,n))}))})}),{res:r,usedKey:s,exactUsedKey:i,usedLng:a,usedNS:o}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,n,r){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(e,n,r,s):this.resourceStore.getResource(e,n,r,s)}getUsedParamsDetails(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const n=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],r=e.replace&&typeof e.replace!="string";let s=r?e.replace:e;if(r&&typeof e.count<"u"&&(s.count=e.count),this.options.interpolation.defaultVariables&&(s={...this.options.interpolation.defaultVariables,...s}),!r){s={...s};for(const i of n)delete s[i]}return s}static hasDefaultValue(e){const n="defaultValue";for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&n===r.substring(0,n.length)&&e[r]!==void 0)return!0;return!1}}function mr(t){return t.charAt(0).toUpperCase()+t.slice(1)}class Zs{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=de.create("languageUtils")}getScriptPartFromCode(e){if(e=Sn(e),!e||e.indexOf("-")<0)return null;const n=e.split("-");return n.length===2||(n.pop(),n[n.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(n.join("-"))}getLanguagePartFromCode(e){if(e=Sn(e),!e||e.indexOf("-")<0)return e;const n=e.split("-");return this.formatLanguageCode(n[0])}formatLanguageCode(e){if(typeof e=="string"&&e.indexOf("-")>-1){const n=["hans","hant","latn","cyrl","cans","mong","arab"];let r=e.split("-");return this.options.lowerCaseLng?r=r.map(s=>s.toLowerCase()):r.length===2?(r[0]=r[0].toLowerCase(),r[1]=r[1].toUpperCase(),n.indexOf(r[1].toLowerCase())>-1&&(r[1]=mr(r[1].toLowerCase()))):r.length===3&&(r[0]=r[0].toLowerCase(),r[1].length===2&&(r[1]=r[1].toUpperCase()),r[0]!=="sgn"&&r[2].length===2&&(r[2]=r[2].toUpperCase()),n.indexOf(r[1].toLowerCase())>-1&&(r[1]=mr(r[1].toLowerCase())),n.indexOf(r[2].toLowerCase())>-1&&(r[2]=mr(r[2].toLowerCase()))),r.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let n;return e.forEach(r=>{if(n)return;const s=this.formatLanguageCode(r);(!this.options.supportedLngs||this.isSupportedCode(s))&&(n=s)}),!n&&this.options.supportedLngs&&e.forEach(r=>{if(n)return;const s=this.getLanguagePartFromCode(r);if(this.isSupportedCode(s))return n=s;n=this.options.supportedLngs.find(i=>{if(i===s)return i;if(!(i.indexOf("-")<0&&s.indexOf("-")<0)&&i.indexOf(s)===0)return i})}),n||(n=this.getFallbackCodes(this.options.fallbackLng)[0]),n}getFallbackCodes(e,n){if(!e)return[];if(typeof e=="function"&&(e=e(n)),typeof e=="string"&&(e=[e]),Object.prototype.toString.apply(e)==="[object Array]")return e;if(!n)return e.default||[];let r=e[n];return r||(r=e[this.getScriptPartFromCode(n)]),r||(r=e[this.formatLanguageCode(n)]),r||(r=e[this.getLanguagePartFromCode(n)]),r||(r=e.default),r||[]}toResolveHierarchy(e,n){const r=this.getFallbackCodes(n||this.options.fallbackLng||[],e),s=[],i=a=>{a&&(this.isSupportedCode(a)?s.push(a):this.logger.warn(`rejecting language code not found in supportedLngs: ${a}`))};return typeof e=="string"&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&i(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&i(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&i(this.getLanguagePartFromCode(e))):typeof e=="string"&&i(this.formatLanguageCode(e)),r.forEach(a=>{s.indexOf(a)<0&&i(this.formatLanguageCode(a))}),s}}let Il=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],jl={1:function(t){return+(t>1)},2:function(t){return+(t!=1)},3:function(t){return 0},4:function(t){return t%10==1&&t%100!=11?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2},5:function(t){return t==0?0:t==1?1:t==2?2:t%100>=3&&t%100<=10?3:t%100>=11?4:5},6:function(t){return t==1?0:t>=2&&t<=4?1:2},7:function(t){return t==1?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2},8:function(t){return t==1?0:t==2?1:t!=8&&t!=11?2:3},9:function(t){return+(t>=2)},10:function(t){return t==1?0:t==2?1:t<7?2:t<11?3:4},11:function(t){return t==1||t==11?0:t==2||t==12?1:t>2&&t<20?2:3},12:function(t){return+(t%10!=1||t%100==11)},13:function(t){return+(t!==0)},14:function(t){return t==1?0:t==2?1:t==3?2:3},15:function(t){return t%10==1&&t%100!=11?0:t%10>=2&&(t%100<10||t%100>=20)?1:2},16:function(t){return t%10==1&&t%100!=11?0:t!==0?1:2},17:function(t){return t==1||t%10==1&&t%100!=11?0:1},18:function(t){return t==0?0:t==1?1:2},19:function(t){return t==1?0:t==0||t%100>1&&t%100<11?1:t%100>10&&t%100<20?2:3},20:function(t){return t==1?0:t==0||t%100>0&&t%100<20?1:2},21:function(t){return t%100==1?1:t%100==2?2:t%100==3||t%100==4?3:0},22:function(t){return t==1?0:t==2?1:(t<0||t>10)&&t%10==0?2:3}};const Ml=["v1","v2","v3"],Dl=["v4"],Vs={zero:0,one:1,two:2,few:3,many:4,other:5};function Fl(){const t={};return Il.forEach(e=>{e.lngs.forEach(n=>{t[n]={numbers:e.nr,plurals:jl[e.fc]}})}),t}class Ul{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.languageUtils=e,this.options=n,this.logger=de.create("pluralResolver"),(!this.options.compatibilityJSON||Dl.includes(this.options.compatibilityJSON))&&(typeof Intl>"u"||!Intl.PluralRules)&&(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=Fl()}addRule(e,n){this.rules[e]=n}getRule(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.shouldUseIntlApi())try{return new Intl.PluralRules(Sn(e),{type:n.ordinal?"ordinal":"cardinal"})}catch{return}return this.rules[e]||this.rules[this.languageUtils.getLanguagePartFromCode(e)]}needsPlural(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=this.getRule(e,n);return this.shouldUseIntlApi()?r&&r.resolvedOptions().pluralCategories.length>1:r&&r.numbers.length>1}getPluralFormsOfKey(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.getSuffixes(e,r).map(s=>`${n}${s}`)}getSuffixes(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=this.getRule(e,n);return r?this.shouldUseIntlApi()?r.resolvedOptions().pluralCategories.sort((s,i)=>Vs[s]-Vs[i]).map(s=>`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${s}`):r.numbers.map(s=>this.getSuffix(e,s,n)):[]}getSuffix(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const s=this.getRule(e,r);return s?this.shouldUseIntlApi()?`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${s.select(n)}`:this.getSuffixRetroCompatible(s,n):(this.logger.warn(`no plural rule found for: ${e}`),"")}getSuffixRetroCompatible(e,n){const r=e.noAbs?e.plurals(n):e.plurals(Math.abs(n));let s=e.numbers[r];this.options.simplifyPluralSuffix&&e.numbers.length===2&&e.numbers[0]===1&&(s===2?s="plural":s===1&&(s=""));const i=()=>this.options.prepend&&s.toString()?this.options.prepend+s.toString():s.toString();return this.options.compatibilityJSON==="v1"?s===1?"":typeof s=="number"?`_plural_${s.toString()}`:i():this.options.compatibilityJSON==="v2"||this.options.simplifyPluralSuffix&&e.numbers.length===2&&e.numbers[0]===1?i():this.options.prepend&&r.toString()?this.options.prepend+r.toString():r.toString()}shouldUseIntlApi(){return!Ml.includes(this.options.compatibilityJSON)}}function Ks(t,e,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:".",s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,i=Al(t,e,n);return!i&&s&&typeof n=="string"&&(i=xn(t,n,r),i===void 0&&(i=xn(e,n,r))),i}class Bl{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=de.create("interpolator"),this.options=e,this.format=e.interpolation&&e.interpolation.format||(n=>n),this.init(e)}init(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};e.interpolation||(e.interpolation={escapeValue:!0});const n=e.interpolation;this.escape=n.escape!==void 0?n.escape:Rl,this.escapeValue=n.escapeValue!==void 0?n.escapeValue:!0,this.useRawValueToEscape=n.useRawValueToEscape!==void 0?n.useRawValueToEscape:!1,this.prefix=n.prefix?Xe(n.prefix):n.prefixEscaped||"{{",this.suffix=n.suffix?Xe(n.suffix):n.suffixEscaped||"}}",this.formatSeparator=n.formatSeparator?n.formatSeparator:n.formatSeparator||",",this.unescapePrefix=n.unescapeSuffix?"":n.unescapePrefix||"-",this.unescapeSuffix=this.unescapePrefix?"":n.unescapeSuffix||"",this.nestingPrefix=n.nestingPrefix?Xe(n.nestingPrefix):n.nestingPrefixEscaped||Xe("$t("),this.nestingSuffix=n.nestingSuffix?Xe(n.nestingSuffix):n.nestingSuffixEscaped||Xe(")"),this.nestingOptionsSeparator=n.nestingOptionsSeparator?n.nestingOptionsSeparator:n.nestingOptionsSeparator||",",this.maxReplaces=n.maxReplaces?n.maxReplaces:1e3,this.alwaysFormat=n.alwaysFormat!==void 0?n.alwaysFormat:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=`${this.prefix}(.+?)${this.suffix}`;this.regexp=new RegExp(e,"g");const n=`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`;this.regexpUnescape=new RegExp(n,"g");const r=`${this.nestingPrefix}(.+?)${this.nestingSuffix}`;this.nestingRegexp=new RegExp(r,"g")}interpolate(e,n,r,s){let i,a,o;const u=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{};function l(h){return h.replace(/\$/g,"$$$$")}const c=h=>{if(h.indexOf(this.formatSeparator)<0){const _=Ks(n,u,h,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(_,void 0,r,{...s,...n,interpolationkey:h}):_}const p=h.split(this.formatSeparator),m=p.shift().trim(),v=p.join(this.formatSeparator).trim();return this.format(Ks(n,u,m,this.options.keySeparator,this.options.ignoreJSONStructure),v,r,{...s,...n,interpolationkey:m})};this.resetRegExp();const f=s&&s.missingInterpolationHandler||this.options.missingInterpolationHandler,d=s&&s.interpolation&&s.interpolation.skipOnVariables!==void 0?s.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:h=>l(h)},{regex:this.regexp,safeValue:h=>this.escapeValue?l(this.escape(h)):l(h)}].forEach(h=>{for(o=0;i=h.regex.exec(e);){const p=i[1].trim();if(a=c(p),a===void 0)if(typeof f=="function"){const v=f(e,i,s);a=typeof v=="string"?v:""}else if(s&&Object.prototype.hasOwnProperty.call(s,p))a="";else if(d){a=i[0];continue}else this.logger.warn(`missed to pass in variable ${p} for interpolating ${e}`),a="";else typeof a!="string"&&!this.useRawValueToEscape&&(a=Ds(a));const m=h.safeValue(a);if(e=e.replace(i[0],m),d?(h.regex.lastIndex+=a.length,h.regex.lastIndex-=i[0].length):h.regex.lastIndex=0,o++,o>=this.maxReplaces)break}}),e}nest(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s,i,a;function o(u,l){const c=this.nestingOptionsSeparator;if(u.indexOf(c)<0)return u;const f=u.split(new RegExp(`${c}[ ]*{`));let d=`{${f[1]}`;u=f[0],d=this.interpolate(d,a);const g=d.match(/'/g),h=d.match(/"/g);(g&&g.length%2===0&&!h||h.length%2!==0)&&(d=d.replace(/'/g,'"'));try{a=JSON.parse(d),l&&(a={...l,...a})}catch(p){return this.logger.warn(`failed parsing options string in nesting for key ${u}`,p),`${u}${c}${d}`}return delete a.defaultValue,u}for(;s=this.nestingRegexp.exec(e);){let u=[];a={...r},a=a.replace&&typeof a.replace!="string"?a.replace:a,a.applyPostProcessor=!1,delete a.defaultValue;let l=!1;if(s[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(s[1])){const c=s[1].split(this.formatSeparator).map(f=>f.trim());s[1]=c.shift(),u=c,l=!0}if(i=n(o.call(this,s[1].trim(),a),a),i&&s[0]===e&&typeof i!="string")return i;typeof i!="string"&&(i=Ds(i)),i||(this.logger.warn(`missed to resolve ${s[1]} for nesting ${e}`),i=""),l&&(i=u.reduce((c,f)=>this.format(c,f,r.lng,{...r,interpolationkey:s[1].trim()}),i.trim())),e=e.replace(s[0],i),this.regexp.lastIndex=0}return e}}function Zl(t){let e=t.toLowerCase().trim();const n={};if(t.indexOf("(")>-1){const r=t.split("(");e=r[0].toLowerCase().trim();const s=r[1].substring(0,r[1].length-1);e==="currency"&&s.indexOf(":")<0?n.currency||(n.currency=s.trim()):e==="relativetime"&&s.indexOf(":")<0?n.range||(n.range=s.trim()):s.split(";").forEach(a=>{if(!a)return;const[o,...u]=a.split(":"),l=u.join(":").trim().replace(/^'+|'+$/g,"");n[o.trim()]||(n[o.trim()]=l),l==="false"&&(n[o.trim()]=!1),l==="true"&&(n[o.trim()]=!0),isNaN(l)||(n[o.trim()]=parseInt(l,10))})}return{formatName:e,formatOptions:n}}function et(t){const e={};return function(r,s,i){const a=s+JSON.stringify(i);let o=e[a];return o||(o=t(Sn(s),i),e[a]=o),o(r)}}class Vl{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=de.create("formatter"),this.options=e,this.formats={number:et((n,r)=>{const s=new Intl.NumberFormat(n,{...r});return i=>s.format(i)}),currency:et((n,r)=>{const s=new Intl.NumberFormat(n,{...r,style:"currency"});return i=>s.format(i)}),datetime:et((n,r)=>{const s=new Intl.DateTimeFormat(n,{...r});return i=>s.format(i)}),relativetime:et((n,r)=>{const s=new Intl.RelativeTimeFormat(n,{...r});return i=>s.format(i,r.range||"day")}),list:et((n,r)=>{const s=new Intl.ListFormat(n,{...r});return i=>s.format(i)})},this.init(e)}init(e){const r=(arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}}).interpolation;this.formatSeparator=r.formatSeparator?r.formatSeparator:r.formatSeparator||","}add(e,n){this.formats[e.toLowerCase().trim()]=n}addCached(e,n){this.formats[e.toLowerCase().trim()]=et(n)}format(e,n,r){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return n.split(this.formatSeparator).reduce((o,u)=>{const{formatName:l,formatOptions:c}=Zl(u);if(this.formats[l]){let f=o;try{const d=s&&s.formatParams&&s.formatParams[s.interpolationkey]||{},g=d.locale||d.lng||s.locale||s.lng||r;f=this.formats[l](o,g,{...c,...s,...d})}catch(d){this.logger.warn(d)}return f}else this.logger.warn(`there was no format function for ${l}`);return o},e)}}function Kl(t,e){t.pending[e]!==void 0&&(delete t.pending[e],t.pendingCount--)}class zl extends Yn{constructor(e,n,r){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};super(),this.backend=e,this.store=n,this.services=r,this.languageUtils=r.languageUtils,this.options=s,this.logger=de.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=s.maxParallelReads||10,this.readingCalls=0,this.maxRetries=s.maxRetries>=0?s.maxRetries:5,this.retryTimeout=s.retryTimeout>=1?s.retryTimeout:350,this.state={},this.queue=[],this.backend&&this.backend.init&&this.backend.init(r,s.backend,s)}queueLoad(e,n,r,s){const i={},a={},o={},u={};return e.forEach(l=>{let c=!0;n.forEach(f=>{const d=`${l}|${f}`;!r.reload&&this.store.hasResourceBundle(l,f)?this.state[d]=2:this.state[d]<0||(this.state[d]===1?a[d]===void 0&&(a[d]=!0):(this.state[d]=1,c=!1,a[d]===void 0&&(a[d]=!0),i[d]===void 0&&(i[d]=!0),u[f]===void 0&&(u[f]=!0)))}),c||(o[l]=!0)}),(Object.keys(i).length||Object.keys(a).length)&&this.queue.push({pending:a,pendingCount:Object.keys(a).length,loaded:{},errors:[],callback:s}),{toLoad:Object.keys(i),pending:Object.keys(a),toLoadLanguages:Object.keys(o),toLoadNamespaces:Object.keys(u)}}loaded(e,n,r){const s=e.split("|"),i=s[0],a=s[1];n&&this.emit("failedLoading",i,a,n),r&&this.store.addResourceBundle(i,a,r),this.state[e]=n?-1:2;const o={};this.queue.forEach(u=>{kl(u.loaded,[i],a),Kl(u,e),n&&u.errors.push(n),u.pendingCount===0&&!u.done&&(Object.keys(u.loaded).forEach(l=>{o[l]||(o[l]={});const c=u.loaded[l];c.length&&c.forEach(f=>{o[l][f]===void 0&&(o[l][f]=!0)})}),u.done=!0,u.errors.length?u.callback(u.errors):u.callback())}),this.emit("loaded",o),this.queue=this.queue.filter(u=>!u.done)}read(e,n,r){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.retryTimeout,a=arguments.length>5?arguments[5]:void 0;if(!e.length)return a(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:n,fcName:r,tried:s,wait:i,callback:a});return}this.readingCalls++;const o=(l,c)=>{if(this.readingCalls--,this.waitingReads.length>0){const f=this.waitingReads.shift();this.read(f.lng,f.ns,f.fcName,f.tried,f.wait,f.callback)}if(l&&c&&s<this.maxRetries){setTimeout(()=>{this.read.call(this,e,n,r,s+1,i*2,a)},i);return}a(l,c)},u=this.backend[r].bind(this.backend);if(u.length===2){try{const l=u(e,n);l&&typeof l.then=="function"?l.then(c=>o(null,c)).catch(o):o(null,l)}catch(l){o(l)}return}return u(e,n,o)}prepareLoading(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),s&&s();typeof e=="string"&&(e=this.languageUtils.toResolveHierarchy(e)),typeof n=="string"&&(n=[n]);const i=this.queueLoad(e,n,r,s);if(!i.toLoad.length)return i.pending.length||s(),null;i.toLoad.forEach(a=>{this.loadOne(a)})}load(e,n,r){this.prepareLoading(e,n,{},r)}reload(e,n,r){this.prepareLoading(e,n,{reload:!0},r)}loadOne(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const r=e.split("|"),s=r[0],i=r[1];this.read(s,i,"read",void 0,void 0,(a,o)=>{a&&this.logger.warn(`${n}loading namespace ${i} for language ${s} failed`,a),!a&&o&&this.logger.log(`${n}loaded namespace ${i} for language ${s}`,o),this.loaded(e,a,o)})}saveMissing(e,n,r,s,i){let a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},o=arguments.length>6&&arguments[6]!==void 0?arguments[6]:()=>{};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(n)){this.logger.warn(`did not save key "${r}" as the namespace "${n}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(r==null||r==="")){if(this.backend&&this.backend.create){const u={...a,isUpdate:i},l=this.backend.create.bind(this.backend);if(l.length<6)try{let c;l.length===5?c=l(e,n,r,s,u):c=l(e,n,r,s),c&&typeof c.then=="function"?c.then(f=>o(null,f)).catch(o):o(null,c)}catch(c){o(c)}else l(e,n,r,s,o,u)}!e||!e[0]||this.store.addResource(e[0],n,r,s)}}}function zs(){return{debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:function(e){let n={};if(typeof e[1]=="object"&&(n=e[1]),typeof e[1]=="string"&&(n.defaultValue=e[1]),typeof e[2]=="string"&&(n.tDescription=e[2]),typeof e[2]=="object"||typeof e[3]=="object"){const r=e[3]||e[2];Object.keys(r).forEach(s=>{n[s]=r[s]})}return n},interpolation:{escapeValue:!0,format:(t,e,n,r)=>t,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}}function qs(t){return typeof t.ns=="string"&&(t.ns=[t.ns]),typeof t.fallbackLng=="string"&&(t.fallbackLng=[t.fallbackLng]),typeof t.fallbackNS=="string"&&(t.fallbackNS=[t.fallbackNS]),t.supportedLngs&&t.supportedLngs.indexOf("cimode")<0&&(t.supportedLngs=t.supportedLngs.concat(["cimode"])),t}function nn(){}function ql(t){Object.getOwnPropertyNames(Object.getPrototypeOf(t)).forEach(n=>{typeof t[n]=="function"&&(t[n]=t[n].bind(t))})}class Nt extends Yn{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;if(super(),this.options=qs(e),this.services={},this.logger=de,this.modules={external:[]},ql(this),n&&!this.isInitialized&&!e.isClone){if(!this.options.initImmediate)return this.init(e,n),this;setTimeout(()=>{this.init(e,n)},0)}}init(){var e=this;let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;typeof n=="function"&&(r=n,n={}),!n.defaultNS&&n.defaultNS!==!1&&n.ns&&(typeof n.ns=="string"?n.defaultNS=n.ns:n.ns.indexOf("translation")<0&&(n.defaultNS=n.ns[0]));const s=zs();this.options={...s,...this.options,...qs(n)},this.options.compatibilityAPI!=="v1"&&(this.options.interpolation={...s.interpolation,...this.options.interpolation}),n.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=n.keySeparator),n.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=n.nsSeparator);function i(c){return c?typeof c=="function"?new c:c:null}if(!this.options.isClone){this.modules.logger?de.init(i(this.modules.logger),this.options):de.init(null,this.options);let c;this.modules.formatter?c=this.modules.formatter:typeof Intl<"u"&&(c=Vl);const f=new Zs(this.options);this.store=new Us(this.options.resources,this.options);const d=this.services;d.logger=de,d.resourceStore=this.store,d.languageUtils=f,d.pluralResolver=new Ul(f,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),c&&(!this.options.interpolation.format||this.options.interpolation.format===s.interpolation.format)&&(d.formatter=i(c),d.formatter.init(d,this.options),this.options.interpolation.format=d.formatter.format.bind(d.formatter)),d.interpolator=new Bl(this.options),d.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},d.backendConnector=new zl(i(this.modules.backend),d.resourceStore,d,this.options),d.backendConnector.on("*",function(g){for(var h=arguments.length,p=new Array(h>1?h-1:0),m=1;m<h;m++)p[m-1]=arguments[m];e.emit(g,...p)}),this.modules.languageDetector&&(d.languageDetector=i(this.modules.languageDetector),d.languageDetector.init&&d.languageDetector.init(d,this.options.detection,this.options)),this.modules.i18nFormat&&(d.i18nFormat=i(this.modules.i18nFormat),d.i18nFormat.init&&d.i18nFormat.init(this)),this.translator=new On(this.services,this.options),this.translator.on("*",function(g){for(var h=arguments.length,p=new Array(h>1?h-1:0),m=1;m<h;m++)p[m-1]=arguments[m];e.emit(g,...p)}),this.modules.external.forEach(g=>{g.init&&g.init(this)})}if(this.format=this.options.interpolation.format,r||(r=nn),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const c=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);c.length>0&&c[0]!=="dev"&&(this.options.lng=c[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(c=>{this[c]=function(){return e.store[c](...arguments)}}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(c=>{this[c]=function(){return e.store[c](...arguments),e}});const u=St(),l=()=>{const c=(f,d)=>{this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),u.resolve(d),r(f,d)};if(this.languages&&this.options.compatibilityAPI!=="v1"&&!this.isInitialized)return c(null,this.t.bind(this));this.changeLanguage(this.options.lng,c)};return this.options.resources||!this.options.initImmediate?l():setTimeout(l,0),u}loadResources(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:nn;const s=typeof e=="string"?e:this.language;if(typeof e=="function"&&(r=e),!this.options.resources||this.options.partialBundledLanguages){if(s&&s.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return r();const i=[],a=o=>{if(!o||o==="cimode")return;this.services.languageUtils.toResolveHierarchy(o).forEach(l=>{l!=="cimode"&&i.indexOf(l)<0&&i.push(l)})};s?a(s):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(u=>a(u)),this.options.preload&&this.options.preload.forEach(o=>a(o)),this.services.backendConnector.load(i,this.options.ns,o=>{!o&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),r(o)})}else r(null)}reloadResources(e,n,r){const s=St();return e||(e=this.languages),n||(n=this.options.ns),r||(r=nn),this.services.backendConnector.reload(e,n,i=>{s.resolve(),r(i)}),s}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&Ca.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1))for(let n=0;n<this.languages.length;n++){const r=this.languages[n];if(!(["cimode","dev"].indexOf(r)>-1)&&this.store.hasLanguageSomeTranslations(r)){this.resolvedLanguage=r;break}}}changeLanguage(e,n){var r=this;this.isLanguageChangingTo=e;const s=St();this.emit("languageChanging",e);const i=u=>{this.language=u,this.languages=this.services.languageUtils.toResolveHierarchy(u),this.resolvedLanguage=void 0,this.setResolvedLanguage(u)},a=(u,l)=>{l?(i(l),this.translator.changeLanguage(l),this.isLanguageChangingTo=void 0,this.emit("languageChanged",l),this.logger.log("languageChanged",l)):this.isLanguageChangingTo=void 0,s.resolve(function(){return r.t(...arguments)}),n&&n(u,function(){return r.t(...arguments)})},o=u=>{!e&&!u&&this.services.languageDetector&&(u=[]);const l=typeof u=="string"?u:this.services.languageUtils.getBestMatchFromCodes(u);l&&(this.language||i(l),this.translator.language||this.translator.changeLanguage(l),this.services.languageDetector&&this.services.languageDetector.cacheUserLanguage&&this.services.languageDetector.cacheUserLanguage(l)),this.loadResources(l,c=>{a(c,l)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?o(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(o):this.services.languageDetector.detect(o):o(e),s}getFixedT(e,n,r){var s=this;const i=function(a,o){let u;if(typeof o!="object"){for(var l=arguments.length,c=new Array(l>2?l-2:0),f=2;f<l;f++)c[f-2]=arguments[f];u=s.options.overloadTranslationOptionHandler([a,o].concat(c))}else u={...o};u.lng=u.lng||i.lng,u.lngs=u.lngs||i.lngs,u.ns=u.ns||i.ns,u.keyPrefix=u.keyPrefix||r||i.keyPrefix;const d=s.options.keySeparator||".";let g;return u.keyPrefix&&Array.isArray(a)?g=a.map(h=>`${u.keyPrefix}${d}${h}`):g=u.keyPrefix?`${u.keyPrefix}${d}${a}`:a,s.t(g,u)};return typeof e=="string"?i.lng=e:i.lngs=e,i.ns=n,i.keyPrefix=r,i}t(){return this.translator&&this.translator.translate(...arguments)}exists(){return this.translator&&this.translator.exists(...arguments)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const r=n.lng||this.resolvedLanguage||this.languages[0],s=this.options?this.options.fallbackLng:!1,i=this.languages[this.languages.length-1];if(r.toLowerCase()==="cimode")return!0;const a=(o,u)=>{const l=this.services.backendConnector.state[`${o}|${u}`];return l===-1||l===2};if(n.precheck){const o=n.precheck(this,a);if(o!==void 0)return o}return!!(this.hasResourceBundle(r,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||a(r,e)&&(!s||a(i,e)))}loadNamespaces(e,n){const r=St();return this.options.ns?(typeof e=="string"&&(e=[e]),e.forEach(s=>{this.options.ns.indexOf(s)<0&&this.options.ns.push(s)}),this.loadResources(s=>{r.resolve(),n&&n(s)}),r):(n&&n(),Promise.resolve())}loadLanguages(e,n){const r=St();typeof e=="string"&&(e=[e]);const s=this.options.preload||[],i=e.filter(a=>s.indexOf(a)<0);return i.length?(this.options.preload=s.concat(i),this.loadResources(a=>{r.resolve(),n&&n(a)}),r):(n&&n(),Promise.resolve())}dir(e){if(e||(e=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!e)return"rtl";const n=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],r=this.services&&this.services.languageUtils||new Zs(zs());return n.indexOf(r.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;return new Nt(e,n)}cloneInstance(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:nn;const r=e.forkResourceStore;r&&delete e.forkResourceStore;const s={...this.options,...e,isClone:!0},i=new Nt(s);return(e.debug!==void 0||e.prefix!==void 0)&&(i.logger=i.logger.clone(e)),["store","services","language"].forEach(o=>{i[o]=this[o]}),i.services={...this.services},i.services.utils={hasLoadedNamespace:i.hasLoadedNamespace.bind(i)},r&&(i.store=new Us(this.store.data,s),i.services.resourceStore=i.store),i.translator=new On(i.services,s),i.translator.on("*",function(o){for(var u=arguments.length,l=new Array(u>1?u-1:0),c=1;c<u;c++)l[c-1]=arguments[c];i.emit(o,...l)}),i.init(s,n),i.translator.options=s,i.translator.backendConnector.services.utils={hasLoadedNamespace:i.hasLoadedNamespace.bind(i)},i}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const H=Nt.createInstance();H.createInstance=Nt.createInstance;H.createInstance;H.dir;H.init;H.loadResources;H.reloadResources;H.use;H.changeLanguage;H.getFixedT;H.t;H.exists;H.setDefaultNamespace;H.hasLoadedNamespace;H.loadNamespaces;H.loadLanguages;const $a=Wt(),ka=()=>{const[t,e]=q(H.t),n=ht($a);return dt(()=>{n instanceof Promise?n.then(r=>{r!=null&&e(()=>r)}).catch(r=>{console.error("failed to initialize i18next",r)}):n!=null&&e(()=>n)}),t},Hl=t=>U($a.Provider,{get value(){return t.i18next},get children(){return t.children}}),Ql=Gr('<div class="flex h-svh w-screen shrink-0 flex-col items-center justify-center border-b border-border bg-bg-tertiary text-fg"><h3 class="text-2xl font-bold"></h3><div></div><button type=button class="mt-4 flex items-center text-fg-secondary"><span class="inline-block h-5 w-5">'),Wl=t=>t.host==="rabbit.syusui.net"||t.host.startsWith("localhost"),Gl=t=>{const e=ka(),[n,r]=q(!1);return U(Hn,{get when(){return Wl(window.location)||n()},get fallback(){return(()=>{const s=Ql(),i=s.firstChild,a=i.nextSibling,o=a.nextSibling,u=o.firstChild;return fe(i,()=>e()("domainTransfer.announcementHead")),fe(a,()=>e()("domainTransfer.announcementDescription")),fe(s,U(Ms,{class:"text-lg text-link underline",href:"https://rabbit.syusui.net/"}),o),fe(s,U(Ms,{class:"mt-4 text-sm text-link underline",href:"https://scrapbox.io/nostr/Rabbit#659be5fa1246d700005facb8",get children(){return e()("domainTransfer.howToMigrateSettings")}}),o),o.$$click=()=>r(!0),fe(u,U(El,{})),fe(o,()=>e()("domainTransfer.close"),null),s})()},get children(){return t.children}})};Jr(["click"]);var rn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Aa(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function vx(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var s=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return t[r]}})}),n}function Jl(t,e){for(var n=-1,r=e.length,s=t.length;++n<r;)t[s+n]=e[n];return t}var Pa=Jl,Yl=typeof rn=="object"&&rn&&rn.Object===Object&&rn,Ra=Yl,Xl=Ra,ec=typeof self=="object"&&self&&self.Object===Object&&self,tc=Xl||ec||Function("return this")(),Oe=tc,nc=Oe,rc=nc.Symbol,Gt=rc,Hs=Gt,La=Object.prototype,sc=La.hasOwnProperty,ic=La.toString,Ot=Hs?Hs.toStringTag:void 0;function ac(t){var e=sc.call(t,Ot),n=t[Ot];try{t[Ot]=void 0;var r=!0}catch{}var s=ic.call(t);return r&&(e?t[Ot]=n:delete t[Ot]),s}var oc=ac,uc=Object.prototype,lc=uc.toString;function cc(t){return lc.call(t)}var fc=cc,Qs=Gt,dc=oc,hc=fc,pc="[object Null]",gc="[object Undefined]",Ws=Qs?Qs.toStringTag:void 0;function mc(t){return t==null?t===void 0?gc:pc:Ws&&Ws in Object(t)?dc(t):hc(t)}var Jt=mc;function yc(t){return t!=null&&typeof t=="object"}var Yt=yc,vc=Jt,bc=Yt,wc="[object Arguments]";function _c(t){return bc(t)&&vc(t)==wc}var xc=_c,Gs=xc,Sc=Yt,Na=Object.prototype,Oc=Na.hasOwnProperty,Ec=Na.propertyIsEnumerable,Tc=Gs(function(){return arguments}())?Gs:function(t){return Sc(t)&&Oc.call(t,"callee")&&!Ec.call(t,"callee")},rs=Tc,Cc=Array.isArray,be=Cc,Js=Gt,$c=rs,kc=be,Ys=Js?Js.isConcatSpreadable:void 0;function Ac(t){return kc(t)||$c(t)||!!(Ys&&t&&t[Ys])}var Pc=Ac,Rc=Pa,Lc=Pc;function Ia(t,e,n,r,s){var i=-1,a=t.length;for(n||(n=Lc),s||(s=[]);++i<a;){var o=t[i];e>0&&n(o)?e>1?Ia(o,e-1,n,r,s):Rc(s,o):r||(s[s.length]=o)}return s}var Nc=Ia;function Ic(t,e){for(var n=-1,r=t==null?0:t.length,s=Array(r);++n<r;)s[n]=e(t[n],n,t);return s}var ja=Ic,jc=Jt,Mc=Yt,Dc="[object Symbol]";function Fc(t){return typeof t=="symbol"||Mc(t)&&jc(t)==Dc}var Xn=Fc,Uc=be,Bc=Xn,Zc=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Vc=/^\w*$/;function Kc(t,e){if(Uc(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||Bc(t)?!0:Vc.test(t)||!Zc.test(t)||e!=null&&t in Object(e)}var ss=Kc;function zc(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var er=zc,qc=Jt,Hc=er,Qc="[object AsyncFunction]",Wc="[object Function]",Gc="[object GeneratorFunction]",Jc="[object Proxy]";function Yc(t){if(!Hc(t))return!1;var e=qc(t);return e==Wc||e==Gc||e==Qc||e==Jc}var Ma=Yc,Xc=Oe,ef=Xc["__core-js_shared__"],tf=ef,yr=tf,Xs=function(){var t=/[^.]+$/.exec(yr&&yr.keys&&yr.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function nf(t){return!!Xs&&Xs in t}var rf=nf,sf=Function.prototype,af=sf.toString;function of(t){if(t!=null){try{return af.call(t)}catch{}try{return t+""}catch{}}return""}var Da=of,uf=Ma,lf=rf,cf=er,ff=Da,df=/[\\^$.*+?()[\]{}|]/g,hf=/^\[object .+?Constructor\]$/,pf=Function.prototype,gf=Object.prototype,mf=pf.toString,yf=gf.hasOwnProperty,vf=RegExp("^"+mf.call(yf).replace(df,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function bf(t){if(!cf(t)||lf(t))return!1;var e=uf(t)?vf:hf;return e.test(ff(t))}var wf=bf;function _f(t,e){return t?.[e]}var xf=_f,Sf=wf,Of=xf;function Ef(t,e){var n=Of(t,e);return Sf(n)?n:void 0}var Je=Ef,Tf=Je,Cf=Tf(Object,"create"),tr=Cf,ei=tr;function $f(){this.__data__=ei?ei(null):{},this.size=0}var kf=$f;function Af(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var Pf=Af,Rf=tr,Lf="__lodash_hash_undefined__",Nf=Object.prototype,If=Nf.hasOwnProperty;function jf(t){var e=this.__data__;if(Rf){var n=e[t];return n===Lf?void 0:n}return If.call(e,t)?e[t]:void 0}var Mf=jf,Df=tr,Ff=Object.prototype,Uf=Ff.hasOwnProperty;function Bf(t){var e=this.__data__;return Df?e[t]!==void 0:Uf.call(e,t)}var Zf=Bf,Vf=tr,Kf="__lodash_hash_undefined__";function zf(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=Vf&&e===void 0?Kf:e,this}var qf=zf,Hf=kf,Qf=Pf,Wf=Mf,Gf=Zf,Jf=qf;function mt(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}mt.prototype.clear=Hf;mt.prototype.delete=Qf;mt.prototype.get=Wf;mt.prototype.has=Gf;mt.prototype.set=Jf;var Yf=mt;function Xf(){this.__data__=[],this.size=0}var ed=Xf;function td(t,e){return t===e||t!==t&&e!==e}var is=td,nd=is;function rd(t,e){for(var n=t.length;n--;)if(nd(t[n][0],e))return n;return-1}var nr=rd,sd=nr,id=Array.prototype,ad=id.splice;function od(t){var e=this.__data__,n=sd(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():ad.call(e,n,1),--this.size,!0}var ud=od,ld=nr;function cd(t){var e=this.__data__,n=ld(e,t);return n<0?void 0:e[n][1]}var fd=cd,dd=nr;function hd(t){return dd(this.__data__,t)>-1}var pd=hd,gd=nr;function md(t,e){var n=this.__data__,r=gd(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var yd=md,vd=ed,bd=ud,wd=fd,_d=pd,xd=yd;function yt(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}yt.prototype.clear=vd;yt.prototype.delete=bd;yt.prototype.get=wd;yt.prototype.has=_d;yt.prototype.set=xd;var rr=yt,Sd=Je,Od=Oe,Ed=Sd(Od,"Map"),as=Ed,ti=Yf,Td=rr,Cd=as;function $d(){this.size=0,this.__data__={hash:new ti,map:new(Cd||Td),string:new ti}}var kd=$d;function Ad(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var Pd=Ad,Rd=Pd;function Ld(t,e){var n=t.__data__;return Rd(e)?n[typeof e=="string"?"string":"hash"]:n.map}var sr=Ld,Nd=sr;function Id(t){var e=Nd(this,t).delete(t);return this.size-=e?1:0,e}var jd=Id,Md=sr;function Dd(t){return Md(this,t).get(t)}var Fd=Dd,Ud=sr;function Bd(t){return Ud(this,t).has(t)}var Zd=Bd,Vd=sr;function Kd(t,e){var n=Vd(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var zd=Kd,qd=kd,Hd=jd,Qd=Fd,Wd=Zd,Gd=zd;function vt(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}vt.prototype.clear=qd;vt.prototype.delete=Hd;vt.prototype.get=Qd;vt.prototype.has=Wd;vt.prototype.set=Gd;var os=vt,Fa=os,Jd="Expected a function";function us(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(Jd);var n=function(){var r=arguments,s=e?e.apply(this,r):r[0],i=n.cache;if(i.has(s))return i.get(s);var a=t.apply(this,r);return n.cache=i.set(s,a)||i,a};return n.cache=new(us.Cache||Fa),n}us.Cache=Fa;var Yd=us,Xd=Yd,eh=500;function th(t){var e=Xd(t,function(r){return n.size===eh&&n.clear(),r}),n=e.cache;return e}var nh=th,rh=nh,sh=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ih=/\\(\\)?/g,ah=rh(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(sh,function(n,r,s,i){e.push(s?i.replace(ih,"$1"):r||n)}),e}),oh=ah,ni=Gt,uh=ja,lh=be,ch=Xn,fh=1/0,ri=ni?ni.prototype:void 0,si=ri?ri.toString:void 0;function Ua(t){if(typeof t=="string")return t;if(lh(t))return uh(t,Ua)+"";if(ch(t))return si?si.call(t):"";var e=t+"";return e=="0"&&1/t==-fh?"-0":e}var dh=Ua,hh=dh;function ph(t){return t==null?"":hh(t)}var gh=ph,mh=be,yh=ss,vh=oh,bh=gh;function wh(t,e){return mh(t)?t:yh(t,e)?[t]:vh(bh(t))}var Ba=wh,_h=Xn,xh=1/0;function Sh(t){if(typeof t=="string"||_h(t))return t;var e=t+"";return e=="0"&&1/t==-xh?"-0":e}var ir=Sh,Oh=Ba,Eh=ir;function Th(t,e){e=Oh(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[Eh(e[n++])];return n&&n==r?t:void 0}var ls=Th,Ch=rr;function $h(){this.__data__=new Ch,this.size=0}var kh=$h;function Ah(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var Ph=Ah;function Rh(t){return this.__data__.get(t)}var Lh=Rh;function Nh(t){return this.__data__.has(t)}var Ih=Nh,jh=rr,Mh=as,Dh=os,Fh=200;function Uh(t,e){var n=this.__data__;if(n instanceof jh){var r=n.__data__;if(!Mh||r.length<Fh-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new Dh(r)}return n.set(t,e),this.size=n.size,this}var Bh=Uh,Zh=rr,Vh=kh,Kh=Ph,zh=Lh,qh=Ih,Hh=Bh;function bt(t){var e=this.__data__=new Zh(t);this.size=e.size}bt.prototype.clear=Vh;bt.prototype.delete=Kh;bt.prototype.get=zh;bt.prototype.has=qh;bt.prototype.set=Hh;var Za=bt,Qh="__lodash_hash_undefined__";function Wh(t){return this.__data__.set(t,Qh),this}var Gh=Wh;function Jh(t){return this.__data__.has(t)}var Yh=Jh,Xh=os,ep=Gh,tp=Yh;function En(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new Xh;++e<n;)this.add(t[e])}En.prototype.add=En.prototype.push=ep;En.prototype.has=tp;var Va=En;function np(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var rp=np;function sp(t,e){return t.has(e)}var Ka=sp,ip=Va,ap=rp,op=Ka,up=1,lp=2;function cp(t,e,n,r,s,i){var a=n&up,o=t.length,u=e.length;if(o!=u&&!(a&&u>o))return!1;var l=i.get(t),c=i.get(e);if(l&&c)return l==e&&c==t;var f=-1,d=!0,g=n&lp?new ip:void 0;for(i.set(t,e),i.set(e,t);++f<o;){var h=t[f],p=e[f];if(r)var m=a?r(p,h,f,e,t,i):r(h,p,f,t,e,i);if(m!==void 0){if(m)continue;d=!1;break}if(g){if(!ap(e,function(v,_){if(!op(g,_)&&(h===v||s(h,v,n,r,i)))return g.push(_)})){d=!1;break}}else if(!(h===p||s(h,p,n,r,i))){d=!1;break}}return i.delete(t),i.delete(e),d}var za=cp,fp=Oe,dp=fp.Uint8Array,hp=dp;function pp(t){var e=-1,n=Array(t.size);return t.forEach(function(r,s){n[++e]=[s,r]}),n}var gp=pp;function mp(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var cs=mp,ii=Gt,ai=hp,yp=is,vp=za,bp=gp,wp=cs,_p=1,xp=2,Sp="[object Boolean]",Op="[object Date]",Ep="[object Error]",Tp="[object Map]",Cp="[object Number]",$p="[object RegExp]",kp="[object Set]",Ap="[object String]",Pp="[object Symbol]",Rp="[object ArrayBuffer]",Lp="[object DataView]",oi=ii?ii.prototype:void 0,vr=oi?oi.valueOf:void 0;function Np(t,e,n,r,s,i,a){switch(n){case Lp:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case Rp:return!(t.byteLength!=e.byteLength||!i(new ai(t),new ai(e)));case Sp:case Op:case Cp:return yp(+t,+e);case Ep:return t.name==e.name&&t.message==e.message;case $p:case Ap:return t==e+"";case Tp:var o=bp;case kp:var u=r&_p;if(o||(o=wp),t.size!=e.size&&!u)return!1;var l=a.get(t);if(l)return l==e;r|=xp,a.set(t,e);var c=vp(o(t),o(e),r,s,i,a);return a.delete(t),c;case Pp:if(vr)return vr.call(t)==vr.call(e)}return!1}var Ip=Np,jp=Pa,Mp=be;function Dp(t,e,n){var r=e(t);return Mp(t)?r:jp(r,n(t))}var Fp=Dp;function Up(t,e){for(var n=-1,r=t==null?0:t.length,s=0,i=[];++n<r;){var a=t[n];e(a,n,t)&&(i[s++]=a)}return i}var Bp=Up;function Zp(){return[]}var Vp=Zp,Kp=Bp,zp=Vp,qp=Object.prototype,Hp=qp.propertyIsEnumerable,ui=Object.getOwnPropertySymbols,Qp=ui?function(t){return t==null?[]:(t=Object(t),Kp(ui(t),function(e){return Hp.call(t,e)}))}:zp,Wp=Qp;function Gp(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var Jp=Gp,Tn={exports:{}};function Yp(){return!1}var Xp=Yp;Tn.exports;(function(t,e){var n=Oe,r=Xp,s=e&&!e.nodeType&&e,i=s&&!0&&t&&!t.nodeType&&t,a=i&&i.exports===s,o=a?n.Buffer:void 0,u=o?o.isBuffer:void 0,l=u||r;t.exports=l})(Tn,Tn.exports);var qa=Tn.exports,eg=9007199254740991,tg=/^(?:0|[1-9]\d*)$/;function ng(t,e){var n=typeof t;return e=e??eg,!!e&&(n=="number"||n!="symbol"&&tg.test(t))&&t>-1&&t%1==0&&t<e}var fs=ng,rg=9007199254740991;function sg(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=rg}var ds=sg,ig=Jt,ag=ds,og=Yt,ug="[object Arguments]",lg="[object Array]",cg="[object Boolean]",fg="[object Date]",dg="[object Error]",hg="[object Function]",pg="[object Map]",gg="[object Number]",mg="[object Object]",yg="[object RegExp]",vg="[object Set]",bg="[object String]",wg="[object WeakMap]",_g="[object ArrayBuffer]",xg="[object DataView]",Sg="[object Float32Array]",Og="[object Float64Array]",Eg="[object Int8Array]",Tg="[object Int16Array]",Cg="[object Int32Array]",$g="[object Uint8Array]",kg="[object Uint8ClampedArray]",Ag="[object Uint16Array]",Pg="[object Uint32Array]",B={};B[Sg]=B[Og]=B[Eg]=B[Tg]=B[Cg]=B[$g]=B[kg]=B[Ag]=B[Pg]=!0;B[ug]=B[lg]=B[_g]=B[cg]=B[xg]=B[fg]=B[dg]=B[hg]=B[pg]=B[gg]=B[mg]=B[yg]=B[vg]=B[bg]=B[wg]=!1;function Rg(t){return og(t)&&ag(t.length)&&!!B[ig(t)]}var Lg=Rg;function Ng(t){return function(e){return t(e)}}var Ha=Ng,Cn={exports:{}};Cn.exports;(function(t,e){var n=Ra,r=e&&!e.nodeType&&e,s=r&&!0&&t&&!t.nodeType&&t,i=s&&s.exports===r,a=i&&n.process,o=function(){try{var u=s&&s.require&&s.require("util").types;return u||a&&a.binding&&a.binding("util")}catch{}}();t.exports=o})(Cn,Cn.exports);var Ig=Cn.exports,jg=Lg,Mg=Ha,li=Ig,ci=li&&li.isTypedArray,Dg=ci?Mg(ci):jg,Qa=Dg,Fg=Jp,Ug=rs,Bg=be,Zg=qa,Vg=fs,Kg=Qa,zg=Object.prototype,qg=zg.hasOwnProperty;function Hg(t,e){var n=Bg(t),r=!n&&Ug(t),s=!n&&!r&&Zg(t),i=!n&&!r&&!s&&Kg(t),a=n||r||s||i,o=a?Fg(t.length,String):[],u=o.length;for(var l in t)(e||qg.call(t,l))&&!(a&&(l=="length"||s&&(l=="offset"||l=="parent")||i&&(l=="buffer"||l=="byteLength"||l=="byteOffset")||Vg(l,u)))&&o.push(l);return o}var Qg=Hg,Wg=Object.prototype;function Gg(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||Wg;return t===n}var Jg=Gg;function Yg(t,e){return function(n){return t(e(n))}}var Xg=Yg,em=Xg,tm=em(Object.keys,Object),nm=tm,rm=Jg,sm=nm,im=Object.prototype,am=im.hasOwnProperty;function om(t){if(!rm(t))return sm(t);var e=[];for(var n in Object(t))am.call(t,n)&&n!="constructor"&&e.push(n);return e}var um=om,lm=Ma,cm=ds;function fm(t){return t!=null&&cm(t.length)&&!lm(t)}var ar=fm,dm=Qg,hm=um,pm=ar;function gm(t){return pm(t)?dm(t):hm(t)}var hs=gm,mm=Fp,ym=Wp,vm=hs;function bm(t){return mm(t,vm,ym)}var wm=bm,fi=wm,_m=1,xm=Object.prototype,Sm=xm.hasOwnProperty;function Om(t,e,n,r,s,i){var a=n&_m,o=fi(t),u=o.length,l=fi(e),c=l.length;if(u!=c&&!a)return!1;for(var f=u;f--;){var d=o[f];if(!(a?d in e:Sm.call(e,d)))return!1}var g=i.get(t),h=i.get(e);if(g&&h)return g==e&&h==t;var p=!0;i.set(t,e),i.set(e,t);for(var m=a;++f<u;){d=o[f];var v=t[d],_=e[d];if(r)var T=a?r(_,v,d,e,t,i):r(v,_,d,t,e,i);if(!(T===void 0?v===_||s(v,_,n,r,i):T)){p=!1;break}m||(m=d=="constructor")}if(p&&!m){var y=t.constructor,b=e.constructor;y!=b&&"constructor"in t&&"constructor"in e&&!(typeof y=="function"&&y instanceof y&&typeof b=="function"&&b instanceof b)&&(p=!1)}return i.delete(t),i.delete(e),p}var Em=Om,Tm=Je,Cm=Oe,$m=Tm(Cm,"DataView"),km=$m,Am=Je,Pm=Oe,Rm=Am(Pm,"Promise"),Lm=Rm,Nm=Je,Im=Oe,jm=Nm(Im,"Set"),Wa=jm,Mm=Je,Dm=Oe,Fm=Mm(Dm,"WeakMap"),Um=Fm,jr=km,Mr=as,Dr=Lm,Fr=Wa,Ur=Um,Ga=Jt,wt=Da,di="[object Map]",Bm="[object Object]",hi="[object Promise]",pi="[object Set]",gi="[object WeakMap]",mi="[object DataView]",Zm=wt(jr),Vm=wt(Mr),Km=wt(Dr),zm=wt(Fr),qm=wt(Ur),Ze=Ga;(jr&&Ze(new jr(new ArrayBuffer(1)))!=mi||Mr&&Ze(new Mr)!=di||Dr&&Ze(Dr.resolve())!=hi||Fr&&Ze(new Fr)!=pi||Ur&&Ze(new Ur)!=gi)&&(Ze=function(t){var e=Ga(t),n=e==Bm?t.constructor:void 0,r=n?wt(n):"";if(r)switch(r){case Zm:return mi;case Vm:return di;case Km:return hi;case zm:return pi;case qm:return gi}return e});var Hm=Ze,br=Za,Qm=za,Wm=Ip,Gm=Em,yi=Hm,vi=be,bi=qa,Jm=Qa,Ym=1,wi="[object Arguments]",_i="[object Array]",sn="[object Object]",Xm=Object.prototype,xi=Xm.hasOwnProperty;function ey(t,e,n,r,s,i){var a=vi(t),o=vi(e),u=a?_i:yi(t),l=o?_i:yi(e);u=u==wi?sn:u,l=l==wi?sn:l;var c=u==sn,f=l==sn,d=u==l;if(d&&bi(t)){if(!bi(e))return!1;a=!0,c=!1}if(d&&!c)return i||(i=new br),a||Jm(t)?Qm(t,e,n,r,s,i):Wm(t,e,u,n,r,s,i);if(!(n&Ym)){var g=c&&xi.call(t,"__wrapped__"),h=f&&xi.call(e,"__wrapped__");if(g||h){var p=g?t.value():t,m=h?e.value():e;return i||(i=new br),s(p,m,n,r,i)}}return d?(i||(i=new br),Gm(t,e,n,r,s,i)):!1}var ty=ey,ny=ty,Si=Yt;function Ja(t,e,n,r,s){return t===e?!0:t==null||e==null||!Si(t)&&!Si(e)?t!==t&&e!==e:ny(t,e,n,r,Ja,s)}var Ya=Ja,ry=Za,sy=Ya,iy=1,ay=2;function oy(t,e,n,r){var s=n.length,i=s,a=!r;if(t==null)return!i;for(t=Object(t);s--;){var o=n[s];if(a&&o[2]?o[1]!==t[o[0]]:!(o[0]in t))return!1}for(;++s<i;){o=n[s];var u=o[0],l=t[u],c=o[1];if(a&&o[2]){if(l===void 0&&!(u in t))return!1}else{var f=new ry;if(r)var d=r(l,c,u,t,e,f);if(!(d===void 0?sy(c,l,iy|ay,r,f):d))return!1}}return!0}var uy=oy,ly=er;function cy(t){return t===t&&!ly(t)}var Xa=cy,fy=Xa,dy=hs;function hy(t){for(var e=dy(t),n=e.length;n--;){var r=e[n],s=t[r];e[n]=[r,s,fy(s)]}return e}var py=hy;function gy(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}var eo=gy,my=uy,yy=py,vy=eo;function by(t){var e=yy(t);return e.length==1&&e[0][2]?vy(e[0][0],e[0][1]):function(n){return n===t||my(n,t,e)}}var wy=by,_y=ls;function xy(t,e,n){var r=t==null?void 0:_y(t,e);return r===void 0?n:r}var Sy=xy;function Oy(t,e){return t!=null&&e in Object(t)}var Ey=Oy,Ty=Ba,Cy=rs,$y=be,ky=fs,Ay=ds,Py=ir;function Ry(t,e,n){e=Ty(e,t);for(var r=-1,s=e.length,i=!1;++r<s;){var a=Py(e[r]);if(!(i=t!=null&&n(t,a)))break;t=t[a]}return i||++r!=s?i:(s=t==null?0:t.length,!!s&&Ay(s)&&ky(a,s)&&($y(t)||Cy(t)))}var Ly=Ry,Ny=Ey,Iy=Ly;function jy(t,e){return t!=null&&Iy(t,e,Ny)}var My=jy,Dy=Ya,Fy=Sy,Uy=My,By=ss,Zy=Xa,Vy=eo,Ky=ir,zy=1,qy=2;function Hy(t,e){return By(t)&&Zy(e)?Vy(Ky(t),e):function(n){var r=Fy(n,t);return r===void 0&&r===e?Uy(n,t):Dy(e,r,zy|qy)}}var Qy=Hy;function Wy(t){return t}var or=Wy;function Gy(t){return function(e){return e?.[t]}}var Jy=Gy,Yy=ls;function Xy(t){return function(e){return Yy(e,t)}}var ev=Xy,tv=Jy,nv=ev,rv=ss,sv=ir;function iv(t){return rv(t)?tv(sv(t)):nv(t)}var av=iv,ov=wy,uv=Qy,lv=or,cv=be,fv=av;function dv(t){return typeof t=="function"?t:t==null?lv:typeof t=="object"?cv(t)?uv(t[0],t[1]):ov(t):fv(t)}var hv=dv;function pv(t){return function(e,n,r){for(var s=-1,i=Object(e),a=r(e),o=a.length;o--;){var u=a[t?o:++s];if(n(i[u],u,i)===!1)break}return e}}var gv=pv,mv=gv,yv=mv(),vv=yv,bv=vv,wv=hs;function _v(t,e){return t&&bv(t,e,wv)}var xv=_v,Sv=ar;function Ov(t,e){return function(n,r){if(n==null)return n;if(!Sv(n))return t(n,r);for(var s=n.length,i=e?s:-1,a=Object(n);(e?i--:++i<s)&&r(a[i],i,a)!==!1;);return n}}var Ev=Ov,Tv=xv,Cv=Ev,$v=Cv(Tv),kv=$v,Av=kv,Pv=ar;function Rv(t,e){var n=-1,r=Pv(t)?Array(t.length):[];return Av(t,function(s,i,a){r[++n]=e(s,i,a)}),r}var Lv=Rv;function Nv(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}var Iv=Nv,Oi=Xn;function jv(t,e){if(t!==e){var n=t!==void 0,r=t===null,s=t===t,i=Oi(t),a=e!==void 0,o=e===null,u=e===e,l=Oi(e);if(!o&&!l&&!i&&t>e||i&&a&&u&&!o&&!l||r&&a&&u||!n&&u||!s)return 1;if(!r&&!i&&!l&&t<e||l&&n&&s&&!r&&!i||o&&n&&s||!a&&s||!u)return-1}return 0}var Mv=jv,Dv=Mv;function Fv(t,e,n){for(var r=-1,s=t.criteria,i=e.criteria,a=s.length,o=n.length;++r<a;){var u=Dv(s[r],i[r]);if(u){if(r>=o)return u;var l=n[r];return u*(l=="desc"?-1:1)}}return t.index-e.index}var Uv=Fv,wr=ja,Bv=ls,Zv=hv,Vv=Lv,Kv=Iv,zv=Ha,qv=Uv,Hv=or,Qv=be;function Wv(t,e,n){e.length?e=wr(e,function(i){return Qv(i)?function(a){return Bv(a,i.length===1?i[0]:i)}:i}):e=[Hv];var r=-1;e=wr(e,zv(Zv));var s=Vv(t,function(i,a,o){var u=wr(e,function(l){return l(i)});return{criteria:u,index:++r,value:i}});return Kv(s,function(i,a){return qv(i,a,n)})}var Gv=Wv;function Jv(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var Yv=Jv,Xv=Yv,Ei=Math.max;function eb(t,e,n){return e=Ei(e===void 0?t.length-1:e,0),function(){for(var r=arguments,s=-1,i=Ei(r.length-e,0),a=Array(i);++s<i;)a[s]=r[e+s];s=-1;for(var o=Array(e+1);++s<e;)o[s]=r[s];return o[e]=n(a),Xv(t,this,o)}}var tb=eb;function nb(t){return function(){return t}}var rb=nb,sb=Je,ib=function(){try{var t=sb(Object,"defineProperty");return t({},"",{}),t}catch{}}(),ab=ib,ob=rb,Ti=ab,ub=or,lb=Ti?function(t,e){return Ti(t,"toString",{configurable:!0,enumerable:!1,value:ob(e),writable:!0})}:ub,cb=lb,fb=800,db=16,hb=Date.now;function pb(t){var e=0,n=0;return function(){var r=hb(),s=db-(r-n);if(n=r,s>0){if(++e>=fb)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var gb=pb,mb=cb,yb=gb,vb=yb(mb),bb=vb,wb=or,_b=tb,xb=bb;function Sb(t,e){return xb(_b(t,e,wb),t+"")}var Ob=Sb,Eb=is,Tb=ar,Cb=fs,$b=er;function kb(t,e,n){if(!$b(n))return!1;var r=typeof e;return(r=="number"?Tb(n)&&Cb(e,n.length):r=="string"&&e in n)?Eb(n[e],t):!1}var Ab=kb,Pb=Nc,Rb=Gv,Lb=Ob,Ci=Ab,Nb=Lb(function(t,e){if(t==null)return[];var n=e.length;return n>1&&Ci(t,e[0],e[1])?e=[]:n>2&&Ci(e[0],e[1],e[2])&&(e=[e[0]]),Rb(t,Pb(e,1),[])}),Ib=Nb;const jb=Aa(Ib);function Mb(t,e,n,r){for(var s=t.length,i=n+(r?1:-1);r?i--:++i<s;)if(e(t[i],i,t))return i;return-1}var Db=Mb;function Fb(t){return t!==t}var Ub=Fb;function Bb(t,e,n){for(var r=n-1,s=t.length;++r<s;)if(t[r]===e)return r;return-1}var Zb=Bb,Vb=Db,Kb=Ub,zb=Zb;function qb(t,e,n){return e===e?zb(t,e,n):Vb(t,Kb,n)}var Hb=qb,Qb=Hb;function Wb(t,e){var n=t==null?0:t.length;return!!n&&Qb(t,e,0)>-1}var Gb=Wb;function Jb(t,e,n){for(var r=-1,s=t==null?0:t.length;++r<s;)if(n(e,t[r]))return!0;return!1}var Yb=Jb;function Xb(){}var ew=Xb,_r=Wa,tw=ew,nw=cs,rw=1/0,sw=_r&&1/nw(new _r([,-0]))[1]==rw?function(t){return new _r(t)}:tw,iw=sw,aw=Va,ow=Gb,uw=Yb,lw=Ka,cw=iw,fw=cs,dw=200;function hw(t,e,n){var r=-1,s=ow,i=t.length,a=!0,o=[],u=o;if(n)a=!1,s=uw;else if(i>=dw){var l=e?null:cw(t);if(l)return fw(l);a=!1,s=lw,u=new aw}else u=e?[]:o;e:for(;++r<i;){var c=t[r],f=e?e(c):c;if(c=n||c!==0?c:0,a&&f===f){for(var d=u.length;d--;)if(u[d]===f)continue e;e&&u.push(f),o.push(c)}else s(u,f,n)||(u!==o&&u.push(f),o.push(c))}return o}var pw=hw,gw=pw;function mw(t){return t&&t.length?gw(t):[]}var yw=mw;const ln=Aa(yw);function bx(t){return 3e4<=t&&t<4e4}var wx=0,Br=1,_x=3,xx=5,Sx=6,vw=7,Ox=9735;const xr={sakura:{id:"sakura",name:"Sakura",brightness:"light",className:"theme-sakura",rabbitIconPath:"images/rabbit_app_256.png"},cinnamon:{id:"cinnamon",name:"Cinnamon",brightness:"light",className:"theme-cinnamon",rabbitIconPath:"images/rabbit_muted_256.png"},yozakura:{id:"yozakura",name:"Yozakura",brightness:"dark",className:"theme-yozakura",rabbitIconPath:"images/rabbit_256.png"},"midnight-blue":{id:"midnight-blue",name:"Midnight Blue",brightness:"dark",className:"theme-midnight-blue",rabbitIconPath:"images/rabbit_muted_256.png"},black:{id:"black",name:"Black",brightness:"dark",className:"theme-black",rabbitIconPath:"images/rabbit_muted_256.png"}},bw=["wss://relay.damus.io","wss://nos.lol","wss://relay.snort.social"],to=["wss://relay-jp.nostr.wirednet.jp","wss://nostr.holybea.com","wss://r.kojira.io","wss://yabu.me"],ww=[...to,"wss://nostr.holybea.com","wss://nostr-relay.nokotaro.com"],Ex=["wss://relay.nostr.band","wss://nostrja-kari-nip50.heguro.com","wss://search.nos.today"],_w=()=>{const t=[];if(window.crypto?.getRandomValues!=null){const s=crypto.getRandomValues(new Uint8Array(16));t.push(...s)}else for(let s=0;s<16;s+=1)t[s]=Math.round(Math.random()*65535)>>8;t[6]=t[6]&15|64,t[8]=t[8]&63|128;const e=String.fromCharCode(...t);return btoa(e).replaceAll("+","-").replaceAll("/","_").replaceAll("=","")},_t=()=>({id:_w(),width:"medium"}),xw=t=>({..._t(),columnType:"Following",...t}),Sw=t=>({..._t(),columnType:"Notification",...t}),Ow=t=>({..._t(),columnType:"Relays",...t}),Ew=()=>Ow({name:"",relayUrls:to,contentFilter:{filterType:"Regex",regex:"[\\p{sc=Hiragana}\\p{sc=Katakana}]",flag:"u"}}),Tw=t=>({..._t(),columnType:"Posts",...t}),Cw=t=>({..._t(),columnType:"Reactions",...t}),Tx=t=>({..._t(),columnType:"Search",...t}),$w=(t,e,n)=>{const r=t();return{getItem(s){const i=r.getItem(s);return i!=null?n(i):null},setItem(s,i){const a=e(i);r.setItem(s,a)}}},kw=(t,e,n)=>{const[r,s]=q(!1),[i,a]=Yr(e);return To(()=>{const o=n.getItem(t);o!=null&&a(o),s(!0)}),dt(()=>{r()&&n.setItem(t,i)}),[i,a]};var j;(function(t){t.assertEqual=s=>s;function e(s){}t.assertIs=e;function n(s){throw new Error}t.assertNever=n,t.arrayToEnum=s=>{const i={};for(const a of s)i[a]=a;return i},t.getValidEnumValues=s=>{const i=t.objectKeys(s).filter(o=>typeof s[s[o]]!="number"),a={};for(const o of i)a[o]=s[o];return t.objectValues(a)},t.objectValues=s=>t.objectKeys(s).map(function(i){return s[i]}),t.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const i=[];for(const a in s)Object.prototype.hasOwnProperty.call(s,a)&&i.push(a);return i},t.find=(s,i)=>{for(const a of s)if(i(a))return a},t.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&isFinite(s)&&Math.floor(s)===s;function r(s,i=" | "){return s.map(a=>typeof a=="string"?`'${a}'`:a).join(i)}t.joinValues=r,t.jsonStringifyReplacer=(s,i)=>typeof i=="bigint"?i.toString():i})(j||(j={}));var Zr;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})(Zr||(Zr={}));const x=j.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Re=t=>{switch(typeof t){case"undefined":return x.undefined;case"string":return x.string;case"number":return isNaN(t)?x.nan:x.number;case"boolean":return x.boolean;case"function":return x.function;case"bigint":return x.bigint;case"symbol":return x.symbol;case"object":return Array.isArray(t)?x.array:t===null?x.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?x.promise:typeof Map<"u"&&t instanceof Map?x.map:typeof Set<"u"&&t instanceof Set?x.set:typeof Date<"u"&&t instanceof Date?x.date:x.object;default:return x.unknown}},w=j.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),Aw=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:");class ae extends Error{constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){const n=e||function(i){return i.message},r={_errors:[]},s=i=>{for(const a of i.issues)if(a.code==="invalid_union")a.unionErrors.map(s);else if(a.code==="invalid_return_type")s(a.returnTypeError);else if(a.code==="invalid_arguments")s(a.argumentsError);else if(a.path.length===0)r._errors.push(n(a));else{let o=r,u=0;for(;u<a.path.length;){const l=a.path[u];u===a.path.length-1?(o[l]=o[l]||{_errors:[]},o[l]._errors.push(n(a))):o[l]=o[l]||{_errors:[]},o=o[l],u++}}};return s(this),r}toString(){return this.message}get message(){return JSON.stringify(this.issues,j.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},r=[];for(const s of this.issues)s.path.length>0?(n[s.path[0]]=n[s.path[0]]||[],n[s.path[0]].push(e(s))):r.push(e(s));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}ae.create=t=>new ae(t);const It=(t,e)=>{let n;switch(t.code){case w.invalid_type:t.received===x.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case w.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,j.jsonStringifyReplacer)}`;break;case w.unrecognized_keys:n=`Unrecognized key(s) in object: ${j.joinValues(t.keys,", ")}`;break;case w.invalid_union:n="Invalid input";break;case w.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${j.joinValues(t.options)}`;break;case w.invalid_enum_value:n=`Invalid enum value. Expected ${j.joinValues(t.options)}, received '${t.received}'`;break;case w.invalid_arguments:n="Invalid function arguments";break;case w.invalid_return_type:n="Invalid function return type";break;case w.invalid_date:n="Invalid date";break;case w.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:j.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case w.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case w.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case w.custom:n="Invalid input";break;case w.invalid_intersection_types:n="Intersection results could not be merged";break;case w.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case w.not_finite:n="Number must be finite";break;default:n=e.defaultError,j.assertNever(t)}return{message:n}};let no=It;function Pw(t){no=t}function $n(){return no}const kn=t=>{const{data:e,path:n,errorMaps:r,issueData:s}=t,i=[...n,...s.path||[]],a={...s,path:i};let o="";const u=r.filter(l=>!!l).slice().reverse();for(const l of u)o=l(a,{data:e,defaultError:o}).message;return{...s,path:i,message:s.message||o}},Rw=[];function S(t,e){const n=kn({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,$n(),It].filter(r=>!!r)});t.common.issues.push(n)}class G{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const r=[];for(const s of n){if(s.status==="aborted")return k;s.status==="dirty"&&e.dirty(),r.push(s.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,n){const r=[];for(const s of n)r.push({key:await s.key,value:await s.value});return G.mergeObjectSync(e,r)}static mergeObjectSync(e,n){const r={};for(const s of n){const{key:i,value:a}=s;if(i.status==="aborted"||a.status==="aborted")return k;i.status==="dirty"&&e.dirty(),a.status==="dirty"&&e.dirty(),i.value!=="__proto__"&&(typeof a.value<"u"||s.alwaysSet)&&(r[i.value]=a.value)}return{status:e.value,value:r}}}const k=Object.freeze({status:"aborted"}),ro=t=>({status:"dirty",value:t}),J=t=>({status:"valid",value:t}),Vr=t=>t.status==="aborted",Kr=t=>t.status==="dirty",jt=t=>t.status==="valid",An=t=>typeof Promise<"u"&&t instanceof Promise;var E;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e?.message})(E||(E={}));class me{constructor(e,n,r,s){this._cachedPath=[],this.parent=e,this.data=n,this._path=r,this._key=s}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const $i=(t,e)=>{if(jt(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new ae(t.common.issues);return this._error=n,this._error}}};function A(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:r,description:s}=t;if(e&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:s}:{errorMap:(a,o)=>a.code!=="invalid_type"?{message:o.defaultError}:typeof o.data>"u"?{message:r??o.defaultError}:{message:n??o.defaultError},description:s}}class P{constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return Re(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:Re(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new G,ctx:{common:e.parent.common,data:e.data,parsedType:Re(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(An(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const r=this.safeParse(e,n);if(r.success)return r.data;throw r.error}safeParse(e,n){var r;const s={common:{issues:[],async:(r=n?.async)!==null&&r!==void 0?r:!1,contextualErrorMap:n?.errorMap},path:n?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Re(e)},i=this._parseSync({data:e,path:s.path,parent:s});return $i(s,i)}async parseAsync(e,n){const r=await this.safeParseAsync(e,n);if(r.success)return r.data;throw r.error}async safeParseAsync(e,n){const r={common:{issues:[],contextualErrorMap:n?.errorMap,async:!0},path:n?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Re(e)},s=this._parse({data:e,path:r.path,parent:r}),i=await(An(s)?s:Promise.resolve(s));return $i(r,i)}refine(e,n){const r=s=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(s):n;return this._refinement((s,i)=>{const a=e(s),o=()=>i.addIssue({code:w.custom,...r(s)});return typeof Promise<"u"&&a instanceof Promise?a.then(u=>u?!0:(o(),!1)):a?!0:(o(),!1)})}refinement(e,n){return this._refinement((r,s)=>e(r)?!0:(s.addIssue(typeof n=="function"?n(r,s):n),!1))}_refinement(e){return new le({schema:this,typeName:$.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}optional(){return xe.create(this,this._def)}nullable(){return We.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return oe.create(this,this._def)}promise(){return ct.create(this,this._def)}or(e){return Ut.create([this,e],this._def)}and(e){return Bt.create(this,e,this._def)}transform(e){return new le({...A(this._def),schema:this,typeName:$.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new qt({...A(this._def),innerType:this,defaultValue:n,typeName:$.ZodDefault})}brand(){return new io({typeName:$.ZodBranded,type:this,...A(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new Nn({...A(this._def),innerType:this,catchValue:n,typeName:$.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return Xt.create(this,e)}readonly(){return jn.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const Lw=/^c[^\s-]{8,}$/i,Nw=/^[a-z][a-z0-9]*$/,Iw=/^[0-9A-HJKMNP-TV-Z]{26}$/,jw=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,Mw=/^(?!\.)(?!.*\.\.)([A-Z0-9_+-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,Dw="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Sr;const Fw=/^(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))$/,Uw=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,Bw=t=>t.precision?t.offset?new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${t.precision}}(([+-]\\d{2}(:?\\d{2})?)|Z)$`):new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${t.precision}}Z$`):t.precision===0?t.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}Z$"):t.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?Z$");function Zw(t,e){return!!((e==="v4"||!e)&&Fw.test(t)||(e==="v6"||!e)&&Uw.test(t))}class se extends P{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==x.string){const i=this._getOrReturnCtx(e);return S(i,{code:w.invalid_type,expected:x.string,received:i.parsedType}),k}const r=new G;let s;for(const i of this._def.checks)if(i.kind==="min")e.data.length<i.value&&(s=this._getOrReturnCtx(e,s),S(s,{code:w.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="max")e.data.length>i.value&&(s=this._getOrReturnCtx(e,s),S(s,{code:w.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="length"){const a=e.data.length>i.value,o=e.data.length<i.value;(a||o)&&(s=this._getOrReturnCtx(e,s),a?S(s,{code:w.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):o&&S(s,{code:w.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),r.dirty())}else if(i.kind==="email")Mw.test(e.data)||(s=this._getOrReturnCtx(e,s),S(s,{validation:"email",code:w.invalid_string,message:i.message}),r.dirty());else if(i.kind==="emoji")Sr||(Sr=new RegExp(Dw,"u")),Sr.test(e.data)||(s=this._getOrReturnCtx(e,s),S(s,{validation:"emoji",code:w.invalid_string,message:i.message}),r.dirty());else if(i.kind==="uuid")jw.test(e.data)||(s=this._getOrReturnCtx(e,s),S(s,{validation:"uuid",code:w.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid")Lw.test(e.data)||(s=this._getOrReturnCtx(e,s),S(s,{validation:"cuid",code:w.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid2")Nw.test(e.data)||(s=this._getOrReturnCtx(e,s),S(s,{validation:"cuid2",code:w.invalid_string,message:i.message}),r.dirty());else if(i.kind==="ulid")Iw.test(e.data)||(s=this._getOrReturnCtx(e,s),S(s,{validation:"ulid",code:w.invalid_string,message:i.message}),r.dirty());else if(i.kind==="url")try{new URL(e.data)}catch{s=this._getOrReturnCtx(e,s),S(s,{validation:"url",code:w.invalid_string,message:i.message}),r.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(e.data)||(s=this._getOrReturnCtx(e,s),S(s,{validation:"regex",code:w.invalid_string,message:i.message}),r.dirty())):i.kind==="trim"?e.data=e.data.trim():i.kind==="includes"?e.data.includes(i.value,i.position)||(s=this._getOrReturnCtx(e,s),S(s,{code:w.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),r.dirty()):i.kind==="toLowerCase"?e.data=e.data.toLowerCase():i.kind==="toUpperCase"?e.data=e.data.toUpperCase():i.kind==="startsWith"?e.data.startsWith(i.value)||(s=this._getOrReturnCtx(e,s),S(s,{code:w.invalid_string,validation:{startsWith:i.value},message:i.message}),r.dirty()):i.kind==="endsWith"?e.data.endsWith(i.value)||(s=this._getOrReturnCtx(e,s),S(s,{code:w.invalid_string,validation:{endsWith:i.value},message:i.message}),r.dirty()):i.kind==="datetime"?Bw(i).test(e.data)||(s=this._getOrReturnCtx(e,s),S(s,{code:w.invalid_string,validation:"datetime",message:i.message}),r.dirty()):i.kind==="ip"?Zw(e.data,i.version)||(s=this._getOrReturnCtx(e,s),S(s,{validation:"ip",code:w.invalid_string,message:i.message}),r.dirty()):j.assertNever(i);return{status:r.value,value:e.data}}_regex(e,n,r){return this.refinement(s=>e.test(s),{validation:n,code:w.invalid_string,...E.errToObj(r)})}_addCheck(e){return new se({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...E.errToObj(e)})}url(e){return this._addCheck({kind:"url",...E.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...E.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...E.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...E.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...E.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...E.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...E.errToObj(e)})}datetime(e){var n;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof e?.precision>"u"?null:e?.precision,offset:(n=e?.offset)!==null&&n!==void 0?n:!1,...E.errToObj(e?.message)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...E.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n?.position,...E.errToObj(n?.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...E.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...E.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...E.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...E.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,...E.errToObj(n)})}nonempty(e){return this.min(1,E.errToObj(e))}trim(){return new se({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new se({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new se({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}se.create=t=>{var e;return new se({checks:[],typeName:$.ZodString,coerce:(e=t?.coerce)!==null&&e!==void 0?e:!1,...A(t)})};function Vw(t,e){const n=(t.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,s=n>r?n:r,i=parseInt(t.toFixed(s).replace(".","")),a=parseInt(e.toFixed(s).replace(".",""));return i%a/Math.pow(10,s)}class Ie extends P{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==x.number){const i=this._getOrReturnCtx(e);return S(i,{code:w.invalid_type,expected:x.number,received:i.parsedType}),k}let r;const s=new G;for(const i of this._def.checks)i.kind==="int"?j.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),S(r,{code:w.invalid_type,expected:"integer",received:"float",message:i.message}),s.dirty()):i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(r=this._getOrReturnCtx(e,r),S(r,{code:w.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(r=this._getOrReturnCtx(e,r),S(r,{code:w.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="multipleOf"?Vw(e.data,i.value)!==0&&(r=this._getOrReturnCtx(e,r),S(r,{code:w.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):i.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),S(r,{code:w.not_finite,message:i.message}),s.dirty()):j.assertNever(i);return{status:s.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,E.toString(n))}gt(e,n){return this.setLimit("min",e,!1,E.toString(n))}lte(e,n){return this.setLimit("max",e,!0,E.toString(n))}lt(e,n){return this.setLimit("max",e,!1,E.toString(n))}setLimit(e,n,r,s){return new Ie({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:E.toString(s)}]})}_addCheck(e){return new Ie({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:E.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:E.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:E.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:E.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:E.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:E.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:E.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:E.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:E.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&j.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(n)&&Number.isFinite(e)}}Ie.create=t=>new Ie({checks:[],typeName:$.ZodNumber,coerce:t?.coerce||!1,...A(t)});class je extends P{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce&&(e.data=BigInt(e.data)),this._getType(e)!==x.bigint){const i=this._getOrReturnCtx(e);return S(i,{code:w.invalid_type,expected:x.bigint,received:i.parsedType}),k}let r;const s=new G;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(r=this._getOrReturnCtx(e,r),S(r,{code:w.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(r=this._getOrReturnCtx(e,r),S(r,{code:w.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="multipleOf"?e.data%i.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),S(r,{code:w.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):j.assertNever(i);return{status:s.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,E.toString(n))}gt(e,n){return this.setLimit("min",e,!1,E.toString(n))}lte(e,n){return this.setLimit("max",e,!0,E.toString(n))}lt(e,n){return this.setLimit("max",e,!1,E.toString(n))}setLimit(e,n,r,s){return new je({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:E.toString(s)}]})}_addCheck(e){return new je({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:E.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:E.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:E.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:E.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:E.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}je.create=t=>{var e;return new je({checks:[],typeName:$.ZodBigInt,coerce:(e=t?.coerce)!==null&&e!==void 0?e:!1,...A(t)})};class Mt extends P{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==x.boolean){const r=this._getOrReturnCtx(e);return S(r,{code:w.invalid_type,expected:x.boolean,received:r.parsedType}),k}return J(e.data)}}Mt.create=t=>new Mt({typeName:$.ZodBoolean,coerce:t?.coerce||!1,...A(t)});class He extends P{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==x.date){const i=this._getOrReturnCtx(e);return S(i,{code:w.invalid_type,expected:x.date,received:i.parsedType}),k}if(isNaN(e.data.getTime())){const i=this._getOrReturnCtx(e);return S(i,{code:w.invalid_date}),k}const r=new G;let s;for(const i of this._def.checks)i.kind==="min"?e.data.getTime()<i.value&&(s=this._getOrReturnCtx(e,s),S(s,{code:w.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),r.dirty()):i.kind==="max"?e.data.getTime()>i.value&&(s=this._getOrReturnCtx(e,s),S(s,{code:w.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),r.dirty()):j.assertNever(i);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new He({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:E.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:E.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}He.create=t=>new He({checks:[],coerce:t?.coerce||!1,typeName:$.ZodDate,...A(t)});class Pn extends P{_parse(e){if(this._getType(e)!==x.symbol){const r=this._getOrReturnCtx(e);return S(r,{code:w.invalid_type,expected:x.symbol,received:r.parsedType}),k}return J(e.data)}}Pn.create=t=>new Pn({typeName:$.ZodSymbol,...A(t)});class Dt extends P{_parse(e){if(this._getType(e)!==x.undefined){const r=this._getOrReturnCtx(e);return S(r,{code:w.invalid_type,expected:x.undefined,received:r.parsedType}),k}return J(e.data)}}Dt.create=t=>new Dt({typeName:$.ZodUndefined,...A(t)});class Ft extends P{_parse(e){if(this._getType(e)!==x.null){const r=this._getOrReturnCtx(e);return S(r,{code:w.invalid_type,expected:x.null,received:r.parsedType}),k}return J(e.data)}}Ft.create=t=>new Ft({typeName:$.ZodNull,...A(t)});class lt extends P{constructor(){super(...arguments),this._any=!0}_parse(e){return J(e.data)}}lt.create=t=>new lt({typeName:$.ZodAny,...A(t)});class ze extends P{constructor(){super(...arguments),this._unknown=!0}_parse(e){return J(e.data)}}ze.create=t=>new ze({typeName:$.ZodUnknown,...A(t)});class Se extends P{_parse(e){const n=this._getOrReturnCtx(e);return S(n,{code:w.invalid_type,expected:x.never,received:n.parsedType}),k}}Se.create=t=>new Se({typeName:$.ZodNever,...A(t)});class Rn extends P{_parse(e){if(this._getType(e)!==x.undefined){const r=this._getOrReturnCtx(e);return S(r,{code:w.invalid_type,expected:x.void,received:r.parsedType}),k}return J(e.data)}}Rn.create=t=>new Rn({typeName:$.ZodVoid,...A(t)});class oe extends P{_parse(e){const{ctx:n,status:r}=this._processInputParams(e),s=this._def;if(n.parsedType!==x.array)return S(n,{code:w.invalid_type,expected:x.array,received:n.parsedType}),k;if(s.exactLength!==null){const a=n.data.length>s.exactLength.value,o=n.data.length<s.exactLength.value;(a||o)&&(S(n,{code:a?w.too_big:w.too_small,minimum:o?s.exactLength.value:void 0,maximum:a?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),r.dirty())}if(s.minLength!==null&&n.data.length<s.minLength.value&&(S(n,{code:w.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),r.dirty()),s.maxLength!==null&&n.data.length>s.maxLength.value&&(S(n,{code:w.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((a,o)=>s.type._parseAsync(new me(n,a,n.path,o)))).then(a=>G.mergeArray(r,a));const i=[...n.data].map((a,o)=>s.type._parseSync(new me(n,a,n.path,o)));return G.mergeArray(r,i)}get element(){return this._def.type}min(e,n){return new oe({...this._def,minLength:{value:e,message:E.toString(n)}})}max(e,n){return new oe({...this._def,maxLength:{value:e,message:E.toString(n)}})}length(e,n){return new oe({...this._def,exactLength:{value:e,message:E.toString(n)}})}nonempty(e){return this.min(1,e)}}oe.create=(t,e)=>new oe({type:t,minLength:null,maxLength:null,exactLength:null,typeName:$.ZodArray,...A(e)});function nt(t){if(t instanceof V){const e={};for(const n in t.shape){const r=t.shape[n];e[n]=xe.create(nt(r))}return new V({...t._def,shape:()=>e})}else return t instanceof oe?new oe({...t._def,type:nt(t.element)}):t instanceof xe?xe.create(nt(t.unwrap())):t instanceof We?We.create(nt(t.unwrap())):t instanceof ye?ye.create(t.items.map(e=>nt(e))):t}class V extends P{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=j.objectKeys(e);return this._cached={shape:e,keys:n}}_parse(e){if(this._getType(e)!==x.object){const l=this._getOrReturnCtx(e);return S(l,{code:w.invalid_type,expected:x.object,received:l.parsedType}),k}const{status:r,ctx:s}=this._processInputParams(e),{shape:i,keys:a}=this._getCached(),o=[];if(!(this._def.catchall instanceof Se&&this._def.unknownKeys==="strip"))for(const l in s.data)a.includes(l)||o.push(l);const u=[];for(const l of a){const c=i[l],f=s.data[l];u.push({key:{status:"valid",value:l},value:c._parse(new me(s,f,s.path,l)),alwaysSet:l in s.data})}if(this._def.catchall instanceof Se){const l=this._def.unknownKeys;if(l==="passthrough")for(const c of o)u.push({key:{status:"valid",value:c},value:{status:"valid",value:s.data[c]}});else if(l==="strict")o.length>0&&(S(s,{code:w.unrecognized_keys,keys:o}),r.dirty());else if(l!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const l=this._def.catchall;for(const c of o){const f=s.data[c];u.push({key:{status:"valid",value:c},value:l._parse(new me(s,f,s.path,c)),alwaysSet:c in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const l=[];for(const c of u){const f=await c.key;l.push({key:f,value:await c.value,alwaysSet:c.alwaysSet})}return l}).then(l=>G.mergeObjectSync(r,l)):G.mergeObjectSync(r,u)}get shape(){return this._def.shape()}strict(e){return E.errToObj,new V({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,r)=>{var s,i,a,o;const u=(a=(i=(s=this._def).errorMap)===null||i===void 0?void 0:i.call(s,n,r).message)!==null&&a!==void 0?a:r.defaultError;return n.code==="unrecognized_keys"?{message:(o=E.errToObj(e).message)!==null&&o!==void 0?o:u}:{message:u}}}:{}})}strip(){return new V({...this._def,unknownKeys:"strip"})}passthrough(){return new V({...this._def,unknownKeys:"passthrough"})}extend(e){return new V({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new V({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:$.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new V({...this._def,catchall:e})}pick(e){const n={};return j.objectKeys(e).forEach(r=>{e[r]&&this.shape[r]&&(n[r]=this.shape[r])}),new V({...this._def,shape:()=>n})}omit(e){const n={};return j.objectKeys(this.shape).forEach(r=>{e[r]||(n[r]=this.shape[r])}),new V({...this._def,shape:()=>n})}deepPartial(){return nt(this)}partial(e){const n={};return j.objectKeys(this.shape).forEach(r=>{const s=this.shape[r];e&&!e[r]?n[r]=s:n[r]=s.optional()}),new V({...this._def,shape:()=>n})}required(e){const n={};return j.objectKeys(this.shape).forEach(r=>{if(e&&!e[r])n[r]=this.shape[r];else{let i=this.shape[r];for(;i instanceof xe;)i=i._def.innerType;n[r]=i}}),new V({...this._def,shape:()=>n})}keyof(){return so(j.objectKeys(this.shape))}}V.create=(t,e)=>new V({shape:()=>t,unknownKeys:"strip",catchall:Se.create(),typeName:$.ZodObject,...A(e)});V.strictCreate=(t,e)=>new V({shape:()=>t,unknownKeys:"strict",catchall:Se.create(),typeName:$.ZodObject,...A(e)});V.lazycreate=(t,e)=>new V({shape:t,unknownKeys:"strip",catchall:Se.create(),typeName:$.ZodObject,...A(e)});class Ut extends P{_parse(e){const{ctx:n}=this._processInputParams(e),r=this._def.options;function s(i){for(const o of i)if(o.result.status==="valid")return o.result;for(const o of i)if(o.result.status==="dirty")return n.common.issues.push(...o.ctx.common.issues),o.result;const a=i.map(o=>new ae(o.ctx.common.issues));return S(n,{code:w.invalid_union,unionErrors:a}),k}if(n.common.async)return Promise.all(r.map(async i=>{const a={...n,common:{...n.common,issues:[]},parent:null};return{result:await i._parseAsync({data:n.data,path:n.path,parent:a}),ctx:a}})).then(s);{let i;const a=[];for(const u of r){const l={...n,common:{...n.common,issues:[]},parent:null},c=u._parseSync({data:n.data,path:n.path,parent:l});if(c.status==="valid")return c;c.status==="dirty"&&!i&&(i={result:c,ctx:l}),l.common.issues.length&&a.push(l.common.issues)}if(i)return n.common.issues.push(...i.ctx.common.issues),i.result;const o=a.map(u=>new ae(u));return S(n,{code:w.invalid_union,unionErrors:o}),k}}get options(){return this._def.options}}Ut.create=(t,e)=>new Ut({options:t,typeName:$.ZodUnion,...A(e)});const cn=t=>t instanceof Vt?cn(t.schema):t instanceof le?cn(t.innerType()):t instanceof Kt?[t.value]:t instanceof Me?t.options:t instanceof zt?Object.keys(t.enum):t instanceof qt?cn(t._def.innerType):t instanceof Dt?[void 0]:t instanceof Ft?[null]:null;class ur extends P{_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==x.object)return S(n,{code:w.invalid_type,expected:x.object,received:n.parsedType}),k;const r=this.discriminator,s=n.data[r],i=this.optionsMap.get(s);return i?n.common.async?i._parseAsync({data:n.data,path:n.path,parent:n}):i._parseSync({data:n.data,path:n.path,parent:n}):(S(n,{code:w.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),k)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,n,r){const s=new Map;for(const i of n){const a=cn(i.shape[e]);if(!a)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const o of a){if(s.has(o))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(o)}`);s.set(o,i)}}return new ur({typeName:$.ZodDiscriminatedUnion,discriminator:e,options:n,optionsMap:s,...A(r)})}}function zr(t,e){const n=Re(t),r=Re(e);if(t===e)return{valid:!0,data:t};if(n===x.object&&r===x.object){const s=j.objectKeys(e),i=j.objectKeys(t).filter(o=>s.indexOf(o)!==-1),a={...t,...e};for(const o of i){const u=zr(t[o],e[o]);if(!u.valid)return{valid:!1};a[o]=u.data}return{valid:!0,data:a}}else if(n===x.array&&r===x.array){if(t.length!==e.length)return{valid:!1};const s=[];for(let i=0;i<t.length;i++){const a=t[i],o=e[i],u=zr(a,o);if(!u.valid)return{valid:!1};s.push(u.data)}return{valid:!0,data:s}}else return n===x.date&&r===x.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class Bt extends P{_parse(e){const{status:n,ctx:r}=this._processInputParams(e),s=(i,a)=>{if(Vr(i)||Vr(a))return k;const o=zr(i.value,a.value);return o.valid?((Kr(i)||Kr(a))&&n.dirty(),{status:n.value,value:o.data}):(S(r,{code:w.invalid_intersection_types}),k)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([i,a])=>s(i,a)):s(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}Bt.create=(t,e,n)=>new Bt({left:t,right:e,typeName:$.ZodIntersection,...A(n)});class ye extends P{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==x.array)return S(r,{code:w.invalid_type,expected:x.array,received:r.parsedType}),k;if(r.data.length<this._def.items.length)return S(r,{code:w.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),k;!this._def.rest&&r.data.length>this._def.items.length&&(S(r,{code:w.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const i=[...r.data].map((a,o)=>{const u=this._def.items[o]||this._def.rest;return u?u._parse(new me(r,a,r.path,o)):null}).filter(a=>!!a);return r.common.async?Promise.all(i).then(a=>G.mergeArray(n,a)):G.mergeArray(n,i)}get items(){return this._def.items}rest(e){return new ye({...this._def,rest:e})}}ye.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new ye({items:t,typeName:$.ZodTuple,rest:null,...A(e)})};class Zt extends P{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==x.object)return S(r,{code:w.invalid_type,expected:x.object,received:r.parsedType}),k;const s=[],i=this._def.keyType,a=this._def.valueType;for(const o in r.data)s.push({key:i._parse(new me(r,o,r.path,o)),value:a._parse(new me(r,r.data[o],r.path,o))});return r.common.async?G.mergeObjectAsync(n,s):G.mergeObjectSync(n,s)}get element(){return this._def.valueType}static create(e,n,r){return n instanceof P?new Zt({keyType:e,valueType:n,typeName:$.ZodRecord,...A(r)}):new Zt({keyType:se.create(),valueType:e,typeName:$.ZodRecord,...A(n)})}}class Ln extends P{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==x.map)return S(r,{code:w.invalid_type,expected:x.map,received:r.parsedType}),k;const s=this._def.keyType,i=this._def.valueType,a=[...r.data.entries()].map(([o,u],l)=>({key:s._parse(new me(r,o,r.path,[l,"key"])),value:i._parse(new me(r,u,r.path,[l,"value"]))}));if(r.common.async){const o=new Map;return Promise.resolve().then(async()=>{for(const u of a){const l=await u.key,c=await u.value;if(l.status==="aborted"||c.status==="aborted")return k;(l.status==="dirty"||c.status==="dirty")&&n.dirty(),o.set(l.value,c.value)}return{status:n.value,value:o}})}else{const o=new Map;for(const u of a){const l=u.key,c=u.value;if(l.status==="aborted"||c.status==="aborted")return k;(l.status==="dirty"||c.status==="dirty")&&n.dirty(),o.set(l.value,c.value)}return{status:n.value,value:o}}}}Ln.create=(t,e,n)=>new Ln({valueType:e,keyType:t,typeName:$.ZodMap,...A(n)});class Qe extends P{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==x.set)return S(r,{code:w.invalid_type,expected:x.set,received:r.parsedType}),k;const s=this._def;s.minSize!==null&&r.data.size<s.minSize.value&&(S(r,{code:w.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),n.dirty()),s.maxSize!==null&&r.data.size>s.maxSize.value&&(S(r,{code:w.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),n.dirty());const i=this._def.valueType;function a(u){const l=new Set;for(const c of u){if(c.status==="aborted")return k;c.status==="dirty"&&n.dirty(),l.add(c.value)}return{status:n.value,value:l}}const o=[...r.data.values()].map((u,l)=>i._parse(new me(r,u,r.path,l)));return r.common.async?Promise.all(o).then(u=>a(u)):a(o)}min(e,n){return new Qe({...this._def,minSize:{value:e,message:E.toString(n)}})}max(e,n){return new Qe({...this._def,maxSize:{value:e,message:E.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}Qe.create=(t,e)=>new Qe({valueType:t,minSize:null,maxSize:null,typeName:$.ZodSet,...A(e)});class st extends P{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==x.function)return S(n,{code:w.invalid_type,expected:x.function,received:n.parsedType}),k;function r(o,u){return kn({data:o,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,$n(),It].filter(l=>!!l),issueData:{code:w.invalid_arguments,argumentsError:u}})}function s(o,u){return kn({data:o,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,$n(),It].filter(l=>!!l),issueData:{code:w.invalid_return_type,returnTypeError:u}})}const i={errorMap:n.common.contextualErrorMap},a=n.data;if(this._def.returns instanceof ct){const o=this;return J(async function(...u){const l=new ae([]),c=await o._def.args.parseAsync(u,i).catch(g=>{throw l.addIssue(r(u,g)),l}),f=await Reflect.apply(a,this,c);return await o._def.returns._def.type.parseAsync(f,i).catch(g=>{throw l.addIssue(s(f,g)),l})})}else{const o=this;return J(function(...u){const l=o._def.args.safeParse(u,i);if(!l.success)throw new ae([r(u,l.error)]);const c=Reflect.apply(a,this,l.data),f=o._def.returns.safeParse(c,i);if(!f.success)throw new ae([s(c,f.error)]);return f.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new st({...this._def,args:ye.create(e).rest(ze.create())})}returns(e){return new st({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,n,r){return new st({args:e||ye.create([]).rest(ze.create()),returns:n||ze.create(),typeName:$.ZodFunction,...A(r)})}}class Vt extends P{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}Vt.create=(t,e)=>new Vt({getter:t,typeName:$.ZodLazy,...A(e)});class Kt extends P{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return S(n,{received:n.data,code:w.invalid_literal,expected:this._def.value}),k}return{status:"valid",value:e.data}}get value(){return this._def.value}}Kt.create=(t,e)=>new Kt({value:t,typeName:$.ZodLiteral,...A(e)});function so(t,e){return new Me({values:t,typeName:$.ZodEnum,...A(e)})}class Me extends P{_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),r=this._def.values;return S(n,{expected:j.joinValues(r),received:n.parsedType,code:w.invalid_type}),k}if(this._def.values.indexOf(e.data)===-1){const n=this._getOrReturnCtx(e),r=this._def.values;return S(n,{received:n.data,code:w.invalid_enum_value,options:r}),k}return J(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e){return Me.create(e)}exclude(e){return Me.create(this.options.filter(n=>!e.includes(n)))}}Me.create=so;class zt extends P{_parse(e){const n=j.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==x.string&&r.parsedType!==x.number){const s=j.objectValues(n);return S(r,{expected:j.joinValues(s),received:r.parsedType,code:w.invalid_type}),k}if(n.indexOf(e.data)===-1){const s=j.objectValues(n);return S(r,{received:r.data,code:w.invalid_enum_value,options:s}),k}return J(e.data)}get enum(){return this._def.values}}zt.create=(t,e)=>new zt({values:t,typeName:$.ZodNativeEnum,...A(e)});class ct extends P{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==x.promise&&n.common.async===!1)return S(n,{code:w.invalid_type,expected:x.promise,received:n.parsedType}),k;const r=n.parsedType===x.promise?n.data:Promise.resolve(n.data);return J(r.then(s=>this._def.type.parseAsync(s,{path:n.path,errorMap:n.common.contextualErrorMap})))}}ct.create=(t,e)=>new ct({type:t,typeName:$.ZodPromise,...A(e)});class le extends P{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===$.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:r}=this._processInputParams(e),s=this._def.effect||null,i={addIssue:a=>{S(r,a),a.fatal?n.abort():n.dirty()},get path(){return r.path}};if(i.addIssue=i.addIssue.bind(i),s.type==="preprocess"){const a=s.transform(r.data,i);return r.common.issues.length?{status:"dirty",value:r.data}:r.common.async?Promise.resolve(a).then(o=>this._def.schema._parseAsync({data:o,path:r.path,parent:r})):this._def.schema._parseSync({data:a,path:r.path,parent:r})}if(s.type==="refinement"){const a=o=>{const u=s.refinement(o,i);if(r.common.async)return Promise.resolve(u);if(u instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return o};if(r.common.async===!1){const o=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return o.status==="aborted"?k:(o.status==="dirty"&&n.dirty(),a(o.value),{status:n.value,value:o.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(o=>o.status==="aborted"?k:(o.status==="dirty"&&n.dirty(),a(o.value).then(()=>({status:n.value,value:o.value}))))}if(s.type==="transform")if(r.common.async===!1){const a=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!jt(a))return a;const o=s.transform(a.value,i);if(o instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:o}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(a=>jt(a)?Promise.resolve(s.transform(a.value,i)).then(o=>({status:n.value,value:o})):a);j.assertNever(s)}}le.create=(t,e,n)=>new le({schema:t,typeName:$.ZodEffects,effect:e,...A(n)});le.createWithPreprocess=(t,e,n)=>new le({schema:e,effect:{type:"preprocess",transform:t},typeName:$.ZodEffects,...A(n)});class xe extends P{_parse(e){return this._getType(e)===x.undefined?J(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}xe.create=(t,e)=>new xe({innerType:t,typeName:$.ZodOptional,...A(e)});class We extends P{_parse(e){return this._getType(e)===x.null?J(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}We.create=(t,e)=>new We({innerType:t,typeName:$.ZodNullable,...A(e)});class qt extends P{_parse(e){const{ctx:n}=this._processInputParams(e);let r=n.data;return n.parsedType===x.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}qt.create=(t,e)=>new qt({innerType:t,typeName:$.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...A(e)});class Nn extends P{_parse(e){const{ctx:n}=this._processInputParams(e),r={...n,common:{...n.common,issues:[]}},s=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return An(s)?s.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new ae(r.common.issues)},input:r.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new ae(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}Nn.create=(t,e)=>new Nn({innerType:t,typeName:$.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...A(e)});class In extends P{_parse(e){if(this._getType(e)!==x.nan){const r=this._getOrReturnCtx(e);return S(r,{code:w.invalid_type,expected:x.nan,received:r.parsedType}),k}return{status:"valid",value:e.data}}}In.create=t=>new In({typeName:$.ZodNaN,...A(t)});const Kw=Symbol("zod_brand");class io extends P{_parse(e){const{ctx:n}=this._processInputParams(e),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class Xt extends P{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?k:i.status==="dirty"?(n.dirty(),ro(i.value)):this._def.out._parseAsync({data:i.value,path:r.path,parent:r})})();{const s=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?k:s.status==="dirty"?(n.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:r.path,parent:r})}}static create(e,n){return new Xt({in:e,out:n,typeName:$.ZodPipeline})}}class jn extends P{_parse(e){const n=this._def.innerType._parse(e);return jt(n)&&(n.value=Object.freeze(n.value)),n}}jn.create=(t,e)=>new jn({innerType:t,typeName:$.ZodReadonly,...A(e)});const ao=(t,e={},n)=>t?lt.create().superRefine((r,s)=>{var i,a;if(!t(r)){const o=typeof e=="function"?e(r):typeof e=="string"?{message:e}:e,u=(a=(i=o.fatal)!==null&&i!==void 0?i:n)!==null&&a!==void 0?a:!0,l=typeof o=="string"?{message:o}:o;s.addIssue({code:"custom",...l,fatal:u})}}):lt.create(),zw={object:V.lazycreate};var $;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})($||($={}));const qw=(t,e={message:`Input not instance of ${t.name}`})=>ao(n=>n instanceof t,e),oo=se.create,uo=Ie.create,Hw=In.create,Qw=je.create,lo=Mt.create,Ww=He.create,Gw=Pn.create,Jw=Dt.create,Yw=Ft.create,Xw=lt.create,e1=ze.create,t1=Se.create,n1=Rn.create,r1=oe.create,s1=V.create,i1=V.strictCreate,a1=Ut.create,o1=ur.create,u1=Bt.create,l1=ye.create,c1=Zt.create,f1=Ln.create,d1=Qe.create,h1=st.create,p1=Vt.create,g1=Kt.create,m1=Me.create,y1=zt.create,v1=ct.create,ki=le.create,b1=xe.create,w1=We.create,_1=le.createWithPreprocess,x1=Xt.create,S1=()=>oo().optional(),O1=()=>uo().optional(),E1=()=>lo().optional(),T1={string:t=>se.create({...t,coerce:!0}),number:t=>Ie.create({...t,coerce:!0}),boolean:t=>Mt.create({...t,coerce:!0}),bigint:t=>je.create({...t,coerce:!0}),date:t=>He.create({...t,coerce:!0})},C1=k;var D=Object.freeze({__proto__:null,defaultErrorMap:It,setErrorMap:Pw,getErrorMap:$n,makeIssue:kn,EMPTY_PATH:Rw,addIssueToContext:S,ParseStatus:G,INVALID:k,DIRTY:ro,OK:J,isAborted:Vr,isDirty:Kr,isValid:jt,isAsync:An,get util(){return j},get objectUtil(){return Zr},ZodParsedType:x,getParsedType:Re,ZodType:P,ZodString:se,ZodNumber:Ie,ZodBigInt:je,ZodBoolean:Mt,ZodDate:He,ZodSymbol:Pn,ZodUndefined:Dt,ZodNull:Ft,ZodAny:lt,ZodUnknown:ze,ZodNever:Se,ZodVoid:Rn,ZodArray:oe,ZodObject:V,ZodUnion:Ut,ZodDiscriminatedUnion:ur,ZodIntersection:Bt,ZodTuple:ye,ZodRecord:Zt,ZodMap:Ln,ZodSet:Qe,ZodFunction:st,ZodLazy:Vt,ZodLiteral:Kt,ZodEnum:Me,ZodNativeEnum:zt,ZodPromise:ct,ZodEffects:le,ZodTransformer:le,ZodOptional:xe,ZodNullable:We,ZodDefault:qt,ZodCatch:Nn,ZodNaN:In,BRAND:Kw,ZodBranded:io,ZodPipeline:Xt,ZodReadonly:jn,custom:ao,Schema:P,ZodSchema:P,late:zw,get ZodFirstPartyTypeKind(){return $},coerce:T1,any:Xw,array:r1,bigint:Qw,boolean:lo,date:Ww,discriminatedUnion:o1,effect:ki,enum:m1,function:h1,instanceof:qw,intersection:u1,lazy:p1,literal:g1,map:f1,nan:Hw,nativeEnum:y1,never:t1,null:Yw,nullable:w1,number:uo,object:s1,oboolean:E1,onumber:O1,optional:b1,ostring:S1,pipeline:x1,preprocess:_1,promise:v1,record:c1,set:d1,strictObject:i1,string:oo,symbol:Gw,transformer:ki,tuple:l1,undefined:Jw,union:a1,unknown:e1,void:n1,NEVER:C1,ZodIssueCode:w,quotelessJson:Aw,ZodError:ae});const $1=/^[0-9a-f]{64}$/,De=t=>{const e=typeof t=="string"&&t.length===64&&$1.test(t);return e||console.warn("invalid id is ignored: ",t),e},qr=t=>e=>t.safeParse(e).success,k1=D.array(D.array(D.string())),A1=D.tuple([D.literal("emoji"),D.string().regex(/^\w+$/,{message:"shortcode can includes only alpahnumeric characters and underscore"}),D.string().url()]);class P1{findTagsByName(e){return this.tags.filter(([n])=>n===e)}findFirstTagByName(e){return this.tags.find(([n])=>n===e)}findLastTagByName(e){return this.tags.findLast(([n])=>n===e)}pTags(){return this.tags.filter(([e,n])=>e==="p"&&De(n))}eTags(){return this.tags.filter(([e,n])=>e==="e"&&De(n))}emojiTags(){return this.tags.filter(qr(A1))}taggedPubkeys(){return ln(this.pTags().map(([,e])=>e))}taggedEventIds(){return this.eTags().map(([,e])=>e)}lastTaggedEventId(){const e=this.taggedEventIds();if(e.length!==0)return e[e.length-1]}getEmojiUrl(e){const n=this.emojiTags().find(([,s])=>s===e);if(n==null)return;const[,,r]=n;return r}}const R1=/^[0-9a-f]{128}$/,L1=t=>typeof t=="string"&&t.length===128&&R1.test(t),N1=D.object({id:D.string().refine(De),pubkey:D.string().refine(De),created_at:D.number().int(),kind:D.number().int(),tags:k1,content:D.string(),sig:D.string().refine(L1)});class Ge extends P1{constructor(e){super(),this.rawEvent=e}get id(){return this.rawEvent.id}get sig(){return this.rawEvent.sig}get kind(){return this.rawEvent.kind}get pubkey(){return this.rawEvent.pubkey}get createdAt(){return this.rawEvent.created_at}get content(){return this.rawEvent.content}get tags(){return this.rawEvent.tags}createdAtAsDate(){return new Date(this.rawEvent.created_at*1e3)}}const I1=/^\p{Emoji}[\p{Emoji_Component}\p{Emoji_Modifier}\p{Emoji_Presentation}]*$/u,Ai=/^:(\w+):$/,j1=t=>{if(t.isLikeOrDislike())return{type:"LikeDislike",content:t.content};if(t.isEmoji())return{type:"Emoji",content:t.content};if(t.isCustomEmoji()){const e=t.getShortcode(),n=t.getUrl();if(e!=null&&n!=null)return{type:"CustomEmoji",content:t.content,shortcode:e,url:n}}return{type:"Unknown",content:t.content}};class M1 extends Ge{constructor(e){if(e.kind!==vw)throw new TypeError("kind should be 7");super(e)}isLike(){return this.content==="+"}isDislike(){return this.content==="-"}isLikeOrDislike(){return this.isLike()||this.isDislike()}isEmoji(){return I1.test(this.content)}isCustomEmoji(){return Ai.test(this.content)}getShortcode(){return this.content.match(Ai)?.[1]}getUrl(){const e=this.getShortcode();if(e!=null)return this.getEmojiUrl(e)}toReactionTypes(){return j1(this)}}/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const ps=t=>t instanceof Uint8Array,Cx=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),$x=(t,e)=>t<<32-e|t>>>e,D1=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!D1)throw new Error("Non little-endian hardware is not supported");const F1=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function Ue(t){if(!ps(t))throw new Error("Uint8Array expected");let e="";for(let n=0;n<t.length;n++)e+=F1[t[n]];return e}function Mn(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);const e=t.length;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);const n=new Uint8Array(e/2);for(let r=0;r<n.length;r++){const s=r*2,i=t.slice(s,s+2),a=Number.parseInt(i,16);if(Number.isNaN(a)||a<0)throw new Error("Invalid byte sequence");n[r]=a}return n}function U1(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function B1(t){if(typeof t=="string"&&(t=U1(t)),!ps(t))throw new Error(`expected Uint8Array, got ${typeof t}`);return t}function Z1(...t){const e=new Uint8Array(t.reduce((r,s)=>r+s.length,0));let n=0;return t.forEach(r=>{if(!ps(r))throw new Error("Uint8Array expected");e.set(r,n),n+=r.length}),e}class kx{clone(){return this._cloneInto()}}function Ax(t){const e=r=>t().update(B1(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}/*! scure-base - MIT License (c) 2022 Paul Miller (paulmillr.com) */function xt(t){if(!Number.isSafeInteger(t))throw new Error(`Wrong integer: ${t}`)}function Ee(...t){const e=(s,i)=>a=>s(i(a)),n=Array.from(t).reverse().reduce((s,i)=>s?e(s,i.encode):i.encode,void 0),r=t.reduce((s,i)=>s?e(s,i.decode):i.decode,void 0);return{encode:n,decode:r}}function Te(t){return{encode:e=>{if(!Array.isArray(e)||e.length&&typeof e[0]!="number")throw new Error("alphabet.encode input should be an array of numbers");return e.map(n=>{if(xt(n),n<0||n>=t.length)throw new Error(`Digit index outside alphabet: ${n} (alphabet: ${t.length})`);return t[n]})},decode:e=>{if(!Array.isArray(e)||e.length&&typeof e[0]!="string")throw new Error("alphabet.decode input should be array of strings");return e.map(n=>{if(typeof n!="string")throw new Error(`alphabet.decode: not string element=${n}`);const r=t.indexOf(n);if(r===-1)throw new Error(`Unknown letter: "${n}". Allowed: ${t}`);return r})}}}function Ce(t=""){if(typeof t!="string")throw new Error("join separator should be string");return{encode:e=>{if(!Array.isArray(e)||e.length&&typeof e[0]!="string")throw new Error("join.encode input should be array of strings");for(let n of e)if(typeof n!="string")throw new Error(`join.encode: non-string input=${n}`);return e.join(t)},decode:e=>{if(typeof e!="string")throw new Error("join.decode input should be string");return e.split(t)}}}function lr(t,e="="){if(xt(t),typeof e!="string")throw new Error("padding chr should be string");return{encode(n){if(!Array.isArray(n)||n.length&&typeof n[0]!="string")throw new Error("padding.encode input should be array of strings");for(let r of n)if(typeof r!="string")throw new Error(`padding.encode: non-string input=${r}`);for(;n.length*t%8;)n.push(e);return n},decode(n){if(!Array.isArray(n)||n.length&&typeof n[0]!="string")throw new Error("padding.encode input should be array of strings");for(let s of n)if(typeof s!="string")throw new Error(`padding.decode: non-string input=${s}`);let r=n.length;if(r*t%8)throw new Error("Invalid padding: string should have whole number of bytes");for(;r>0&&n[r-1]===e;r--)if(!((r-1)*t%8))throw new Error("Invalid padding: string has too much padding");return n.slice(0,r)}}}function co(t){if(typeof t!="function")throw new Error("normalize fn should be function");return{encode:e=>e,decode:e=>t(e)}}function Pi(t,e,n){if(e<2)throw new Error(`convertRadix: wrong from=${e}, base cannot be less than 2`);if(n<2)throw new Error(`convertRadix: wrong to=${n}, base cannot be less than 2`);if(!Array.isArray(t))throw new Error("convertRadix: data should be array");if(!t.length)return[];let r=0;const s=[],i=Array.from(t);for(i.forEach(a=>{if(xt(a),a<0||a>=e)throw new Error(`Wrong integer: ${a}`)});;){let a=0,o=!0;for(let u=r;u<i.length;u++){const l=i[u],c=e*a+l;if(!Number.isSafeInteger(c)||e*a/e!==a||c-l!==e*a)throw new Error("convertRadix: carry overflow");if(a=c%n,i[u]=Math.floor(c/n),!Number.isSafeInteger(i[u])||i[u]*n+a!==c)throw new Error("convertRadix: carry overflow");if(o)i[u]?o=!1:r=u;else continue}if(s.push(a),o)break}for(let a=0;a<t.length-1&&t[a]===0;a++)s.push(0);return s.reverse()}const fo=(t,e)=>e?fo(e,t%e):t,Dn=(t,e)=>t+(e-fo(t,e));function Hr(t,e,n,r){if(!Array.isArray(t))throw new Error("convertRadix2: data should be array");if(e<=0||e>32)throw new Error(`convertRadix2: wrong from=${e}`);if(n<=0||n>32)throw new Error(`convertRadix2: wrong to=${n}`);if(Dn(e,n)>32)throw new Error(`convertRadix2: carry overflow from=${e} to=${n} carryBits=${Dn(e,n)}`);let s=0,i=0;const a=2**n-1,o=[];for(const u of t){if(xt(u),u>=2**e)throw new Error(`convertRadix2: invalid data word=${u} from=${e}`);if(s=s<<e|u,i+e>32)throw new Error(`convertRadix2: carry overflow pos=${i} from=${e}`);for(i+=e;i>=n;i-=n)o.push((s>>i-n&a)>>>0);s&=2**i-1}if(s=s<<n-i&a,!r&&i>=e)throw new Error("Excess padding");if(!r&&s)throw new Error(`Non-zero padding: ${s}`);return r&&i>0&&o.push(s>>>0),o}function V1(t){return xt(t),{encode:e=>{if(!(e instanceof Uint8Array))throw new Error("radix.encode input should be Uint8Array");return Pi(Array.from(e),2**8,t)},decode:e=>{if(!Array.isArray(e)||e.length&&typeof e[0]!="number")throw new Error("radix.decode input should be array of strings");return Uint8Array.from(Pi(e,t,2**8))}}}function Fe(t,e=!1){if(xt(t),t<=0||t>32)throw new Error("radix2: bits should be in (0..32]");if(Dn(8,t)>32||Dn(t,8)>32)throw new Error("radix2: carry overflow");return{encode:n=>{if(!(n instanceof Uint8Array))throw new Error("radix2.encode input should be Uint8Array");return Hr(Array.from(n),8,t,!e)},decode:n=>{if(!Array.isArray(n)||n.length&&typeof n[0]!="number")throw new Error("radix2.decode input should be array of strings");return Uint8Array.from(Hr(n,t,8,e))}}}function Ri(t){if(typeof t!="function")throw new Error("unsafeWrapper fn should be function");return function(...e){try{return t.apply(null,e)}catch{}}}const K1=Ee(Fe(4),Te("0123456789ABCDEF"),Ce("")),z1=Ee(Fe(5),Te("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),lr(5),Ce(""));Ee(Fe(5),Te("0123456789ABCDEFGHIJKLMNOPQRSTUV"),lr(5),Ce(""));Ee(Fe(5),Te("0123456789ABCDEFGHJKMNPQRSTVWXYZ"),Ce(""),co(t=>t.toUpperCase().replace(/O/g,"0").replace(/[IL]/g,"1")));const q1=Ee(Fe(6),Te("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),lr(6),Ce("")),H1=Ee(Fe(6),Te("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),lr(6),Ce("")),gs=t=>Ee(V1(58),Te(t),Ce("")),Qr=gs("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz");gs("123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ");gs("rpshnaf39wBUDNEGHJKLM4PQRST7VWXYZ2bcdeCg65jkm8oFqi1tuvAxyz");const Li=[0,2,3,5,6,7,9,10,11],Q1={encode(t){let e="";for(let n=0;n<t.length;n+=8){const r=t.subarray(n,n+8);e+=Qr.encode(r).padStart(Li[r.length],"1")}return e},decode(t){let e=[];for(let n=0;n<t.length;n+=11){const r=t.slice(n,n+11),s=Li.indexOf(r.length),i=Qr.decode(r);for(let a=0;a<i.length-s;a++)if(i[a]!==0)throw new Error("base58xmr: wrong padding");e=e.concat(Array.from(i.slice(i.length-s)))}return Uint8Array.from(e)}},Wr=Ee(Te("qpzry9x8gf2tvdw0s3jn54khce6mua7l"),Ce("")),Ni=[996825010,642813549,513874426,1027748829,705979059];function Et(t){const e=t>>25;let n=(t&33554431)<<5;for(let r=0;r<Ni.length;r++)(e>>r&1)===1&&(n^=Ni[r]);return n}function Ii(t,e,n=1){const r=t.length;let s=1;for(let i=0;i<r;i++){const a=t.charCodeAt(i);if(a<33||a>126)throw new Error(`Invalid prefix (${t})`);s=Et(s)^a>>5}s=Et(s);for(let i=0;i<r;i++)s=Et(s)^t.charCodeAt(i)&31;for(let i of e)s=Et(s)^i;for(let i=0;i<6;i++)s=Et(s);return s^=n,Wr.encode(Hr([s%2**30],30,5,!1))}function ho(t){const e=t==="bech32"?1:734539939,n=Fe(5),r=n.decode,s=n.encode,i=Ri(r);function a(c,f,d=90){if(typeof c!="string")throw new Error(`bech32.encode prefix should be string, not ${typeof c}`);if(!Array.isArray(f)||f.length&&typeof f[0]!="number")throw new Error(`bech32.encode words should be array of numbers, not ${typeof f}`);const g=c.length+7+f.length;if(d!==!1&&g>d)throw new TypeError(`Length ${g} exceeds limit ${d}`);return c=c.toLowerCase(),`${c}1${Wr.encode(f)}${Ii(c,f,e)}`}function o(c,f=90){if(typeof c!="string")throw new Error(`bech32.decode input should be string, not ${typeof c}`);if(c.length<8||f!==!1&&c.length>f)throw new TypeError(`Wrong string length: ${c.length} (${c}). Expected (8..${f})`);const d=c.toLowerCase();if(c!==d&&c!==c.toUpperCase())throw new Error("String must be lowercase or uppercase");c=d;const g=c.lastIndexOf("1");if(g===0||g===-1)throw new Error('Letter "1" must be present between prefix and data only');const h=c.slice(0,g),p=c.slice(g+1);if(p.length<6)throw new Error("Data must be at least 6 characters long");const m=Wr.decode(p).slice(0,-6),v=Ii(h,m,e);if(!p.endsWith(v))throw new Error(`Invalid checksum in ${c}: expected "${v}"`);return{prefix:h,words:m}}const u=Ri(o);function l(c){const{prefix:f,words:d}=o(c,!1);return{prefix:f,words:d,bytes:r(d)}}return{encode:a,decode:o,decodeToBytes:l,decodeUnsafe:u,fromWords:r,fromWordsUnsafe:i,toWords:s}}const Fn=ho("bech32");ho("bech32m");const W1={encode:t=>new TextDecoder().decode(t),decode:t=>new TextEncoder().encode(t)},G1=Ee(Fe(4),Te("0123456789abcdef"),Ce(""),co(t=>{if(typeof t!="string"||t.length%2)throw new TypeError(`hex.decode: expected string, got ${typeof t} with length ${t.length}`);return t.toLowerCase()})),J1={utf8:W1,hex:G1,base16:K1,base32:z1,base64:q1,base64url:H1,base58:Qr,base58xmr:Q1};`${Object.keys(J1).join(", ")}`;var Tt=new TextDecoder("utf-8"),Y1=new TextEncoder,po=5e3;function X1(t){const e=new Uint8Array(4);return e[0]=t>>24&255,e[1]=t>>16&255,e[2]=t>>8&255,e[3]=t&255,e}function e_(t){let{prefix:e,words:n}=Fn.decode(t,po),r=new Uint8Array(Fn.fromWords(n));switch(e){case"nprofile":{let s=an(r);if(!s[0]?.[0])throw new Error("missing TLV 0 for nprofile");if(s[0][0].length!==32)throw new Error("TLV 0 should be 32 bytes");return{type:"nprofile",data:{pubkey:Ue(s[0][0]),relays:s[1]?s[1].map(i=>Tt.decode(i)):[]}}}case"nevent":{let s=an(r);if(!s[0]?.[0])throw new Error("missing TLV 0 for nevent");if(s[0][0].length!==32)throw new Error("TLV 0 should be 32 bytes");if(s[2]&&s[2][0].length!==32)throw new Error("TLV 2 should be 32 bytes");if(s[3]&&s[3][0].length!==4)throw new Error("TLV 3 should be 4 bytes");return{type:"nevent",data:{id:Ue(s[0][0]),relays:s[1]?s[1].map(i=>Tt.decode(i)):[],author:s[2]?.[0]?Ue(s[2][0]):void 0,kind:s[3]?.[0]?parseInt(Ue(s[3][0]),16):void 0}}}case"naddr":{let s=an(r);if(!s[0]?.[0])throw new Error("missing TLV 0 for naddr");if(!s[2]?.[0])throw new Error("missing TLV 2 for naddr");if(s[2][0].length!==32)throw new Error("TLV 2 should be 32 bytes");if(!s[3]?.[0])throw new Error("missing TLV 3 for naddr");if(s[3][0].length!==4)throw new Error("TLV 3 should be 4 bytes");return{type:"naddr",data:{identifier:Tt.decode(s[0][0]),pubkey:Ue(s[2][0]),kind:parseInt(Ue(s[3][0]),16),relays:s[1]?s[1].map(i=>Tt.decode(i)):[]}}}case"nrelay":{let s=an(r);if(!s[0]?.[0])throw new Error("missing TLV 0 for nrelay");return{type:"nrelay",data:Tt.decode(s[0][0])}}case"nsec":return{type:e,data:r};case"npub":case"note":return{type:e,data:Ue(r)};default:throw new Error(`unknown prefix ${e}`)}}function an(t){let e={},n=t;for(;n.length>0;){let r=n[0],s=n[1];if(!s)throw new Error(`malformed TLV ${r}`);let i=n.slice(2,2+s);if(n=n.slice(2+s),i.length<s)throw new Error(`not enough data to read on TLV ${r}`);e[r]=e[r]||[],e[r].push(i)}return e}function Px(t){return mo("npub",Mn(t))}function Rx(t){return mo("note",Mn(t))}function go(t,e){let n=Fn.toWords(e);return Fn.encode(t,n,po)}function mo(t,e){return go(t,e)}function Lx(t){let e;t.kind!==void 0&&(e=X1(t.kind));let n=t_({0:[Mn(t.id)],1:(t.relays||[]).map(r=>Y1.encode(r)),2:t.author?[Mn(t.author)]:[],3:e?[new Uint8Array(e)]:[]});return go("nevent",n)}function t_(t){let e=[];return Object.entries(t).forEach(([n,r])=>{r.forEach(s=>{let i=new Uint8Array(s.length+2);i.set([parseInt(n)],0),i.set([s.length],1),i.set(s,2),e.push(i)})}),Z1(...e)}const n_=["reply","root","mention"],r_=/(?<url>(?:https?|wss?):\/\/[-a-zA-Z0-9.]+(:\d{1,5})?(?:\/[-[\]~!$&'()*+.,:;@&=%\w]+|\/)*(?:\?[-[\]~!$&'()*+.,/:;%@&=\w?]+)?(?:#[-[\]~!$&'()*+.,/:;%@\w&=?#]+)?)/g,s_=/(?:#\[(?<idx>\d+)\])/g,i_=/(?<mention>(?<nip19>nostr:)?(?<bech32>(?:npub|note|nprofile|nevent|naddr|nrelay)1[ac-hj-np-z02-9]+))/gi,a_=/#(?<hashtag>[\p{Letter}\p{Number}_]+)/gu,o_=/:(?<emoji>\w+):/gu,u_=t=>{const e=[...t.matchAll(r_),...t.matchAll(s_),...t.matchAll(i_),...t.matchAll(a_),...t.matchAll(o_)].sort((i,a)=>i.index-a.index);let n=0;const r=[],s=i=>{if(i!=null&&i>n){const a=t.slice(n,i),o=r[r.length-1];if(o?.type==="PlainText")o.content+=a;else{const u={type:"PlainText",content:a};r.push(u)}n=i}};return e.forEach(i=>{const{index:a}=i;if(!(a<n)){if(i.groups?.url){s(a);const o={type:"URL",content:i.groups?.url};r.push(o)}else if(i.groups?.idx){const o=parseInt(i.groups.idx,10);s(a),r.push({type:"TagReference",tagIndex:o,content:i[0]})}else if(i.groups?.mention){s(a);try{const o=e_(i.groups.bech32),u={type:"Bech32Entity",content:i[0],data:o,isNIP19:i.groups.nip19==="nostr:"};r.push(u)}catch{console.warn(`ignored invalid bech32 entity: ${i[0]}`),s(a+i[0].length)}}else if(i.groups?.hashtag){s(a);const o=i.groups?.hashtag,u={type:"HashTag",content:i[0],tagName:o};r.push(u)}else if(i.groups?.emoji){s(a);const o=i.groups?.emoji,u={type:"CustomEmoji",content:i[0],shortcode:o};r.push(u)}n=a+i[0].length}}),n<t.length&&s(t.length),r},l_=t=>t==null?!1:n_.includes(t),c_=(t,{tagIndex:e,content:n})=>{const r=t.tags[e];if(r==null)return;const s=r[0];if(s==="p"&&De(r[1]))return{type:"MentionedUser",tagIndex:e,content:n,pubkey:r[1]};if(s==="e"&&De(r[1])){const i=l_(r[3])?r[3]:void 0;return{type:"MentionedEvent",tagIndex:e,content:n,eventId:r[1],marker:i}}},f_=(t,e)=>t.map(n=>{if(n.type==="TagReference"){const r=c_(e,n);return{...n,type:"TagReferenceResolved",reference:r}}if(n.type==="CustomEmoji"){const r=e.getEmojiUrl(n.shortcode);return{...n,type:"CustomEmojiResolved",url:r}}return n}),d_=t=>{const e=t.map((r,s)=>[r,s]).filter(([[r,s]])=>r==="e"&&De(s)),n=(r,s)=>r==="root"||r==="reply"||r==="mention"?r:e.length===1?"reply":s===0?"root":e.length===2||s===e.length-1?"reply":"mention";return e.map(([[,r,s,i],a],o)=>({id:r,relayUrl:(s?.length??0)>0?s:null,marker:n(i,o),index:a}))};class h_ extends Ge{#e;#t;parsed(){if(this.#t!=null)return this.#t;const e=u_(this.content),n=f_(e,this);return this.#t=n,n}markedEventTags(){return this.#e!=null?this.#e:(this.#e=d_(this.tags),this.#e)}replyingToEvent(){return this.markedEventTags().find(({marker:e})=>e==="reply")}rootEvent(){return this.markedEventTags().find(({marker:e})=>e==="root")}mentionedEvents(){return this.markedEventTags().filter(({marker:e})=>e==="mention")}contentWarning(){const e=this.findLastTagByName("content-warning");return e==null?{contentWarning:!1}:{contentWarning:!0,reason:(e[1]?.length??0)>0?e[1]:void 0}}containsEventMention(e){const n=this.rawEvent.tags.findIndex(([r,s])=>r==="e"&&s===e);return this.containsEventNote(e)||this.containsEventMentionIndex(n)}containsEventMentionIndex(e){return e<0||e>=this.rawEvent.tags.length?!1:this.parsed().some(n=>n.type==="TagReferenceResolved"&&n.tagIndex===e)}containsEventNote(e){return this.parsed().some(n=>n.type==="Bech32Entity"&&(n.data.type==="nevent"&&n.data.data.id===e||n.data.type==="note"&&n.data.data===e))}}class p_ extends h_{constructor(e){if(e.kind!==Br)throw new TypeError(`kind should be 1 but it was ${e.kind}`);super(e)}}class g_ extends Ge{relays(){return this.findFirstTagByName("relays")?.slice(1)}lnurl(){return this.findFirstTagByName("lnurl")?.[1]}amountMilliSats(){const e=this.findFirstTagByName("amount")?.[1];return e==null?null:parseInt(e,10)}recipientPubkey(){return this.pTags()[0]?.[1]}amountSats(){const e=this.amountMilliSats();return e==null?null:e/1e3}}var Ht={};Object.defineProperty(Ht,"__esModule",{value:!0});Ht.bech32m=ft=Ht.bech32=void 0;const Un="qpzry9x8gf2tvdw0s3jn54khce6mua7l",yo={};for(let t=0;t<Un.length;t++){const e=Un.charAt(t);yo[e]=t}function it(t){const e=t>>25;return(t&33554431)<<5^-(e>>0&1)&996825010^-(e>>1&1)&642813549^-(e>>2&1)&513874426^-(e>>3&1)&1027748829^-(e>>4&1)&705979059}function ji(t){let e=1;for(let n=0;n<t.length;++n){const r=t.charCodeAt(n);if(r<33||r>126)return"Invalid prefix ("+t+")";e=it(e)^r>>5}e=it(e);for(let n=0;n<t.length;++n){const r=t.charCodeAt(n);e=it(e)^r&31}return e}function ms(t,e,n,r){let s=0,i=0;const a=(1<<n)-1,o=[];for(let u=0;u<t.length;++u)for(s=s<<e|t[u],i+=e;i>=n;)i-=n,o.push(s>>i&a);if(r)i>0&&o.push(s<<n-i&a);else{if(i>=e)return"Excess padding";if(s<<n-i&a)return"Non-zero padding"}return o}function m_(t){return ms(t,8,5,!0)}function y_(t){const e=ms(t,5,8,!1);if(Array.isArray(e))return e}function v_(t){const e=ms(t,5,8,!1);if(Array.isArray(e))return e;throw new Error(e)}function vo(t){let e;t==="bech32"?e=1:e=734539939;function n(a,o,u){if(u=u||90,a.length+7+o.length>u)throw new TypeError("Exceeds length limit");a=a.toLowerCase();let l=ji(a);if(typeof l=="string")throw new Error(l);let c=a+"1";for(let f=0;f<o.length;++f){const d=o[f];if(d>>5)throw new Error("Non 5-bit word");l=it(l)^d,c+=Un.charAt(d)}for(let f=0;f<6;++f)l=it(l);l^=e;for(let f=0;f<6;++f){const d=l>>(5-f)*5&31;c+=Un.charAt(d)}return c}function r(a,o){if(o=o||90,a.length<8)return a+" too short";if(a.length>o)return"Exceeds length limit";const u=a.toLowerCase(),l=a.toUpperCase();if(a!==u&&a!==l)return"Mixed-case string "+a;a=u;const c=a.lastIndexOf("1");if(c===-1)return"No separator character for "+a;if(c===0)return"Missing prefix for "+a;const f=a.slice(0,c),d=a.slice(c+1);if(d.length<6)return"Data too short";let g=ji(f);if(typeof g=="string")return g;const h=[];for(let p=0;p<d.length;++p){const m=d.charAt(p),v=yo[m];if(v===void 0)return"Unknown character "+m;g=it(g)^v,!(p+6>=d.length)&&h.push(v)}return g!==e?"Invalid checksum for "+a:{prefix:f,words:h}}function s(a,o){const u=r(a,o);if(typeof u=="object")return u}function i(a,o){const u=r(a,o);if(typeof u=="object")return u;throw new Error(u)}return{decodeUnsafe:s,decode:i,encode:n,toWords:m_,fromWordsUnsafe:y_,fromWords:v_}}var ft=Ht.bech32=vo("bech32");Ht.bech32m=vo("bech32m");const b_=t=>{if(t.length===0)return 1e8;if(t==="m")return 1e5;if(t==="u")return 100;if(t==="n")return .1;if(t==="p")return 1e-4;throw new Error(`unknown multiplier: ${t}`)},w_=(t,e)=>parseInt(t,10)*b_(e),bo=t=>{const{prefix:e}=ft.decode(t,4e3),n=e.match(/^ln(bc|tb|tbs|bcrt)(?<amount>\d+)(?<multiplier>[munp]?)$/);if(n?.groups==null)throw new Error("invalid invoice format");const{amount:r,multiplier:s}=n.groups;if(s==="p"&&r[r.length-1]!=="0")throw new Error("last decimal of amount is not zero");const i=w_(r,s),a=i*1e3;return{amount:r.length>0?r:void 0,multiplier:s,millisatoshis:a,satoshis:i}},__=D.object({status:D.literal("ERROR"),reason:D.string()}),x_=D.object({callback:D.string().nonempty(),maxSendable:D.number().positive(),minSendable:D.number().positive(),metadata:D.string(),tag:D.literal("payRequest"),allowsNostr:D.optional(D.boolean()),nostrPubkey:D.optional(D.string().refine(De)),commentAllowed:D.optional(D.number())}),Nx=t=>{if(t.length===0)return null;const{prefix:e,words:n}=ft.decode(t,2e3);if(e.toLowerCase()!=="lnurl")return null;const r=ft.fromWords(n);return new TextDecoder("utf-8").decode(new Uint8Array(r))},Ix=t=>{if(t.length===0)return null;const[e,n]=t.split("@");if(n==null)return null;const r=new URL(`https://${n}/`);return r.pathname=`.well-known/lnurlp/${e}`,r.toString()},S_=t=>{const e=new TextEncoder().encode(t),n=ft.toWords(e);return ft.encode("lnurl",n,2e3)},jx=async t=>{const n=await(await fetch(t,{mode:"cors"})).json();if(qr(__)(n))return n;if(!qr(x_)(n))throw new Error("invalid form of endpoint response");return n},Mx=({zapReceipt:t,lnurlPayUrl:e,lnurlProviderPubkey:n})=>{const r=new Ge(t);if(r.pubkey!==n)return{success:!1,reason:"mismatch pubkey of lnurl provider"};const s=r.findFirstTagByName("bolt11")?.[1];if(s==null)return{success:!1,reason:"bolt11 tag is not found"};let i;try{i=bo(s)}catch(c){return{success:!1,reason:`failed to parse bolt11: ${c instanceof Error?c.message:""}`}}const a=r.findFirstTagByName("description")?.[1];if(a==null)return{success:!1,reason:"zap request is not found"};let o;try{o=new Ge(N1.parse(JSON.parse(a)))}catch(c){return{success:!1,reason:`failed to parse description: ${c instanceof Error?c.message:""}`}}const u=o.findFirstTagByName("amount")?.[1];if(u!=null&&i.millisatoshis.toString()!==u)return{success:!1,reason:`amount mismatch: bolt11=${i.millisatoshis}, amountTag=${u}`};const l=o.findFirstTagByName("lnurl")?.[1];return l!=null&&!(l.toLowerCase()===S_(e).toLowerCase()||l===e)?{success:!1,reason:`lnurl mismatch: fromProfile=${e}, request=${l}`}:{success:!0}};class O_ extends Ge{#e;#t;description(){if(this.#t)return this.#t;const e=this.findFirstTagByName("description")?.[1];if(e==null)throw new Error("description should exist");const n=JSON.parse(e);return this.#t=new g_(n),this.#t}bolt11(){if(this.#e!=null)return this.#e;const e=this.findFirstTagByName("bolt11")?.[1];if(e==null)throw new Error("bolt11 should exist");return this.#e=bo(e),this.#e}amountSats(){return this.bolt11().satoshis}senderPubkey(){return this.description().pubkey}zappedEventId(){return this.findFirstTagByName("e")?.[1]}zappedPubkey(){return this.findFirstTagByName("p")?.[1]}}const E_=t=>new Ge(t),Dx=t=>new p_(t),Fx=t=>new M1(t),Ux=t=>new O_(t),T_=()=>{const t=[...bw];return window.navigator.language.includes("ja")&&t.push(...ww),t},wo=()=>({relayUrls:T_(),columns:[],customEmojis:{},colorTheme:{type:"specific",id:"sakura"},dateFormat:"relative",keepOpenPostForm:!1,useEmojiReaction:!0,showEmojiReaction:!0,showMedia:!0,embedding:{twitter:!0,youtube:!0,ogp:!0},hideCount:!1,mutedPubkeys:[],mutedKeywords:[]}),C_=t=>JSON.stringify(t),$_=t=>({...wo(),...JSON.parse(t)}),k_=$w(()=>window.localStorage,C_,$_),[Be,ee]=Ke(()=>kw("RabbitConfig",wo(),k_)),A_=()=>{const t=ka(),e=()=>{const y=Be.colorTheme;return y.type==="specific"&&xr[y.id]!=null?xr[y.id]:xr.sakura},n=y=>{ee("relayUrls",b=>ln([...b,y]))},r=y=>{ee("relayUrls",b=>b.filter(L=>L!==y))},s=y=>{ee("mutedPubkeys",b=>ln([...b,y]))},i=y=>{ee("mutedPubkeys",b=>b.filter(L=>L!==y))},a=y=>{ee("mutedKeywords",b=>ln([...b,y]))},o=y=>{ee("mutedKeywords",b=>b.filter(L=>L!==y))},u=y=>{ee("columns",b=>{const L=b.findIndex(I=>I.id===y.id);if(L>=0){const I=[...b];return I.splice(L,1,y),I}return[...b,y]})},l=(y,b)=>{ee("columns",L=>{const I=b-1,Y=Math.max(Math.min(I,L.length),0),O=L.findIndex(X=>X.id===y);if(O<0||Y===O)return L;console.log(O,Y);const C=[...L],[M]=C.splice(O,1);return C.splice(Y,0,M),C})},c=y=>{ee("columns",b=>b.filter(L=>L.id!==y))},f=y=>{ee("customEmojis",b=>({...b,[y.shortcode]:y}))},d=y=>{ee("customEmojis",b=>{const L=Object.fromEntries(y.map(I=>[I.shortcode,I]));return{...b,...L}})},g=y=>{ee("customEmojis",b=>({...b,[y]:void 0}))},h=y=>Be.customEmojis[y],p=y=>jb(Object.values(Be.customEmojis).filter(({shortcode:b})=>b.includes(y)),[b=>b.shortcode.length]),m=y=>Be.mutedPubkeys.includes(y),v=y=>y.kind===Br?Be.mutedKeywords.some(b=>y.content.includes(b)):!1;return{config:()=>Be,setConfig:ee,getColorTheme:e,addRelay:n,removeRelay:r,saveColumn:u,moveColumn:l,removeColumn:c,initializeColumns:({pubkey:y})=>{if((Be.columns?.length??0)>0)return;const b=[xw({width:"widest",pubkey:y}),Sw({pubkey:y}),Tw({name:t()("column.myPosts"),pubkey:y}),Cw({name:t()("column.myReactions"),pubkey:y})];navigator.language.includes("ja")&&b.splice(2,0,Ew()),ee("columns",()=>[...b])},saveEmoji:f,saveEmojis:d,removeEmoji:g,getEmoji:h,searchEmojis:p,addMutedPubkey:s,removeMutedPubkey:i,addMutedKeyword:a,removeMutedKeyword:o,isPubkeyMuted:m,shouldMuteEvent:y=>{const b=E_(y);return m(y.pubkey)||b.taggedPubkeys().some(m)||y.kind===Br&&v(y)}}},P_=t=>{const{getColorTheme:e}=A_();dt(()=>{const n=e(),{className:r}=n;r!=null&&(t.classList.add(r),pe(()=>{t.classList.remove(r)}))})};function R_(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Qt(t){"@babel/helpers - typeof";return Qt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qt(t)}function L_(t,e){if(Qt(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Qt(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function N_(t){var e=L_(t,"string");return Qt(e)=="symbol"?e:String(e)}function Mi(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,N_(r.key),r)}}function I_(t,e,n){return e&&Mi(t.prototype,e),n&&Mi(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}var _o=[],j_=_o.forEach,M_=_o.slice;function D_(t){return j_.call(M_.call(arguments,1),function(e){if(e)for(var n in e)t[n]===void 0&&(t[n]=e[n])}),t}var Di=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,F_=function(e,n,r){var s=r||{};s.path=s.path||"/";var i=encodeURIComponent(n),a="".concat(e,"=").concat(i);if(s.maxAge>0){var o=s.maxAge-0;if(Number.isNaN(o))throw new Error("maxAge should be a Number");a+="; Max-Age=".concat(Math.floor(o))}if(s.domain){if(!Di.test(s.domain))throw new TypeError("option domain is invalid");a+="; Domain=".concat(s.domain)}if(s.path){if(!Di.test(s.path))throw new TypeError("option path is invalid");a+="; Path=".concat(s.path)}if(s.expires){if(typeof s.expires.toUTCString!="function")throw new TypeError("option expires is invalid");a+="; Expires=".concat(s.expires.toUTCString())}if(s.httpOnly&&(a+="; HttpOnly"),s.secure&&(a+="; Secure"),s.sameSite){var u=typeof s.sameSite=="string"?s.sameSite.toLowerCase():s.sameSite;switch(u){case!0:a+="; SameSite=Strict";break;case"lax":a+="; SameSite=Lax";break;case"strict":a+="; SameSite=Strict";break;case"none":a+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}}return a},Fi={create:function(e,n,r,s){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};r&&(i.expires=new Date,i.expires.setTime(i.expires.getTime()+r*60*1e3)),s&&(i.domain=s),document.cookie=F_(e,encodeURIComponent(n),i)},read:function(e){for(var n="".concat(e,"="),r=document.cookie.split(";"),s=0;s<r.length;s++){for(var i=r[s];i.charAt(0)===" ";)i=i.substring(1,i.length);if(i.indexOf(n)===0)return i.substring(n.length,i.length)}return null},remove:function(e){this.create(e,"",-1)}},U_={name:"cookie",lookup:function(e){var n;if(e.lookupCookie&&typeof document<"u"){var r=Fi.read(e.lookupCookie);r&&(n=r)}return n},cacheUserLanguage:function(e,n){n.lookupCookie&&typeof document<"u"&&Fi.create(n.lookupCookie,e,n.cookieMinutes,n.cookieDomain,n.cookieOptions)}},B_={name:"querystring",lookup:function(e){var n;if(typeof window<"u"){var r=window.location.search;!window.location.search&&window.location.hash&&window.location.hash.indexOf("?")>-1&&(r=window.location.hash.substring(window.location.hash.indexOf("?")));for(var s=r.substring(1),i=s.split("&"),a=0;a<i.length;a++){var o=i[a].indexOf("=");if(o>0){var u=i[a].substring(0,o);u===e.lookupQuerystring&&(n=i[a].substring(o+1))}}}return n}},Ct=null,Ui=function(){if(Ct!==null)return Ct;try{Ct=window!=="undefined"&&window.localStorage!==null;var e="i18next.translate.boo";window.localStorage.setItem(e,"foo"),window.localStorage.removeItem(e)}catch{Ct=!1}return Ct},Z_={name:"localStorage",lookup:function(e){var n;if(e.lookupLocalStorage&&Ui()){var r=window.localStorage.getItem(e.lookupLocalStorage);r&&(n=r)}return n},cacheUserLanguage:function(e,n){n.lookupLocalStorage&&Ui()&&window.localStorage.setItem(n.lookupLocalStorage,e)}},$t=null,Bi=function(){if($t!==null)return $t;try{$t=window!=="undefined"&&window.sessionStorage!==null;var e="i18next.translate.boo";window.sessionStorage.setItem(e,"foo"),window.sessionStorage.removeItem(e)}catch{$t=!1}return $t},V_={name:"sessionStorage",lookup:function(e){var n;if(e.lookupSessionStorage&&Bi()){var r=window.sessionStorage.getItem(e.lookupSessionStorage);r&&(n=r)}return n},cacheUserLanguage:function(e,n){n.lookupSessionStorage&&Bi()&&window.sessionStorage.setItem(n.lookupSessionStorage,e)}},K_={name:"navigator",lookup:function(e){var n=[];if(typeof navigator<"u"){if(navigator.languages)for(var r=0;r<navigator.languages.length;r++)n.push(navigator.languages[r]);navigator.userLanguage&&n.push(navigator.userLanguage),navigator.language&&n.push(navigator.language)}return n.length>0?n:void 0}},z_={name:"htmlTag",lookup:function(e){var n,r=e.htmlTag||(typeof document<"u"?document.documentElement:null);return r&&typeof r.getAttribute=="function"&&(n=r.getAttribute("lang")),n}},q_={name:"path",lookup:function(e){var n;if(typeof window<"u"){var r=window.location.pathname.match(/\/([a-zA-Z-]*)/g);if(r instanceof Array)if(typeof e.lookupFromPathIndex=="number"){if(typeof r[e.lookupFromPathIndex]!="string")return;n=r[e.lookupFromPathIndex].replace("/","")}else n=r[0].replace("/","")}return n}},H_={name:"subdomain",lookup:function(e){var n=typeof e.lookupFromSubdomainIndex=="number"?e.lookupFromSubdomainIndex+1:1,r=typeof window<"u"&&window.location&&window.location.hostname&&window.location.hostname.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i);if(r)return r[n]}};function Q_(){return{order:["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"],lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:function(e){return e}}}var xo=function(){function t(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};R_(this,t),this.type="languageDetector",this.detectors={},this.init(e,n)}return I_(t,[{key:"init",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=n||{languageUtils:{}},this.options=D_(r,this.options||{},Q_()),typeof this.options.convertDetectedLanguage=="string"&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=function(i){return i.replace("-","_")}),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=s,this.addDetector(U_),this.addDetector(B_),this.addDetector(Z_),this.addDetector(V_),this.addDetector(K_),this.addDetector(z_),this.addDetector(q_),this.addDetector(H_)}},{key:"addDetector",value:function(n){this.detectors[n.name]=n}},{key:"detect",value:function(n){var r=this;n||(n=this.options.order);var s=[];return n.forEach(function(i){if(r.detectors[i]){var a=r.detectors[i].lookup(r.options);a&&typeof a=="string"&&(a=[a]),a&&(s=s.concat(a))}}),s=s.map(function(i){return r.options.convertDetectedLanguage(i)}),this.services.languageUtils.getBestMatchFromCodes?s:s.length>0?s[0]:null}},{key:"cacheUserLanguage",value:function(n,r){var s=this;r||(r=this.options.caches),r&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(n)>-1||r.forEach(function(i){s.detectors[i]&&s.detectors[i].cacheUserLanguage(n,s.options)}))}}]),t}();xo.type="languageDetector";const So=(t,...e)=>{const n=String.raw(t,e),r=[],s=n.split(`
`);for(let i=0;i<s.length;i+=1){const o=s[i].trimStart();(r.length>0||o.length>0)&&r.push(o)}for(;r.length>0&&!(r[r.length-1].length>0);)r.pop();return r.join(`
`)},W_={general:{loading:"Loading",updating:"Updating"},posting:{placeholder:"What's happening?",placeholderReply:"Post a reply",contentWarning:"Content warning",contentWarningReason:"Reason of warning",uploadImage:"Upload image",submit:"Submit",forbiddenToIncludeNsec:"You cannot include private key (nsec).",failedToUploadFile:"Failed to upload files: {{filenames}}",replyToPre:"Reply to",replyToAnd:" and ",replyToPost:""},column:{home:"Home",notification:"Notification",relay:"Relay",japanese:"Japanese",posts:"User",reactions:"Reactions",channel:"Channel",bookmark:"Bookmark",search:"Search",myPosts:"My posts",myReactions:"My reactions",back:"Back",loadLatest:"Load latest posts",loadOld:"Load old posts",config:{columnWidth:"Column width",widest:"Widest",wide:"Wide",medium:"Medium",narrow:"Narrow",moveLeft:"Move left",moveRight:"Move right",removeColumn:"Remove"}},profile:{following:"Following",followers:"Followers",loadFollowers:"Load",editProfile:"Edit",follow:"Follow",unfollow:"Unfollow",followingCurrently:"Following",followsYou:"follows you",copyPubkey:"Copy ID",mute:"Mute",unmute:"Unmute",followMyself:"Follow myself",unfollowMyself:"Unfollow myself",addUserColumn:"Add user column",addUserHomeColumn:"Add home column",confirmUnfollow:"Do you really want to unfollow?",confirmUpdateEvenIfEmpty:So`
      Your follow list appears to be empty.

      There is no problem if you are trying to follow for the first time.
      Otherwise, it may be caused by poor connections to relays.
      You should reload this page to reconnect to relays.
      You also should make sure you have configured the same relay list as the other clients.

      Do you want to continue?
    `,failedToUpdateFollowList:"Failed to update the follow list",failedToFetchLatestFollowList:"Failed to fetch the latest follow list. It may be disconnected from some relays.",edit:{icon:"Icon",banner:"Banner image",name:"Username",displayName:"Display Name",about:"About",website:"Website",nip05:"Domain verification (NIP-05)",lightningAddress:"LNURL address / lightning address",lightningAddressDescription:"Only one side will be saved.",otherProperties:"Other properties",save:"Save",cancel:"Cancel",updating:"updating...",updateSucceeded:"Updated successfully",failedToUpdatePartially:"Failed to update on {{count}} relays",failedToUpdate:"Failed to update on all relays"}},post:{replyToPre:"Replying to ",replyToPost:"",copyEventId:"Copy ID",showJSON:"Show JSON",showReposts:"Show reposts",showReactions:"Show reactions",deletePost:"Delete",confirmDelete:"Do you really want to delete?",deletedSuccessfully:"Deleted successfully (reload to reflect)",failedToDeletePartially:"Failed to delete on {{count}} relays",failedToDelete:"Failed to delete",showImage:"Show image",showVideo:"Show video",showPreview:"Show preview",showOverflow:"Read more",hideOverflow:"Hide",download:"Download",contentWarning:{show:"Click to display",reason:"Reason"},failedToFetchEvent:"Failed to fetch event"},notification:{reposted:" reposted",reacted:" reacted",zapped:" zapped"},config:{config:"Settings",confirmImport:"Import? (The config will be overwritten)",copyToClipboard:"Copy to clipboard",importFromClipboard:"Import from clipboard",profile:{profile:"Profile",openProfile:"Open",editProfile:"Edit"},relays:{relays:"Relays",numOfRelays_one:"{{count}} relay are configured.",numOfRelays_other:"{{count}} relyas are configured.",addRelay:"Add",importRelays:"Import",importFromExtension:"Import from browser extension",notConfigured:"No relays are configured.",askImport:"Do you want to import these relays?",failedToImport:"Failed to import.",imported_one:"Imported {{count}} relay.",imported_other:"Imported {{count}} relays"},display:{display:"Display",colorTheme:"Color theme",timeNotation:"Time notation",relativeTimeNotation:"Relative",relativeTimeNotationExample:"7s",absoluteTimeNotationShort:"Absolute (short)",absoluteTimeNotationShortExample:"Yesterday 23:55",absoluteTimeNotationLong:"Absolute (long)",absoluteTimeNotationLongExample:"2020/11/8 21:02:53",reaction:"Reaction",enableEmojiReaction:"Enable emoji reaction",showEmojiReaction:"Show emoji reactions on posts",embedding:"Embedded contents",embeddingDescription:"Enable/disable embedding",others:"Others",keepOpenPostForm:"Remain the input field open after posting",showMediaByDefault:"Load media by default",hideNumbers:"Hide the numbers of reactions, reposts and followers"},customEmoji:{customEmoji:"Custom emojis",shortcode:"Name",url:"URL",addEmoji:"Add",removeEmoji:"Remove",emojiImport:"Emoji import",emojiImportDescription:"Paste a JSON where the keys are names and the values are image URLs",importEmoji:"Import"},mute:{mute:"Mute",mutedUsers:"Muted users",mutedKeywords:"Muted keywords",add:"Add"}},hello:{signerChecking:"Checking that browser extension is installed...",signerUnavailable:"Please install NIP-07 browser extension.",loginWithSigner:"Login with NIP-07 browser extension"},domainTransfer:{announcementHead:"Rabbit has moved to the new domain",announcementDescription:"Please update your bookmark and links",howToMigrateSettings:"How to migrate settings",close:"Close"}},G_={general:{loading:"",updating:""},posting:{placeholder:"",placeholderReply:"",contentWarning:"",contentWarningReason:"",uploadImage:"",submit:"",forbiddenToIncludeNsec:"(nsec)",failedToUploadFile:": {{filenames}}",replyToPre:"",replyToAnd:"  ",replyToPost:""},column:{home:"",notification:"",relay:"",japanese:"",posts:"",reactions:"",channel:"",bookmark:"",search:"",myPosts:"",myReactions:"",back:"",loadLatest:"",loadOld:"",config:{columnWidth:"",widest:"",wide:"",medium:"",narrow:"",moveLeft:"",moveRight:"",removeColumn:""}},profile:{following:"",followers:"",loadFollowers:"",editProfile:"",follow:"",unfollow:"",followingCurrently:"",followsYou:"",copyPubkey:"ID",mute:"",unmute:"",followMyself:"",unfollowMyself:"",addUserColumn:"",addUserHomeColumn:"",confirmUnfollow:"",confirmUpdateEvenIfEmpty:So`
      
      
      

      
    `,failedToUpdateFollowList:"",failedToFetchLatestFollowList:"",edit:{icon:"",banner:"",name:"",displayName:"",about:"",website:"",nip05:"NIP-05",lightningAddress:"LNURL / ",lightningAddressDescription:"",otherProperties:"",save:"",cancel:"",updating:"...",updateSucceeded:"",failedToUpdatePartially:"{{count}}",failedToUpdate:""}},post:{replyToPre:"",replyToPost:"",copyEventId:"ID",showJSON:"JSON",showReposts:"",showReactions:"",deletePost:"",confirmDelete:"",deletedSuccessfully:"",failedToDeletePartially:"{{count}}",failedToDelete:"",showImage:"",showVideo:"",showPreview:"",showOverflow:"",hideOverflow:"",download:"",contentWarning:{show:"",reason:""},failedToFetchEvent:""},notification:{reposted:"",reacted:"",zapped:"Zap"},config:{config:"",confirmImport:"",copyToClipboard:"",importFromClipboard:"",profile:{profile:"",openProfile:"",editProfile:""},relays:{relays:"",numOfRelays_one:"{{count}}",numOfRelays_other:"{{count}}",addRelay:"",importRelays:"",importFromExtension:"",notConfigured:"",askImport:"",failedToImport:"",imported_one:"{{count}}",imported_other:"{{count}}"},display:{display:"",colorTheme:"",timeNotation:"",relativeTimeNotation:"",relativeTimeNotationExample:"7",absoluteTimeNotationShort:" ()",absoluteTimeNotationShortExample:" 23:55",absoluteTimeNotationLong:" ()",absoluteTimeNotationLongExample:"2020/11/8 21:02:53",reaction:"",enableEmojiReaction:"",showEmojiReaction:"",embedding:"",embeddingDescription:"",others:"",keepOpenPostForm:"",showMediaByDefault:"",hideNumbers:""},customEmoji:{customEmoji:"",shortcode:"",url:"URL",addEmoji:"",removeEmoji:"",emojiImport:"",emojiImportDescription:"URLJSON",importEmoji:""},mute:{mute:"",mutedUsers:"",mutedKeywords:"",add:""}},hello:{signerChecking:"...",signerUnavailable:"NIP-07",loginWithSigner:"NIP-07 "},domainTransfer:{announcementHead:"Rabbit",announcementDescription:"",howToMigrateSettings:"",close:""}},J_=()=>H.use(xo).init({fallbackLng:"en",debug:!0,resources:{ja:{translation:G_},en:{translation:W_}}}).catch(t=>{console.error("failed to setup i18next",t)}),Y_=qn(()=>Qn(()=>import("./Home-61569e20.js"),["assets/Home-61569e20.js","assets/arrow-left-4d90b126.js","assets/useFollowings-db1d2404.js","assets/SideBar-e7f532c2.js","assets/usePersistStatus-8f0580a5.js","assets/globe-alt-10a73e09.js","assets/LazyLoad-ff3bf7fe.js","assets/magnifying-glass-3d77722b.js","assets/user-c3a4cc80.js"])),X_=qn(()=>Qn(()=>import("./Permalink-68320b3f.js"),["assets/Permalink-68320b3f.js","assets/SideBar-e7f532c2.js","assets/usePersistStatus-8f0580a5.js"])),ex=qn(()=>Qn(()=>import("./Hello-4ba758f1.js"),["assets/Hello-4ba758f1.js","assets/usePersistStatus-8f0580a5.js"])),tx=qn(()=>Qn(()=>import("./NotFound-c6a9cb8a.js"),[])),Zi=new dl({}),nx=J_(),rx=Mu({storage:{getItem(t){return _l(t).then(e=>e??null)},setItem(t,e){return xl(t,e)},removeItem(t){return Sl(t)}}}),sx=()=>(dt(()=>{const[t]=fl({queryClient:Zi,persister:rx});pe(()=>t())}),P_(document.body),U(Hl,{i18next:nx,get children(){return U(hl,{client:Zi,get children(){return U(Gl,{get children(){return U(Nu,{get children(){return[U(tn,{path:"/hello",component:()=>U(ex,{})}),U(tn,{path:"/",component:()=>U(Y_,{})}),U(tn,{path:"/:id",component:()=>U(X_,{})}),U(tn,{path:"/*",component:()=>U(tx,{})})]}})}})}})}}));zo(()=>U(sx,{}),document.getElementById("root"));export{_x as $,Fx as A,jx as B,De as C,Mx as D,Ux as E,ox as F,Nx as G,Ix as H,Sx as I,Ex as J,dx as K,ix as L,lx as M,hx as N,e_ as O,kx as P,Cx as Q,vw as R,Hn as S,k1 as T,B1 as U,Ax as V,$x as W,Ue as X,Yr as Y,Ox as Z,wx as _,U as a,tb as a$,bx as a0,Aa as a1,hv as a2,pw as a3,Px as a4,fx as a5,Wo as a6,xx as a7,rn as a8,vx as a9,Ve as aA,ab as aB,is as aC,hs as aD,Jg as aE,Qg as aF,ar as aG,Wp as aH,Xg as aI,Pa as aJ,Vp as aK,Fp as aL,hp as aM,Gt as aN,Hm as aO,Yt as aP,Ig as aQ,Ha as aR,Za as aS,qa as aT,wm as aU,be as aV,ls as aW,Ba as aX,ir as aY,Jt as aZ,Nc as a_,yx as aa,El as ab,u_ as ac,Oe as ad,er as ae,Xn as af,qn as ag,Qn as ah,Tx as ai,$w as aj,kw as ak,zi as al,Ms as am,xw as an,Sw as ao,Ew as ap,Tw as aq,Cw as ar,f_ as as,Rx as at,Lx as au,ax as av,Xi as aw,Ow as ax,Wt as ay,ht as az,ux as b,bb as b0,ja as b1,fs as b2,D as b3,xr as b4,ta as b5,q as c,Jr as d,ln as e,Dx as f,ka as g,cx as h,fe as i,he as j,Qo as k,gn as l,P1 as m,Ke as n,dt as o,Z as p,E_ as q,Br as r,Go as s,Gr as t,A_ as u,Oa as v,mx as w,qi as x,To as y,pe as z};
//# sourceMappingURL=index-0812911d.js.map
