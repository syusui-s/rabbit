{"version":3,"file":"ProfileDisplay-cjnXjGby.js","sources":["../../node_modules/heroicons/24/outline/arrow-path.svg","../../node_modules/heroicons/24/solid/check-circle.svg","../../node_modules/heroicons/24/solid/exclamation-circle.svg","../../src/nostr/useFollowers.ts","../../node_modules/nostr-tools/lib/esm/nip05.js","../../src/nostr/useVerification.ts","../../src/components/modal/ProfileDisplay.tsx"],"sourcesContent":["export default (props = {}) => <svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"1.5\" aria-hidden=\"true\" data-slot=\"icon\" viewBox=\"0 0 24 24\"{...props}><path stroke-linecap=\"round\" stroke-linejoin=\"round\" d=\"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0 3.181 3.183a8.25 8.25 0 0 0 13.803-3.7M4.031 9.865a8.25 8.25 0 0 1 13.803-3.7l3.181 3.182m0-4.991v4.99\"/></svg>","export default (props = {}) => <svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"currentColor\" aria-hidden=\"true\" data-slot=\"icon\" viewBox=\"0 0 24 24\"{...props}><path fill-rule=\"evenodd\" d=\"M2.25 12c0-5.385 4.365-9.75 9.75-9.75s9.75 4.365 9.75 9.75-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12m13.36-1.814a.75.75 0 1 0-1.22-.872l-3.236 4.53L9.53 12.22a.75.75 0 0 0-1.06 1.06l2.25 2.25a.75.75 0 0 0 1.14-.094z\" clip-rule=\"evenodd\"/></svg>","export default (props = {}) => <svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"currentColor\" aria-hidden=\"true\" data-slot=\"icon\" viewBox=\"0 0 24 24\"{...props}><path fill-rule=\"evenodd\" d=\"M2.25 12c0-5.385 4.365-9.75 9.75-9.75s9.75 4.365 9.75 9.75-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12M12 8.25a.75.75 0 0 1 .75.75v3.75a.75.75 0 0 1-1.5 0V9a.75.75 0 0 1 .75-.75m0 8.25a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5\" clip-rule=\"evenodd\"/></svg>","import { createMemo } from 'solid-js';\n\nimport uniq from 'lodash/uniq';\nimport * as Kind from 'nostr-tools/kinds';\n\nimport useConfig from '@/core/useConfig';\nimport useSubscription from '@/nostr/useSubscription';\n\nexport type UseFollowersProps = {\n  pubkey: string;\n};\n\nexport default function useFollowers(propsProvider: () => UseFollowersProps) {\n  const { config } = useConfig();\n  const props = createMemo(propsProvider);\n\n  const { events } = useSubscription(() => ({\n    relayUrls: config().relayUrls,\n    filters: [{ kinds: [Kind.Contacts], '#p': [props().pubkey] }],\n    limit: 1000000,\n    continuous: false,\n  }));\n\n  const followersPubkeys = () => uniq(events()?.map((ev) => ev.pubkey));\n\n  const count = () => followersPubkeys().length;\n\n  return { followersPubkeys, count };\n}\n","// nip05.ts\nvar NIP05_REGEX = /^(?:([\\w.+-]+)@)?([\\w.-]+)$/;\nvar _fetch;\ntry {\n  _fetch = fetch;\n} catch {\n}\nfunction useFetchImplementation(fetchImplementation) {\n  _fetch = fetchImplementation;\n}\nasync function searchDomain(domain, query = \"\") {\n  try {\n    let res = await (await _fetch(`https://${domain}/.well-known/nostr.json?name=${query}`)).json();\n    return res.names;\n  } catch (_) {\n    return {};\n  }\n}\nasync function queryProfile(fullname) {\n  const match = fullname.match(NIP05_REGEX);\n  if (!match)\n    return null;\n  const [_, name = \"_\", domain] = match;\n  try {\n    const res = await _fetch(`https://${domain}/.well-known/nostr.json?name=${name}`);\n    const { names, relays } = parseNIP05Result(await res.json());\n    const pubkey = names[name];\n    return pubkey ? { pubkey, relays: relays?.[pubkey] } : null;\n  } catch (_e) {\n    return null;\n  }\n}\nfunction parseNIP05Result(json) {\n  const result = {\n    names: {}\n  };\n  for (const [name, pubkey] of Object.entries(json.names)) {\n    if (typeof name === \"string\" && typeof pubkey === \"string\") {\n      result.names[name] = pubkey;\n    }\n  }\n  if (json.relays) {\n    result.relays = {};\n    for (const [pubkey, relays] of Object.entries(json.relays)) {\n      if (typeof pubkey === \"string\" && Array.isArray(relays)) {\n        result.relays[pubkey] = relays.filter((relay) => typeof relay === \"string\");\n      }\n    }\n  }\n  return result;\n}\nexport {\n  NIP05_REGEX,\n  queryProfile,\n  searchDomain,\n  useFetchImplementation\n};\n","import { createMemo, type Accessor } from 'solid-js';\n\nimport { createQuery, type CreateQueryResult } from '@tanstack/solid-query';\nimport { queryProfile } from 'nostr-tools/nip05';\nimport { type ProfilePointer } from 'nostr-tools/nip19';\n\nexport type UseVerificationProps = {\n  nip05: string;\n};\n\nexport type UseVerification = {\n  verification: Accessor<ProfilePointer | null>;\n  query: CreateQueryResult<ProfilePointer | null>;\n};\n\nconst useVerification = (propsProvider: () => UseVerificationProps | null): UseVerification => {\n  const props = createMemo(propsProvider);\n  const genQueryKey = () => ['useVerification', props()] as const;\n\n  const query = createQuery(() => ({\n    queryKey: genQueryKey(),\n    queryFn: ({ queryKey }) => {\n      const [, currentProps] = queryKey;\n      if (currentProps == null) return Promise.resolve(null);\n      const { nip05: nip05string } = currentProps;\n      return queryProfile(nip05string);\n    },\n    staleTime: 30 * 60 * 1000, // 30 min\n    gcTime: 24 * 60 * 60 * 1000, // 24 hour\n  }));\n\n  const verification = () => query?.data ?? null;\n\n  return { verification, query };\n};\n\nexport default useVerification;\n","import { Component, createSignal, createMemo, Show, Switch, Match } from 'solid-js';\n\nimport { createMutation } from '@tanstack/solid-query';\nimport ArrowPath from 'heroicons/24/outline/arrow-path.svg';\nimport EllipsisHorizontal from 'heroicons/24/outline/ellipsis-horizontal.svg';\nimport GlobeAlt from 'heroicons/24/outline/globe-alt.svg';\nimport CheckCircle from 'heroicons/24/solid/check-circle.svg';\nimport ExclamationCircle from 'heroicons/24/solid/exclamation-circle.svg';\n\nimport TextNoteContentDisplay from '@/components/event/textNote/TextNoteContentDisplay';\nimport BasicModal from '@/components/modal/BasicModal';\nimport EventDebugModal from '@/components/modal/EventDebugModal';\nimport UserList from '@/components/modal/UserList';\nimport Timeline from '@/components/timeline/Timeline';\nimport SafeLink from '@/components/utils/SafeLink';\nimport useContextMenu from '@/components/utils/useContextMenu';\nimport { createFollowingColumn, createPostsColumn } from '@/core/column';\nimport useConfig from '@/core/useConfig';\nimport { useRequestCommand } from '@/hooks/useCommandBus';\nimport useModalState from '@/hooks/useModalState';\nimport { useTranslation } from '@/i18n/useTranslation';\nimport { genericEvent } from '@/nostr/event';\nimport parseTextNote, { toResolved } from '@/nostr/parseTextNote';\nimport useCommands from '@/nostr/useCommands';\nimport useFollowers from '@/nostr/useFollowers';\nimport useFollowings, { fetchLatestFollowings } from '@/nostr/useFollowings';\nimport useProfile from '@/nostr/useProfile';\nimport usePubkey from '@/nostr/usePubkey';\nimport useSubscription from '@/nostr/useSubscription';\nimport useVerification from '@/nostr/useVerification';\nimport ensureNonNull from '@/utils/ensureNonNull';\nimport epoch from '@/utils/epoch';\nimport npubEncodeFallback from '@/utils/npubEncodeFallback';\nimport timeout from '@/utils/timeout';\n\nexport type ProfileDisplayProps = {\n  pubkey: string;\n  onClose?: () => void;\n};\n\nconst FollowersCount: Component<{ pubkey: string }> = (props) => {\n  const { count } = useFollowers(() => ({\n    pubkey: props.pubkey,\n  }));\n\n  return <>{count()}</>;\n};\n\nconst ProfileDisplay: Component<ProfileDisplayProps> = (props) => {\n  const i18n = useTranslation();\n  const { config, addMutedPubkey, removeMutedPubkey, isPubkeyMuted, saveColumn } = useConfig();\n  const request = useRequestCommand();\n  const commands = useCommands();\n  const myPubkey = usePubkey();\n  const { showProfileEdit } = useModalState();\n\n  const npub = createMemo(() => npubEncodeFallback(props.pubkey));\n\n  const [updatingContacts, setUpdatingContacts] = createSignal(false);\n  const [hoverFollowButton, setHoverFollowButton] = createSignal(false);\n  const [showFollowers, setShowFollowers] = createSignal(false);\n  const [modal, setModal] = createSignal<'Following' | 'EventDebugModal' | null>(null);\n  const closeModal = () => setModal(null);\n\n  const {\n    profile,\n    event: profileEvent,\n    query: profileQuery,\n  } = useProfile(() => ({\n    pubkey: props.pubkey,\n  }));\n  const { verification, query: verificationQuery } = useVerification(() =>\n    ensureNonNull([profile()?.nip05] as const)(([nip05]) => ({ nip05 })),\n  );\n  const nip05Identifier = () => {\n    const ident = profile()?.nip05;\n    if (ident == null) return null;\n    const [user, domain] = ident.split('@');\n    if (domain == null) return null;\n    if (user === '_') return { domain, ident: domain };\n    return { user, domain, ident };\n  };\n  const isVerified = () => verification()?.pubkey === props.pubkey;\n  const isMuted = () => isPubkeyMuted(props.pubkey);\n\n  const aboutParsed = createMemo(() => {\n    const ev = profileEvent();\n    const about = profile()?.about;\n    if (ev == null || about == null) return undefined;\n\n    const parsed = parseTextNote(about);\n    const resolved = toResolved(parsed, genericEvent(ev));\n    return resolved;\n  });\n\n  const {\n    followingPubkeys: myFollowingPubkeys,\n    invalidateFollowings: invalidateMyFollowings,\n    query: myFollowingQuery,\n  } = useFollowings(() =>\n    ensureNonNull([myPubkey()] as const)(([pubkeyNonNull]) => ({\n      pubkey: pubkeyNonNull,\n    })),\n  );\n  const following = () => myFollowingPubkeys().includes(props.pubkey);\n\n  const { followingPubkeys: userFollowingPubkeys, query: userFollowingQuery } = useFollowings(\n    () => ({ pubkey: props.pubkey }),\n  );\n\n  const followed = () => {\n    const p = myPubkey();\n    return p != null && userFollowingPubkeys().includes(p);\n  };\n\n  const updateContactsMutation = createMutation(() => ({\n    mutationKey: ['updateContacts'],\n    mutationFn: (...params: Parameters<typeof commands.updateContacts>) =>\n      commands\n        .updateContacts(...params)\n        .then((promises) => Promise.allSettled(promises.map(timeout(5000)))),\n    onSuccess: (results) => {\n      const succeeded = results.filter((res) => res.status === 'fulfilled').length;\n      const failed = results.length - succeeded;\n      if (succeeded === results.length) {\n        console.log('succeeded to update contacts');\n      } else if (succeeded > 0) {\n        console.log(\n          `succeeded to update contacts for ${succeeded} relays but failed for ${failed} relays`,\n        );\n      } else {\n        console.error('failed to update contacts');\n      }\n    },\n    onError: (err) => {\n      console.error('failed to update contacts: ', err);\n    },\n    onSettled: () => {\n      invalidateMyFollowings()\n        .then(() => myFollowingQuery.refetch())\n        .catch((err) => console.error('failed to refetch contacts', err));\n    },\n  }));\n\n  const updateContacts = async (op: 'follow' | 'unfollow', pubkey: string) => {\n    try {\n      const p = myPubkey();\n      if (p == null) return;\n      setUpdatingContacts(true);\n\n      const latest = await fetchLatestFollowings({ pubkey: p });\n\n      if (\n        (latest.data() == null || latest.followingPubkeys().length === 0) &&\n        !window.confirm(i18n.t('profile.confirmUpdateEvenIfEmpty'))\n      )\n        return;\n\n      if ((latest?.data()?.created_at ?? 0) < (myFollowingQuery.data?.created_at ?? 0)) {\n        window.alert(i18n.t('profile.failedToFetchLatestFollowList'));\n        return;\n      }\n\n      const latestTags = latest.data()?.tags ?? [];\n      let updatedTags: string[][];\n      switch (op) {\n        case 'follow':\n          updatedTags = [...latestTags, ['p', pubkey]];\n          break;\n        case 'unfollow':\n          updatedTags = latestTags.filter(([name, value]) => !(name === 'p' && value === pubkey));\n          break;\n        default:\n          console.error('updateContacts: invalid operation', op);\n          return;\n      }\n\n      await updateContactsMutation.mutateAsync({\n        relayUrls: config().relayUrls,\n        pubkey: p,\n        updatedTags,\n        content: latest.data()?.content ?? '',\n      });\n    } catch (err) {\n      console.error('failed to update contact list', err);\n      window.alert(i18n.t('profile.failedToUpdateFollowList'));\n    } finally {\n      setUpdatingContacts(false);\n    }\n  };\n\n  const follow = () => {\n    updateContacts('follow', props.pubkey).catch((err) => {\n      console.log('failed to follow', err);\n    });\n  };\n\n  const unfollow = () => {\n    if (!window.confirm(i18n.t('profile.confirmUnfollow'))) return;\n\n    updateContacts('unfollow', props.pubkey).catch((err) => {\n      console.log('failed to unfollow', err);\n    });\n  };\n\n  const otherActionsPopup = useContextMenu(() => ({\n    menu: [\n      /*\n        {\n          content: () => 'ユーザ宛に投稿',\n          onSelect: () => {\n            navigator.clipboard.writeText(npub()).catch((err) => window.alert(err));\n          },\n        },\n       */\n      {\n        content: i18n.t('profile.copyPubkey'),\n        onSelect: () => {\n          navigator.clipboard.writeText(npub()).catch((err) => window.alert(err));\n        },\n      },\n      {\n        content: i18n.t('profile.showJSON'),\n        onSelect: () => {\n          setModal('EventDebugModal');\n        },\n      },\n      {\n        content: i18n.t('profile.addColumn'),\n        items: [\n          {\n            content: i18n.t('profile.addUserColumn'),\n            onSelect: () => {\n              const columnName = profile()?.name ?? npub();\n              saveColumn(createPostsColumn({ name: columnName, pubkey: props.pubkey }));\n              request({ command: 'moveToLastColumn' }).catch((err) => console.error(err));\n              props.onClose?.();\n            },\n          },\n          {\n            content: i18n.t('profile.addUserHomeColumn'),\n            onSelect: () => {\n              const columnName = `${i18n.t('column.home')} / ${profile()?.name ?? npub()}`;\n              saveColumn(createFollowingColumn({ name: columnName, pubkey: props.pubkey }));\n              request({ command: 'moveToLastColumn' }).catch((err) => console.error(err));\n              props.onClose?.();\n            },\n          },\n        ],\n      },\n      {\n        content: !isMuted() ? i18n.t('profile.mute') : i18n.t('profile.unmute'),\n        onSelect: () => {\n          if (!isMuted()) {\n            addMutedPubkey(props.pubkey);\n          } else {\n            removeMutedPubkey(props.pubkey);\n          }\n        },\n      },\n      {\n        when: () => props.pubkey === myPubkey(),\n        content: !following() ? i18n.t('profile.followMyself') : i18n.t('profile.unfollowMyself'),\n        onSelect: () => {\n          if (!following()) {\n            follow();\n          } else {\n            unfollow();\n          }\n        },\n      },\n    ],\n  }));\n\n  const { events } = useSubscription(() => ({\n    relayUrls: config().relayUrls,\n    filters: [\n      {\n        kinds: [1, 6],\n        authors: [props.pubkey],\n        limit: 10,\n        until: epoch(),\n      },\n    ],\n    continuous: false,\n  }));\n\n  return (\n    <BasicModal onClose={() => props.onClose?.()}>\n      <Show\n        when={profileQuery.isFetched && profile()?.banner}\n        fallback={<div class=\"h-12 shrink-0\" />}\n        keyed\n      >\n        {(bannerUrl) => (\n          <div class=\"h-40 w-full shrink-0 sm:h-52\">\n            <img src={bannerUrl} alt=\"header\" class=\"size-full object-cover\" />\n          </div>\n        )}\n      </Show>\n      <div class=\"mt-[-54px] flex items-end gap-4 px-4 pt-4\">\n        <div class=\"flex-1 shrink-0\">\n          <div class=\"size-28 overflow-hidden rounded-lg shadow-md\">\n            <Show when={profileQuery.isFetched && profile()?.picture} keyed>\n              {(pictureUrl) => (\n                <img src={pictureUrl} alt=\"user icon\" class=\"size-full object-cover\" />\n              )}\n            </Show>\n          </div>\n        </div>\n        <Show when={myPubkey() != null}>\n          <div class=\"flex shrink-0 flex-col items-center gap-1\">\n            <div class=\"flex flex-row justify-start gap-1\">\n              <Switch>\n                <Match when={props.pubkey === myPubkey()}>\n                  <button\n                    class=\"rounded-full border border-primary px-4 py-2\n                    text-center font-bold text-primary hover:bg-primary hover:text-primary-fg sm:w-20\"\n                    onClick={() => showProfileEdit()}\n                  >\n                    {i18n.t('profile.editProfile')}\n                  </button>\n                </Match>\n                <Match when={updateContactsMutation.isPending || updatingContacts()}>\n                  <span class=\"rounded-full border border-primary px-4 py-2 text-primary sm:text-base\">\n                    {i18n.t('general.updating')}\n                  </span>\n                </Match>\n                <Match when={myFollowingQuery.isPending || myFollowingQuery.isFetching}>\n                  <span class=\"rounded-full border border-primary px-4 py-2 text-primary sm:text-base\">\n                    {i18n.t('general.loading')}\n                  </span>\n                </Match>\n                <Match when={following()}>\n                  <button\n                    class=\"rounded-full border border-primary bg-primary px-4 py-2 text-center font-bold text-primary-fg hover:bg-primary-hover sm:w-36\"\n                    onMouseEnter={() => setHoverFollowButton(true)}\n                    onMouseLeave={() => setHoverFollowButton(false)}\n                    onClick={() => unfollow()}\n                    disabled={updateContactsMutation.isPending}\n                  >\n                    <Show when={!hoverFollowButton()} fallback={i18n.t('profile.unfollow')}>\n                      {i18n.t('profile.followingCurrently')}\n                    </Show>\n                  </button>\n                </Match>\n                <Match when={!following()}>\n                  <button\n                    class=\"w-28 rounded-full border border-primary px-4 py-2 text-primary hover:border-primary-hover hover:text-primary-hover\"\n                    onClick={() => follow()}\n                    disabled={updateContactsMutation.isPending}\n                  >\n                    {i18n.t('profile.follow')}\n                  </button>\n                </Match>\n              </Switch>\n              <button\n                ref={otherActionsPopup.targetRef}\n                type=\"button\"\n                class=\"w-10 rounded-full border border-primary p-2 text-primary hover:border-primary-hover hover:text-primary-hover\"\n                onClick={() => otherActionsPopup.open()}\n              >\n                <EllipsisHorizontal />\n              </button>\n              {otherActionsPopup.popup()}\n            </div>\n            <Switch>\n              <Match when={userFollowingQuery.isPending}>\n                <div class=\"shrink-0 text-xs\">{i18n.t('general.loading')}</div>\n              </Match>\n              <Match when={followed()}>\n                <div class=\"shrink-0 text-xs\">{i18n.t('profile.followsYou')}</div>\n              </Match>\n            </Switch>\n          </div>\n        </Show>\n      </div>\n      <div class=\"flex items-start px-4 pt-2\">\n        <div class=\"h-16 shrink overflow-hidden\">\n          <Show when={profileQuery.isPending}>{i18n.t('general.loading')}</Show>\n          <Show when={(profile()?.display_name?.length ?? 0) > 0}>\n            <div class=\"truncate text-xl font-bold\">{profile()?.display_name}</div>\n          </Show>\n          <div class=\"flex items-center gap-2\">\n            <Show when={(profile()?.name?.length ?? 0) > 0}>\n              <div class=\"truncate text-xs\">@{profile()?.name}</div>\n            </Show>\n            <Show when={(profile()?.nip05?.length ?? 0) > 0}>\n              <div class=\"flex items-center text-xs\">\n                {nip05Identifier()?.ident}\n                <Switch\n                  fallback={\n                    <span class=\"inline-block size-4 text-danger\">\n                      <ExclamationCircle />\n                    </span>\n                  }\n                >\n                  <Match when={verificationQuery.isPending}>\n                    <span class=\"inline-block size-3\">\n                      <ArrowPath />\n                    </span>\n                  </Match>\n                  <Match when={isVerified()}>\n                    <span class=\"inline-block size-4 text-link\">\n                      <CheckCircle />\n                    </span>\n                  </Match>\n                </Switch>\n              </div>\n            </Show>\n          </div>\n          <div class=\"flex gap-1\">\n            <div class=\"truncate text-xs\">{npub()}</div>\n          </div>\n        </div>\n      </div>\n      <Show when={aboutParsed()} keyed>\n        {(parsed) => (\n          <div class=\"max-h-40 shrink-0 overflow-y-auto whitespace-pre-wrap px-4 py-2 text-sm\">\n            <TextNoteContentDisplay parsed={parsed} embedding={false} initialHidden />\n          </div>\n        )}\n      </Show>\n      <div class=\"flex border-t border-border px-4 py-2\">\n        <button class=\"flex flex-1 flex-col items-start\" onClick={() => setModal('Following')}>\n          <div class=\"text-sm\">{i18n.t('profile.following')}</div>\n          <div class=\"text-xl\">\n            <Show\n              when={userFollowingQuery.isFetched}\n              fallback={<span class=\"text-sm\">{i18n.t('general.loading')}</span>}\n            >\n              {userFollowingPubkeys().length}\n            </Show>\n          </div>\n        </button>\n        <Show when={!config().hideCount}>\n          <div class=\"flex flex-1 flex-col items-start\">\n            <div class=\"text-sm\">{i18n.t('profile.followers')}</div>\n            <div class=\"text-xl\">\n              <Show\n                when={showFollowers()}\n                fallback={\n                  <button\n                    class=\"text-sm hover:text-fg-secondary\"\n                    onClick={() => setShowFollowers(true)}\n                  >\n                    {i18n.t('profile.loadFollowers')}\n                  </button>\n                }\n                keyed\n              >\n                <FollowersCount pubkey={props.pubkey} />\n              </Show>\n            </div>\n          </div>\n        </Show>\n      </div>\n      <Show when={(profile()?.website ?? '').length > 0}>\n        <ul class=\"border-t border-border px-5 py-2 text-xs\">\n          <Show when={profile()?.website} keyed>\n            {(website) => (\n              <li class=\"flex items-center gap-1\">\n                <span class=\"inline-block size-4\" area-label=\"website\" title=\"website\">\n                  <GlobeAlt />\n                </span>\n                <SafeLink class=\"text-link underline\" href={website} />\n              </li>\n            )}\n          </Show>\n        </ul>\n      </Show>\n      <Switch>\n        <Match when={modal() === 'Following'}>\n          <UserList data={userFollowingPubkeys()} pubkeyExtractor={(e) => e} onClose={closeModal} />\n        </Match>\n        <Match when={modal() === 'EventDebugModal' && profileQuery.data} keyed>\n          {(event) => (\n            <EventDebugModal\n              event={event}\n              extra={JSON.stringify(profile(), null, 2)}\n              onClose={closeModal}\n            />\n          )}\n        </Match>\n      </Switch>\n      <ul class=\"border-t border-border p-1\">\n        <Timeline events={events()} />\n      </ul>\n    </BasicModal>\n  );\n};\n\nexport default ProfileDisplay;\n"],"names":["ArrowPath","props","_el$","_tmpl$","_$spread","CheckCircle","ExclamationCircle","useFollowers","propsProvider","config","useConfig","createMemo","events","useSubscription","Kind.Contacts","followersPubkeys","uniq","ev","NIP05_REGEX","_fetch","queryProfile","fullname","match","_","name","domain","res","names","relays","parseNIP05Result","pubkey","json","result","relay","useVerification","genQueryKey","query","createQuery","queryKey","currentProps","nip05string","FollowersCount","count","_$memo","ProfileDisplay","i18n","useTranslation","addMutedPubkey","removeMutedPubkey","isPubkeyMuted","saveColumn","request","useRequestCommand","commands","useCommands","myPubkey","usePubkey","showProfileEdit","useModalState","npub","npubEncodeFallback","updatingContacts","setUpdatingContacts","createSignal","hoverFollowButton","setHoverFollowButton","showFollowers","setShowFollowers","modal","setModal","closeModal","profile","event","profileEvent","profileQuery","useProfile","verification","verificationQuery","ensureNonNull","nip05","nip05Identifier","ident","user","split","isVerified","isMuted","aboutParsed","about","parsed","parseTextNote","toResolved","genericEvent","followingPubkeys","myFollowingPubkeys","invalidateFollowings","invalidateMyFollowings","myFollowingQuery","useFollowings","pubkeyNonNull","following","includes","userFollowingPubkeys","userFollowingQuery","followed","p","updateContactsMutation","createMutation","mutationKey","mutationFn","params","updateContacts","then","promises","Promise","allSettled","map","timeout","onSuccess","results","succeeded","filter","status","length","failed","console","log","error","onError","err","onSettled","refetch","catch","op","latest","fetchLatestFollowings","data","window","confirm","t","created_at","alert","latestTags","tags","updatedTags","value","mutateAsync","relayUrls","content","follow","unfollow","otherActionsPopup","useContextMenu","menu","onSelect","navigator","clipboard","writeText","items","columnName","createPostsColumn","command","onClose","createFollowingColumn","when","filters","kinds","authors","limit","until","epoch","continuous","_$createComponent","BasicModal","children","Show","isFetched","banner","fallback","_tmpl$18","keyed","bannerUrl","_el$35","_tmpl$19","_el$36","firstChild","_$setAttribute","_tmpl$7","_el$2","_el$3","_$insert","picture","pictureUrl","_el$37","_tmpl$20","_el$4","_tmpl$6","_el$5","_el$11","Switch","Match","_el$6","$$click","isPending","_el$7","_tmpl$2","isFetching","_el$8","_el$9","_tmpl$3","addEventListener","_$effect","disabled","_el$10","_tmpl$4","open","_ref$","targetRef","_$use","EllipsisHorizontal","popup","_el$12","_tmpl$5","_el$13","_el$14","_tmpl$13","_el$15","_el$17","_el$23","nextSibling","_el$24","display_name","_el$16","_tmpl$8","_el$18","_tmpl$9","_el$20","_tmpl$12","_el$38","_tmpl$21","_el$21","_tmpl$10","_el$22","_tmpl$11","_el$39","_tmpl$22","TextNoteContentDisplay","embedding","initialHidden","_el$25","_tmpl$15","_el$26","_el$27","_el$28","_el$40","_tmpl$23","hideCount","_el$29","_tmpl$14","_el$30","_el$31","_el$41","_tmpl$24","website","_el$32","_tmpl$16","_el$42","_tmpl$25","_el$43","GlobeAlt","SafeLink","href","UserList","pubkeyExtractor","e","EventDebugModal","extra","JSON","stringify","_el$33","_tmpl$17","Timeline","_$delegateEvents"],"mappings":"khCAAAA,GAAe,CAACC,EAAQ,CAAE,KAAA,IAAA,CAAA,MAAAC,EAAAC,KAAAC,OAAAA,EAAAF,EAA6JD,EAAK,GAAA,EAAA,EAAAC,CAAA,GAA0O,2XCAtaG,GAAe,CAACJ,EAAQ,CAAE,KAAA,IAAA,CAAA,MAAAC,EAAAC,KAAAC,OAAAA,EAAAF,EAA4HD,EAAK,GAAA,EAAA,EAAAC,CAAA,GAAkR,+XCA7aI,GAAe,CAACL,EAAQ,CAAE,KAAA,IAAA,CAAA,MAAAC,EAAAC,KAAAC,OAAAA,EAAAF,EAA4HD,EAAK,GAAA,EAAA,EAAAC,CAAA,GAAsR,ECYjb,SAAwBK,GAAaC,EAAwC,CACrE,KAAA,CAAE,OAAAC,GAAWC,IACbT,EAAQU,EAAWH,CAAa,EAEhC,CAAE,OAAAI,GAAWC,EAAgB,KAAO,CACxC,UAAWJ,IAAS,UACpB,QAAS,CAAC,CAAE,MAAO,CAACK,EAAa,EAAG,KAAM,CAACb,EAAA,EAAQ,MAAM,EAAG,EAC5D,MAAO,IACP,WAAY,EACZ,EAAA,EAEIc,EAAmB,IAAMC,GAAKJ,EAAO,GAAG,IAAKK,GAAOA,EAAG,MAAM,CAAC,EAI7D,MAAA,CAAE,iBAAAF,EAAkB,MAFb,IAAMA,EAAmB,EAAA,OAGzC,CC3BA,IAAIG,GAAc,8BACdC,EACJ,GAAI,CACFA,EAAS,KACX,MAAQ,CACR,CAYA,eAAeC,GAAaC,EAAU,CACpC,MAAMC,EAAQD,EAAS,MAAMH,EAAW,EACxC,GAAI,CAACI,EACH,OAAO,KACT,KAAM,CAACC,EAAGC,EAAO,IAAKC,CAAM,EAAIH,EAChC,GAAI,CACF,MAAMI,EAAM,MAAMP,EAAO,WAAWM,CAAM,gCAAgCD,CAAI,EAAE,EAC1E,CAAE,MAAAG,EAAO,OAAAC,CAAQ,EAAGC,GAAiB,MAAMH,EAAI,KAAI,CAAE,EACrDI,EAASH,EAAMH,CAAI,EACzB,OAAOM,EAAS,CAAE,OAAAA,EAAQ,OAAQF,IAASE,CAAM,CAAG,EAAG,IACxD,MAAY,CACX,OAAO,IACR,CACH,CACA,SAASD,GAAiBE,EAAM,CAC9B,MAAMC,EAAS,CACb,MAAO,CAAE,CACb,EACE,SAAW,CAACR,EAAMM,CAAM,IAAK,OAAO,QAAQC,EAAK,KAAK,EAChD,OAAOP,GAAS,UAAY,OAAOM,GAAW,WAChDE,EAAO,MAAMR,CAAI,EAAIM,GAGzB,GAAIC,EAAK,OAAQ,CACfC,EAAO,OAAS,GAChB,SAAW,CAACF,EAAQF,CAAM,IAAK,OAAO,QAAQG,EAAK,MAAM,EACnD,OAAOD,GAAW,UAAY,MAAM,QAAQF,CAAM,IACpDI,EAAO,OAAOF,CAAM,EAAIF,EAAO,OAAQK,GAAU,OAAOA,GAAU,QAAQ,EAG/E,CACD,OAAOD,CACT,CCnCA,MAAME,GAAmB1B,GAAsE,CACvF,MAAAP,EAAQU,EAAWH,CAAa,EAChC2B,EAAc,IAAM,CAAC,kBAAmBlC,EAAO,CAAA,EAE/CmC,EAAQC,GAAY,KAAO,CAC/B,SAAUF,EAAY,EACtB,QAAS,CAAC,CAAE,SAAAG,KAAe,CACnB,KAAA,CAAG,CAAAC,CAAY,EAAID,EACzB,GAAIC,GAAgB,KAAa,OAAA,QAAQ,QAAQ,IAAI,EAC/C,KAAA,CAAE,MAAOC,CAAgB,EAAAD,EAC/B,OAAOnB,GAAaoB,CAAW,CACjC,EACA,UAAW,GAAK,GAAK,IACrB,OAAQ,GAAK,GAAK,GAAK,GACvB,EAAA,EAIK,MAAA,CAAE,aAFY,IAAMJ,GAAO,MAAQ,KAEnB,MAAAA,EACzB,wvECMMK,GAAiDxC,GAAU,CAC/D,KAAM,CAAEyC,MAAAA,CAAO,EAAGnC,GAAa,KAAO,CACpCuB,OAAQ7B,EAAM6B,MACf,EAAC,EAEF,OAAAa,EAAUD,CAAK,CACjB,EAEME,GAAkD3C,GAAU,CAChE,MAAM4C,EAAOC,KACP,CAAErC,OAAAA,EAAQsC,eAAAA,EAAgBC,kBAAAA,EAAmBC,cAAAA,EAAeC,WAAAA,CAAY,EAAGxC,EAAS,EACpFyC,EAAUC,KACVC,EAAWC,KACXC,EAAWC,KACX,CAAEC,gBAAAA,EAAiB,EAAGC,GAAa,EAEnCC,EAAOhD,EAAW,IAAMiD,GAAmB3D,EAAM6B,MAAM,CAAC,EAExD,CAAC+B,GAAkBC,CAAmB,EAAIC,EAAa,EAAK,EAC5D,CAACC,GAAmBC,CAAoB,EAAIF,EAAa,EAAK,EAC9D,CAACG,GAAeC,EAAgB,EAAIJ,EAAa,EAAK,EACtD,CAACK,EAAOC,CAAQ,EAAIN,EAAqD,IAAI,EAC7EO,EAAaA,IAAMD,EAAS,IAAI,EAEhC,CACJE,QAAAA,EACAC,MAAOC,GACPrC,MAAOsC,CACR,EAAGC,GAAW,KAAO,CACpB7C,OAAQ7B,EAAM6B,MACf,EAAC,EACI,CAAE8C,aAAAA,GAAcxC,MAAOyC,EAAkB,EAAI3C,GAAgB,IACjE4C,EAAc,CAACP,EAAO,GAAIQ,KAAK,CAAU,EAAE,CAAC,CAACA,CAAK,KAAO,CAAEA,MAAAA,CAAO,EAAC,CACrE,EACMC,GAAkBA,IAAM,CAC5B,MAAMC,EAAQV,EAAS,GAAEQ,MACzB,GAAIE,GAAS,KAAM,OAAO,KAC1B,KAAM,CAACC,EAAMzD,CAAM,EAAIwD,EAAME,MAAM,GAAG,EACtC,OAAI1D,GAAU,KAAa,KACvByD,IAAS,IAAY,CAAEzD,OAAAA,EAAQwD,MAAOxD,GACnC,CAAEyD,KAAAA,EAAMzD,OAAAA,EAAQwD,MAAAA,IAEnBG,GAAaA,IAAMR,GAAY,GAAI9C,SAAW7B,EAAM6B,OACpDuD,EAAUA,IAAMpC,EAAchD,EAAM6B,MAAM,EAE1CwD,GAAc3E,EAAW,IAAM,CACnC,MAAMM,EAAKwD,KACLc,EAAQhB,EAAS,GAAEgB,MACzB,GAAItE,GAAM,MAAQsE,GAAS,KAAM,OAEjC,MAAMC,EAASC,GAAcF,CAAK,EAElC,OADiBG,GAAWF,EAAQG,GAAa1E,CAAE,CAAC,CAEtD,CAAC,EAEK,CACJ2E,iBAAkBC,GAClBC,qBAAsBC,GACtB3D,MAAO4D,CACT,EAAIC,EAAc,IAChBnB,EAAc,CAACvB,EAAU,CAAA,CAAU,EAAE,CAAC,CAAC2C,CAAa,KAAO,CACzDpE,OAAQoE,CACT,EAAC,CACJ,EACMC,EAAYA,IAAMN,GAAkB,EAAGO,SAASnG,EAAM6B,MAAM,EAE5D,CAAE8D,iBAAkBS,EAAsBjE,MAAOkE,CAAoB,EAAGL,EAC5E,KAAO,CAAEnE,OAAQ7B,EAAM6B,MAAQ,EACjC,EAEMyE,GAAWA,IAAM,CACrB,MAAMC,EAAIjD,IACV,OAAOiD,GAAK,MAAQH,EAAsB,EAACD,SAASI,CAAC,GAGjDC,EAAyBC,GAAe,KAAO,CACnDC,YAAa,CAAC,gBAAgB,EAC9BC,WAAYA,IAAIC,IACdxD,EACGyD,eAAe,GAAGD,CAAM,EACxBE,KAAMC,GAAaC,QAAQC,WAAWF,EAASG,IAAIC,GAAQ,GAAI,CAAC,CAAC,CAAC,EACvEC,UAAYC,GAAY,CACtB,MAAMC,EAAYD,EAAQE,OAAQ9F,GAAQA,EAAI+F,SAAW,WAAW,EAAEC,OAChEC,EAASL,EAAQI,OAASH,EAC5BA,IAAcD,EAAQI,OACxBE,QAAQC,IAAI,8BAA8B,EACjCN,EAAY,EACrBK,QAAQC,IACL,oCAAmCN,CAAU,0BAAyBI,CAAO,SAChF,EAEAC,QAAQE,MAAM,2BAA2B,CAE5C,EACDC,QAAUC,GAAQ,CAChBJ,QAAQE,MAAM,8BAA+BE,CAAG,CACjD,EACDC,UAAWA,IAAM,CACflC,GAAwB,EACrBgB,KAAK,IAAMf,EAAiBkC,QAAO,CAAE,EACrCC,MAAOH,GAAQJ,QAAQE,MAAM,6BAA8BE,CAAG,CAAC,CACpE,CACD,EAAC,EAEIlB,EAAiB,MAAOsB,EAA2BtG,IAAmB,CAC1E,GAAI,CACF,MAAM0E,EAAIjD,IACV,GAAIiD,GAAK,KAAM,OACf1C,EAAoB,EAAI,EAExB,MAAMuE,EAAS,MAAMC,GAAsB,CAAExG,OAAQ0E,CAAE,CAAC,EAExD,IACG6B,EAAOE,KAAI,GAAM,MAAQF,EAAOzC,mBAAmB8B,SAAW,IAC/D,CAACc,OAAOC,QAAQ5F,EAAK6F,EAAE,kCAAkC,CAAC,EAE1D,OAEF,IAAKL,GAAQE,KAAI,GAAII,YAAc,IAAM3C,EAAiBuC,MAAMI,YAAc,GAAI,CAChFH,OAAOI,MAAM/F,EAAK6F,EAAE,uCAAuC,CAAC,EAC5D,MACF,CAEA,MAAMG,EAAaR,EAAOE,KAAI,GAAIO,MAAQ,CAAA,EAC1C,IAAIC,EACJ,OAAQX,EAAE,CACR,IAAK,SACHW,EAAc,CAAC,GAAGF,EAAY,CAAC,IAAK/G,CAAM,CAAC,EAC3C,MACF,IAAK,WACHiH,EAAcF,EAAWrB,OAAO,CAAC,CAAChG,EAAMwH,CAAK,IAAM,EAAExH,IAAS,KAAOwH,IAAUlH,EAAO,EACtF,MACF,QACE8F,QAAQE,MAAM,oCAAqCM,CAAE,EACrD,MACJ,CAEA,MAAM3B,EAAuBwC,YAAY,CACvCC,UAAWzI,EAAM,EAAGyI,UACpBpH,OAAQ0E,EACRuC,YAAAA,EACAI,QAASd,EAAOE,KAAM,GAAEY,SAAW,EACrC,CAAC,CACF,OAAQnB,EAAK,CACZJ,QAAQE,MAAM,gCAAiCE,CAAG,EAClDQ,OAAOI,MAAM/F,EAAK6F,EAAE,kCAAkC,CAAC,CACzD,QAAU,CACR5E,EAAoB,EAAK,CAC3B,GAGIsF,EAASA,IAAM,CACnBtC,EAAe,SAAU7G,EAAM6B,MAAM,EAAEqG,MAAOH,GAAQ,CACpDJ,QAAQC,IAAI,mBAAoBG,CAAG,CACrC,CAAC,GAGGqB,EAAWA,IAAM,CAChBb,OAAOC,QAAQ5F,EAAK6F,EAAE,yBAAyB,CAAC,GAErD5B,EAAe,WAAY7G,EAAM6B,MAAM,EAAEqG,MAAOH,GAAQ,CACtDJ,QAAQC,IAAI,qBAAsBG,CAAG,CACvC,CAAC,GAGGsB,EAAoBC,GAAe,KAAO,CAC9CC,KAAM,CASJ,CACEL,QAAStG,EAAK6F,EAAE,oBAAoB,EACpCe,SAAUA,IAAM,CACdC,UAAUC,UAAUC,UAAUjG,GAAM,EAAEwE,MAAOH,GAAQQ,OAAOI,MAAMZ,CAAG,CAAC,CACxE,CACF,EACA,CACEmB,QAAStG,EAAK6F,EAAE,kBAAkB,EAClCe,SAAUA,IAAM,CACdpF,EAAS,iBAAiB,CAC5B,CACF,EACA,CACE8E,QAAStG,EAAK6F,EAAE,mBAAmB,EACnCmB,MAAO,CACL,CACEV,QAAStG,EAAK6F,EAAE,uBAAuB,EACvCe,SAAUA,IAAM,CACd,MAAMK,EAAavF,EAAO,GAAI/C,MAAQmC,EAAI,EAC1CT,EAAW6G,GAAkB,CAAEvI,KAAMsI,EAAYhI,OAAQ7B,EAAM6B,MAAQ,CAAA,CAAC,EACxEqB,EAAQ,CAAE6G,QAAS,kBAAmB,CAAC,EAAE7B,MAAOH,GAAQJ,QAAQE,MAAME,CAAG,CAAC,EAC1E/H,EAAMgK,UAAO,CACf,CACF,EACA,CACEd,QAAStG,EAAK6F,EAAE,2BAA2B,EAC3Ce,SAAUA,IAAM,CACd,MAAMK,EAAc,GAAEjH,EAAK6F,EAAE,aAAa,CAAE,MAAKnE,EAAO,GAAI/C,MAAQmC,EAAI,CAAG,GAC3ET,EAAWgH,GAAsB,CAAE1I,KAAMsI,EAAYhI,OAAQ7B,EAAM6B,MAAQ,CAAA,CAAC,EAC5EqB,EAAQ,CAAE6G,QAAS,kBAAmB,CAAC,EAAE7B,MAAOH,GAAQJ,QAAQE,MAAME,CAAG,CAAC,EAC1E/H,EAAMgK,UAAO,CACf,EACD,CAEL,EACA,CACEd,QAAU9D,EAAS,EAA4BxC,EAAK6F,EAAE,gBAAgB,EAAhD7F,EAAK6F,EAAE,cAAc,EAC3Ce,SAAUA,IAAM,CACTpE,EAAO,EAGVrC,EAAkB/C,EAAM6B,MAAM,EAF9BiB,EAAe9C,EAAM6B,MAAM,CAI/B,CACF,EACA,CACEqI,KAAMA,IAAMlK,EAAM6B,SAAWyB,EAAU,EACvC4F,QAAUhD,EAAW,EAAoCtD,EAAK6F,EAAE,wBAAwB,EAAhE7F,EAAK6F,EAAE,sBAAsB,EACrDe,SAAUA,IAAM,CACTtD,EAAS,EAGZkD,IAFAD,GAIJ,EACD,CAEJ,EAAC,EAEI,CAAExI,OAAAA,EAAQ,EAAGC,EAAgB,KAAO,CACxCqI,UAAWzI,EAAM,EAAGyI,UACpBkB,QAAS,CACP,CACEC,MAAO,CAAC,EAAG,CAAC,EACZC,QAAS,CAACrK,EAAM6B,MAAM,EACtByI,MAAO,GACPC,MAAOC,GAAM,CACf,CAAC,EAEHC,WAAY,EACb,EAAC,EAEF,OAAAC,EACGC,GAAU,CAACX,QAASA,IAAMhK,EAAMgK,UAAW,EAAA,IAAAY,UAAA,CAAA,MAAAF,CAAAA,EACzCG,EAAI,CAAA,IACHX,MAAI,CAAA,OAAExH,EAAA+B,IAAAA,CAAAA,CAAAA,EAAaqG,SAAS,KAAIxG,EAAS,GAAEyG,MAAM,EAAA,IACjDC,UAAQ,CAAA,OAAAC,GAAA,CAAA,EACRC,MAAK,GAAAN,SAEHO,IAAS,IAAA,CAAA,MAAAC,EAAAC,GAAA,EAAAC,EAAAF,EAAAG,WAAAC,OAAAA,EAAAF,EAAA,MAEGH,CAAS,EAAAC,CAAA,GAAA,CAEtB,CAAA,GAAA,IAAA,CAAA,MAAAnL,EAAAwL,GAAA,EAAAC,EAAAzL,EAAAsL,WAAAI,EAAAD,EAAAH,WAAAK,OAAAA,EAAAD,EAAAjB,EAKIG,EAAI,CAAA,IAACX,MAAI,CAAA,OAAExH,EAAA+B,IAAAA,CAAAA,CAAAA,EAAaqG,SAAS,KAAIxG,EAAS,GAAEuH,OAAO,EAAEX,MAAK,GAAAN,SAC3DkB,IAAU,IAAA,CAAA,MAAAC,EAAAC,KAAAR,OAAAA,EAAAO,EAAA,MACAD,CAAU,EAAAC,CAAA,GAAA,CACrB,CAAA,CAAA,EAAAH,EAAA3L,EAAAyK,EAING,EAAI,CAAA,IAACX,MAAI,CAAA,OAAE5G,EAAU,GAAI,IAAI,EAAA,IAAAsH,UAAA,CAAA,MAAAqB,EAAAC,GAAA,EAAAC,EAAAF,EAAAV,WAAAa,EAAAD,EAAAZ,WAAAK,EAAAO,EAAAzB,EAGvB2B,EAAM,CAAA,IAAAzB,UAAA,CAAA,MAAAF,CAAAA,EACJ4B,EAAK,CAAA,IAACpC,MAAI,CAAA,OAAElK,EAAM6B,SAAWyB,GAAU,EAAA,IAAAsH,UAAA,CAAA,MAAA2B,EAAArM,KAAAqM,OAAAA,EAAAC,QAI3B,IAAMhJ,KAAiBoI,EAAAW,EAE/B3J,IAAAA,EAAK6F,EAAE,qBAAqB,CAAC,EAAA8D,CAAA,EAAA7B,EAAAA,EAGjC4B,EAAK,CAAA,IAACpC,MAAI,CAAA,OAAE1D,EAAuBiG,WAAa7I,IAAkB,EAAA,IAAAgH,UAAA,CAAA,MAAA8B,EAAAC,IAAAf,OAAAA,EAAAc,EAE9D9J,IAAAA,EAAK6F,EAAE,kBAAkB,CAAC,EAAAiE,CAAA,EAAAhC,EAAAA,EAG9B4B,EAAK,CAAA,IAACpC,MAAI,CAAA,OAAEnE,EAAiB0G,WAAa1G,EAAiB6G,UAAU,EAAA,IAAAhC,UAAA,CAAA,MAAAiC,EAAAF,IAAAf,OAAAA,EAAAiB,EAEjEjK,IAAAA,EAAK6F,EAAE,iBAAiB,CAAC,EAAAoE,CAAA,EAAAnC,EAAAA,EAG7B4B,EAAK,CAAA,IAACpC,MAAI,CAAA,OAAEhE,EAAS,CAAE,EAAA,IAAA0E,UAAA,CAAA,MAAAkC,EAAAC,KAAAD,OAAAA,EAAAN,QAKX,IAAMpD,IAAU0D,EAAAE,iBAAA,aADX,IAAMhJ,EAAqB,EAAK,CAAC,EAAA8I,EAAAE,iBAAA,aADjC,IAAMhJ,EAAqB,EAAI,CAAC,EAAA4H,EAAAkB,EAAApC,EAK7CG,EAAI,CAAA,IAACX,MAAI,CAAA,MAAE,CAACnG,GAAiB,CAAE,EAAA,IAAEiH,UAAQ,CAAA,OAAEpI,EAAK6F,EAAE,kBAAkB,CAAC,EAAA,IAAAmC,UAAA,CAAA,OACnEhI,EAAK6F,EAAE,4BAA4B,CAAC,CAAA,CAAA,CAAA,EAAAwE,MAAAH,EAAAI,SAH7B1G,EAAuBiG,SAAS,EAAAK,CAAA,EAAApC,EAAAA,EAO7C4B,EAAK,CAAA,IAACpC,MAAI,CAAA,MAAE,CAAChE,EAAS,CAAE,EAAA,IAAA0E,UAAA,CAAA,MAAAuC,EAAAC,KAAAD,OAAAA,EAAAX,QAGZ,IAAMrD,IAAQyC,EAAAuB,EAGtBvK,IAAAA,EAAK6F,EAAE,gBAAgB,CAAC,EAAAwE,MAAAE,EAAAD,SAFf1G,EAAuBiG,SAAS,EAAAU,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,EAAAf,CAAA,EAAAA,EAAAI,QAUrC,IAAMnD,EAAkBgE,KAAI,EAAE,MAAAC,EAHlCjE,EAAkBkE,UAAS,cAAAD,GAAA,WAAAE,GAAAF,EAAAlB,CAAA,EAA3B/C,EAAkBkE,UAASnB,EAAAR,EAAAQ,EAAA1B,EAK/B+C,GAAkB,CAAA,CAAA,CAAA,EAAA7B,EAAAO,EAAA,IAEpB9C,EAAkBqE,MAAO,EAAA,IAAA,EAAA9B,EAAAK,EAAAvB,EAE3B2B,EAAM,CAAA,IAAAzB,UAAA,CAAA,MAAAF,CAAAA,EACJ4B,EAAK,CAAA,IAACpC,MAAI,CAAA,OAAE7D,EAAmBoG,SAAS,EAAA,IAAA7B,UAAA,CAAA,MAAA+C,EAAAC,IAAAhC,OAAAA,EAAA+B,EACR/K,IAAAA,EAAK6F,EAAE,iBAAiB,CAAC,EAAAkF,CAAA,EAAAjD,EAAAA,EAEzD4B,EAAK,CAAA,IAACpC,MAAI,CAAA,OAAE5D,GAAQ,CAAE,EAAA,IAAAsE,UAAA,CAAA,MAAAiD,EAAAD,IAAAhC,OAAAA,EAAAiC,EACUjL,IAAAA,EAAK6F,EAAE,oBAAoB,CAAC,EAAAoF,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,EAAA,IAAA,EAAA5B,CAAA,CAAA,CAAA,EAAA,IAAA,EAAAhM,CAAA,GAAA,GAAA,IAAA,CAAA,MAAA6N,EAAAC,GAAA,EAAAC,EAAAF,EAAAvC,WAAA0C,EAAAD,EAAAzC,WAAA2C,EAAAD,EAAAE,YAAAC,EAAAF,EAAA3C,WAAAK,OAAAA,EAAAoC,EAAAtD,EAQhEG,EAAI,CAAA,IAACX,MAAI,CAAA,OAAEzF,EAAagI,SAAS,EAAA,IAAA7B,UAAA,CAAA,OAAGhI,EAAK6F,EAAE,iBAAiB,CAAC,CAAA,CAAA,EAAAwF,CAAA,EAAArC,EAAAoC,EAAAtD,EAC7DG,EAAI,CAAA,IAACX,MAAI,CAAA,OAAG5F,EAAO,GAAI+J,cAAc5G,QAAU,GAAK,CAAC,EAAA,IAAAmD,UAAA,CAAA,MAAA0D,EAAAC,KAAA3C,OAAAA,EAAA0C,EAAA,IACXhK,EAAS,GAAE+J,YAAY,EAAAC,CAAA,CAAA,CAAA,EAAAL,CAAA,EAAArC,EAAAqC,EAAAvD,EAG/DG,EAAI,CAAA,IAACX,MAAI,CAAA,OAAG5F,EAAO,GAAI/C,MAAMkG,QAAU,GAAK,CAAC,EAAA,IAAAmD,UAAA,CAAA4D,MAAAA,EAAAC,KAAAD,OAAAA,EAAAjD,WAAAK,EAAA4C,EAAA,IACZlK,EAAS,GAAE/C,KAAI,IAAA,EAAAiN,CAAA,CAAA,CAAA,EAAA,IAAA,EAAA5C,EAAAqC,EAAAvD,EAEhDG,EAAI,CAAA,IAACX,MAAI,CAAA,OAAG5F,EAAO,GAAIQ,OAAO2C,QAAU,GAAK,CAAC,EAAA,IAAAmD,UAAA,CAAA,MAAA8D,EAAAC,KAAA/C,OAAAA,EAAA8C,EAAA,IAE1C3J,GAAiB,GAAEC,MAAK,IAAA,EAAA4G,EAAA8C,EAAAhE,EACxB2B,EAAM,CAAA,IACLrB,UAAQ,CAAA,OAAA,IAAA,CAAA,MAAA4D,EAAAC,KAAAjD,OAAAA,EAAAgD,EAAAlE,EAEHrK,GAAiB,CAAA,CAAA,CAAA,EAAAuO,CAAA,IAAA,EAAA,IAAAhE,UAAA,CAAA,MAAAF,CAAAA,EAIrB4B,EAAK,CAAA,IAACpC,MAAI,CAAA,OAAEtF,GAAkB6H,SAAS,EAAA,IAAA7B,UAAA,CAAA,MAAAkE,EAAAC,KAAAnD,OAAAA,EAAAkD,EAAApE,EAEnC3K,GAAS,CAAA,CAAA,CAAA,EAAA+O,CAAA,EAAApE,EAAAA,EAGb4B,EAAK,CAAA,IAACpC,MAAI,CAAA,OAAE/E,GAAU,CAAE,EAAA,IAAAyF,UAAA,CAAA,MAAAoE,EAAAC,KAAArD,OAAAA,EAAAoD,EAAAtE,EAEpBtK,GAAW,CAAA,CAAA,CAAA,EAAA4O,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,EAAA,IAAA,EAAAN,CAAA,CAAA,CAAA,EAAA,IAAA,EAAA9C,EAAAwC,EAQS1K,CAAI,EAAAoK,IAAApD,EAAAA,EAIxCG,EAAI,CAAA,IAACX,MAAI,CAAA,OAAE7E,GAAW,CAAE,EAAE6F,MAAK,GAAAN,SAC5BrF,IAAM,IAAA,CAAA,MAAA2J,EAAAC,KAAAvD,OAAAA,EAAAsD,EAAAxE,EAEH0E,GAAsB,CAAC7J,OAAQA,EAAQ8J,UAAW,GAAOC,cAAa,EAAA,CAAA,CAAA,EAAAJ,CAAA,GAAA,CAE1E,CAAA,GAAA,IAAA,CAAA,MAAAK,EAAAC,GAAA,EAAAC,EAAAF,EAAAhE,WAAAmE,EAAAD,EAAAlE,WAAAoE,EAAAD,EAAAvB,YAAAsB,OAAAA,EAAAjD,QAGyD,IAAMpI,EAAS,WAAW,EAACwH,EAAA8D,EAC7D9M,IAAAA,EAAK6F,EAAE,mBAAmB,CAAC,EAAAmD,EAAA+D,EAAAjF,EAE9CG,EAAI,CAAA,IACHX,MAAI,CAAA,OAAE7D,EAAmByE,SAAS,EAAA,IAClCE,UAAQ,CAAA,OAAA,IAAA,CAAA,MAAA4E,EAAAC,KAAAjE,OAAAA,EAAAgE,EAAyBhN,IAAAA,EAAK6F,EAAE,iBAAiB,CAAC,EAAAmH,CAAA,IAAA,EAAA,IAAAhF,UAAA,CAAA,OAEzDxE,EAAsB,EAACqB,MAAM,CAAA,CAAA,CAAA,EAAAmE,EAAA2D,EAAA7E,EAInCG,EAAI,CAAA,IAACX,MAAI,CAAA,MAAE,CAAC1J,EAAQ,EAACsP,SAAS,EAAA,IAAAlF,UAAA,CAAA,MAAAmF,EAAAC,GAAA,EAAAC,EAAAF,EAAAxE,WAAA2E,EAAAD,EAAA9B,YAAAvC,OAAAA,EAAAqE,EAELrN,IAAAA,EAAK6F,EAAE,mBAAmB,CAAC,EAAAmD,EAAAsE,EAAAxF,EAE9CG,EAAI,CAAA,IACHX,MAAI,CAAA,OAAEjG,GAAa,CAAE,EAAA,IACrB+G,UAAQ,CAAA,OAAA,IAAA,CAAA,MAAAmF,EAAAC,KAAAD,OAAAA,EAAA3D,QAGK,IAAMtI,GAAiB,EAAI,EAAC0H,EAAAuE,EAEpCvN,IAAAA,EAAK6F,EAAE,uBAAuB,CAAC,EAAA0H,CAAA,IAAA,EAGpCjF,MAAK,GAAA,IAAAN,UAAA,CAAA,OAAAF,EAEJlI,GAAc,CAAA,IAACX,QAAM,CAAA,OAAE7B,EAAM6B,MAAM,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,EAAAkO,CAAA,CAAA,CAAA,EAAA,IAAA,EAAAR,IAAA7E,EAAAA,EAM7CG,EAAI,CAAA,IAACX,MAAI,CAAA,OAAG5F,EAAO,GAAI+L,SAAW,IAAI5I,OAAS,CAAC,EAAA,IAAAmD,UAAA,CAAA,MAAA0F,EAAAC,KAAA3E,OAAAA,EAAA0E,EAAA5F,EAE5CG,EAAI,CAAA,IAACX,MAAI,CAAA,OAAE5F,EAAS,GAAE+L,OAAO,EAAEnF,MAAK,GAAAN,SACjCyF,IAAO,IAAA,CAAA,MAAAG,EAAAC,GAAA,EAAAC,EAAAF,EAAAjF,WAAAK,OAAAA,EAAA8E,EAAAhG,EAGFiG,GAAQ,CAAA,CAAA,CAAA,EAAA/E,EAAA4E,EAAA9F,EAEVkG,GAAQ,CAAA,MAAA,sBAA6BC,KAAMR,CAAO,CAAA,EAAA,IAAA,EAAAG,CAAA,GAAA,CAEtD,CAAA,CAAA,EAAAF,CAAA,EAAA5F,EAAAA,EAIN2B,EAAM,CAAA,IAAAzB,UAAA,CAAA,MAAAF,CAAAA,EACJ4B,EAAK,CAAA,IAACpC,MAAI,CAAA,OAAE/F,EAAO,IAAK,WAAW,EAAA,IAAAyG,UAAA,CAAA,OAAAF,EACjCoG,GAAQ,CAAA,IAACxI,MAAI,CAAA,OAAElC,EAAoB,CAAE,EAAE2K,gBAAkBC,GAAMA,EAAGhH,QAAS3F,CAAU,CAAA,CAAA,EAAAqG,EAAAA,EAEvF4B,EAAK,CAAA,IAACpC,MAAI,CAAA,OAAE/F,EAAO,IAAK,mBAAqBM,EAAa6D,IAAI,EAAE4C,MAAK,GAAAN,SAClErG,GAAKmG,EACJuG,GAAe,CACd1M,MAAOA,EAAK,IACZ2M,OAAK,CAAA,OAAEC,KAAKC,UAAU9M,EAAS,EAAE,KAAM,CAAC,CAAC,EACzC0F,QAAS3F,CAAU,CAAA,CAEtB,CAAA,CAAA,CAAA,CAAA,CAAA,GAAA,IAAA,CAAA,MAAAgN,EAAAC,KAAA1F,OAAAA,EAAAyF,EAAA3G,EAIF6G,GAAQ,CAAA,IAAC5Q,QAAM,CAAA,OAAEA,GAAM,CAAE,CAAA,CAAA,CAAA,EAAA0Q,CAAA,GAAA,CAAA,CAAA,CAAA,CAAA,CAIlC,EAE8BG,GAAA,CAAA,OAAA,CAAA","x_google_ignoreList":[0,1,2,4]}