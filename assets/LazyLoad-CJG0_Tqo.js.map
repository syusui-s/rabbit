{"version":3,"file":"LazyLoad-CJG0_Tqo.js","sources":["../../src/components/utils/LazyLoad.tsx"],"sourcesContent":["import { Component, JSX, Show, createSignal, onCleanup, onMount } from 'solid-js';\n\nexport type LazyLoadProps = {\n  threshold?: number[] | number;\n  fallback?: JSX.Element;\n  children: () => JSX.Element;\n};\n\nconst LazyLoad: Component<LazyLoadProps> = (props) => {\n  let containerRef: HTMLDivElement | undefined;\n\n  const [visible, setVisible] = createSignal<boolean>(false);\n\n  onMount(() => {\n    const observer = new IntersectionObserver(\n      (entries) => {\n        entries.forEach((entry) => {\n          if (entry.isIntersecting) {\n            setVisible(true);\n            observer.disconnect();\n          }\n        });\n      },\n      {\n        threshold: props.threshold ?? 0,\n      },\n    );\n    if (containerRef != null) {\n      observer.observe(containerRef);\n    }\n\n    onCleanup(() => {\n      observer.disconnect();\n    });\n  });\n\n  return (\n    <Show when={visible()} fallback={<div ref={containerRef}>{props.fallback}</div>} keyed>\n      {/* eslint-disable-next-line @typescript-eslint/no-unused-vars */}\n      {(_) => props.children()}\n    </Show>\n  );\n};\n\nexport default LazyLoad;\n"],"names":["LazyLoad","props","containerRef","visible","setVisible","createSignal","onMount","observer","IntersectionObserver","entries","forEach","entry","isIntersecting","disconnect","threshold","observe","onCleanup","_$createComponent","Show","when","fallback","_el$","_tmpl$","_ref$","_$use","keyed","children"],"mappings":"kGAQMA,EAAgDC,GAAA,CAChDC,IAAAA,EAEJ,KAAM,CAACC,EAASC,CAAU,EAAIC,EAAsB,EAAK,EAEzDC,OAAAA,EAAQ,IAAM,CACNC,MAAAA,EAAW,IAAIC,qBACNC,GAAA,CACXA,EAAQC,QAAmBC,GAAA,CACrBA,EAAMC,iBACRR,EAAW,EAAI,EACfG,EAASM,WAAW,EACtB,CACD,CAAA,EAEH,CACEC,UAAWb,EAAMa,WAAa,CAAA,CAElC,EACIZ,GAAgB,MAClBK,EAASQ,QAAQb,CAAY,EAG/Bc,EAAU,IAAM,CACdT,EAASM,WAAW,CAAA,CACrB,CAAA,CACF,EAEDI,EACGC,EAAI,CAAA,IAACC,MAAI,CAAA,OAAEhB,EAAQ,CAAC,EAAA,IAAEiB,UAAQ,CAAA,OAAA,IAAA,CAAA,MAAAC,EAAAC,IAAAC,EAAYrB,EAAY,cAAAqB,GAAAC,WAAAA,EAAAD,EAAAF,CAAA,EAAZnB,EAAYmB,EAAAA,EAAAA,EAAGpB,IAAAA,EAAMmB,QAAQ,EAAAC,CAAAA,IAAA,EAASI,MAAK,GAAAC,SAE5EzB,GAAAA,EAAMyB,SAAS,CAAA,CAAC,CAG9B"}