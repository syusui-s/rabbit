import{s as L,t as d,d as k,c as C,i as s,a,b as y,F as _,S as b,u as I,e as F,o as j,M as E,f as M,g as O,h as P}from"./index-LzjuU_9O.js";import{u as N,r as R}from"./resolveAsset-4rLUUsUt.js";const z=d('<svg xmlns=http://www.w3.org/2000/svg fill=none stroke=currentColor stroke-width=1.5 aria-hidden=true data-slot=icon viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round d="M13.5 6H5.25A2.25 2.25 0 0 0 3 8.25v10.5A2.25 2.25 0 0 0 5.25 21h10.5A2.25 2.25 0 0 0 18 18.75V10.5m-10.5 6L21 3m0 0h-5.25M21 3v5.25">'),D=(e={})=>(()=>{const n=z();return L(n,e,!0,!0),n})(),T=d('<div><div class=pt-2><ul class="flex gap-1"></ul></div><div>'),U=d('<li><button class="rounded-xl border px-2 text-sm"type=button>'),H=d("<h3>"),V=d('<span class="ms-1 inline-block size-16 p-5">'),W=d('<div class="my-2 flex items-center rounded-lg border border-border p-2"><div class=flex-1><div class="flex items-center"><ul class="flex items-center gap-1 text-xs"></ul></div><ul class="flex gap-1 pt-1 text-xs"></ul></div><div class=shrink-0 aria-hidden=true>'),q=d('<li class="text-link underline">'),G=d('<li class="rounded-lg border border-border px-1 text-fg-secondary">'),J=["pc-chrome","pc-firefox","ios","android"],K={"pc-chrome":"Chrome","pc-firefox":"Firefox",ios:"iOS",android:"Android"},S=e=>K[e],B=[{name:"nos2x",url:"https://chrome.google.com/webstore/detail/nos2x/kpgefcfmnafjgpblomihpgmejjdanjjp",browsers:["pc-chrome","android"],guides:[{title:"nos2xのセットアップと使い方",url:"https://scrapbox.io/nostr/nos2x%E3%81%AE%E3%82%BB%E3%83%83%E3%83%88%E3%82%A2%E3%83%83%E3%83%97%E3%81%A8%E4%BD%BF%E3%81%84%E6%96%B9",lang:"ja"}]},{name:"nos2x-fox",browsers:["pc-firefox","android"],url:"https://addons.mozilla.org/firefox/addon/nos2x-fox/",guides:[{title:"nos2x-foxのセットアップと使い方",url:"https://scrapbox.io/nostr/nos2x-fox%E3%81%AE%E3%82%BB%E3%83%83%E3%83%88%E3%82%A2%E3%83%83%E3%83%97%E3%81%A8%E4%BD%BF%E3%81%84%E6%96%B9",lang:"ja"}]},{name:"nostore",browsers:["ios"],url:"https://apps.apple.com/jp/app/nostore/id1666553677",guides:[{title:"nostore(iOS Safari用NIP-07拡張機能)のセットアップ",url:"https://scrapbox.io/nostr/nostore(iOS_Safari%E7%94%A8NIP-07%E6%8B%A1%E5%BC%B5%E6%A9%9F%E8%83%BD)%E3%81%AE%E3%82%BB%E3%83%83%E3%83%88%E3%82%A2%E3%83%83%E3%83%97",lang:"ja"}]}],Q=()=>{const e=N.UAParser(window.navigator.userAgent),n=new Set;return e.os.name==="Android"&&n.add("android"),e.os.name==="iOS"&&n.add("ios"),(e.device.type===void 0||e.device.type==="console")&&(e.browser.name==="Chromium"||e.browser.name==="Chrome"||e.browser.name==="Vivaldi"||e.browser.name==="Brave")&&n.add("pc-chrome"),e.browser.name==="Firefox"&&n.add("pc-firefox"),n},X=()=>{const[e,n]=C(Q()),m=o=>n(g=>{const c=new Set(g);return c.has(o)?c.delete(o):c.add(o),c}),p=()=>{const o=e();return o.size===0?B:B.filter(g=>g.browsers.some(c=>o.has(c)))};return(()=>{const o=T(),g=o.firstChild,c=g.firstChild,v=g.nextSibling;return s(c,a(_,{each:J,children:l=>(()=>{const h=U(),t=h.firstChild;return t.$$click=()=>m(l),s(t,()=>S(l)),y(r=>{const f=!!e().has(l),x=!!e().has(l),$=!!e().has(l),i=!e().has(l),u=!e().has(l),w=!e().has(l);return f!==r._v$&&t.classList.toggle("border-fg",r._v$=f),x!==r._v$2&&t.classList.toggle("font-bold",r._v$2=x),$!==r._v$3&&t.classList.toggle("text-fg",r._v$3=$),i!==r._v$4&&t.classList.toggle("border-border",r._v$4=i),u!==r._v$5&&t.classList.toggle("font-normal",r._v$5=u),w!==r._v$6&&t.classList.toggle("text-fg-secondary",r._v$6=w),r},{_v$:void 0,_v$2:void 0,_v$3:void 0,_v$4:void 0,_v$5:void 0,_v$6:void 0}),h})()})),s(v,a(_,{get each(){return p()},children:l=>(()=>{const h=W(),t=h.firstChild,r=t.firstChild,f=r.firstChild,x=r.nextSibling,$=t.nextSibling;return s(t,a(b,{class:"font-bold hover:text-fg-secondary hover:underline",get href(){return l.url},get children(){const i=H();return s(i,()=>l.name),i}}),r),s(f,a(_,{get each(){return l.guides},children:i=>(()=>{const u=q();return s(u,a(b,{get href(){return i.url},get children(){return i.title}})),u})()})),s(x,a(_,{get each(){return l.browsers},children:i=>(()=>{const u=G();return s(u,()=>S(i)),u})()})),s($,a(b,{class:"font-bold text-fg-secondary",get href(){return l.url},get children(){const i=V();return s(i,a(D,{})),i}})),h})()})),o})()};k(["click"]);const A=d("<p>"),Y=d("<h2 class=font-bold>"),Z=d('<div class="flex flex-col items-center gap-2"><p class=text-sm></p><button class="rounded bg-primary px-4 py-2 text-sm font-bold text-primary-fg hover:bg-primary-hover">'),ee=d('<button class="rounded bg-primary p-4 text-lg font-bold text-primary-fg hover:shadow-md">'),te=d('<div class="mx-auto flex max-w-[640px] flex-col items-center p-4 text-fg"><div class="flex flex-col items-center gap-4 rounded p-4"><img width=96 alt=logo height=96><h1 class="text-5xl font-black text-primary">Rabbit</h1><div>Rabbit is a Web client for Nostr.</div></div><div class="rounded-md p-8 shadow-md">'),re=()=>{const[e,n]=C("checking"),m=()=>{window.nostr!=null?n("available"):n("unavailable")};return j(()=>{let p=0;const o=setInterval(()=>{m(),p>=10&&clearInterval(o),p+=1},1e3)}),e},le=()=>{const e=I(),n=re(),m=F(),{persistStatus:p,loggedIn:o}=P(),g=()=>{o(),m("/")};return j(()=>{p().loggedIn&&m("/")}),(()=>{const c=te(),v=c.firstChild,l=v.firstChild,h=v.nextSibling;return s(h,a(M,{get children(){return[a(E,{get when(){return n()==="checking"},get children(){const t=A();return s(t,()=>e()("hello.signerChecking")),t}}),a(E,{get when(){return n()==="unavailable"},get children(){return[(()=>{const t=Y();return s(t,()=>e()("hello.signerUnavailable")),t})(),(()=>{const t=A();return s(t,()=>e()("hello.signerUnavailableMessage")),t})(),a(X,{}),(()=>{const t=Z(),r=t.firstChild,f=r.nextSibling;return s(r,()=>e()("hello.reloadAfterInstall")),f.$$click=()=>window.location.reload(),s(f,()=>e()("hello.reload")),t})()]}}),a(E,{get when(){return n()==="available"},get children(){const t=ee();return t.$$click=g,s(t,()=>e()("hello.loginWithSigner")),t}})]}})),y(()=>O(l,"src",R("images/rabbit_256.png"))),c})()};k(["click"]);export{le as default};
//# sourceMappingURL=Hello-t1m5TQoy.js.map
