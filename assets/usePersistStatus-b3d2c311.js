import{k as l,m as u,D as c}from"./index-2f57fe9e.js";const d=(t,s,r)=>{const n=t();return{getItem(a){const e=n.getItem(a);return e!=null?r(e):null},setItem(a,e){const o=s(e);n.setItem(a,o)}}},S=(t,s,r)=>{const[n,a]=l(!1),[e,o]=l(s);return u(()=>{const i=r.getItem(t);i!=null&&o(()=>i),a(!0)}),c(()=>{n()&&r.setItem(t,e())}),[e,o]},I={loggedIn:!1,agreeWithNostrBuild:!1},f=t=>JSON.stringify(t),m=t=>JSON.parse(t),h=d(()=>window.localStorage,f,m),[g,p]=S("RabbitLoginStatus",I,h),W=()=>({persistStatus:()=>({get loggedIn(){return g().loggedIn??!1},get agreeWithNostrBuild(){return g().agreeWithNostrBuild??!1}}),loggedIn:()=>{p(s=>({...s,loggedIn:!0}))}});export{S as a,d as c,W as u};
