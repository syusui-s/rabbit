{"version":3,"file":"ProfileDisplay-Ca6EHnir.js","sources":["../../node_modules/heroicons/24/outline/arrow-path.svg","../../node_modules/heroicons/24/solid/check-circle.svg","../../node_modules/heroicons/24/solid/exclamation-circle.svg","../../node_modules/nostr-tools/lib/esm/nip05.js","../../src/nostr/parseNip05Address.ts","../../src/nostr/useFollowers.ts","../../src/nostr/useVerification.ts","../../src/components/modal/ProfileDisplay.tsx"],"sourcesContent":["export default (props = {}) => <svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"1.5\" aria-hidden=\"true\" data-slot=\"icon\" viewBox=\"0 0 24 24\"{...props}><path stroke-linecap=\"round\" stroke-linejoin=\"round\" d=\"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0 3.181 3.183a8.25 8.25 0 0 0 13.803-3.7M4.031 9.865a8.25 8.25 0 0 1 13.803-3.7l3.181 3.182m0-4.991v4.99\"/></svg>","export default (props = {}) => <svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"currentColor\" aria-hidden=\"true\" data-slot=\"icon\" viewBox=\"0 0 24 24\"{...props}><path fill-rule=\"evenodd\" d=\"M2.25 12c0-5.385 4.365-9.75 9.75-9.75s9.75 4.365 9.75 9.75-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12m13.36-1.814a.75.75 0 1 0-1.22-.872l-3.236 4.53L9.53 12.22a.75.75 0 0 0-1.06 1.06l2.25 2.25a.75.75 0 0 0 1.14-.094z\" clip-rule=\"evenodd\"/></svg>","export default (props = {}) => <svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"currentColor\" aria-hidden=\"true\" data-slot=\"icon\" viewBox=\"0 0 24 24\"{...props}><path fill-rule=\"evenodd\" d=\"M2.25 12c0-5.385 4.365-9.75 9.75-9.75s9.75 4.365 9.75 9.75-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12M12 8.25a.75.75 0 0 1 .75.75v3.75a.75.75 0 0 1-1.5 0V9a.75.75 0 0 1 .75-.75m0 8.25a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5\" clip-rule=\"evenodd\"/></svg>","// nip05.ts\nvar NIP05_REGEX = /^(?:([\\w.+-]+)@)?([\\w_-]+(\\.[\\w_-]+)+)$/;\nvar _fetch;\ntry {\n  _fetch = fetch;\n} catch {\n}\nfunction useFetchImplementation(fetchImplementation) {\n  _fetch = fetchImplementation;\n}\nasync function searchDomain(domain, query = \"\") {\n  try {\n    const url = `https://${domain}/.well-known/nostr.json?name=${query}`;\n    const res = await _fetch(url, { redirect: \"error\" });\n    const json = await res.json();\n    return json.names;\n  } catch (_) {\n    return {};\n  }\n}\nasync function queryProfile(fullname) {\n  const match = fullname.match(NIP05_REGEX);\n  if (!match)\n    return null;\n  const [_, name = \"_\", domain] = match;\n  try {\n    const url = `https://${domain}/.well-known/nostr.json?name=${name}`;\n    const res = await (await _fetch(url, { redirect: \"error\" })).json();\n    let pubkey = res.names[name];\n    return pubkey ? { pubkey, relays: res.relays?.[pubkey] } : null;\n  } catch (_e) {\n    return null;\n  }\n}\nasync function isValid(pubkey, nip05) {\n  let res = await queryProfile(nip05);\n  return res ? res.pubkey === pubkey : false;\n}\nexport {\n  NIP05_REGEX,\n  isValid,\n  queryProfile,\n  searchDomain,\n  useFetchImplementation\n};\n","import { NIP05_REGEX } from 'nostr-tools/nip05';\n\nexport type ParsedNip05Address = {\n  user?: string;\n  domain: string;\n  ident: string;\n};\n\nconst parseNip05Address = (ident: string | undefined): ParsedNip05Address | null => {\n  if (ident == null || ident.length === 0) return null;\n\n  const match = ident.match(NIP05_REGEX);\n  if (match == null) return null;\n\n  const [, user, domain] = match;\n\n  // (This is not standardized in NIP-05)\n  // local-part can be optional here. nip05 can contain only the domain name.\n  // This follows nostr-tools implementation.\n  if (user == null || user === '_') {\n    return { user: '_', domain, ident: domain };\n  }\n\n  return { user, domain, ident };\n};\n\nexport default parseNip05Address;\n","import { createMemo } from 'solid-js';\n\nimport uniq from 'lodash/uniq';\nimport * as Kind from 'nostr-tools/kinds';\n\nimport useConfig from '@/core/useConfig';\nimport useSubscription from '@/nostr/useSubscription';\n\nexport type UseFollowersProps = {\n  pubkey: string;\n};\n\nexport default function useFollowers(propsProvider: () => UseFollowersProps) {\n  const { config } = useConfig();\n  const props = createMemo(propsProvider);\n\n  const { events } = useSubscription(() => ({\n    relayUrls: config().relayUrls,\n    filters: [{ kinds: [Kind.Contacts], '#p': [props().pubkey] }],\n    limit: 1000000,\n    eoseLimit: 1000000,\n    continuous: false,\n  }));\n\n  const followersPubkeys = () => uniq(events()?.map((ev) => ev.pubkey));\n\n  const count = () => followersPubkeys().length;\n\n  return { followersPubkeys, count };\n}\n","import { createMemo, type Accessor } from 'solid-js';\n\nimport { createQuery, type CreateQueryResult } from '@tanstack/solid-query';\nimport { queryProfile } from 'nostr-tools/nip05';\nimport { type ProfilePointer } from 'nostr-tools/nip19';\n\nexport type UseVerificationProps = {\n  nip05: string;\n};\n\nexport type UseVerification = {\n  verification: Accessor<ProfilePointer | null>;\n  query: CreateQueryResult<ProfilePointer | null>;\n};\n\nconst useVerification = (propsProvider: () => UseVerificationProps | null): UseVerification => {\n  const props = createMemo(propsProvider);\n  const genQueryKey = () => ['useVerification', props()] as const;\n\n  const query = createQuery(() => ({\n    queryKey: genQueryKey(),\n    queryFn: ({ queryKey }) => {\n      const [, currentProps] = queryKey;\n      if (currentProps == null) return Promise.resolve(null);\n      const { nip05: nip05string } = currentProps;\n      return queryProfile(nip05string);\n    },\n    staleTime: 30 * 60 * 1000, // 30 min\n    gcTime: 24 * 60 * 60 * 1000, // 24 hour\n  }));\n\n  const verification = () => query?.data ?? null;\n\n  return { verification, query };\n};\n\nexport default useVerification;\n","import { Component, createSignal, createMemo, Show, Switch, Match, createEffect } from 'solid-js';\n\nimport { createMutation } from '@tanstack/solid-query';\nimport ArrowPath from 'heroicons/24/outline/arrow-path.svg';\nimport EllipsisHorizontal from 'heroicons/24/outline/ellipsis-horizontal.svg';\nimport GlobeAlt from 'heroicons/24/outline/globe-alt.svg';\nimport CheckCircle from 'heroicons/24/solid/check-circle.svg';\nimport ExclamationCircle from 'heroicons/24/solid/exclamation-circle.svg';\n\nimport LoadMore, { useLoadMore } from '@/components/column/LoadMore';\nimport TextNoteContentDisplay from '@/components/event/textNote/TextNoteContentDisplay';\nimport BasicModal from '@/components/modal/BasicModal';\nimport EventDebugModal from '@/components/modal/EventDebugModal';\nimport UserList from '@/components/modal/UserList';\nimport Timeline from '@/components/timeline/Timeline';\nimport SafeLink from '@/components/utils/SafeLink';\nimport useContextMenu from '@/components/utils/useContextMenu';\nimport { createFollowingColumn, createPostsColumn } from '@/core/column';\nimport useConfig from '@/core/useConfig';\nimport { useRequestCommand } from '@/hooks/useCommandBus';\nimport useModalState from '@/hooks/useModalState';\nimport { useTranslation } from '@/i18n/useTranslation';\nimport { genericEvent } from '@/nostr/event';\nimport parseNip05Address from '@/nostr/parseNip05Address';\nimport parseTextNote, { toResolved } from '@/nostr/parseTextNote';\nimport useCommands from '@/nostr/useCommands';\nimport useFollowers from '@/nostr/useFollowers';\nimport useFollowings, { fetchLatestFollowings } from '@/nostr/useFollowings';\nimport useProfile from '@/nostr/useProfile';\nimport usePubkey from '@/nostr/usePubkey';\nimport useSubscription from '@/nostr/useSubscription';\nimport useVerification from '@/nostr/useVerification';\nimport ensureNonNull from '@/utils/ensureNonNull';\nimport npubEncodeFallback from '@/utils/npubEncodeFallback';\nimport timeout from '@/utils/timeout';\n\nexport type ProfileDisplayProps = {\n  pubkey: string;\n  onClose?: () => void;\n};\n\nconst FollowersCount: Component<{ pubkey: string }> = (props) => {\n  const { count } = useFollowers(() => ({\n    pubkey: props.pubkey,\n  }));\n\n  return <>{count()}</>;\n};\n\nconst ProfileDisplay: Component<ProfileDisplayProps> = (props) => {\n  const i18n = useTranslation();\n  const { config, addMutedPubkey, removeMutedPubkey, isPubkeyMuted, saveColumn } = useConfig();\n  const request = useRequestCommand();\n  const commands = useCommands();\n  const myPubkey = usePubkey();\n  const { showProfileEdit } = useModalState();\n\n  const npub = createMemo(() => npubEncodeFallback(props.pubkey));\n\n  const [updatingContacts, setUpdatingContacts] = createSignal(false);\n  const [hoverFollowButton, setHoverFollowButton] = createSignal(false);\n  const [showFollowers, setShowFollowers] = createSignal(false);\n  const [modal, setModal] = createSignal<'Following' | 'EventDebugModal' | null>(null);\n  const closeModal = () => setModal(null);\n\n  const {\n    profile,\n    event: profileEvent,\n    query: profileQuery,\n  } = useProfile(() => ({\n    pubkey: props.pubkey,\n  }));\n  const { verification, query: verificationQuery } = useVerification(() =>\n    ensureNonNull([profile()?.nip05] as const)(([nip05]) => ({ nip05 })),\n  );\n  const nip05Identifier = () => parseNip05Address(profile()?.nip05);\n  const isVerified = () => verification()?.pubkey === props.pubkey;\n  const isMuted = () => isPubkeyMuted(props.pubkey);\n\n  const aboutParsed = createMemo(() => {\n    const ev = profileEvent();\n    const about = profile()?.about;\n    if (ev == null || about == null) return undefined;\n\n    const parsed = parseTextNote(about);\n    const resolved = toResolved(parsed, genericEvent(ev));\n    return resolved;\n  });\n\n  const {\n    followingPubkeys: myFollowingPubkeys,\n    invalidateFollowings: invalidateMyFollowings,\n    query: myFollowingQuery,\n  } = useFollowings(() =>\n    ensureNonNull([myPubkey()] as const)(([pubkeyNonNull]) => ({\n      pubkey: pubkeyNonNull,\n    })),\n  );\n  const following = () => myFollowingPubkeys().includes(props.pubkey);\n\n  const { followingPubkeys: userFollowingPubkeys, query: userFollowingQuery } = useFollowings(\n    () => ({ pubkey: props.pubkey }),\n  );\n\n  const followed = () => {\n    const p = myPubkey();\n    return p != null && userFollowingPubkeys().includes(p);\n  };\n\n  const updateContactsMutation = createMutation(() => ({\n    mutationKey: ['updateContacts'],\n    mutationFn: (...params: Parameters<typeof commands.updateContacts>) =>\n      commands\n        .updateContacts(...params)\n        .then((promises) => Promise.allSettled(promises.map(timeout(5000)))),\n    onSuccess: (results) => {\n      const succeeded = results.filter((res) => res.status === 'fulfilled').length;\n      const failed = results.length - succeeded;\n      if (succeeded === results.length) {\n        console.log('succeeded to update contacts');\n      } else if (succeeded > 0) {\n        console.log(\n          `succeeded to update contacts for ${succeeded} relays but failed for ${failed} relays`,\n        );\n      } else {\n        console.error('failed to update contacts');\n      }\n    },\n    onError: (err) => {\n      console.error('failed to update contacts: ', err);\n    },\n    onSettled: () => {\n      invalidateMyFollowings()\n        .then(() => myFollowingQuery.refetch())\n        .catch((err) => console.error('failed to refetch contacts', err));\n    },\n  }));\n\n  const updateContacts = async (op: 'follow' | 'unfollow', pubkey: string) => {\n    try {\n      const p = myPubkey();\n      if (p == null) return;\n      setUpdatingContacts(true);\n\n      const latest = await fetchLatestFollowings({ pubkey: p });\n\n      if (\n        (latest.data() == null || latest.followingPubkeys().length === 0) &&\n        !window.confirm(i18n.t('profile.confirmUpdateEvenIfEmpty'))\n      )\n        return;\n\n      if ((latest?.data()?.created_at ?? 0) < (myFollowingQuery.data?.created_at ?? 0)) {\n        window.alert(i18n.t('profile.failedToFetchLatestFollowList'));\n        return;\n      }\n\n      const latestTags = latest.data()?.tags ?? [];\n      let updatedTags: string[][];\n      switch (op) {\n        case 'follow':\n          updatedTags = [...latestTags, ['p', pubkey]];\n          break;\n        case 'unfollow':\n          updatedTags = latestTags.filter(([name, value]) => !(name === 'p' && value === pubkey));\n          break;\n        default:\n          console.error('updateContacts: invalid operation', op);\n          return;\n      }\n\n      await updateContactsMutation.mutateAsync({\n        relayUrls: config().relayUrls,\n        pubkey: p,\n        updatedTags,\n        content: latest.data()?.content ?? '',\n      });\n    } catch (err) {\n      console.error('failed to update contact list', err);\n      window.alert(i18n.t('profile.failedToUpdateFollowList'));\n    } finally {\n      setUpdatingContacts(false);\n    }\n  };\n\n  const follow = () => {\n    updateContacts('follow', props.pubkey).catch((err) => {\n      console.log('failed to follow', err);\n    });\n  };\n\n  const unfollow = () => {\n    if (!window.confirm(i18n.t('profile.confirmUnfollow'))) return;\n\n    updateContacts('unfollow', props.pubkey).catch((err) => {\n      console.log('failed to unfollow', err);\n    });\n  };\n\n  const otherActionsPopup = useContextMenu(() => ({\n    menu: [\n      /*\n        {\n          content: () => 'ユーザ宛に投稿',\n          onSelect: () => {\n            navigator.clipboard.writeText(npub()).catch((err) => window.alert(err));\n          },\n        },\n       */\n      {\n        content: i18n.t('profile.copyPubkey'),\n        onSelect: () => {\n          navigator.clipboard.writeText(npub()).catch((err) => window.alert(err));\n        },\n      },\n      {\n        content: i18n.t('profile.showJSON'),\n        onSelect: () => {\n          setModal('EventDebugModal');\n        },\n      },\n      {\n        content: i18n.t('profile.addColumn'),\n        items: [\n          {\n            content: i18n.t('profile.addUserColumn'),\n            onSelect: () => {\n              const columnName = profile()?.name ?? npub();\n              saveColumn(createPostsColumn({ name: columnName, pubkey: props.pubkey }));\n              request({ command: 'moveToLastColumn' }).catch((err) => console.error(err));\n              props.onClose?.();\n            },\n          },\n          {\n            content: i18n.t('profile.addUserHomeColumn'),\n            onSelect: () => {\n              const columnName = `${i18n.t('column.home')} / ${profile()?.name ?? npub()}`;\n              saveColumn(createFollowingColumn({ name: columnName, pubkey: props.pubkey }));\n              request({ command: 'moveToLastColumn' }).catch((err) => console.error(err));\n              props.onClose?.();\n            },\n          },\n        ],\n      },\n      {\n        content: !isMuted() ? i18n.t('profile.mute') : i18n.t('profile.unmute'),\n        onSelect: () => {\n          if (!isMuted()) {\n            addMutedPubkey(props.pubkey);\n          } else {\n            removeMutedPubkey(props.pubkey);\n          }\n        },\n      },\n      {\n        when: () => props.pubkey === myPubkey(),\n        content: !following() ? i18n.t('profile.followMyself') : i18n.t('profile.unfollowMyself'),\n        onSelect: () => {\n          if (!following()) {\n            follow();\n          } else {\n            unfollow();\n          }\n        },\n      },\n    ],\n  }));\n\n  const loadMore = useLoadMore(() => ({ duration: null }));\n\n  const { events, eose } = useSubscription(() => ({\n    relayUrls: config().relayUrls,\n    filters: [\n      {\n        kinds: [1, 6],\n        authors: [props.pubkey],\n        limit: 10,\n        since: loadMore.since(),\n        until: loadMore.until(),\n      },\n    ],\n    eoseLimit: 10,\n    continuous: false,\n  }));\n\n  createEffect(() => loadMore.setEvents(events()));\n\n  return (\n    <BasicModal onClose={() => props.onClose?.()}>\n      <Show\n        when={profileQuery.isFetched && profile()?.banner}\n        fallback={<div class=\"h-12 shrink-0\" />}\n        keyed\n      >\n        {(bannerUrl) => (\n          <div class=\"h-40 w-full shrink-0 sm:h-52\">\n            <img src={bannerUrl} alt=\"header\" class=\"size-full object-cover\" />\n          </div>\n        )}\n      </Show>\n      <div class=\"mt-[-54px] flex items-end gap-4 px-4 pt-4\">\n        <div class=\"flex-1 shrink-0\">\n          <div class=\"size-28 overflow-hidden rounded-lg shadow-md\">\n            <Show when={profileQuery.isFetched && profile()?.picture} keyed>\n              {(pictureUrl) => (\n                <img src={pictureUrl} alt=\"user icon\" class=\"size-full object-cover\" />\n              )}\n            </Show>\n          </div>\n        </div>\n        <Show when={myPubkey() != null}>\n          <div class=\"flex shrink-0 flex-col items-center gap-1\">\n            <div class=\"flex flex-row justify-start gap-1\">\n              <Switch>\n                <Match when={props.pubkey === myPubkey()}>\n                  <button\n                    class=\"rounded-full border border-primary px-4 py-2\n                    text-center font-bold text-primary hover:bg-primary hover:text-primary-fg sm:w-20\"\n                    onClick={() => showProfileEdit()}\n                  >\n                    {i18n.t('profile.editProfile')}\n                  </button>\n                </Match>\n                <Match when={updateContactsMutation.isPending || updatingContacts()}>\n                  <span class=\"rounded-full border border-primary px-4 py-2 text-primary sm:text-base\">\n                    {i18n.t('general.updating')}\n                  </span>\n                </Match>\n                <Match when={myFollowingQuery.isPending || myFollowingQuery.isFetching}>\n                  <span class=\"rounded-full border border-primary px-4 py-2 text-primary sm:text-base\">\n                    {i18n.t('general.loading')}\n                  </span>\n                </Match>\n                <Match when={following()}>\n                  <button\n                    class=\"rounded-full border border-primary bg-primary px-4 py-2 text-center font-bold text-primary-fg hover:bg-primary-hover sm:w-36\"\n                    onMouseEnter={() => setHoverFollowButton(true)}\n                    onMouseLeave={() => setHoverFollowButton(false)}\n                    onClick={() => unfollow()}\n                    disabled={updateContactsMutation.isPending}\n                  >\n                    <Show when={!hoverFollowButton()} fallback={i18n.t('profile.unfollow')}>\n                      {i18n.t('profile.followingCurrently')}\n                    </Show>\n                  </button>\n                </Match>\n                <Match when={!following()}>\n                  <button\n                    class=\"w-28 rounded-full border border-primary px-4 py-2 text-primary hover:border-primary-hover hover:text-primary-hover\"\n                    onClick={() => follow()}\n                    disabled={updateContactsMutation.isPending}\n                  >\n                    {i18n.t('profile.follow')}\n                  </button>\n                </Match>\n              </Switch>\n              <button\n                ref={otherActionsPopup.targetRef}\n                type=\"button\"\n                class=\"w-10 rounded-full border border-primary p-2 text-primary hover:border-primary-hover hover:text-primary-hover\"\n                onClick={() => otherActionsPopup.open()}\n              >\n                <EllipsisHorizontal />\n              </button>\n              {otherActionsPopup.popup()}\n            </div>\n            <Switch>\n              <Match when={userFollowingQuery.isPending}>\n                <div class=\"shrink-0 text-xs\">{i18n.t('general.loading')}</div>\n              </Match>\n              <Match when={followed()}>\n                <div class=\"shrink-0 text-xs\">{i18n.t('profile.followsYou')}</div>\n              </Match>\n            </Switch>\n          </div>\n        </Show>\n      </div>\n      <div class=\"flex items-start px-4 pt-2\">\n        <div class=\"h-16 shrink overflow-hidden\">\n          <Show when={profileQuery.isPending}>{i18n.t('general.loading')}</Show>\n          <Show when={(profile()?.display_name?.length ?? 0) > 0}>\n            <div class=\"truncate text-xl font-bold\">{profile()?.display_name}</div>\n          </Show>\n          <div class=\"flex items-center gap-2\">\n            <Show when={(profile()?.name?.length ?? 0) > 0}>\n              <div class=\"truncate text-xs\">@{profile()?.name}</div>\n            </Show>\n            <Show when={(profile()?.nip05?.length ?? 0) > 0}>\n              <div class=\"flex items-center text-xs\">\n                {nip05Identifier()?.ident}\n                <Switch\n                  fallback={\n                    <span class=\"inline-block size-4 text-danger\">\n                      <ExclamationCircle />\n                    </span>\n                  }\n                >\n                  <Match when={verificationQuery.isPending}>\n                    <span class=\"inline-block size-3\">\n                      <ArrowPath />\n                    </span>\n                  </Match>\n                  <Match when={isVerified()}>\n                    <span class=\"inline-block size-4 text-link\">\n                      <CheckCircle />\n                    </span>\n                  </Match>\n                </Switch>\n              </div>\n            </Show>\n          </div>\n          <div class=\"flex gap-1\">\n            <div class=\"truncate text-xs\">{npub()}</div>\n          </div>\n        </div>\n      </div>\n      <Show when={aboutParsed()} keyed>\n        {(parsed) => (\n          <div class=\"max-h-40 shrink-0 overflow-y-auto whitespace-pre-wrap px-4 py-2 text-sm\">\n            <TextNoteContentDisplay parsed={parsed} embedding={false} initialHidden />\n          </div>\n        )}\n      </Show>\n      <div class=\"flex border-t border-border px-4 py-2\">\n        <button class=\"flex flex-1 flex-col items-start\" onClick={() => setModal('Following')}>\n          <div class=\"text-sm\">{i18n.t('profile.following')}</div>\n          <div class=\"text-xl\">\n            <Show\n              when={userFollowingQuery.isFetched}\n              fallback={<span class=\"text-sm\">{i18n.t('general.loading')}</span>}\n            >\n              {userFollowingPubkeys().length}\n            </Show>\n          </div>\n        </button>\n        <Show when={!config().hideCount}>\n          <div class=\"flex flex-1 flex-col items-start\">\n            <div class=\"text-sm\">{i18n.t('profile.followers')}</div>\n            <div class=\"text-xl\">\n              <Show\n                when={showFollowers()}\n                fallback={\n                  <button\n                    class=\"text-sm hover:text-fg-secondary\"\n                    onClick={() => setShowFollowers(true)}\n                  >\n                    {i18n.t('profile.loadFollowers')}\n                  </button>\n                }\n                keyed\n              >\n                <FollowersCount pubkey={props.pubkey} />\n              </Show>\n            </div>\n          </div>\n        </Show>\n      </div>\n      <Show when={(profile()?.website ?? '').length > 0}>\n        <ul class=\"border-t border-border px-5 py-2 text-xs\">\n          <Show when={profile()?.website} keyed>\n            {(website) => (\n              <li class=\"flex items-center gap-1\">\n                <span class=\"inline-block size-4\" area-label=\"website\" title=\"website\">\n                  <GlobeAlt />\n                </span>\n                <SafeLink class=\"text-link underline\" href={website} />\n              </li>\n            )}\n          </Show>\n        </ul>\n      </Show>\n      <Switch>\n        <Match when={modal() === 'Following'}>\n          <UserList data={userFollowingPubkeys()} pubkeyExtractor={(e) => e} onClose={closeModal} />\n        </Match>\n        <Match when={modal() === 'EventDebugModal' && profileQuery.data} keyed>\n          {(event) => (\n            <EventDebugModal\n              event={event}\n              extra={JSON.stringify(profile(), null, 2)}\n              onClose={closeModal}\n            />\n          )}\n        </Match>\n      </Switch>\n      <ul class=\"border-t border-border p-1\">\n        <LoadMore loadMore={loadMore} eose={eose()}>\n          <Timeline events={events()} />\n        </LoadMore>\n      </ul>\n    </BasicModal>\n  );\n};\n\nexport default ProfileDisplay;\n"],"names":["ArrowPath","props","_el$","_tmpl$","_$spread","CheckCircle","ExclamationCircle","NIP05_REGEX","_fetch","queryProfile","fullname","match","_","name","domain","url","res","pubkey","parseNip05Address","ident","user","useFollowers","propsProvider","config","useConfig","createMemo","events","useSubscription","Kind.Contacts","followersPubkeys","uniq","ev","useVerification","genQueryKey","query","createQuery","queryKey","currentProps","nip05string","FollowersCount","count","_$memo","ProfileDisplay","i18n","useTranslation","addMutedPubkey","removeMutedPubkey","isPubkeyMuted","saveColumn","request","useRequestCommand","commands","useCommands","myPubkey","usePubkey","showProfileEdit","useModalState","npub","npubEncodeFallback","updatingContacts","setUpdatingContacts","createSignal","hoverFollowButton","setHoverFollowButton","showFollowers","setShowFollowers","modal","setModal","closeModal","profile","event","profileEvent","profileQuery","useProfile","verification","verificationQuery","ensureNonNull","nip05","nip05Identifier","isVerified","isMuted","aboutParsed","about","undefined","parsed","parseTextNote","resolved","toResolved","genericEvent","followingPubkeys","myFollowingPubkeys","invalidateFollowings","invalidateMyFollowings","myFollowingQuery","useFollowings","pubkeyNonNull","following","includes","userFollowingPubkeys","userFollowingQuery","followed","p","updateContactsMutation","createMutation","mutationKey","mutationFn","params","updateContacts","then","Promise","allSettled","promises","map","timeout","onSuccess","results","succeeded","filter","status","length","failed","console","log","error","onError","err","onSettled","refetch","catch","op","latest","fetchLatestFollowings","data","window","confirm","t","created_at","alert","latestTags","tags","updatedTags","value","mutateAsync","relayUrls","content","follow","unfollow","otherActionsPopup","useContextMenu","menu","onSelect","clipboard","writeText","items","columnName","createPostsColumn","command","onClose","createFollowingColumn","when","loadMore","useLoadMore","duration","eose","filters","kinds","authors","limit","since","until","eoseLimit","continuous","createEffect","setEvents","_$createComponent","BasicModal","children","Show","isFetched","banner","fallback","_tmpl$18","keyed","_el$35","_tmpl$19","_el$36","firstChild","bannerUrl","_tmpl$7","_el$2","_el$3","picture","_el$37","_tmpl$20","pictureUrl","_el$4","_tmpl$6","_el$5","_el$11","Switch","Match","_el$6","$$click","_$insert","isPending","_el$7","_tmpl$2","isFetching","_el$8","_el$9","_tmpl$3","addEventListener","_$effect","disabled","_el$10","_tmpl$4","open","_ref$","targetRef","_$use","EllipsisHorizontal","popup","_el$12","_tmpl$5","_el$13","_el$14","_tmpl$13","_el$15","_el$17","_el$23","nextSibling","_el$24","display_name","_el$16","_tmpl$8","_el$18","_tmpl$9","_el$20","_tmpl$12","_el$38","_tmpl$21","_el$21","_tmpl$10","_el$22","_tmpl$11","_el$39","_tmpl$22","TextNoteContentDisplay","embedding","initialHidden","_el$25","_tmpl$15","_el$26","_el$27","_el$28","_el$40","_tmpl$23","hideCount","_el$29","_tmpl$14","_el$30","_el$31","_el$41","_tmpl$24","website","_el$32","_tmpl$16","_el$42","_tmpl$25","_el$43","GlobeAlt","SafeLink","href","UserList","pubkeyExtractor","e","EventDebugModal","extra","JSON","stringify","_el$33","_tmpl$17","LoadMore","Timeline","_$delegateEvents"],"mappings":"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","x_google_ignoreList":[0,1,2,3]}