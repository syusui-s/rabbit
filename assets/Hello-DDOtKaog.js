import{s as F,t as c,d as C,u as y,c as j,i as n,a,b as L,F as _,S as E,e as M,o as I,M as w,f as O,g as P,h as N}from"./index-s1zCiK50.js";import{u as R,r as z}from"./resolveAsset--JgrMte7.js";const D=c('<svg xmlns=http://www.w3.org/2000/svg fill=none stroke=currentColor stroke-width=1.5 aria-hidden=true data-slot=icon viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round d="M13.5 6H5.25A2.25 2.25 0 0 0 3 8.25v10.5A2.25 2.25 0 0 0 5.25 21h10.5A2.25 2.25 0 0 0 18 18.75V10.5m-10.5 6L21 3m0 0h-5.25M21 3v5.25">'),T=(e={})=>(()=>{const t=D();return F(t,e,!0,!0),t})(),U=c('<div><div class=pt-2><ul class="flex gap-1"></ul></div><div>'),H=c('<li><button class="rounded-xl border px-2 text-sm"type=button>'),V=c("<h3>"),W=c('<span class="ms-1 inline-block size-16 p-5">'),q=c('<div class="my-2 flex items-center rounded-lg border border-border p-2"><div class=flex-1><div class="flex items-center"><ul class="flex items-center gap-1 text-xs"></ul></div><ul class="flex gap-1 pt-1 text-xs"></ul></div><div class=shrink-0 aria-hidden=true>'),G=c('<li class="text-link underline">'),J=c('<li class="rounded-lg border border-border px-1 text-fg-secondary">'),K=["pc-chrome","pc-firefox","ios","android"],Q={"pc-chrome":"Chrome","pc-firefox":"Firefox",ios:"iOS",android:"Android"},B=e=>Q[e],A=[{name:"nos2x",url:"https://chrome.google.com/webstore/detail/nos2x/kpgefcfmnafjgpblomihpgmejjdanjjp",browsers:["pc-chrome","android"],guides:[{title:"nos2xのセットアップと使い方",url:"https://scrapbox.io/nostr/nos2x%E3%81%AE%E3%82%BB%E3%83%83%E3%83%88%E3%82%A2%E3%83%83%E3%83%97%E3%81%A8%E4%BD%BF%E3%81%84%E6%96%B9",lang:"ja"}]},{name:"nos2x-fox",browsers:["pc-firefox","android"],url:"https://addons.mozilla.org/firefox/addon/nos2x-fox/",guides:[{title:"nos2x-foxのセットアップと使い方",url:"https://scrapbox.io/nostr/nos2x-fox%E3%81%AE%E3%82%BB%E3%83%83%E3%83%88%E3%82%A2%E3%83%83%E3%83%97%E3%81%A8%E4%BD%BF%E3%81%84%E6%96%B9",lang:"ja"}]},{name:"nostore",browsers:["ios"],url:"https://apps.apple.com/jp/app/nostore/id1666553677",guides:[{title:"nostore(iOS Safari用NIP-07拡張機能)のセットアップ",url:"https://scrapbox.io/nostr/nostore(iOS_Safari%E7%94%A8NIP-07%E6%8B%A1%E5%BC%B5%E6%A9%9F%E8%83%BD)%E3%81%AE%E3%82%BB%E3%83%83%E3%83%88%E3%82%A2%E3%83%83%E3%83%97",lang:"ja"}]}],X=()=>{const e=R.UAParser(window.navigator.userAgent),t=new Set;return e.os.name==="Android"&&t.add("android"),e.os.name==="iOS"&&t.add("ios"),(e.device.type===void 0||e.device.type==="console")&&(e.browser.name==="Chromium"||e.browser.name==="Chrome"||e.browser.name==="Vivaldi"||e.browser.name==="Brave")&&t.add("pc-chrome"),e.browser.name==="Firefox"&&t.add("pc-firefox"),t},Y=()=>{const e=y(),[t,f]=j(X()),m=d=>f(u=>{const g=new Set(u);return g.has(d)?g.delete(d):g.add(d),g}),p=()=>{const d=t();return d.size===0?A:A.filter(u=>u.browsers.some(g=>d.has(g)))};return(()=>{const d=U(),u=d.firstChild,g=u.firstChild,b=u.nextSibling;return n(g,a(_,{each:K,children:l=>(()=>{const r=H(),o=r.firstChild;return o.$$click=()=>m(l),n(o,()=>B(l)),L(s=>{const v=!!t().has(l),x=!!t().has(l),$=!!t().has(l),i=!t().has(l),h=!t().has(l),S=!t().has(l);return v!==s._v$&&o.classList.toggle("border-fg",s._v$=v),x!==s._v$2&&o.classList.toggle("font-bold",s._v$2=x),$!==s._v$3&&o.classList.toggle("text-fg",s._v$3=$),i!==s._v$4&&o.classList.toggle("border-border",s._v$4=i),h!==s._v$5&&o.classList.toggle("font-normal",s._v$5=h),S!==s._v$6&&o.classList.toggle("text-fg-secondary",s._v$6=S),s},{_v$:void 0,_v$2:void 0,_v$3:void 0,_v$4:void 0,_v$5:void 0,_v$6:void 0}),r})()})),n(b,a(_,{get each(){return p()},children:l=>(()=>{const r=q(),o=r.firstChild,s=o.firstChild,v=s.firstChild,x=s.nextSibling,$=o.nextSibling;return n(o,a(E,{class:"font-bold hover:text-fg-secondary hover:underline",get href(){return l.url},get children(){const i=V();return n(i,()=>l.name),i}}),s),n(v,a(_,{get each(){return l.guides.filter(i=>e.language===i.lang)},children:i=>(()=>{const h=G();return n(h,a(E,{get href(){return i.url},get children(){return i.title}})),h})()})),n(x,a(_,{get each(){return l.browsers},children:i=>(()=>{const h=J();return n(h,()=>B(i)),h})()})),n($,a(E,{class:"font-bold text-fg hover:text-fg-secondary",get href(){return l.url},get children(){const i=W();return n(i,a(T,{})),i}})),r})()})),d})()};C(["click"]);const k=c("<p>"),Z=c("<h2 class=font-bold>"),ee=c('<div class="flex flex-col items-center gap-2"><p class=text-sm></p><button class="rounded bg-primary px-4 py-2 text-sm font-bold text-primary-fg hover:bg-primary-hover">'),te=c('<button class="rounded bg-primary p-4 text-lg font-bold text-primary-fg hover:shadow-md">'),re=c('<div class="mx-auto flex max-w-[640px] flex-col items-center p-4 text-fg"><div class="flex flex-col items-center gap-4 rounded p-4"><img width=96 alt=logo height=96><h1 class="text-5xl font-black text-primary">Rabbit</h1><div>Rabbit is a Web client for Nostr.</div></div><div class="rounded-md p-8 shadow-md">'),se=()=>{const[e,t]=j("checking"),f=()=>{window.nostr!=null?t("available"):t("unavailable")};return I(()=>{let m=0;const p=setInterval(()=>{f(),m>=10&&clearInterval(p),m+=1},1e3)}),e},oe=()=>{const e=y(),t=se(),f=M(),{persistStatus:m,loggedIn:p}=N(),d=()=>{p(),f("/")};return I(()=>{m().loggedIn&&f("/")}),(()=>{const u=re(),g=u.firstChild,b=g.firstChild,l=g.nextSibling;return n(l,a(O,{get children(){return[a(w,{get when(){return t()==="checking"},get children(){const r=k();return n(r,()=>e.t("hello.signerChecking")),r}}),a(w,{get when(){return t()==="unavailable"},get children(){return[(()=>{const r=Z();return n(r,()=>e.t("hello.signerUnavailable")),r})(),(()=>{const r=k();return n(r,()=>e.t("hello.signerUnavailableMessage")),r})(),a(Y,{}),(()=>{const r=ee(),o=r.firstChild,s=o.nextSibling;return n(o,()=>e.t("hello.reloadAfterInstall")),s.$$click=()=>window.location.reload(),n(s,()=>e.t("hello.reload")),r})()]}}),a(w,{get when(){return t()==="available"},get children(){const r=te();return r.$$click=d,n(r,()=>e.t("hello.loginWithSigner")),r}})]}})),L(()=>P(b,"src",z("images/rabbit_256.png"))),u})()};C(["click"]);export{oe as default};
//# sourceMappingURL=Hello-DDOtKaog.js.map
